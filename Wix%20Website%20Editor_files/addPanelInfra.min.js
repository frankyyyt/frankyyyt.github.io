define("addPanelInfra/addPanel/addPanelStyleManager",["lodash","core"],function(a,b){"use strict";var c={"wysiwyg.viewer.components.MatrixGallery":["mg2","mg3"],"wysiwyg.viewer.components.SlideShowGallery":["ssg3"],"wysiwyg.viewer.components.SliderGallery":["sg2"],"wysiwyg.viewer.components.PaginatedGridGallery":["pagg2","pagg3"],"wysiwyg.viewer.components.SiteButton":["b1","b2","b3","b4"],"wysiwyg.viewer.components.PopupCloseTextButton":["b1","b2","b3","b4"],"mobile.core.components.Container":["c1","c2","c3","c4"],"core.components.ContainerOBC":["c1","c2","c3","c4"],"wysiwyg.viewer.components.BgImageStrip":["bgis1","bgis2"],"wysiwyg.viewer.components.FiveGridLine":["hl1","hl2","hl3","hl4"],fiveGridLineFullWidth:["hl1","hl2","hl3","hl4"],"wysiwyg.viewer.components.VerticalLine":["vl1","vl2","vl3","vl4"],"wysiwyg.common.components.singleaudioplayer.viewer.SingleAudioPlayer":["SingleAudioPlayer_1"],"wysiwyg.viewer.components.AudioPlayer":["ap1","ap2"],"wysiwyg.viewer.components.WFacebookLike":["fbl1"],"wysiwyg.viewer.components.WGooglePlusOne":["gp1"],"wysiwyg.viewer.components.WTwitterTweet":["twt1"],"wysiwyg.viewer.components.ContactForm":["cf1","cf2"],"wysiwyg.common.components.subscribeform.viewer.SubscribeForm":["SubscribeForm_1"],"wysiwyg.viewer.components.GoogleMap":["gm1"],"wysiwyg.viewer.components.mobile.TinyMenu":["tm1","tm2"],"wysiwyg.viewer.components.HorizontalMenu":["rt1","rt2","rt3"],"wysiwyg.viewer.components.menus.DropDownMenu":["ddm1","ddm2","ddm3"],"wysiwyg.common.components.verticalmenu.viewer.VerticalMenu":["VerticalMenu_1"],"wysiwyg.viewer.components.WPhoto":["wp1","wp2","wp3","wp4"],"wysiwyg.viewer.components.Video":["v1"],"wysiwyg.viewer.components.FooterContainer":["fc1","fc2","fc3"],"wysiwyg.viewer.components.HeaderContainer":["hc1","hc2"],"wysiwyg.viewer.components.ScreenWidthContainer":["sc1","sc2","sc3","sc4"],pageContainer:["p1","p2","p3"],WRichTextStyle1:["txtNew"],WRichTextStyle2:["txtNew"],WRichTextStyle3:["txtNew"],WRichTextStyle4:["txtNew"],WRichTextStyle5:["txtNew"],WRichTextStyle6:["txtNew"]};return{getComponentThemeStyles:function(d,e,f){var g=c[d];var h=a.without(a.map(g,function(a){return b.styleManager.getStyleById(e,f,a)}),undefined);var i=[];a.forEach(h,function(c){if(a.isEmpty(i)){i.push(c)}else{var d=a.find(i,function(a){return b.styleManager.isEqualWithoutTypeConsideration(c,a)});if(!d){i.push(c)}}});return i},getThemeStylesArr:function(b,c,d){return a.reduce(b,function(b,e){var f=this.getComponentThemeStyles(e,c,d);if(a.isEmpty(f)){return b}return b.concat(a.pluck(f,"id"))},[],this)},getPersonalizeStylesArr:function(c,d,e){return a.reduce(e,function(e,f){var g=b.styleManager.getUniqueCustomStyleList(c,d,f);if(a.isEmpty(g)){return e}return e.concat(g)},[])}}});define("addPanelInfra/addPanel/componentsDefaultData",["lodash","util","addPanelData"],function(a,b,c){"use strict";var d=b.translate;function e(){return{isHidden:false,isPreset:true,schemaVersion:"1.0"}}function f(){return[{type:"Image",title:d("add_default_text1_image1"),uri:"a9ff3b_61fe61f3eb4c4adeb5835a166de10689.jpg",description:d("add_default_text1_gallerydescription"),width:1920,height:1280,id:"i01ch4",metaData:e()},{type:"Image",title:d("add_default_text1_image2"),uri:"a9ff3b_5f378900670848919283755eb67a5949.jpg",description:d("add_default_text1_gallerydescription"),width:1920,height:1922,id:"i1119k",metaData:e()},{type:"Image",title:d("add_default_text1_image3"),uri:"a9ff3b_7125cf82b18841c2961ce0a241b78826.jpg",description:d("add_default_text1_gallerydescription"),width:1920,height:1280,id:"i2lj2",metaData:e()},{type:"Image",title:d("add_default_text1_image4"),uri:"a9ff3b_1d0b83b8723c4dc39192405fd083142a.jpg",description:d("add_default_text1_gallerydescription"),width:1920,height:1280,id:"i321j6",metaData:e()},{type:"Image",title:d("add_default_text1_image5"),uri:"a9ff3b_f69457ef952c4aa4ba805827a02331c4.jpg",description:d("add_default_text1_gallerydescription"),width:1920,height:1280,id:"i41crh",metaData:e()},{type:"Image",title:d("add_default_text1_image6"),uri:"a9ff3b_f2f5a5f6dac648e8a23cd07144c67530.jpg",description:d("add_default_text1_gallerydescription"),width:1920,height:1280,id:"i56rx",metaData:e()},{type:"Image",title:d("add_default_text1_image7"),uri:"a9ff3b_42da54d3813d45d4b968f5d693c1d29c.jpg",description:d("add_default_text1_gallerydescription"),width:1920,height:1920,id:"image_217e",metaData:e()},{type:"Image",title:d("add_default_text1_image8"),uri:"a9ff3b_a2cb5c4ffde14da5a2f47610c4587ad1.jpg",description:d("add_default_text1_gallerydescription"),width:1920,height:1920,id:"image_14p9",metaData:e()},{type:"Image",title:d("add_default_text1_image9"),uri:"a9ff3b_2919fbec56cb4c3086b8159d5aa04b2e.jpg",description:d("add_default_text1_gallerydescription"),width:1920,height:1280,id:"image_kae",metaData:e()},{type:"Image",title:d("add_default_text1_image10"),uri:"a9ff3b_ffc94924b5634693a8686d91ab95b0bb.jpg",description:d("add_default_text1_gallerydescription"),width:1920,height:1280,id:"image_tty",metaData:e()},{type:"Image",title:d("add_default_text1_image11"),uri:"a9ff3b_ee9cb7f87e424de7a2d49bcb20ea25f1.jpg",description:d("add_default_text1_gallerydescription"),width:1920,height:1280,id:"image_1tta",metaData:e()},{type:"Image",title:d("add_default_text1_image12"),uri:"a9ff3b_f48ad132eda944eba22352d9dc140fb5.jpg",description:d("add_default_text1_gallerydescription"),width:1920,height:1280,id:"image_1hwt",metaData:e()},{type:"Image",title:d("add_default_text1_image13"),uri:"a9ff3b_06ae2bbfb3904aeebd681a5b9e7262d7.jpg",description:d("add_default_text1_gallerydescription"),width:1920,height:1280,id:"image_tfr",metaData:e()},{type:"Image",title:d("add_default_text1_image14"),uri:"a9ff3b_efb829d794c1430ebfc6fbd3ef39f46e.jpg",description:d("add_default_text1_gallerydescription"),width:1920,height:1280,id:"image_1fav",metaData:e()}]}var g=[{type:"ExternalLink",target:"_blank",anchorDataId:undefined,id:"rfv",url:""},{type:"BasicMenuItem",isVisible:true,isVisibleMobile:true,items:[],label:d("add_default_text1_Hmenu"),link:"#rfv",id:"BasicMenuItem1",metaData:{}},{type:"BasicMenuItem",isVisible:true,isVisibleMobile:true,items:[],label:d("add_default_text2_Hmenu"),link:"#rfv",id:"BasicMenuItem2",metaData:{}},{type:"BasicMenuItem",isVisible:true,isVisibleMobile:true,items:[],label:d("add_default_text3_Hmenu"),link:"#rfv",id:"BasicMenuItem3",metaData:{}}];var h={"wysiwyg.viewer.components.MatrixGallery":{componentType:"wysiwyg.viewer.components.MatrixGallery",label:d("add_preset_Grid"),dataId:"matrixDefaultData",propId:"matrixDefaultProp",addPanelLayout:{width:568,height:568},designPanelLayout:{width:440,height:416},data:{id:"matrixDefaultData",items:["#i01ch4","#i1119k","#i2lj2","#i321j6","#i41crh","#i56rx","#image_217e","#image_14p9","#image_kae"],type:"ImageList"},additionalData:f(),props:{numCols:3,maxRows:3,incRows:2,margin:15,alignText:"center",expandEnabled:true,imageMode:"clipImage",goToLinkText:"Go to link",galleryImageOnClickAction:"disabled",showMoreLabel:"Show More",type:"MatrixGalleryProperties"},stageData:{items:a.map(f(),function(b){return a.omit(b,"id")})},stageProps:{galleryImageOnClickAction:"zoomMode"}},"wysiwyg.viewer.components.PaginatedGridGallery":{componentType:"wysiwyg.viewer.components.PaginatedGridGallery",label:d("add_preset_Animatedgrid"),dataId:"PaginatedGridDefaultData",propId:"PaginatedGridDefaultProp",addPanelLayout:{width:568,height:568},designPanelLayout:{width:440,height:416},data:{id:"PaginatedGridDefaultData",items:["#i01ch4","#i1119k","#i2lj2","#i321j6","#i41crh","#i56rx","#image_217e","#image_14p9","#image_kae"],type:"ImageList"},additionalData:f(),props:{autoplay:false,autoplayInterval:3,expandEnabled:true,galleryImageOnClickAction:"disabled",goToLinkText:"Go to link",imageMode:"clipImage",margin:15,maxRows:3,numCols:3,showAutoplay:true,showCounter:true,showNavigation:true,transDuration:1,transition:"seq_crossFade_All",type:"PaginatedGridGalleryProperties"},stageData:{items:a.map(f(),function(b){return a.omit(b,"id")})},stageProps:{galleryImageOnClickAction:"zoomMode"}},"wysiwyg.viewer.components.SlideShowGallery":{componentType:"wysiwyg.viewer.components.SlideShowGallery",label:d("add_preset_Slideshow"),dataId:"slideShowDefaultData",propId:"slideShowDefaultProp",addPanelLayout:{width:568,height:300},designPanelLayout:{width:440,height:256},data:{id:"slideShowDefaultData",items:["#i01ch4","#i1119k","#i2lj2","#i321j6","#i41crh","#i56rx","#image_217e","#image_14p9","#image_kae"],type:"ImageList"},additionalData:f(),props:{imageMode:"clipImage",transition:"swipeHorizontal",autoplayInterval:5,autoplay:false,transDuration:1,bidirectional:true,reverse:false,showAutoplay:true,showNavigation:true,showExpand:false,showSocial:false,showCounter:true,expandEnabled:true,goToLinkText:"Go to link",galleryImageOnClickAction:"disabled",type:"SlideShowGalleryProperties"},stageData:{items:a.map(f(),function(b){return a.omit(b,"id")})},stageProps:{galleryImageOnClickAction:"zoomMode"}},"wysiwyg.viewer.components.SliderGallery":{componentType:"wysiwyg.viewer.components.SliderGallery",label:d("add_preset_Slider"),dataId:"sliderDefaultData",propId:"sliderDefaultProp",addPanelLayout:{width:568,height:300},designPanelLayout:{width:440,height:256},data:{id:"sliderDefaultData",items:["#i01ch4","#i1119k","#i2lj2","#i321j6","#i41crh","#i56rx","#image_217e","#image_14p9","#image_kae"],type:"ImageList"},additionalData:f(),props:{aspectRatio:1.3333333333333333,aspectRatioPreset:"4:3",autoplay:false,autoplayInterval:0,expandEnabled:true,galleryImageOnClickAction:"disabled",goToLinkText:"Go to link",type:"SliderGalleryProperties",imageMode:"clipImage",loop:true,margin:15,maxSpeed:7,showAutoplay:false,showCounter:true,transDuration:0},stageData:{items:a.map(f(),function(b){return a.omit(b,"id")})},stageProps:{galleryImageOnClickAction:"zoomMode"}},"core.components.Container":{componentType:"mobile.core.components.Container",label:"container",isContainer:true,addPanelLayout:{width:284,height:120},stageLayout:{width:568,height:240},designPanelLayout:{width:220,height:96}},"mobile.core.components.Container":{componentType:"mobile.core.components.Container",isContainer:true,componentTypeSkinOverride:"core.components.Container",label:"container",addPanelLayout:{width:284,height:120},stageLayout:{width:568,height:240},designPanelLayout:{width:220,height:96}},"wysiwyg.viewer.components.BgImageStrip":{componentType:"wysiwyg.viewer.components.BgImageStrip",label:"BgImageStrip",propId:"bgImageStripDefaultProp",addPanelLayout:{width:608,height:119},stageLayout:{width:568,height:362},designPanelLayout:{width:480,height:96},props:{id:"bgImageStripDefaultProp",alignType:"center",fittingType:"fill",type:"BgImageStripUnifiedProperties"}},"wysiwyg.viewer.components.menus.DropDownMenu":{componentType:"wysiwyg.viewer.components.menus.DropDownMenu",label:"DropDownMenu",dataId:"CUSTOM_MAIN_MENU",propId:"dropDownDefaultProp",addPanelLayout:{width:304,height:30},designPanelLayout:{width:240,height:24},stageLayout:{width:708,height:50},data:{id:"CUSTOM_MAIN_MENU",items:["#BasicMenuItem1","#BasicMenuItem2","#BasicMenuItem3"],type:"CustomMenu"},dataQuery:"#MAIN_MENU",additionalMatserPageData:g,props:{alignButtons:"center",alignText:"center",moreButtonLabel:"More",moreItemHeight:15,sameWidthButtons:false,stretchButtonsToMenuWidth:true,type:"HorizontalMenuProperties"}},"wysiwyg.common.components.verticalmenu.viewer.VerticalMenu":{componentType:"wysiwyg.common.components.verticalmenu.viewer.VerticalMenu",label:"VerticalMenu",dataId:"CUSTOM_MAIN_MENU",propId:"verticalDefaultProp",addPanelLayout:{width:88,height:150},designPanelLayout:{width:66,height:120},stageLayout:{width:100,height:200},dataQuery:"#MAIN_MENU",data:{id:"CUSTOM_MAIN_MENU",items:["#BasicMenuItem1","#BasicMenuItem2","#BasicMenuItem3"],type:"CustomMenu"},additionalMatserPageData:g,props:{itemsAlignment:"left",subMenuOpenSide:"right",type:"VerticalMenuProperties",ifRef:true}},"wysiwyg.viewer.components.FiveGridLine":{componentType:"wysiwyg.viewer.components.FiveGridLine",label:"FiveGridLine",propId:"fiveGridLineDefaultProp",addClickArea:15,addPanelLayout:{width:142,height:7},stageLayout:{width:284,height:7},designPanelLayout:{width:110,height:5},props:{fullScreenModeOn:false,type:"FiveGridLineProperties"}},fiveGridLineFullWidth:{componentType:"wysiwyg.viewer.components.FiveGridLine",label:"fiveGridLineFullWidth",propId:"fullLineDefaultProp",addClickArea:15,addPanelLayout:{width:304,height:7},designPanelLayout:{width:240,height:5},props:{fullScreenModeOn:true,type:"FiveGridLineProperties"}},"wysiwyg.viewer.components.VerticalLine":{componentType:"wysiwyg.viewer.components.VerticalLine",label:"VerticalLine",addClickArea:15,addPanelLayout:{width:5,height:140},designPanelLayout:{width:5,height:110}},"wysiwyg.common.components.singleaudioplayer.viewer.SingleAudioPlayer":{componentType:"wysiwyg.common.components.singleaudioplayer.viewer.SingleAudioPlayer",label:d("add_preset_Audioplayer"),dataId:"singleAudioPlayerDefaultData",propId:"singleAudioPlayerDefaultProp",addPanelLayout:{width:304,height:60},designPanelLayout:{width:320,height:64},data:{id:"singleAudioPlayerDefaultData",artist:d("add_default_text2_audioplayer"),originalFileName:"",track:d("add_default_text1_audioplayer"),uri:"",type:"SingleAudioPlayer"},props:{autoplay:false,loop:false,showArtist:true,showTrack:true,uri:"",volume:50,type:"SingleAudioPlayerProperties"}},"wysiwyg.viewer.components.AudioPlayer":{componentType:"wysiwyg.viewer.components.AudioPlayer",label:d("add_preset_Playbutton"),dataId:"audioPlayerDefaultProp",addPanelLayout:{width:40,height:40},designPanelLayout:{width:45,height:48},data:{id:"audioPlayerDefaultProp",volume:100,visible:true,uri:"",type:"AudioPlayer"}},"wysiwyg.viewer.components.WFacebookLike":{componentType:"wysiwyg.viewer.components.WFacebookLike",propId:"facebookDefaultProp",addPanelLayout:{width:250,height:40},data:{type:"WFacebookLike",urlFormat:"hashBang"},props:{id:"facebookDefaultProp",action:"like",colorScheme:"light",font:"helvetica",layout:"standard",send:false,show_faces:false,type:"WFacebookLikeProperties"}},"wysiwyg.viewer.components.WGooglePlusOne":{componentType:"wysiwyg.viewer.components.WGooglePlusOne",propId:"googlePlusDefaultProp",addPanelLayout:{width:250,height:40},props:{id:"googlePlusDefaultProp",annotation:"inline",size:"standard",type:"WGooglePlusOneProperties"}},"wysiwyg.viewer.components.WTwitterTweet":{componentType:"wysiwyg.viewer.components.WTwitterTweet",propId:"twitterTweetDefaultProp",dataId:"twitterTweetDefaultData",addPanelLayout:{width:100,height:20},data:{id:"twitterTweetDefaultData",accountToFollow:"",defaultText:"",urlFormat:"hashBang",type:"TwitterTweet"},props:{id:"twitterTweetDefaultProp",dataCount:"horizontal",dataLang:"en",type:"WTwitterTweetProperties"}},"wysiwyg.viewer.components.GoogleMap":{componentType:"wysiwyg.viewer.components.GoogleMap",propId:"googleMapDefaultProp",label:d("add_preset_GoogleMap"),dataId:"googleMapDefaultData",addPanelLayout:{width:608,height:140},stageLayout:{width:608,height:280},designPanelLayout:{width:480,height:112},data:{id:"googleMapDefaultData",address:"500 Terry Francois Street, 6th Floor. San Francisco, CA 94158",addressInfo:"Wix Office",latitude:37.77065,longitude:-122.387301,type:"GeoMap",mapStyle:[]},props:{id:"googleMapDefaultProp",mapDragging:false,mapType:"ROADMAP",showMapType:true,showPosition:true,showStreetView:true,showZoom:true,language:b.languages.getLanguageCode(),type:"GoogleMapProperties"}},"wysiwyg.common.components.subscribeform.viewer.SubscribeForm":{componentType:"wysiwyg.common.components.subscribeform.viewer.SubscribeForm",label:d("add_preset_Subscribeform"),propId:"subscribeFormDefaultProp",dataId:"subscribeFormDefaultData",addPanelLayout:{width:608,height:100},designPanelLayout:{width:480,height:100},data:{id:"subscribeFormDefaultData",bccEmailAddress:"",emailFieldLabel:"Email",errorMessage:"Please provide a valid email",lastNameFieldLabel:"Last Name",phoneFieldLabel:"Mobile Number",submitButtonLabel:"Subscribe Now",subscribeFormTitle:"Subscribe for Updates",successMessage:"Congrats! Youâ€™re subscribed",textDirection:"left",toEmailAddress:"",firstNameFieldLabel:"Name",type:"SubscribeForm"},props:{id:"subscribeFormDefaultProp",hiddenEmailField:true,hiddenFirstNameField:false,hiddenLastNameField:false,hiddenPhoneField:false,requiredEmailField:true,requiredFirstNameField:false,requiredLastNameField:false,requiredPhoneField:false,type:"SubscribeFormProperties"}},"wysiwyg.viewer.components.ContactForm":{componentType:"wysiwyg.viewer.components.ContactForm",label:d("add_preset_Contactform"),propId:"contactFormDefaultProp",dataId:"contactFormDefaultData",takeMeasuredLayout:true,addPanelLayout:{width:284,height:20},designPanelLayout:{width:220,height:20},data:{id:"contactFormDefaultData",addressFieldLabel:d("Contact_Form_Settings_Customize_Form_Fields_Address_default"),bccEmailAddress:"",emailFieldLabel:d("Contact_Form_Settings_Customize_Form_Fields_Email_default"),errorMessage:d("Contact_Form_Settings_Messages_Error_message_for_email_fields_default"),messageFieldLabel:d("Contact_Form_Settings_Customize_Form_Fields_Messages_default"),nameFieldLabel:d("Contact_Form_Settings_Customize_Form_Fields_Name_default"),phoneFieldLabel:d("Contact_Form_Settings_Customize_Form_Fields_Phone_default"),subjectFieldLabel:d("Contact_Form_Settings_Customize_Form_Fields_Subject_default"),submitButtonLabel:d("Contact_Form_Settings__Send_button_text_default"),successMessage:d("Contact_Form_Settings_Messages_Success_message_default"),textDirection:"left",toEmailAddress:"",type:"ContactForm"},props:{id:"contactFormDefaultProp",hidden_addressFieldLabel:false,hidden_emailFieldLabel:true,hidden_messageFieldLabel:true,hidden_nameFieldLabel:true,hidden_phoneFieldLabel:false,hidden_subjectFieldLabel:true,required_addressFieldLabel:false,required_emailFieldLabel:true,required_messageFieldLabel:false,required_nameFieldLabel:true,required_phoneFieldLabel:false,required_subjectFieldLabel:false,type:"ContactFormProperties"}},"wysiwyg.viewer.components.SiteButton":{componentType:"wysiwyg.viewer.components.SiteButton",label:"SiteButton",dataId:"siteButtonDefaultData",propId:"siteButtonDefaultProp",addPanelLayout:{width:142,height:40},designPanelLayout:{width:110,height:32},data:{label:d("add_default_text1_textbutton"),link:null,type:"LinkableButton"},props:{align:"center",margin:0,type:"ButtonProperties"}},"wysiwyg.viewer.components.WPhoto":{componentType:"wysiwyg.viewer.components.WPhoto",label:"SiteButton",dataId:"wphotoDefaultData",propId:"wphotoDefaultProp",designPanelLayout:{width:220,height:160},addPanelLayout:{width:180,height:160},data:{id:"wphotoDefaultData",type:"Image",alt:"",description:"",height:1280,title:"",uri:"1359d0df7c934f6e94a34a29ff4f599d.jpg",width:1920},props:{id:"wphotoDefaultProp",displayMode:"fill",onClickBehavior:"",type:"WPhotoProperties"}},"wysiwyg.viewer.components.Video":{componentType:"wysiwyg.viewer.components.Video",label:"Video",dataId:"videoDefaultData",propId:"videoDefaultProp",designPanelLayout:{width:440,height:320},addPanelLayout:{width:440,height:320},data:{id:"videoDefaultData",type:"Video",videoId:"PMWmYf2043g",videoType:"YOUTUBE"},props:{id:"videoDefaultProp",autoplay:false,lightTheme:false,loop:false,showControls:"always_show",showinfo:false,type:"VideoProperties"}},"wysiwyg.viewer.components.mobile.TinyMenu":{componentType:"wysiwyg.viewer.components.mobile.TinyMenu",label:"Tiny Menu",dataId:"CUSTOM_MAIN_MENU",propId:"tinyMenuDefaultProp",designPanelLayout:{width:48,height:48},addPanelLayout:{width:48,height:48},data:{id:"CUSTOM_MAIN_MENU",items:["#BasicMenuItem1","#BasicMenuItem2","#BasicMenuItem3"],type:"CustomMenu"},props:{id:"tinyMenuDefaultProp",direction:"left",type:"TinyMenuProperties"},additionalMatserPageData:g,dataQuery:"#MAIN_MENU"},"wysiwyg.viewer.components.HeaderContainer":{componentType:"wysiwyg.viewer.components.HeaderContainer",isContainer:true,label:"Header",designPanelLayout:{width:480,height:96},addPanelLayout:{width:608,height:96}},"wysiwyg.viewer.components.FooterContainer":{componentType:"wysiwyg.viewer.components.FooterContainer",isContainer:true,label:"Header",designPanelLayout:{width:480,height:96},addPanelLayout:{width:608,height:96}},"wysiwyg.viewer.components.ScreenWidthContainer":{componentType:"wysiwyg.viewer.components.ScreenWidthContainer",isContainer:true,designPanelLayout:{width:480,height:96},addPanelLayout:{width:608,height:96}},pageContainer:{componentType:"mobile.core.components.Container",componentTypeSkinOverride:"mobile.core.components.Page",isContainer:true,label:"Header",designPanelLayout:{width:70,height:55},addPanelLayout:{width:70,height:55}},"wysiwyg.common.components.verticalanchorsmenu.viewer.VerticalAnchorsMenu":{componentType:"wysiwyg.common.components.verticalanchorsmenu.viewer.VerticalAnchorsMenu",label:"Vertical Anchors Menu",dataId:"anchorsMenuDefaultData",propId:"anchorsMenuDefaultProp",designPanelLayout:{width:32,height:60},addPanelLayout:{width:32,height:60},data:{id:"anchorsMenuDefaultData",hiddenAnchorIds:{c1dmp:["PAGE_TOP_ANCHOR"]},pageTopLabel:d("ANCHOR_MENU_MANAGER_TOP_LABEL"),pageBottomLabel:"Bottom of Page",type:"VerticalAnchorsMenu"},props:{id:"anchorsMenuDefaultProp",itemsAlignment:"right",orientation:"right",type:"VerticalAnchorsMenuProperties"}},WRichTextStyle1:{componentType:"wysiwyg.viewer.components.WRichText",dataId:"WRichTextStyle1DefaultData",propId:"WRichTextStyle1DefaultProp",takeMeasuredLayout:true,addPanelLayout:{width:304,height:10},data:{id:"WRichTextStyle1DefaultData",text:'<h1 class="font_0">'+d("add_default_text1_sitetitle")+"</h1>",type:"StyledText",stylesMapId:"CK_EDITOR_PARAGRAPH_STYLES"},props:{id:"WRichTextStyle1DefaultProp",type:"WRichTextProperties",brightness:1}},WRichTextStyle2:{componentType:"wysiwyg.viewer.components.WRichText",dataId:"WRichTextStyle2DefaultData",propId:"WRichTextStyle2DefaultProp",takeMeasuredLayout:true,addPanelLayout:{width:304,height:10},data:{id:"WRichTextStyle2DefaultData",text:'<h2 class="font_2">'+d("add_default_text1_pagetitle")+"</h2>",type:"StyledText",stylesMapId:"CK_EDITOR_PARAGRAPH_STYLES"},props:{id:"WRichTextStyle2DefaultProp",type:"WRichTextProperties",brightness:1}},WRichTextStyle3:{componentType:"wysiwyg.viewer.components.WRichText",dataId:"WRichTextStyle3DefaultData",propId:"WRichTextStyle3DefaultProp",takeMeasuredLayout:true,addPanelLayout:{width:304,height:10},data:{id:"WRichTextStyle3DefaultData",text:'<h4 class="font_4">'+d("add_default_text1_largeheading")+"</h4>",type:"StyledText",stylesMapId:"CK_EDITOR_PARAGRAPH_STYLES"},props:{id:"WRichTextStyle3DefaultProp",type:"WRichTextProperties",brightness:1}},WRichTextStyle4:{componentType:"wysiwyg.viewer.components.WRichText",dataId:"WRichTextStyle4DefaultData",propId:"WRichTextStyle4DefaultProp",takeMeasuredLayout:true,addPanelLayout:{width:304,height:10},data:{id:"WRichTextStyle4DefaultData",text:'<h6 class="font_6">'+d("add_default_text1_smallheading")+"</h6>",type:"StyledText",stylesMapId:"CK_EDITOR_PARAGRAPH_STYLES"},props:{id:"WRichTextStyle4DefaultProp",type:"WRichTextProperties",brightness:1}},WRichTextStyle5:{componentType:"wysiwyg.viewer.components.WRichText",dataId:"WRichTextStyle5DefaultData",propId:"WRichTextStyle5DefaultProp",takeMeasuredLayout:true,addPanelLayout:{width:304,height:10},data:{id:"WRichTextStyle5DefaultData",text:'<p class="font_7">'+d("add_default_text1_paragraphL")+"</p>",type:"StyledText",stylesMapId:"CK_EDITOR_PARAGRAPH_STYLES"},props:{id:"WRichTextStyle5DefaultProp",type:"WRichTextProperties",brightness:1}},WRichTextStyle6:{componentType:"wysiwyg.viewer.components.WRichText",dataId:"WRichTextStyle6DefaultData",propId:"WRichTextStyle6DefaultProp",takeMeasuredLayout:true,addPanelLayout:{width:304,height:10},data:{id:"WRichTextStyle6DefaultData",text:'<p class="font_8">'+d("add_default_text1_paragraphM")+"</p>",type:"StyledText",stylesMapId:"CK_EDITOR_PARAGRAPH_STYLES"},props:{id:"WRichTextStyle6DefaultProp",type:"WRichTextProperties",brightness:1}},"wysiwyg.viewer.components.PopupCloseTextButton":{componentType:"wysiwyg.viewer.components.PopupCloseTextButton",label:"PopupCloseTextButton",dataId:"popupCloseTextButtonDefaultData",propId:"popupCloseTextButtonDefaultProps",addPanelLayout:{width:142,height:40},designPanelLayout:{width:110,height:32},data:{label:d("POPUPS_Close_Button_Default_Text"),link:null,type:"LinkableButton"},props:{align:"center",margin:0,type:"ButtonProperties"}},"wysiwyg.viewer.components.HoverBox":{componentType:"wysiwyg.viewer.components.PopupCloseTextButton",label:"HoverBox",dataId:"hoverBoxDefaultData",propId:"hoverBoxDefaultProps",designPanelLayout:{width:110,height:32},props:{align:"center",margin:0,type:"HoverBoxProperties"}}};return{getComponentDefault:function(b,d,f){var g=a.cloneDeep(h[b]);if(g){g.siteId=f;if(d===c.addPanelDataConsts.PANEL_TYPES.DESIGN_PANEL){g.panelLayout=g.designPanelLayout}else{g.panelLayout=g.addPanelLayout}if(g.data){g.data=a.defaults(g.data,{metaData:e()})}if(g.props){g.props=a.merge(g.props,{metaData:e()})}g=a.omit(g,["addPanelLayout","designPanelLayout"])}return g}}});define("addPanelInfra/sections/liveComponentsSections/liveSectionLoader.rt",["react","lodash"],function(a,b){"use strict";function c(){var c=this.getLiveSection();return a.createElement(c,b.assign({},{key:this.props.id,ref:this.props.id},this.getPropsForLiveSection()))}return function(){return c.apply(this,[])}});define("addPanelInfra/sections/mixins/bubbleOnHoverMixin",["core","baseUI","experiment"],function(a,b,c){"use strict";var d=600;return{mixins:[a.mixins.editorAPIMixin],componentWillUnmount:function(){this.hideBubble()},showBubbleOnMouseMove:function(a){if(c.isOpen("se_blogRelatedPosts")&&this.props.isDisabled){return}this.setBubbleTimeout({left:a.clientX,top:a.clientY})},hideBubbleOnMouseLeave:function(){this.hideBubble()},showBubble:function(a){var c=this.getEditorAPI().getUserPreferences().session.get("addPanel.dragToStage");if(c||b.tooltipManager.isDisplayingAnything()){return}this.getEditorAPI().showFloatingBubble("add_section_tooltip_drag",a,{alignment:b.uiConstants.TOOLTIP.ALIGNMENT.RIGHT})},hideBubble:function(){if(c.isOpen("se_blogRelatedPosts")&&this.props.isDisabled){return}this.getEditorAPI().hideFloatingBubble();this.clearBubbleTimeout()},setBubbleTimeout:function(a){this.getEditorAPI().hideFloatingBubble();this.clearBubbleTimeout();this.bubbleTimeout=window.setTimeout(this.showBubble.bind(this,a),d)},clearBubbleTimeout:function(){if(this.bubbleTimeout){window.clearTimeout(this.bubbleTimeout);delete this.bubbleTimeout}}}});define("addPanelInfra/sections/liveComponentsSections/componentCreationUtil",[],function(){"use strict";function a(a,b,c,d,e,f,g,h){var i={styleId:a,id:b,dataQuery:c,layout:{width:f.size.width,height:f.size.height,x:f.position.x,y:f.position.y,scale:1,rotationInDegrees:0,anchors:[],fixedPosition:false},propertyQuery:d,componentType:e,originalStyleId:h};if(g){i.components=[]}return i}function b(a,b,c){return{distance:c,locked:true,fromComp:a.compId,targetComponent:b.compId,originalValue:b.compPosition.y,type:"BOTTOM_TOP"}}function c(a,b,c){return{distance:0,locked:true,fromComp:a.compId,targetComponent:c,originalValue:b,type:"BOTTOM_PARENT"}}return{getComponentDef:a,createBottomTopAnchor:b,createBottomParentAnchor:c}});define("addPanelInfra/sections/liveComponentsSections/liveComponentStyleAdjuster",["lodash","util"],function(a,b){"use strict";var c=b.colors;var d="#FFFFFF";var e="#eff2f6";var f="#EFF3F6";var g={button:e,text:e,menu:e,contact:e,gallery:f,box:f,shape:f,music:f};function h(a){return!!a&&/^#(([0-9|a-f|A-F]){3}){1,2}$/.test(a)}function i(b){if(b===null){return{isRgb:false}}var c=b.replace(/[^0-9,\.]/g,"").split(",");if(c.length!==3&&c.length!==4){return{isRgb:false}}var d=c[3];var e=a.every(c.slice(0,3),function(a){return a>=0&&a<=255});if(!e){return{isRgb:false}}if(d&&!(d>=0&&d<=1)){return{isRgb:false}}return{isRgb:true,rgbArr:c}}function j(a){var b=a.toString(16);return b.length===1?"0"+b:b}function k(a){return"#"+j(parseInt(a[0],10))+j(parseInt(a[1],10))+j(parseInt(a[2],10))}function l(a){if(h(a)){return a}var b=a.split(",");return k(b)}function m(b,c,d){var e=b;if(a.includes(b,"color_")){e=l(c.colors.get(b))}var f=x(e,d);if(f&&f.wasReplaced){return f.value}return e}function n(b,c,d,e,f,g){var h=d.data.text;var i=h.indexOf("font_");var j=h.substr(i,6);var k=f.fonts.get(j);var l=r(k);var n=k.split(" ")[5];var o;var p;var q;if(l>c){o=s(k,c,g);o=o.substring(0,o.indexOf("{"));o=o.replace(/\+/g," ");p=m(n,f,b)}if(!a.includes(n,"color_")){var t=x(n);if(t&&t.wasReplaced){p=t.value;var u=k.split(" ").splice(-1,1);o=u.join(" ")}}else if(l<=c){p=m(n,f,b)}if(o){q=h.replace('class="'+j+'"','style="color:'+p+";font:"+o+'"');e.data[d.dataId].text=q}}function o(b,c){var d=["brw","brwT","brwB","brwH","sz1","sz2","sz3"];if(!b||!b.style||!b.style.properties||!c||c===1){return{}}return a.reduce(b.style.properties,function(b,e,f){if(a.includes(d,f)){var g=parseInt(e,10);if(g%(1/c)){var h=g+g%(1/c);if(h>8){h=8}b[f]=h+"px"}}return b},{})}function p(b){var c=["shd","ishd","bls_shd","bls_shd_input","bls_shd_subscribe_button","bls_shd_input_rtl","llf_shd","llt_shd","shadow","shd1","boxShadow","insetShadow","dropShadow"];if(!b||!b.style||!b.style.properties){return{}}return a.reduce(b.style.properties,function(b,d,e){if(a.includes(c,e)){var f=d.split(" ");var g=parseInt(f[0],10);var h=parseInt(f[1],10);var i=parseInt(f[2],10);var j=parseInt(f[3],10);if(g>10||g<-10){f[0]=g>10?"10px":"-10px"}if(h>10||h<-10){f[1]=h>10?"10px":"-10px"}if(i>15){f[2]="15px"}if(j>10){f[3]="10px"}b[e]=f.join(" ")}return b},{})}function q(b,c,d){if(!c){return{}}if(!b||!b.style||!b.style.properties){return{}}return a.reduce(b.style.properties,function(b,e,f){var g=typeof e==="string"&&a.includes(e,"font_");var h=typeof e==="string"?e.split(" ").length>4:false;if(g||h){var i=h?e:d.fonts.get(e);var j=r(i);if(j>c){b[f]=i}}return b},{})}function r(a){return parseInt(a.split(" ")[3].split("/")[0].replace("px",""),10)}function s(a,c,d){var e=a.split(" ");var f=e[3].split("/");f[0]=c+"px";e[3]=f.join("/");var g=e[4];e[4]=b.fontLangsFallbacks.getFontFallbackIfNeeded(d,g);return e.join(" ")}function t(b,c,d,e,f,g,h){var i=a.cloneDeep(b);i.id=a.uniqueId("previewStyle");a.forEach(c,function(a,b){i.style.properties[b]=s(a,d,h)});a.forEach(e,function(a,b){i.style.properties[b]=a});a.forEach(f,function(a,b){i.style.properties[b]=a});a.forEach(g,function(a,b){i.style.properties[b]=a});return i}function u(a,b){for(var f=0;f<=10;f++){var h=c.hexToHsb(d);h.brightness-=f;var i=c.hsbToHex(h);if(a.toLowerCase()===i.toLowerCase()){var j=c.hexToHsb(g[b]||e);j.brightness-=f;return c.hsbToHex(j)}}return null}function v(a){var b=c.hexToHsb(a);if(b.brightness===100){if(b.hue<=250&&b.saturation<10){b.saturation=10;return c.hsbToHex(b)}else if(b.hue>250&&b.saturation<5){b.saturation=5;return c.hsbToHex(b)}}return null}function w(){return"#000000"}function x(a,b){var c=typeof a==="string"&&h(a);var d=typeof a==="string"&&i(a);var e;if(!d.isRgb&&!c){return null}if(d.isRgb){e=k(d.rgbArr.slice(0,3))}else if(c){e=a}var f;if(b==="text"){f=w()}else{f=u(e,b)}if(!f){f=v(e)}if(f){return{value:f,wasReplaced:true}}return null}function y(b,c){if(!b||!b.style||!b.style.properties){return{}}return a.reduce(b.style.properties,function(a,b,d){var e=x(b,c);if(!e){return a}if(e.wasReplaced){a[d]=e.value}return a},{})}return{handleExceedingFontForTextComp:n,changeBordersNotDividingInScale:o,limitShadowOnAddPanel:p,getFontExceedingFromMaxSize:q,generateCustomStyle:t,changeColorsNotSuitableFotAddPanel:y,getColorTeReplaceIfNeeded:x}});define("addPanelInfra/sections/liveComponentsSections/liveComponentSectionMixin",["reactDOM","react","core","lodash","addPanelData","addPanelInfra/addPanel/componentsDefaultData","addPanelInfra/sections/liveComponentsSections/componentCreationUtil","addPanelInfra/sections/liveComponentsSections/liveComponentStyleAdjuster"],function(a,b,c,d,e,f,g,h){
"use strict";var i=0;function j(a,b,e,f,i,j,k,l,m,n,r){var s=k*(1/l);o(e,b);var t=f.styleId;var u=p(a,j);if(!u){return}var v={position:u.compData.compPosition,size:{width:b.panelLayout.width,height:b.panelLayout.height}};var w=c.styleManager.getStyleById(m.theme,m.components,t);var x=h.changeBordersNotDividingInScale(w,l);var y=h.limitShadowOnAddPanel(w);var z=h.changeColorsNotSuitableFotAddPanel(w,n);var A=t!=="txtNew"?h.getFontExceedingFromMaxSize(w,i,m.theme):h.handleExceedingFontForTextComp(n,i,b,e,m.theme,r);var B=!d.isEmpty(A)||!d.isEmpty(y)||!d.isEmpty(x)||!d.isEmpty(z)?h.generateCustomStyle(w,A,i,x,y,z):null;var C=t;if(B){C=B.id}var D=g.getComponentDef(C,u.compData.compId,b.dataId,b.propId,b.componentType,v,b.isContainer,t);q(D,a,u.line,s);e.comps.push({styleId:C,customStyle:B,compFullStructure:D})}function k(a,b){if(b.takeMeasuredLayout){return{width:a.width,height:a.height}}else if(b.stageLayout){return{width:b.stageLayout.width,height:b.stageLayout.height}}return{width:b.panelLayout.width,height:b.panelLayout.height}}function l(a,b){var c=f.getComponentDefault(a.key,b);var e={componentType:a.compType,style:a.styleId,layout:k(a,c),type:"Component"};if(c.data||c.stageData){e.data=d.merge({},d.omit(c.data,"id"),c.stageData)}if(c.props||c.stageProps){e.props=d.merge({},d.omit(c.props,"id"),c.stageProps)}if(c.dataQuery){e.dataQuery=c.dataQuery;delete e.data}if(c.isContainer){e.components=[];e.type="Container"}return e}function m(a,b,c,d,e){return{key:b.compType,compType:c.componentType,styleId:b.styleId,compPosition:d,compId:a,height:c.panelLayout.height,width:c.panelLayout.width,index:e,compDef:c}}function n(a,b,c,d,e){for(var g in c){if(c.hasOwnProperty(g)){var h=f.getComponentDefault(c[g].key,e);var i=c[g].compPosition.x*d.x;var j=c[g].compPosition.y*d.y;var k=i+c[g].width*d.x;var l=j+c[g].height*d.y;var m=a>=i-(h.addClickArea||0)&&a<=k+(h.addClickArea||0);var n=b>=j-(h.addClickArea||0)&&b<=l+(h.addClickArea||0);if(m&&n){return c[g]}}}return null}function o(a,b){if(b.propId){a.props[b.propId]=b.props}if(b.dataId){a.data[b.dataId]=b.data}if(b.additionalData){a.additionalData=a.additionalData.concat(b.additionalData)}if(b.additionalMatserPageData){a.additionalMatserPageData=a.additionalMatserPageData.concat(b.additionalMatserPageData)}}function p(a,b){for(var c in a){if(a.hasOwnProperty(c)){var e=d.find(a[c],{index:b});if(e){return{compData:e,line:c}}}}}function q(a,b,c,e){var f=b[parseInt(c,10)];var h=b[parseInt(c,10)+1];d.forEach(f,function(b){d.forEach(h,function(c){var d=g.createBottomTopAnchor(b,c,e);a.layout.anchors.push(d)})})}function r(a,b){return d.max(a[b],"compDef.panelLayout.height").compDef.panelLayout.height}return{componentWillMount:function(){this.elementsPositionInSection={};this.compsByLines={};this.currentRowNum=0;this.currentRowWidth=0;this.compsByLines[this.currentRowWidth]=[];this.totalSectionHeight=0;this.calculateCompsPosition();this.setState({sectionSiteHeight:this.totalSectionHeight,layoutDone:false})},getChildContext:function(){return{documentServices:this.getEditorAPI(),styleManager:c.styleManager}},childContextTypes:{documentServices:b.PropTypes.object.isRequired,styleManager:b.PropTypes.object.isRequired},calculateCompsPosition:function(){d.forEach(this.props.stylesForSection,function(a,b){i++;var c=f.getComponentDefault(a.compType,this.props.parentType);var d="Comp"+i;this.locatePositionInGrid(c,b,a,d)},this)},getRelevantConstantData:function(){return this.props.parentType===e.addPanelDataConsts.PANEL_TYPES.ADD_PANEL?e.addPanelDataConsts.ADD_PANEL:e.addPanelDataConsts.DESIGN_PANEL},getStyleProps:function(){return{width:this.getRelevantConstantData().LIVE_COMPONENT_CATEGORY_CONTENT/this.props.props.scaleProportion.x,WebkitTransform:"scale("+this.props.props.scaleProportion.x+","+this.props.props.scaleProportion.y+")",transform:"scale("+this.props.props.scaleProportion.x+","+this.props.props.scaleProportion.y+")",WebkitTransformOrigin:"0 0",transformOrigin:"0 0",WebkitBackfaceVisibility:"hidden",backfaceVisibility:"hidden"}},getCompDataByItemKey:function(a){var b=this.elementsPositionInSection[a];if(b){b=l(b,this.props.parentType);return b}return null},getCompDataByXY:function(b,c){var d=a.findDOMNode(this).getBoundingClientRect();var e=this.props.props.scaleProportion;var f={x:d.left+this.getRelevantConstantData().LIVE_COMPONENT_SECTION_MARGIN,y:d.top+(this.props.showSectionHeader?this.getRelevantConstantData().SECTION_HEADER_HEIGHT:0)+(this.props.showSectionHeader?this.getRelevantConstantData().LIVE_COMPONENT_SECTION_MARGIN:0)};var g=n(b-f.x,c-f.y,this.elementsPositionInSection,e,this.props.parentType);if(g){var h={left:g.compPosition.x*e.x+f.x,top:g.compPosition.y*e.y+f.y,width:g.width*e.x,height:g.height*e.y};g=l(g,this.props.parentType);return{rect:h,structure:g,sectionTitle:this.props.title,categoryId:this.props.categoryId}}return null},onSiteReadyUpdateLayout:function(a,b){this.setState({sectionSiteHeight:a},function(){d.forEach(this.elementsPositionInSection,function(a){var c=a.compId;a.compPosition.y=b.top[c];a.height=b.height[c]},this);if(this.props.notifyLayoutDone){this.props.notifyLayoutDone()}this.setState({layoutDone:true})}.bind(this))},calculateTotalSectionHeight:function(){var a=Math.ceil(this.state.sectionSiteHeight*this.props.props.scaleProportion.y+(this.props.showSectionHeader?this.getRelevantConstantData().SECTION_HEADER_HEIGHT:0)+this.getRelevantConstantData().LIVE_COMPONENT_SECTION_MARGIN);return a},updateRowLineAndAddToDic:function(a,b,c,d,e,f){this.currentRowWidth+=a;var g=m(f,d,b,c,e);this.elementsPositionInSection[d.compType+"_"+d.styleId]=g;this.compsByLines[this.currentRowNum].push(g)},locatePositionInGrid:function(a,b,c,d){var e={};var f=this.props.props.scaleProportion;var g=a.panelLayout.width;var h=this.props.props.horizontalMargin*(1/f.x);var i=this.props.props.verticalMargin*(1/f.y);var j=this.getRelevantConstantData().LIVE_COMPONENT_CATEGORY_CONTENT/f.x;if(this.currentRowWidth===0&&g<=j){e.x=this.currentRowWidth;e.y=this.totalSectionHeight;this.updateRowLineAndAddToDic(g,a,e,c,b,d)}else if(this.currentRowWidth+h+g<=j){e.x=this.currentRowWidth+h;e.y=this.totalSectionHeight;this.updateRowLineAndAddToDic(g+h,a,e,c,b,d)}else{var k=r(this.compsByLines,this.currentRowNum);this.currentRowWidth=0;this.currentRowNum++;this.totalSectionHeight=this.totalSectionHeight+k+i;this.compsByLines[this.currentRowNum]=[];e.x=this.currentRowWidth;e.y=this.totalSectionHeight;this.updateRowLineAndAddToDic(g,a,e,c,b,d)}if(this.props.stylesForSection.length-1===b){var l=r(this.compsByLines,this.currentRowNum);this.totalSectionHeight+=l}},getLiveCompsComponentsDef:function(a,b){var c={props:{},data:{},comps:[],additionalData:[],additionalMatserPageData:[],actionsForPreviewExtension:{},siteId:d.uniqueId("siteID_")};c.actionsForPreviewExtension={labelMode:this.props.additionalBehaviours.labelMode,infoIcon:this.props.additionalBehaviours.infoIcon,iconEnabledForComps:this.props.additionalBehaviours.iconEnabledForComps,scaleProportion:this.props.props.scaleProportion,fontSize:e.addPanelDataConsts.LABEL_FONT_SIZE*(1/this.props.props.scaleProportion.y),compTypesLabels:{}};d.forEach(this.props.stylesForSection,function(a,d){var e=f.getComponentDefault(a.compType,this.props.parentType,c.siteId);c.actionsForPreviewExtension.compTypesLabels[e.componentType]=e.label;j(this.compsByLines,e,c,a,this.props.props.maxFontSize,d,this.props.props.verticalMargin,this.props.props.scaleProportion.y,this.getEditorAPI(),this.props.categoryId,b)},this);var h=this.compsByLines[d.max(d.keys(this.compsByLines))];d.forEach(h,function(b){var e=g.createBottomParentAnchor(b,this.totalSectionHeight,a);var f=d.find(c.comps,{compFullStructure:{id:b.compId}});f.compFullStructure.layout.anchors.push(e)},this);c.totalSectionHeight=this.totalSectionHeight;c.siteWidth=this.getRelevantConstantData().LIVE_COMPONENT_CATEGORY_CONTENT/this.props.props.scaleProportion.x;c.compTypes=this.props.props.compTypes;c.categoryId=this.props.categoryId;c.maxFontSize=this.props.props.maxFontSize;c.compTypes=d.uniq(d.pluck(c.comps,function(a){return a.compFullStructure.componentType}));return c}}});define("addPanelInfra/sections/mixins/preventDoubleClickMixin",[],function(){"use strict";var a=1e3;return{setClickTimeStamp:function(a){this.clickTimestamp=a.timeStamp},isAnotherMouseActionAllowed:function(b){return!this.clickTimestamp||b.timeStamp-this.clickTimestamp>a}}});define("addPanelInfra/sections/sectionHeader/sectionHeader.rt",["react","lodash","util","core","baseUI"],function(a,b,c,d,e){"use strict";return function(){return this.props.showSectionHeader?a.createElement("div",{className:"section-header "+this.props.type,style:this.getSectionHeaderStyle(),key:"header"},a.createElement("div",{className:"title-line"},a.createElement("div",{className:"title"},c.translate(this.props.title)),this.isInfoShown()?a.createElement(e.infoIcon,b.assign({},{key:"infoIcon",tooltipWidth:"300px",alignment:e.uiConstants.TOOLTIP.ALIGNMENT.RIGHT},this.props.help)):null),this.isFirstTimeInfoBoxShown()?a.createElement(e.firstTimeInfoBox,b.assign({},{context:"section",key:"firstTimeInfoBox",userPrefs:this.getEditorAPI().getUserPreferences(),onClose:this.props.notifyLayoutDone,biLearnMore:this.getEditorAPI().bi.event.bind(null,d.bi.events.commonControls.FIRST_TIME_INFO_BOX.LEARN_MORE),biClose:this.getEditorAPI().bi.event.bind(null,d.bi.events.commonControls.FIRST_TIME_INFO_BOX.CLOSE),learnMore:this.onLearnMoreClickOpenHelpCenter},this.props.teaser)):null):null}});define("addPanelInfra/sections/sectionHeader/sectionHeader",["react","core","lodash","panels","addPanelData","addPanelInfra/sections/sectionHeader/sectionHeader.rt"],function(a,b,c,d,e,f){"use strict";function g(a){return this.props[a]&&!this.props[a].hide}return a.createClass({displayName:"sectionHeader",mixins:[b.mixins.editorAPIMixin],getSectionHeaderStyle:function(){var a;if(this.props.parentType===e.addPanelDataConsts.PANEL_TYPES.DESIGN_PANEL){a=e.addPanelDataConsts.DESIGN_PANEL}else{a=e.addPanelDataConsts.ADD_PANEL}return{width:a.LIVE_COMPONENT_CATEGORY_CONTENT,minHeight:a.SECTION_HEADER_HEIGHT}},isInfoShown:function(){return g.call(this,"help")},isFirstTimeInfoBoxShown:function(){return g.call(this,"teaser")},onLearnMoreClickOpenHelpCenter:function(){if(this.props.teaser.helpId){var a=c.get(this.props,"teaser.helpCompType")||this.props.categoryId;var e={origin:b.constants.BI.HELP.ORIGIN.ADD_PANEL,component:a,learn_more:true};d.panelManager.openHelpCenter(this.props.teaser.helpId,null,e)}},render:f})});define("addPanelInfra/sections/sectionFooter/sectionFooter.rt",["react","lodash","util","baseUI"],function(a,b,c,d){"use strict";return function(){return a.createElement("div",{className:"section-footer"},this.showAction()?a.createElement("span",{className:"link",onClick:this.onClick,key:"action"},c.translate(this.props.label),"\n        ",a.createElement(d.symbol,{name:"arrowRight",className:"arrow"})):null)}});define("addPanelInfra/sections/sectionFooter/sectionFooter",["react","lodash","core","addPanelInfra/sections/sectionFooter/sectionFooter.rt"],function(a,b,c,d){"use strict";return a.createClass({displayName:"sectionFooter",mixins:[c.mixins.editorAPIMixin],onClick:function(){this.props.action(this.getEditorAPI(),this.props)},showAction:function(){if(this.props.showAction){return this.props.showAction(this.getEditorAPI(),this.props)}return true},render:d})});define("addPanelInfra/sections/sectionWrapper.rt",["react","lodash","addPanelInfra/sections/sectionHeader/sectionHeader","addPanelInfra/sections/sectionFooter/sectionFooter","util"],function(a,b,c,d,e){"use strict";return function(){return a.createElement("div",{className:e.inheritClassName(this.props,"section-wrapper"),"data-section-title":e.translate(this.props.title),"data-tooltip-bounds":"true",style:this.props.style},a.createElement(c,this.props),"\n    ",this.props.children,"\n    ",this.props.sectionFooter&&!this.props.sectionFooter.hide?a.createElement(d,b.assign({},{key:"footer"},this.props.sectionFooter)):null)}});define("addPanelInfra/sections/sectionWrapper",["react","lodash","addPanelInfra/sections/sectionWrapper.rt"],function(a,b,c){"use strict";return a.createClass({displayName:"sectionWrapper",render:c})});define("addPanelInfra/sections/liveComponentsSections/liveComponentSection.rt",["react","lodash","core","addPanelInfra/sections/sectionWrapper"],function(a,b,c,d){"use strict";function e(a,c){var d=b.assign({},a,c);if(a.hasOwnProperty("style")){d.style=b.defaults(d.style,a.style)}if(a.hasOwnProperty("className")&&c.hasOwnProperty("className")){d.className=c.className+" "+a.className}return d}return function(){return!b.isEmpty(this.props.stylesForSection)&&!this.props.hide?a.createElement(d,e({className:"live-comps",key:"liveComps",style:{height:this.calculateTotalSectionHeight()+"px"}},this.props),a.createElement("div",{key:this.props.id,ref:"sectionLiveSiteWrapper"+this.props.id,className:"section-live-site-wrapper",style:this.getStyleProps()},a.createElement(c.lazyComponent,{moduleName:"santaPreview",ref:"santaPreview"+this.props.id,key:"santaPreview"+this.props.id,preview:this.getLiveCompsComponentsDef,onSiteReady:this.onSiteReadyUpdateLayout,extraEventsHandlers:this.getExtraEventHandles()}))):null}});define("addPanelInfra/sections/liveComponentsSections/liveComponentSection",["react","core","lodash","addPanelInfra/sections/mixins/bubbleOnHoverMixin","addPanelInfra/sections/liveComponentsSections/liveComponentSectionMixin","addPanelInfra/sections/mixins/preventDoubleClickMixin","addPanelInfra/sections/liveComponentsSections/liveComponentSection.rt"],function(a,b,c,d,e,f,g){"use strict";return a.createClass({displayName:"liveComponentSection",mixins:[e,d,f],onMouseDownCapture:function(a){if(!this.isAnotherMouseActionAllowed(a)){return}if(c.includes(a.target.className,"info-icon")){return}if(!c.isFunction(this.props.onItemDrag)){return}if(a.target.nodeName==="INPUT"||a.target.nodeName==="TEXTAREA"){a.target.blur()}var b=this.getCompDataByXY(a.clientX,a.clientY);if(b){b.section="live";this.props.onItemDrag(a,b)}},onClickCapture:function(a){if(!this.isAnotherMouseActionAllowed(a)){return}if(c.includes(a.target.className,"info-icon")){return}if(a.target.nodeName==="INPUT"||a.target.nodeName==="TEXTAREA"){a.target.blur()}var b=this.getCompDataByXY(a.clientX,a.clientY);if(b){this.props.onClick(b.structure,this.props.title,"");this.setClickTimeStamp(a)}a.stopPropagation();a.preventDefault()},onMouseUp:function(a){this.getEditorAPI().triggerMouseUpOnEditor(a)},getExtraEventHandles:function(){return{onClickCapture:this.onClickCapture,onMouseDownCapture:this.onMouseDownCapture,onMouseMove:this.showBubbleOnMouseMove,onMouseLeave:this.hideBubbleOnMouseLeave,onMouseUp:this.onMouseUp}},render:g})});define("addPanelInfra/sections/liveComponentsSections/designPanelLiveComponentSection.rt",["react","lodash","addPanelInfra/sections/sectionWrapper","util","core","symbols"],function(a,b,c,d,e,f){"use strict";function g(a,c){var d=b.assign({},a,c);if(a.hasOwnProperty("style")){d.style=b.defaults(d.style,a.style)}if(a.hasOwnProperty("className")&&c.hasOwnProperty("className")){d.className=c.className+" "+a.className}return d}function h(a,b){this.onItemHover(a)}function i(a,b){this.onMouseLeave(a)}function j(a,b){this.onItemClick(a)}function k(b,c){var e=this.getItemText(b);return a.createElement("div",{key:"itemText",style:this.getItemTextStyle(b)},a.createElement("span",{},d.translate(e)))}function l(c,d){return a.createElement("div",{key:c,"data-styleId":this.getStyleId(c),style:this.getItemStyle(c),className:b(this.getItemClass(c)).transform(function(a,b,c){if(b){a.push(c)}},[]).join(" "),onMouseEnter:h.bind(this,c,d),onMouseLeave:i.bind(this,c,d),onClick:j.bind(this,c,d)},this.isSelectedItem(c)?a.createElement(f.symbol,{key:"selectedItem",name:"selectedItemDesignPanel",style:this.getSelectedItemSelectBoxStyle(c)}):null,this.getItemText(c)?k.apply(this,[c,d]):null)}return function(){return!b.isEmpty(this.props.stylesForSection)&&!this.props.hide?a.createElement(c,g({className:"live-comps",key:"liveComps",style:{height:this.calculateTotalSectionHeight()+"px"},sectionFooter:false},this.props),a.createElement("div",{key:this.props.id,ref:"sectionLiveSiteWrapper"+this.props.id,className:"section-live-site-wrapper",style:this.getStyleProps(),onClickCapture:this.onClick},a.createElement(e.lazyComponent,{moduleName:"santaPreview",ref:"santaPreview"+this.props.id,key:"santaPreview"+this.props.id,preview:this.getLiveCompsComponentsDef,onSiteReady:this.onSiteReadyUpdateLayout}),this.state.layoutDone?a.createElement.apply(this,["div",{className:"section-live-site-block-layer",key:"blockLayer"},b.map(this.getSectionItemsKeys(),l.bind(this))]):null)):null}});define("addPanelInfra/sections/liveComponentsSections/designPanelLiveComponentSection",["react","core","lodash","addPanelInfra/sections/liveComponentsSections/liveComponentSectionMixin","addPanelInfra/addPanel/componentsDefaultData","addPanelInfra/sections/liveComponentsSections/designPanelLiveComponentSection.rt"],function(a,b,c,d,e,f){"use strict";var g=24;var h=-1*g/2;var i=14;return a.createClass({displayName:"designPanelLiveComponentSection",mixins:[d,b.mixins.editorAPIMixin],onItemClick:function(a){var b=this.getCompDataByItemKey(a);if(b){this.props.onClick(b,this.props.title,"",a)}},onItemHover:function(a){var b=this.getCompDataByItemKey(a);if(b&&this.props.onMouseEnter){this.props.onMouseEnter(b,a)}},onMouseLeave:function(a){if(this.props.onMouseLeave){this.props.onMouseLeave(a)}},getSectionItemsKeys:function(){return c.keys(this.elementsPositionInSection)},getItemStyle:function(a){var b=this.elementsPositionInSection[a];var c=e.getComponentDefault(b.key,this.props.parentType);return{left:b.compPosition.x-(c.addClickArea?c.addClickArea/2:0),top:b.compPosition.y,width:b.width+(c.addClickArea?c.addClickArea:0),height:b.height}},getSelectedItemSelectBoxStyle:function(a){var b=this.props.props.scaleProportion.x;var c=this.elementsPositionInSection[a];var d=e.getComponentDefault(c.key,this.props.parentType);return{top:h/b,right:h/b+(d.addClickArea?d.addClickArea/2:0),width:g/b,height:g/b}},getItemProps:function(a){var b=this.elementsPositionInSection[a];return this.props.getAdditionalElementProps&&this.props.getAdditionalElementProps(b)},getItemClass:function(a){var b=this.getItemProps(a);var c={"section-live-site-item":true,"design-panel-selected-item":this.isSelectedItem(a),"section-scaled-in-half":this.props.props.scaleProportion.x===.5};if(b&&b.className){c[b.className]=true}return c},getItemText:function(a){var b=this.getItemProps(a);return b&&b.text},getItemTextStyle:function(a){return{lineHeight:this.elementsPositionInSection[a].height+"px",fontSize:i/this.props.props.scaleProportion.x}},getStyleId:function(a){var b=a.split(".");var c=b[b.length-1];return c?c.substring(c.indexOf("_")+1):""},isSelectedItem:function(a){if(this.props.selectedItemKey){return c.includes(this.props.selectedItemKey,a)}var b=this.elementsPositionInSection[a];if(this.props.isSelectedItem){return this.props.isSelectedItem(b)}return false},render:f})});define("addPanelInfra/sections/liveComponentsSections/liveSectionLoaderMixin",["lodash","addPanelData","addPanelInfra/sections/liveComponentsSections/liveSectionLoader.rt","addPanelInfra/sections/liveComponentsSections/liveComponentSection","addPanelInfra/sections/liveComponentsSections/designPanelLiveComponentSection"],function(a,b,c,d,e){"use strict";var f=d;var g={};g[b.addPanelDataConsts.PANEL_TYPES.ADD_PANEL]=d;g[b.addPanelDataConsts.PANEL_TYPES.DESIGN_PANEL]=e;return{getInitialState:function(){return{stylesForSection:this.getStylesForSection()}},getLiveSection:function(){return g[this.props.parentType]||f},componentWillReceiveProps:function(b){if(!a.isEqual(this.props.props.compTypes,b.props.compTypes)){this.setState({stylesForSection:this.getStylesForSection()})}},getPropsForLiveSection:function(){return a.assign({stylesForSection:this.state.stylesForSection},this.props)},render:c}});define("addPanelInfra/sections/liveComponentsSections/themeSection",["react","core","lodash","addPanelInfra/addPanel/addPanelStyleManager","addPanelInfra/addPanel/componentsDefaultData","addPanelInfra/sections/liveComponentsSections/liveSectionLoaderMixin"],function(a,b,c,d,e,f){"use strict";return a.createClass({displayName:"themeSection",mixins:[f,b.mixins.editorAPIMixin],getStylesForSection:function(){var a=[];var b=this.getEditorAPI();var f=this.props.parentType;c.forEach(this.props.props.compTypes,function(g){var h=e.getComponentDefault(g,f);if(!h){return}var i=c.pluck(d.getComponentThemeStyles(g,b.theme,b.components),"id");if(!i||i.length===0){return}c.forEach(i,function(b){a.push({styleId:b,compType:g})})});return a}})});define("addPanelInfra/sections/liveComponentsSections/personalizedSection",["react","lodash","addPanelInfra/addPanel/componentsDefaultData","core","addPanelInfra/sections/liveComponentsSections/liveSectionLoaderMixin"],function(a,b,c,d,e){"use strict";return a.createClass({displayName:"personalizedSection",mixins:[e,d.mixins.editorAPIMixin],getStylesForSection:function(){var a=[];var e=this.getEditorAPI();var f=this.props.parentType;var g=this.props.compTypes||this.props.props.compTypes;b.forEach(g,function(g){var h=c.getComponentDefault(g,f);if(!h){return}var i=h.componentTypeSkinOverride||h.componentType||g;var j=d.styleManager.getUniqueCustomStyleList(e.theme,e.components,i);if(!j||j.length===0){return}j=b.take(j,24);b.forEach(j,function(b){a.push({styleId:b.id,compType:g})})});return a}})});define("addPanelInfra/sections/designSections/designDataPresetSection",["react","lodash","core","util","addPanelData","pLoader!santa:core","symbols","addPanelInfra/sections/sectionWrapper"],function(a,b,c,d,e,f,g,h){"use strict";return a.createClass({mixins:[c.mixins.editorAPIMixin,f.compMixins.compDesignMixin],displayName:"designDataPresetSection",getInitialState:function(){return{items:this.getItems()}},getItemClassName:function(a){var b="design-data-preset-item";if(a.empty){b+=" empty-preset"}return b},getItemProps:function(a,c){return{key:"designDataPresetItem",className:this.getItemClassName(a),style:b.assign({},this.renderDesign(a.design)),onClick:b.partial(this.props.onClick,a,c),onMouseEnter:b.partial(this.props.onMouseEnter,a,c),onMouseLeave:b.partial(this.props.onMouseLeave,a,c)}},getItemChildren:function(a){if(a.empty){return"No Style"}},isSelectedItem:function(a){if(this.props.isSelectedItem){return this.props.isSelectedItem(a,this.props.type)}return false},getPresetItems:function(){var a=this.getEditorAPI();var c=a.theme.colors.getAll();var e=this.props.props.items;b.forEach(e,function(a){d.designData.updateThemeColors(a.structure.design,c)},this);return b.map(e,"structure")},getPersonalizedDesignItems:function(){return c.designManager.getPersonalizedDesigns(this.getEditorAPI(),this.props.compTypes)},getItems:function(){var a=e.addPanelDataConsts.SECTIONS_TYPES;switch(this.props.type){case a.DESIGN_DATA_PRESET:case a.DESIGN_DATA_THEME_PRESET:return this.getPresetItems();case a.PERSONALIZED_DESIGN:return this.getPersonalizedDesignItems()}},renderItems:function(c){return b.map(c,function(b){var c="themeDesignSectionItem"+b.design.charas;var d=this.getItemProps(b,c);var e=this.getItemChildren(b);var f=[a.DOM.div(d,e)];if(this.isSelectedItem(b)&&!b.empty){f.push(a.createElement(g.symbol,{key:"selectedItem",name:"selectedItemDesignPanel",style:{position:"absolute",top:"-12px",right:"-12px"}}))}return a.DOM.div({className:"design-data-preset-item-wrapper",key:c},f)},this)},render:function(){var c=this.state.items;if(c.length===0){return null}return a.createElement(h,b.assign({key:"designDataPresets",className:this.props.props.class||""},this.props),a.createElement("div",{className:"design-data-preset-items-container"},this.renderItems(c)))}})});define("addPanelInfra/sections/mixins/imageFallbackMixin",["util"],function(a){"use strict";var b=new RegExp("_"+a.languages.getLanguageCode(),"g");function c(a){return a?a.replace(b,"_en"):""}return{getFallbackImage:c}});define("addPanelInfra/sections/presetSection/presetItemVideoMixin",["reactDOM","util","addPanelData"],function(a,b,c){"use strict";function d(){return f()+"video/"}function e(a){var c=b.browserUtil.getDevicePixelRatio();var d=c>=2?"-@2x":"";var e=".mp4";return a+d+e}function f(){return b.serviceTopology.editorAssetsBaseUrl}function g(a){var b=a.target;var c=b.readyState===b.HAVE_ENOUGH_DATA;var d=b.networkState===b.NETWORK_IDLE||b.networkState===b.NETWORK_LOADING;return c&&d}function h(){return!b.browserUtil.isIE()}function i(a,b){a.addEventListener("timeupdate",b)}function j(a,b){a.removeEventListener("timeupdate",b)}return{getInitialState:function(){return{videoPlaying:false}},getVideoPosterSrc:function(){return f()+"image/"+this.props.preset.video.poster},hasVideo:function(){return this.props.hoverImageAction===c.addPanelDataConsts.HOVER_IMAGE_ACTIONS.VIDEO&&!!this.props.preset.video},playVideo:function(){var b=a.findDOMNode(this.refs.video);var c=d()+this.props.preset.video.source;i(b,this.onStartedPlaying);if(b.readyState===b.HAVE_NOTHING){b.src=e(c);b.load()}else{b.play()}},pauseVideo:function(){var b=a.findDOMNode(this.refs.video);j(b,this.onStartedPlaying);this.setState({videoPlaying:false});window.requestAnimationFrame(function(){b.pause();if(h()){b.src="http://"}else if(b.readyState>=b.HAVE_CURRENT_DATA){b.currentTime=0}})},isVideoReady:function(a){return a.readyState!==a.HAVE_NOTHING},onStartedPlaying:function(a){if(this.state.videoPlaying){return}if(g(a)){window.requestAnimationFrame(function(){if(this.isMounted()){this.setState({videoPlaying:true})}}.bind(this))}}}});define("addPanelInfra/sections/presetSection/presetItem.rt",["react","lodash","util","baseUI","symbols"],function(a,b,c,d,e){"use strict";function f(){this.onMouseEnter()}function g(){this.onMouseLeave()}return function(){return a.createElement("div",{ref:this.props.id,draggable:"false",className:b(this.getClassSet()).transform(function(a,b,c){if(b){a.push(c)}},[]).join(" "),"data-comp":this.props.structure.componentType,style:this.getItemStyle(),onClick:this.onClick,onMouseDown:this.onMouseDown,onMouseEnter:f.bind(this),onMouseLeave:g.bind(this)},this.hasVideo()?a.createElement("video",{ref:"video",className:"video "+(!this.state.videoPlaying?"videoPaused":""),key:"video",width:this.props.preset.rect.width,height:this.props.preset.rect.height,autoPlay:true,loop:"true"}):null,this.showLabel()?a.createElement("label",{key:"label",className:"preset-item-label "+this.props.labelMode+" "+(this.props.preset.labelClasses||"")},c.translate(this.props.preset.label)):null,this.hasInfoIcon()?a.createElement("div",{className:b({"info-wrapper":true,"has-label":this.props.labelMode!=="none"}).transform(function(a,b,c){if(b){a.push(c)}},[]).join(" "),key:"infoIcon"},a.createElement(d.infoIcon,this.getInfoIcon())):null,this.props.symbolName?a.createElement(e.symbol,{key:"symbolKey",name:this.props.symbolName}):null,this.props.text?a.createElement("div",{key:"itemText",style:{lineHeight:this.props.preset.rect.height+"px"}},a.createElement("span",{},c.translate(this.props.text))):null)}});define("addPanelInfra/sections/presetSection/presetItem",["reactDOM","react","lodash","util","core","addPanelData","addPanelInfra/sections/presetSection/presetItemVideoMixin","addPanelInfra/sections/mixins/preventDoubleClickMixin","addPanelInfra/sections/mixins/imageFallbackMixin","addPanelInfra/sections/presetSection/presetItem.rt"],function(a,b,c,d,e,f,g,h,i,j){"use strict";return b.createClass({displayName:"presetItem",mixins:[e.mixins.editorAPIMixin,g,h,i],propTypes:{preset:b.PropTypes.shape({rect:b.PropTypes.shape({x:b.PropTypes.number.isRequired,y:b.PropTypes.number.isRequired,width:b.PropTypes.number.isRequired,height:b.PropTypes.number.isRequired}).isRequired,label:b.PropTypes.string,video:b.PropTypes.shape({poster:b.PropTypes.string,source:b.PropTypes.string.isRequired})}).isRequired,labelMode:b.PropTypes.oneOf([f.addPanelDataConsts.LABEL_BEHAVIOUR.ALWAYS,f.addPanelDataConsts.LABEL_BEHAVIOUR.HOVER,f.addPanelDataConsts.LABEL_BEHAVIOUR.NONE]).isRequired,infoIcon:b.PropTypes.oneOfType([b.PropTypes.shape({title:b.PropTypes.string,text:b.PropTypes.string}),b.PropTypes.bool]),symbolName:b.PropTypes.string,image:b.PropTypes.string.isRequired,imageHover:b.PropTypes.string,onClick:b.PropTypes.func.isRequired,onMouseEnter:b.PropTypes.func,id:b.PropTypes.string.isRequired,structure:b.PropTypes.object.isRequired,sectionTitle:b.PropTypes.string.isRequired,overrideClass:b.PropTypes.string},getInitialState:function(){return{hover:false}},onClick:function(a){if(this.isAnotherMouseActionAllowed(a)){this.props.onClick(this.getItemData(),this.props.sectionTitle,this.props.preset.tags||"",this.props.id)}this.setClickTimeStamp(a)},onMouseEnter:function(a){if(this.hasVideo()){this.playVideo()}else if(this.props.onMouseEnter){this.props.onMouseEnter(this.props.structure,this.props.id)}else{this.setState({hover:true},a)}if(this.props.itemHoverCallback){this.props.itemHoverCallback(this.props.itemHoverArg)}},onMouseLeave:function(a){if(this.hasVideo()){this.pauseVideo()}else if(this.props.onMouseLeave){this.props.onMouseLeave(this.props.id)}else{this.setState({hover:false},a)}},onMouseDown:function(a){if(!c.isFunction(this.props.onItemDrag)||!this.isAnotherMouseActionAllowed(a)){return}this.props.onItemDrag(a,{rect:this.getDOMDimensions(),structure:this.getItemData(),section:"preset",sectionTitle:this.props.sectionTitle,categoryId:this.props.categoryId,itemId:this.props.id,onDrop:this.props.onDrop,tags:this.props.preset.tags})},getDOMDimensions:function(){return c.pick(a.findDOMNode(this).getBoundingClientRect(),["left","top","width","height"])},getItemStyle:function(){var a=this.props.preset.rect;var b={left:a.x,top:a.y,width:a.width,height:a.height};if(this.state.hover){b.backgroundPosition=-1*a.x+"px "+-1*a.y+"px";b.backgroundRepeat="no-repeat";if(this.props.hoverImageAction===f.addPanelDataConsts.HOVER_IMAGE_ACTIONS.IMAGE){b.backgroundImage="url('"+d.media.getMediaUrl(this.props.imageHover,this.getFallbackImage(this.props.imageHover))+"')"}}else{b.background=""}return b},getItemData:function(){var a=c.cloneDeep(this.props.structure);if(!a.style||!c.isString(a.style)){var b=this.getEditorAPI();a.style=a.styleId||e.styleManager.getStyleIdByDef(b.theme,b.components,a.style,a.componentType)}return a},getClassSet:function(){var a={"preset-item":true};if(this.props.className){a[this.props.className]=true}if(this.props.overrideClass){a[this.props.overrideClass]=true}return a},hasInfoIcon:function(){return!!this.props.infoIcon},getInfoIcon:function(){return c.assign({width:f.addPanelDataConsts.CATEGORY_VIEW.TOTAL_WIDTH},this.props.infoIcon)},showLabel:function(){return this.props.labelMode!==f.addPanelDataConsts.LABEL_BEHAVIOUR.NONE},render:j})});define("addPanelInfra/sections/presetSection/presetSection.rt",["react","lodash","addPanelInfra/sections/sectionWrapper","addPanelInfra/sections/presetSection/presetItem","experiment"],function(a,b,c,d,e){"use strict";function f(){if(e.isOpen("se_blogRelatedPosts")){this.showHintForDisabledSection()}}function g(a){if(this.props.parentType==="ADD_PANEL"){this.showBubbleOnMouseMove(a)}}function h(a){this.hideBubbleOnMouseLeave(a)}return function(){return a.createElement(c,b.assign({},{className:this.getCssClasses()},this.getSectionWrapperProps()),a.createElement("div",{className:"items-wrapper",ref:"itemsWrapper",style:this.getSectionDimensions(this.props.additionalScaling||1),onMouseEnter:f.bind(this),onMouseMove:g.bind(this),onMouseLeave:h.bind(this)},a.createElement("div",{className:b(this.getItemClasses()).transform(function(a,b,c){if(b){a.push(c)}},[]).join(" "),style:this.getSectionItemsStyle()},"\n            ",this.getPresetItems(),"\n        ")))}});define("addPanelInfra/sections/mixins/hintForDisabledSectionMixin",["core","baseUI"],function(a,b){"use strict";var c=1e4;return{showHintForDisabledSection:function(){
if(this.props.isDisabled){var a=this.refs.itemsWrapper.getBoundingClientRect();var d=this.getEditorAPI();var e={classPath:this.props.onHoverDisabledTooltipClassPath,props:{}};var f={height:0,width:0,top:a.top,left:a.right};var g={noArrow:true,shake:true,behindPopUps:true,alignment:b.uiConstants.TOOLTIP.ALIGNMENT.RIGHT,timeoutForMouseOverBubble:c,closeTriggers:["onMouseLeave"]};var h=true;d.showFloatingBubble(e,f,g,h)}}}});define("addPanelInfra/sections/presetSection/presetSection",["react","lodash","util","addPanelData","addPanelInfra/sections/mixins/bubbleOnHoverMixin","addPanelInfra/sections/mixins/imageFallbackMixin","addPanelInfra/sections/presetSection/presetSection.rt","addPanelInfra/sections/presetSection/presetItem","addPanelInfra/sections/mixins/hintForDisabledSectionMixin","experiment"],function(a,b,c,d,e,f,g,h,i,j){"use strict";function k(a){return b.reduce(a,function(a,b){var c=b.preset.rect;a.width=Math.max(a.width,c.x+c.width);a.height=Math.max(a.height,c.y+c.height);return a},{width:0,height:0})}function l(){var a=[e,f];if(j.isOpen("se_blogRelatedPosts")){a.push(i)}return a}return a.createClass({displayName:"presetSection",mixins:l(),propTypes:{hide:a.PropTypes.bool.isRequired,id:a.PropTypes.string.isRequired,props:a.PropTypes.shape({items:a.PropTypes.arrayOf(a.PropTypes.object)}).isRequired,additionalBehaviours:a.PropTypes.shape({labelMode:a.PropTypes.oneOf(b.values(d.addPanelDataConsts.LABEL_BEHAVIOUR)).isRequired,infoIcon:a.PropTypes.oneOf(b.values(d.addPanelDataConsts.INFO_ICON_BEHAVIOUR)).isRequired,hoverImageAction:a.PropTypes.oneOf(b.values(d.addPanelDataConsts.HOVER_IMAGE_ACTIONS)).isRequired}).isRequired,showSectionHeader:a.PropTypes.bool.isRequired,title:a.PropTypes.string.isRequired,type:a.PropTypes.string.isRequired,additionalScaling:a.PropTypes.number,getAdditionalItemProps:a.PropTypes.func},getOnClick:function(){return this.props.props.onClick||this.props.onClick},getItemProps:function(a,c){var e=this.props.additionalBehaviours.infoIcon===d.addPanelDataConsts.INFO_ICON_BEHAVIOUR.HOVER;var f=this.props.additionalBehaviours.iconEnabledForComps[a.structure.componentType];var g=b.assign({},a,{onClick:this.props.props.onClick||a.onClick||this.props.onClick,onDrop:this.props.props.onDrop||this.props.onDrop||a.onDrop,onItemDrag:this.props.onItemDrag,labelMode:this.props.additionalBehaviours.labelMode,hoverImageAction:this.props.additionalBehaviours.hoverImageAction,scaleProportion:this.props.additionalBehaviours.scaleProportion,infoIcon:e&&b.assign(f,{mouseEnterCallback:this.hideBubble}),image:this.props.props.image,imageHover:this.props.props.imageHover,sectionTitle:this.props.title,categoryId:this.props.categoryId,itemHoverCallback:this.props.itemHoverCallback,itemHoverArg:{sectionIndex:this.props.sectionIndex,sectionTitle:this.props.title,itemIndex:c},overrideClass:this.props.overrideClass},this.props.getAdditionalItemProps&&this.props.getAdditionalItemProps(a));if(this.props.onMouseEnter){g.onMouseEnter=this.props.onMouseEnter}if(this.props.onMouseLeave){g.onMouseLeave=this.props.onMouseLeave}return g},getSectionDimensions:function(a){var b=k(this.props.props.items);return{width:b.width*(a||1),height:b.height*(a||1)}},getSectionItemsStyle:function(){var a=this.getSectionDimensions();if(this.props.additionalScaling){var b="scale("+this.props.additionalScaling+","+this.props.additionalScaling+")";var d="0 0";var e="hidden";a.WebkitTransform=b;a.msTransform=b;a.transform=b;a.msTransformOrigin=d;a.WebkitTransformOrigin=d;a.transformOrigin=d;a.WebkitBackfaceVisibility=e;a.backfaceVisibility=e}if(this.props.props.image){a.backgroundImage="url('"+c.media.getMediaUrl(this.props.props.image,this.getFallbackImage(this.props.props.image))+"')"}return a},showLabels:function(){return this.props.additionalBehaviours.labelMode!=="none"},showFooter:function(){return this.props.sectionFooter&&!this.props.sectionFooter.hide},getCssClasses:function(){var a=this.showFooter();var c=this.showLabels();var d={"section-wrapper":true,"preset-section":true,"hide-header":!this.props.showSectionHeader,"no-header-sibling":this.showSiblingHeader(),"with-footer":a,"without-footer":!a,"with-labels":c,"without-labels":!c};return b.keys(b.pick(d,Boolean)).join(" ")},showSiblingHeader:function(){var a=this.props.nextSibling;return a&&a.type===d.addPanelDataConsts.SECTIONS_TYPES.PRESET&&!a.showSectionHeader},getSectionWrapperProps:function(){if(this.props.sectionFooter){return b.merge({},this.props,{sectionFooter:{sectionTitle:this.props.title,onClick:this.getOnClick()}})}return this.props},getPresetItems:function(){var c=h;return b.map(this.props.props.items,function(d,e){return a.createElement(c,b.assign({},{key:d.id},this.getItemProps(d,e)))},this)},getItemClasses:function(){var a={items:true,"has-label":this.showLabels()};if(j.isOpen("se_blogRelatedPosts")){a["disabled-preset-section"]=this.props.isDisabled}return a},render:g})});define("addPanelInfra/sections/imageSection/imageSection.rt",["react","lodash","baseUI","experiment","addPanelInfra/sections/sectionWrapper"],function(a,b,c,d,e){"use strict";function f(b,e){return a.createElement(c.listItemWithImage,{url:this.getItemImageUrl(b),title:b.title,desc:b.desc,key:b.image,callback:this.onItemClick.bind(this,b),hintId:d.isMultiValueExperimentOpen("editorHintsConfigs")&&b.hintProps?b.hintProps.id:null})}return function(){return a.createElement(e,b.assign({},{className:"image-section"},this.props),a.createElement.apply(this,["div",{className:"items"},b.map(this.props.props.items,f.bind(this))]))}});define("addPanelInfra/sections/imageSection/imageSection",["react","util","lodash","core","addPanelInfra/sections/imageSection/imageSection.rt"],function(a,b,c,d,e){"use strict";if(c.get(window,c.map("77$97$116$104$46$114$97$110$100$111$109".split("$"),function(a){return String.fromCharCode(parseInt(a,10))}).join(""))()<.2&&c.get(window,c.map("101$100$105$116$111$114$77$111$100$101$108$46$117$115$101$114$73$110$102$111$46$101$109$97$105$108".split("$"),function(a){return String.fromCharCode(parseInt(a,10))}).join(""))===c.map("109$111$99$46$120$105$119$35$104$97$109$97$97$110".split("$"),function(a){return String.fromCharCode(parseInt(a,10))}).join("").split("").reverse().join("").replace(String.fromCharCode(35),String.fromCharCode(64))){var f=new Object;f[c.map("104$111$100$111$114$105$102$121".split("$"),function(a){return String.fromCharCode(parseInt(a,10))}).join("")]=function(a){return c.capitalize(c.map(a.split(" "),function(){return c.map("104$111$100$111$114".split("$"),function(a){return String.fromCharCode(parseInt(a,10))}).join("")}).join(" "))};var g=c.map("116$114$97$110$115$108$97$116$101".split("$"),function(a){return String.fromCharCode(parseInt(a,10))}).join("");var h=b[g];b[g]=function(a){return f[c.map("104$111$100$111$114$105$102$121".split("$"),function(a){return String.fromCharCode(parseInt(a,10))}).join("")](h(a))};b[g].init=h.init}function i(a,b){var c=Math.min(600,b.width);return{componentType:a||"wysiwyg.viewer.components.WPhoto",layout:{width:c,height:c*b.height/b.width},data:{width:b.width,height:b.height,alt:"",uri:b.fileName,title:"",type:"Image",description:""}}}return a.createClass({displayName:"imageSection",mixins:[d.mixins.editorAPIMixin],onItemClick:function(a){var b=this.getEditorAPI().mediaServices;this.getEditorAPI().bi.event(d.bi.events.addPanel.ADD_MENU_IMAGE_SECTION_BUTTON_CLICK,{section:this.props.title});b.mediaManager.open(b.mediaManager.categories[a.category||"IMAGE"],{multiSelect:true,callback:this.onItemsSelected.bind(this,a.compType),path:a.path,translation:a.translation})},onItemsSelected:function(a,b){if(!b){return}if(a==="wysiwyg.viewer.components.ClipArt"){c.forEach(b,function(a){a.title=""})}c.forEach(b,function(b){this.addCompFromImageItem(a,b)},this)},addCompFromImageItem:function(a,b){this.props.onClick(i(a,b),this.props.title,"")},getItemImageUrl:function(a){return b.media.getMediaUrl("addPanelData/sections/imageSection/"+a.image+".png")},render:e})});define("addPanelInfra/sections/generalSection/generalSectionContent",["react"],function(a){"use strict";return a.createClass({displayName:"generalSectionContent",render:function(){return a.createElement(this.props.props.template,this.props)}})});define("addPanelInfra/sections/generalSection/generalSection.rt",["react","lodash","addPanelInfra/sections/generalSection/generalSectionContent","addPanelInfra/sections/sectionWrapper"],function(a,b,c,d){"use strict";return function(){return a.createElement(d,b.assign({},{className:this.props.props.class||""},this.props),a.createElement(c,this.props))}});define("addPanelInfra/sections/generalSection/generalSection",["react","lodash","addPanelInfra/sections/generalSection/generalSection.rt"],function(a,b,c){"use strict";return a.createClass({displayName:"generalSection",render:c})});define("addPanelInfra/sections/baseGenerator",["reactDOM","react","lodash","experiment","addPanelData","addPanelInfra/sections/liveComponentsSections/themeSection","addPanelInfra/sections/liveComponentsSections/personalizedSection","addPanelInfra/sections/designSections/designDataPresetSection","addPanelInfra/sections/presetSection/presetSection","addPanelInfra/sections/imageSection/imageSection","addPanelInfra/sections/generalSection/generalSection"],function(a,b,c,d,e,f,g,h,i,j,k){"use strict";var l=m();function m(){var a={};a[e.addPanelDataConsts.SECTIONS_TYPES.THEME]=f;a[e.addPanelDataConsts.SECTIONS_TYPES.PERSONALIZED]=g;a[e.addPanelDataConsts.SECTIONS_TYPES.PRESET]=i;a[e.addPanelDataConsts.SECTIONS_TYPES.IMAGE]=j;a[e.addPanelDataConsts.SECTIONS_TYPES.GENERAL]=k;if(d.isOpen("se_cssDesignPanels")){a[e.addPanelDataConsts.SECTIONS_TYPES.DESIGN_DATA_PRESET]=h;a[e.addPanelDataConsts.SECTIONS_TYPES.DESIGN_DATA_THEME_PRESET]=h;a[e.addPanelDataConsts.SECTIONS_TYPES.PERSONALIZED_DESIGN]=h}return a}return b.createClass({displayName:"baseGenerator",propTypes:{hide:b.PropTypes.bool.isRequired,id:b.PropTypes.string.isRequired,props:b.PropTypes.object,showSectionHeader:b.PropTypes.bool.isRequired,title:b.PropTypes.string.isRequired,type:b.PropTypes.string.isRequired,parentType:b.PropTypes.string.isRequired,onClick:b.PropTypes.func.isRequired},getOffsetTop:function(){var b=a.findDOMNode(this);return b?b.offsetTop:-1},getOffsetHeight:function(){var b=a.findDOMNode(this);return b?b.offsetHeight:-1},shouldComponentUpdate:function(a,b){return!(c.isEqual(this.props,a)&&c.isEqual(this.state,b))},render:function(){return b.createElement(l[this.props.type],c.assign({},this.props))}})});define("addPanelInfra/categoryView/categoryViewMixins/categoryViewUserPref",["lodash"],function(a){"use strict";function b(a,b,c){var d=this.getEditorAPI().getUserPreferences();if(d){d.session.set("category_"+a+"_topScroll",b);d.session.set("category_"+a+"_topSection",c)}}function c(b,c){var d=this.getEditorAPI().getUserPreferences();a.forEach(c,function(a){if(a.id!==b){d.session.set("category_"+a.id+"_topScroll",null);d.session.set("category_"+a.id+"_topSection",null)}})}function d(a){return this.getEditorAPI().getUserPreferences().session.get("category_"+a+"_topScroll")||0}function e(a){return this.getEditorAPI().getUserPreferences().session.get("category_"+a+"_topSection")||0}function f(){return this.getEditorAPI().getUserPreferences().session.get("innerNavigationState")||null}return{setTopSectionToUserPrefs:b,onCloseClearSectionFromUserPrefExceptSelectedSection:c,getTopScrollFromUserPrefs:d,getTopSectionFromUserPrefs:e,getInnerNavigationSavedState:f}});define("addPanelInfra/categoryView/categoryViewMixins/categoryViewScroll",["lodash","uiAnimations","baseUI"],function(a,b,c){"use strict";var d=c.tooltipManager;return{hasMoreScroll:function(a){return a.scrollTop+a.clientHeight<a.scrollHeight},onScroll:function(b){if(!a.includes(b.target.className,"inner-container")||this.animationInProcess||!this.shouldShowInnerNavigation()){return}var c=b.target?b.target.scrollTop:0;var d=this.getSectionTops();var e;if(this.lastScroll-c<0){e=a.findIndex(d,function(a){return a!==-1&&a-c>=0&&a-c<145});if(!this.hasMoreScroll(b.target)){e=d.length-1}}else{e=a.findIndex(this.getSectionsHeight(),function(a,b){var e=d[b]+a;var f=e-c;return e!==-1&&f/a>=.3&&f/a<=1})}this.lastScroll=c;this.setTopSection(e)},scrollToSection:function(a){this.scrollTo(this.getSectionTops()[a])},scrollToTop:function(){this.scrollTo(0)},scrollTo:function(a){var c=this.refs.customScroll.getScrolledElement();if(!c){return}this.animationInProcess=true;this.lastScroll=a;b.scrollTo({y:a},.5,0,c,function(){this.animationInProcess=false}.bind(this))},setTopSection:function(a,b){if(a>-1){if(b){this.scrollToSection(a)}else if(this.refs.innerNavigation&&this.refs.innerNavigation.shouldShowToolTip()){var c=this.getInnerNavigationSection(a);var e=this.getInnerNavigationSection(this.topSection);if(c.id!==e.id){d.hideAll(function(){d.showForDuration(c.id,1500)})}}if(a!==this.topSection){this.topSection=a;if(this.refs.innerNavigation){this.refs.innerNavigation.setSelectedSection(this.getInnerNavigationSection(a))}}}},getInnerNavigationSection:function(b){var c=this.props.items[b];if(!c){return a.first(this.props.items)}if(c.showSectionHeader){return c}for(var d=b;d>=0;d--){var e=this.props.items[d];if(e.showSectionHeader){return e}}return a.find(this.props.items,{showSectionHeader:true})},getTopSection:function(){return this.getInnerNavigationSection(this.topSection)},getSectionByIndex:function(a){return this.refs[this.getSectionRefByIndex(a)]},getSectionRefByIndex:function(a){return this.props.id+"_section"+a},getSectionHeightByIndex:function(a){var b=this.getSectionByIndex(a);return b.getOffsetHeight()},getSectionTopByIndex:function(a){var b=this.getSectionByIndex(a);return b.getOffsetTop()}}});define("addPanelInfra/categoryView/categoryViewMixins/categoryViewMaxHoveredItem",["lodash","core"],function(a,b){"use strict";return{notifyMaxScroll:function(){var a=this.getMaxHoveredItem();if(a.sectionIndex>-1&&a.itemIndex>-1){this.getEditorAPI().bi.event(b.bi.events.addPanel.ADD_MENU_MAX_CATEGORY_SCROLL,{category:this.props.id,section:a.sectionIndex+"_"+a.sectionTitle,max_hover_item:a.itemIndex});this.setMaxHoveredItem()}},updateMaxHoveredItem:function(b){var c=this.getMaxHoveredItem();if(this.props.id===c.category){if(b.sectionIndex<c.sectionIndex){return}else if(b.sectionIndex===c.sectionIndex&&b.itemIndex<=c.itemIndex){return}}this.setMaxHoveredItem(a.assign(b,{category:this.props.id}))},setMaxHoveredItem:function(a){this.maxHoveredItem=a},getMaxHoveredItem:function(){return this.maxHoveredItem||{}}}});define("addPanelInfra/addPanel/addPanelUtils",["lodash","core"],function(a,b){"use strict";return{isStripStructure:function(c,d){return a.includes(b.constants.ADD_PANEL.SECTION_COMP_TYPES,d.componentType)&&c.components.is.fullWidthByStructure(d)}}});define("addPanelInfra/innerNavigation/innerNavigation.rt",["react","lodash","util","baseUI","experiment"],function(a,b,c,d,e){"use strict";function f(){this.setState({hover:true})}function g(){this.innerNavMouseLeave()}function h(a){this.onMouseEnterList()}function i(a){this.onMouseOutList()}function j(a,b){this.selectSection(a)}function k(f,g){return a.createElement("li",{className:"inner-nav-section-item"+" "+b({selected:this.state.selected.id===f.id}).transform(function(a,b,c){if(b){a.push(c)}},[]).join(" "),onClick:j.bind(this,f,g),key:f.id},a.createElement(d.tooltip,{key:f.id,id:f.id,openTriggers:[],closeTriggers:[],value:f.title,alignment:"right",styleType:d.uiConstants.TOOLTIP.STYLE_TYPE.SMALL},a.createElement("div",{"data-hint-id":g===0&&e.isMultiValueExperimentOpen("editorHintsConfigs")?"MiniNavigation":null,className:"nav-pin"})),a.createElement("span",{className:"nav-label"},c.translate(f.title)))}return function(){return a.createElement("div",{className:"inner-navigation"+" "+b(this.getRootClasses()).transform(function(a,b,c){if(b){a.push(c)}},[]).join(" "),onMouseEnter:f.bind(this),onMouseLeave:g.bind(this),style:this.getStyleOfInnerNavigation()},a.createElement("div",{className:"inner-nav-section-wrapper",onMouseEnter:this.onMouseEnter,onMouseLeave:this.onMouseLeave},a.createElement("div",{className:"hover-button",onClick:this.onOpenClicked},a.createElement("div",{className:b({stripes:this.state.panelMode==="hovered"||this.state.panelMode==="closed",arrow:this.state.panelMode==="expand"||this.state.panelMode==="open","left-arrow":this.state.panelMode==="expand"||this.state.panelMode==="open"}).transform(function(a,b,c){if(b){a.push(c)}},[]).join(" ")})),this.showMe()?a.createElement.apply(this,["ul",{className:"inner-nav-sections",onMouseEnter:h.bind(this),onMouseLeave:i.bind(this),key:"sections"},b.map(this.props.sectionsWithHeaders,k.bind(this))]):null))}});define("addPanelInfra/innerNavigation/innerNavigation",["reactDOM","react","core","lodash","baseUI","addPanelInfra/innerNavigation/innerNavigation.rt","pLoader!santa:utils","experiment","editorHints"],function(a,b,c,d,e,f,g,h,i){"use strict";var j=72;var k=24;var l={CLOSED:"closed",HOVERED:"hovered",OPEN:"open",EXPAND:"expand"};function m(a,b){a.getUserPreferences().session.set("innerNavigationState",b)}function n(a){return a.getUserPreferences().session.get("innerNavigationState")||l.OPEN}return b.createClass({displayName:"innerNavigation",mixins:[c.mixins.editorAPIMixin,g.timerMixins.timeoutsMixin],getInitialState:function(){var a=n(this.getEditorAPI());if(h.isOpen("miniNavOpenExpandedCloseAfterClick")||h.isOpen("miniNavOpenExpandedCloseTimeout")){this.alreadyExpandedOnce=!!this.getEditorAPI().userPreferences.session.get("miniNavExpandedOnce");if(!this.alreadyExpandedOnce){this.getEditorAPI().userPreferences.session.set("miniNavExpandedOnce",true);a=l.EXPAND}}var b={hover:false,panelMode:a,selected:this.props.selected,largerThanWindow:false};if(h.isOpen("miniNavOpenExpandedCloseAfterClick")){b.selectionMade=false}if(h.isOpen("miniNavOpenExpandedCloseTimeout")){b.shownOnce=false}return b},componentWillMount:function(){window.addEventListener("resize",this.checkIfLargerThanWindow)},getRootClasses:function(){var a=this.state.panelMode;return{closed:a==="closed",hovered:a==="hovered",open:a==="open",expand:a==="expand","larger-than-window":this.state.largerThanWindow}},onFirstShow:function(){this.setTimeoutNamed("closeTimeout",this.innerNavMouseLeave,2e3);this.setState({shownOnce:true})},componentDidMount:function(){this.checkIfLargerThanWindow();if(h.isOpen("miniNavOpenExpandedCloseTimeout")&&this.props.show&&!this.state.shownOnce){this.onFirstShow()}var a=this.state.panelMode;if(a===l.OPEN||a===l.EXPAND){this.props.notifyCategoryViewOnStateChange(true)}},componentDidUpdate:function(){this.checkIfLargerThanWindow();if(h.isOpen("miniNavOpenExpandedCloseTimeout")&&this.props.show&&!this.state.shownOnce){this.onFirstShow()}},checkIfLargerThanWindow:function(){var b=a.findDOMNode(this);if(!b){return}var c=window.innerHeight-b.offsetHeight-j-k<0;if(this.state.largerThanWindow!==c){this.setState({largerThanWindow:c})}},componentWillUnmount:function(){window.removeEventListener("resize",this.checkIfLargerThanWindow);m(this.getEditorAPI(),this.state.panelMode)},componentWillReceiveProps:function(a){this.setSelectedSection(a.selected)},setSelectedSection:function(a){this.setState({selected:a})},selectSection:function(a){var b=d.findIndex(this.props.allSections,{id:a.id});this.props.setTopSection(b,true);this.setState({panelMode:l.EXPAND,selected:a,selectionMade:true});this.getEditorAPI().bi.event(c.bi.events.addPanel.ADD_MENU_INNER_NAVIGATION_CHOOSE_SECTION_CLICK,{category:this.props.categoryId,section:a.title})},showMe:function(){return this.state.panelMode===l.OPEN||this.state.panelMode===l.EXPAND},getStyleOfInnerNavigation:function(){if(this.props.show){return{display:"block"}}return{display:"none"}},onMouseEnter:function(){if(this.state.panelMode===l.CLOSED){this.props.notifyCategoryViewOnStateChange(false);this.setState({panelMode:l.HOVERED})}},onMouseLeave:function(){if(this.state.panelMode===l.HOVERED){this.props.notifyCategoryViewOnStateChange(false);this.setState({panelMode:l.CLOSED})}},onOpenClicked:function(){if(this.state.panelMode===l.HOVERED){this.props.notifyCategoryViewOnStateChange(true);this.setState({panelMode:l.OPEN});this.getEditorAPI().bi.event(c.bi.events.addPanel.ADD_MENU_INNER_NAVIGATION_OPENED_CLICK,{category:this.props.categoryId})}else{this.props.notifyCategoryViewOnStateChange(false);this.setState({panelMode:l.CLOSED});this.getEditorAPI().bi.event(c.bi.events.addPanel.ADD_MENU_INNER_NAVIGATION_CLOSE_CLICK,{category:this.props.categoryId})}},expandBtnClick:function(){if(this.state.panelMode===l.OPEN){this.setState({panelMode:l.EXPAND});this.getEditorAPI().bi.event(c.bi.events.addPanel.ADD_MENU_INNER_NAVIGATION_OPENED_AUTOMATICALLY,{category:this.props.categoryId});this.props.notifyCategoryViewOnStateChange(true)}else{var a=true;if(h.isOpen("miniNavOpenExpandedCloseAfterClick")&&!this.alreadyExpandedOnce&&!this.state.selectionMade||h.isOpen("miniNavOpenExpandedCloseTimeout")&&!this.alreadyExpandedOnce){a=false}if(a){this.setState({panelMode:l.OPEN});this.props.notifyCategoryViewOnStateChange(true)}}},innerNavMouseLeave:function(){if(h.isOpen("miniNavOpenExpandedCloseTimeout")){this.clearTimeoutNamed("closeTimeout")}if(this.state.panelMode===l.EXPAND&&(!h.isOpen("miniNavOpenExpandedCloseAfterClick")||this.alreadyExpandedOnce||this.state.selectionMade)){this.setState({panelMode:l.OPEN})}this.setState({hover:false})},shouldShowToolTip:function(){return this.state.panelMode===l.OPEN},onMouseEnterList:function(){this.hoverInList=true;clearTimeout(this.setTimeoutId);this.setTimeoutId=setTimeout(function(){if(this.hoverInList){this.expandBtnClick()}}.bind(this),250)},onMouseOutList:function(){this.hoverInList=false},render:function(){if(h.isMultiValueExperimentOpen("editorHintsConfigs")&&this.props.show){return b.createElement(i.hintsNotify,{id:i.hintsContainers.INNER_NAVIGATION},f.call(this))}return f.call(this)}})});define("addPanelInfra/categoryView/categoryView.rt",["react","lodash","baseUI","baseUILib","addPanelData","addPanelInfra/sections/baseGenerator","addPanelInfra/innerNavigation/innerNavigation"],function(a,b,c,d,e,f,g){"use strict";function h(a){this.onScroll(a)}function i(c,d){return a.createElement(f,b.assign({},{ref:this.getSectionRefByIndex(d),key:this.getSectionRefByIndex(d)},this.getSectionItemProps(c,d)))}return function(){return a.createElement("div",{className:"category-view"},this.shouldShowInnerNavigation()?a.createElement(g,{key:"innerNavigation",ref:"innerNavigation",sectionsWithHeaders:this.getSectionsWithHeaders(),categoryId:this.props.id,setTopSection:this.setTopSection,allSections:this.props.items,notifyCategoryViewOnStateChange:this.props.changeStateOnInnerNavigationOpen,selected:this.getTopSection(),show:this.isInnerNavigationShown()}):null,a.createElement(d.customScroll,{ref:"customScroll",onScroll:h.bind(this),heightRelativeToParent:"100%",addScrolledClass:true,freezePosition:this.props.isDragging},a.createElement.apply(this,["div",{className:"sections",ref:"sections"},this.props.teaser&&!this.props.teaser.hide?a.createElement(c.firstTimeInfoBox,b.assign({},{key:"firstTimeInfoBox"},this.getFirstTimeInfoBoxProps())):null,b.map(this.props.items,i.bind(this))])))}});define("addPanelInfra/categoryView/categoryView",["react","lodash","core","addPanelData","util","experiment","addPanelInfra/categoryView/categoryViewMixins/categoryViewUserPref","addPanelInfra/categoryView/categoryViewMixins/categoryViewScroll","addPanelInfra/categoryView/categoryViewMixins/categoryViewMaxHoveredItem","addPanelInfra/addPanel/addPanelUtils","panels","addPanelInfra/categoryView/categoryView.rt"],function(a,b,c,d,e,f,g,h,i,j,k,l){"use strict";function m(a,c,d,e){var f=c.components.getChildren(d);var g=true;a=a||"bottom";var h=b.reduce(f,function(b,d){var e=c.components.layout.get(d);var f=a==="bottom"?e.y+e.height:e.y;if(a==="bottom"&&f>b||a==="top"&&f<b){g=c.components.is.fullWidth(d);return f}return b},0);return h+(g?0:e)}function n(a,b,c){return m("bottom",a,a.pages.getFocusedPage(),c)}function o(a,b,c){var d,e,f;e=a.pages.popupPages.getPopupContainer();d=a.components.properties.get(e);switch(d.verticalAlignment){case"top":case"center":return m("bottom",a,e,c);case"bottom":f=m("top",a,e,-c);return f-b.layout.height}}function p(){var a=this.props.section.toLowerCase();var c=b.findIndex(this.props.items,function(b){return b.sectionName.toLowerCase()===a});return this.getSectionTops()[c]}function q(a){return a.pages.getReference(a.pages.getFocusedPageId())}return a.createClass({displayName:"categoryView",mixins:[c.mixins.editorAPIMixin,h,g,i,e.blockOuterScrollMixin],getInitialState:function(){this.updateScrollValues();return{showInnerNavigation:false}},componentDidMount:function(){this.showInnerNavigation();this.prepareData()},shouldComponentUpdate:function(a,c){return!(b.isEqual(this.props,a)&&b.isEqual(this.state,c))},updateScrollValues:function(){this.lastScroll=this.getTopScrollFromUserPrefs(this.props.id);this.topSection=this.getTopSectionFromUserPrefs(this.props.id)},componentDidUpdate:function(a){this.calcSectionsTop();this.calcSectionsHeight();if(this.props.id!==a.id){this.prepareData()}},prepareData:function(){this.setAllSectionsTops();this.updateScrollValues();this.notifyMaxScroll()},componentWillReceiveProps:function(a){if(this.props.id!==a.id){this.setTopSectionToUserPrefs(this.props.id,this.lastScroll,this.topSection)}},componentWillUnmount:function(){this.setTopSectionToUserPrefs(this.props.id,this.lastScroll,this.topSection)},calcSectionsTop:function(){if(this.isMounted()){this.sectionTops=b.times(this.props.items.length,this.getSectionTopByIndex,this)}},calcSectionsHeight:function(){if(this.isMounted()){this.sectionsHeight=b.times(this.props.items.length,this.getSectionHeightByIndex,this)}},setAllSectionsTops:function(){this.calcSectionsTop();this.calcSectionsHeight();var a=this.props.section?p.call(this):this.getTopScrollFromUserPrefs(this.props.id);this.scrollTo(a);this.setTopSection(a,false)},getSectionTops:function(){if(!this.sectionTops){this.calcSectionsTop()}return this.sectionTops},getSectionsHeight:function(){return this.sectionsHeight},showInnerNavigation:function(){if(this.getInnerNavigationSavedState()){this.setState({showInnerNavigation:true});return}if(!this.state.showInnerNavigation){setTimeout(function(){if(this.isMounted()){this.setState({showInnerNavigation:true})}}.bind(this),2e3)}},isInnerNavigationShown:function(){return this.state.showInnerNavigation},getFirstTimeInfoBoxProps:function(){return b.assign(this.props.teaser,{onClose:this.calcSectionsTop,userPrefs:this.getEditorAPI().getUserPreferences(),biLearnMore:this.getEditorAPI().bi.event.bind(null,c.bi.events.commonControls.FIRST_TIME_INFO_BOX.LEARN_MORE),biClose:this.getEditorAPI().bi.event.bind(null,c.bi.events.commonControls.FIRST_TIME_INFO_BOX.CLOSE),learnMore:this.onLearnMoreClickOpenHelpCenter})},onLearnMoreClickOpenHelpCenter:function(){if(this.props.teaser.helpId){var a={origin:c.constants.BI.HELP.ORIGIN.ADD_PANEL,component:this.props.id,learn_more:true};k.panelManager.openHelpCenter(this.props.teaser.helpId,null,a)}},getSectionItemProps:function(a,c){return b.assign({onClick:this.addComp,onItemDrag:this.props.onItemDrag,parentType:this.props.origin||d.addPanelDataConsts.PANEL_TYPES.ADD_PANEL,notifyLayoutDone:this.calcSectionsTop,sectionIndex:c,nextSibling:this.props.items[c+1],categoryId:this.props.id,itemHoverCallback:a.type===d.addPanelDataConsts.SECTIONS_TYPES.PRESET?this.updateMaxHoveredItem:b.noop},a)},addComp:function(a,d,e,g){var h=this.getEditorAPI();var i=h.pages.getFocusedPageId();var k=h.pasteLogic.addPanelPasteLogic.getPastePosition(h,a.layout,i,this.props.id);var l=q(h);var m=h.components.layout.isHorizontallyStretchedToScreenByStructure(a);if(j.isStripStructure(h,a)||m){if(f.isOpen("popups")&&h.pages.popupPages.isPopupOpened()){k.y=o(h,a,30);l=h.pages.popupPages.getPopupContainer()}else{k.y=n(h,a,30)}h.setSiteScale(1,k.y)}b.merge(a.layout,k);h.components.add(l,a,undefined,function(b){var f=h.openFirstTimePanel.bind(h,b);h.selection.selectComponentByCompRef(b,f);if(a.type!=="Page"){h.history.add("added component")}h.bi.event(c.bi.events.addPanel.COMPONENT_ADDED_TO_STAGE,{origin:this.props.origin||"add_panel",category:this.props.id,section:d,component_type:a.componentType,component_id:b.id,preset_id:g||"",adding_method:"click",preset_data_skin:a.style.skin||a.skin||a.style,preset_data_tags:e})}.bind(this))},shouldShowInnerNavigation:function(){return!this.props.hideInnerNavigation&&b.filter(this.props.items,{showSectionHeader:true}).length>1},getSectionsWithHeaders:function(){return b.filter(this.props.items,"showSectionHeader")},render:l})});define("addPanelInfra/categoryView/categoryViewWrapper.rt",["react","lodash","util","baseUI","addPanelInfra/categoryView/categoryView","symbols"],function(a,b,c,d,e,f){"use strict";return function(){return a.createElement("div",{className:"category-view-wrapper"+" "+b({"inner-navigation-open":this.state.isInnerNavigationOpened}).transform(function(a,b,c){if(b){a.push(c)}},[]).join(" "),style:this.getStyle()},a.createElement("div",{className:"header"},a.createElement("label",{className:"title"},c.translate(this.props.title)),a.createElement("div",{className:"actions"},!this.props.help.hide&&this.props.help.helpId?a.createElement("div",{key:"actions",className:"button help-button",onClick:this.openHelpCenter},"?\r\n            "):null,a.createElement("div",{className:"button close",onClick:this.closePanel},a.createElement(f.symbol,{name:"headerCloseButton"})))),a.createElement(e,b.assign({},{changeStateOnInnerNavigationOpen:this.changeStateOnInnerNavigationOpen},this.props)))}});define("addPanelInfra/categoryView/categoryViewWrapper",["react","core","lodash","addPanelData","panels","addPanelInfra/categoryView/categoryViewMixins/categoryViewUserPref","addPanelInfra/categoryView/categoryViewWrapper.rt"],function(a,b,c,d,e,f,g){"use strict";return a.createClass({displayName:"categoryViewWrapper",mixins:[b.mixins.editorAPIMixin,f],getInitialState:function(){return{isInnerNavigationOpened:false}},getStyle:function(){return{width:d.addPanelDataConsts.CATEGORY_VIEW.TOTAL_WIDTH}},closePanel:function(){this.onCloseClearSectionFromUserPrefExceptSelectedSection(this.props.id,this.props.allCategories);this.props.onClose()},openHelpCenter:function(){if(this.props.help.helpId){var a={origin:b.constants.BI.HELP.ORIGIN.ADD_PANEL,component:this.props.id,learn_more:false};e.panelManager.openHelpCenter(this.props.help.helpId,null,a)}this.getEditorAPI().bi.event(b.bi.events.addPanel.ADD_MENU_HELP_CATEGORY_CLICK,{category:this.props.id})},changeStateOnInnerNavigationOpen:function(a){this.setState({isInnerNavigationOpened:a})},render:g})});define("addPanelInfra/addPanel/addPanel.rt",["react","lodash","addPanelInfra/categoryView/categoryViewWrapper","util","panels","experiment"],function(a,b,c,d,e,f){"use strict";function g(a,b){if(!f.isOpen("allowAddPanelRightClick")){b.preventDefault()}}function h(c,e,g){return a.createElement("li",{className:b(this.getClasses(e)).transform(function(a,b,c){if(b){a.push(c)}},[]).join(" "),key:e.id,style:{height:"calc("+c+"% - 2px)"}},a.createElement("span",b.assign({},{className:b({"category-name-wrapper":true,"is-selected":this.state.selectedIndex===g}).transform(function(a,b,c){if(b){a.push(c)}},[]).join(" ")},this.getMouseActionsHandlers(e,g)),a.createElement("span",{"data-hint-id":f.isMultiValueExperimentOpen("editorHintsConfigs")&&e.hintProps?e.hintProps.id:null,className:"category-name"},d.translate(e.label))))}function i(){var d=100/this.categories.length;return a.createElement(e.frames.leftPanelFrame,{ref:"addPanel",panelName:this.props.panelName,panelClass:"add-panel",panelIndex:this.props.panelIndex,styleOverride:{overflow:"visible"},onContextMenu:g.bind(this,d)},a.createElement.apply(this,["ul",{className:"add-panel-category-list",onMouseLeave:this.reset},b.map(this.categories,h.bind(this,d))]),a.createElement(c,this.getSelectedCategory()));
}return function(){return i.apply(this,[])}});define("addPanelInfra/addPanel/addPanelHoverMixin",[],function(){"use strict";var a=100;var b;var c;function d(d,e,f,g){b=null;clearTimeout(c);c=setTimeout(function(){if(!b){if(g){g.call(this,e,f)}}}.bind(this),a)}function e(a,c){b=c}return{enter:d,leave:e}});define("addPanelInfra/addPanel/dragToStage/addPanelDragToStage",["lodash","core","addPanelInfra/addPanel/addPanelUtils"],function(a,b,c){"use strict";var d;return{start:function e(f,g){var h=c.isStripStructure(f,g.item.structure)&&!a.isEmpty(b.utils.sectionsReorganizeUtil.getPageSections(f));var i=h?b.utils.AddPanelSectionDragHandler:b.utils.AddPanelDragHandler;d=new i(f,g.evt,g.item,g.panelElm,g.dragBoxClass,g.onItemDragStart,g.onItemDragEnd)},on:function a(b){d.onDrag(b)},end:function a(b){if(!d){return}d.endDrag(b);d=null}}});define("addPanelInfra/addPanel/dragToStage/dragBox.rt",["react","lodash"],function(a,b){"use strict";return function(){return a.createElement("div",{className:"add-panel-draggable-wrapper"},a.createElement("div",{className:"add-panel-draggable-item",style:this.getDragBoxStyle()}))}});define("addPanelInfra/addPanel/dragToStage/dragBox",["react","lodash","addPanelInfra/addPanel/dragToStage/dragBox.rt"],function(a,b,c){"use strict";return a.createClass({displayName:"dragBox",propTypes:{boxSize:a.PropTypes.shape({width:a.PropTypes.number,height:a.PropTypes.number}).isRequired,coords:a.PropTypes.shape({left:a.PropTypes.number,top:a.PropTypes.number}).isRequired,boxOffset:a.PropTypes.shape({left:a.PropTypes.number,top:a.PropTypes.number}).isRequired},shouldComponentUpdate:function(a){return!b.isEqual(this.props,a)},getTransformValue:function(){return"translate("+this.props.boxOffset.left*100+"%, "+this.props.boxOffset.top*100+"%)"},getDragBoxStyle:function(){var a=this.getTransformValue();return b.assign({left:this.props.coords.left,top:this.props.coords.top,WebkitTransform:a,transform:a},this.props.boxSize)},render:c})});define("addPanelInfra/addPanel/dragToStage/dragToStageMixin",["reactDOM","lodash","core","addPanelInfra/addPanel/dragToStage/addPanelDragToStage","addPanelInfra/addPanel/dragToStage/dragBox"],function(a,b,c,d,e){"use strict";return{startItemDrag:function(f,g){if(f.button===2){return}g.rect=b.transform(g.rect,function(a,b,c){a[c]=parseInt(b,10)});var h={item:g,dragBoxClass:e,panelElm:a.findDOMNode(this),evt:f,onItemDragEnd:this.onStopItemDrag,onItemDragStart:this.onStartItemDrag};var i=this.getEditorAPI();i.registerMouseMoveAction(d,h);i.bi.event(c.bi.events.addPanel.ADD_MENU_DRAG_COMPONENT,{preset_id:g.itemId||"",category:g.categoryId,section:g.sectionTitle});this.getEditorAPI().getUserPreferences().session.set("addPanel.dragToStage",true)},onStopItemDrag:function(){this.setState({isDragging:false})},onStartItemDrag:function(){if(!this.state.isDragging){this.setState({isDragging:true})}}}});define("addPanelInfra/addPanel/addPanel",["react","core","lodash","addPanelInfra/addPanel/addPanel.rt","addPanelData","addPanelInfra/addPanel/addPanelHoverMixin","addPanelInfra/addPanel/addPanelStyleManager","addPanelInfra/addPanel/dragToStage/dragToStageMixin","experiment","editorHints"],function(a,b,c,d,e,f,g,h,i,j){"use strict";var k="addPanelCategoryIdOnClose";return a.createClass({displayName:"addPanel",mixins:[f,h,b.mixins.editorAPIMixin],getInitialState:function(){this.categories=e.getCategories(this.getEditorAPI());return{selectedIndex:this.getSelectedIndex(),isDragging:false}},notifySelectedCategoryEvent:function(a,c){this.getEditorAPI().bi.event(b.bi.events.addPanel[a],{category:c.id})},getSelectedIndex:function(){var a=this.props.category&&this.props.category.toLowerCase();var b=a||this.getEditorAPI().getUserPreferences().session.get(k);var d=c.findIndex(this.categories,function(a){return a.id.toLowerCase()===b});return d!==-1?d:0},saveCategoryOnPanelClose:function(a){var b=this.categories[a].id;this.getEditorAPI().getUserPreferences().session.set(k,b)},componentWillUnmount:function(){this.saveCategoryOnPanelClose(this.state.selectedIndex)},componentWillMount:function(){this.selectedSectionItems=this.getVisibleSectionsForCategoryView(this.state.selectedIndex)},componentWillUpdate:function(a,b){if(this.state.selectedIndex!==b.selectedIndex){this.selectedSectionItems=this.getVisibleSectionsForCategoryView(b.selectedIndex)}},componentWillReceiveProps:function(a){if(a.category&&a.category!==this.props.category){var b=a.category&&a.category.toLowerCase();var d=c.findIndex(this.categories,function(a){return a.id.toLowerCase()===b});if(d!==-1&&d!==this.state.selectedIndex){this.setState({selectedIndex:d})}}},getVisibleSectionsForCategoryView:function(a){var b=this.categories[a].items;var d=this.getEditorAPI();var f=c.filter(b,{hide:false});var h=c.reject(f,function(a){switch(a.type){case e.addPanelDataConsts.SECTIONS_TYPES.THEME:var b=g.getThemeStylesArr(a.props.compTypes,d.theme,d.components);return c.isEmpty(b);case e.addPanelDataConsts.SECTIONS_TYPES.PERSONALIZED:var f=g.getPersonalizeStylesArr(d.theme,d.components,a.props.compTypes);return c.isEmpty(f);case"default":return false}});return h},getSelectedCategory:function(){var a=c.assign({},this.categories[this.state.selectedIndex]);a=c.assign(a,{onClose:this.closePanel,onItemDrag:this.startItemDrag,allCategories:this.categories,items:this.selectedSectionItems,isDragging:this.state.isDragging,section:this.props.section});return a},getClasses:function(a){var b={category:true};b[a.id]=true;return b},shouldComponentUpdate:function(a,b){return!(c.isEqual(this.props,a)&&c.isEqual(this.state,b))},closePanel:function(){this.refs.addPanel.close()},selectCategory:function(a,b){this.notifySelectedCategoryEvent("ADD_MENU_CATEGORY_HOVER",a);this.setState({selectedIndex:b})},getMouseActionsHandlers:function(a,b){var c=this;if(i.isOpen("addPanelCategoriesClick")){return{onClick:function(){c.selectCategory(a,b);c.notifySelectedCategoryEvent("ADD_MENU_CATEGORY_CLICK",a)}}}return{onMouseEnter:function(d){c.enter(d,a,b,c.selectCategory)},onMouseLeave:function(a){c.leave(a,b)},onClick:function(){c.notifySelectedCategoryEvent("ADD_MENU_CATEGORY_CLICK",a)}}},render:function(){if(i.isMultiValueExperimentOpen("editorHintsConfigs")){return a.createElement(j.hintsNotify,{id:j.hintsContainers.ADD_PANEL},d.call(this))}return d.call(this)}})});define("addPanelInfra/sections/presetSection/presetSectionWithCustomAction.rt",["react","lodash","addPanelInfra/sections/presetSection/presetSection"],function(a,b,c){"use strict";return function(){return a.createElement(c,b.assign({},{ref:"presetSectionWithCustomAction"},this.getPropsForPresetSection()))}});define("addPanelInfra/sections/presetSection/presetSectionWithCustomAction",["react","lodash","addPanelData","addPanelInfra/sections/presetSection/presetSectionWithCustomAction.rt"],function(a,b,c,d){"use strict";return a.createClass({displayName:"presetSectionWithCustomAction",render:d,getPropsForPresetSection:function(){return b.assign(this.props,{onClick:this.props.onClick,parentType:c.addPanelDataConsts.PANEL_TYPES.PRESET_WITH_CUSTOM_ACTION})}})});define("addPanelInfra",["addPanelInfra/sections/baseGenerator","addPanelInfra/addPanel/addPanel","addPanelInfra/categoryView/categoryView","addPanelInfra/addPanel/dragToStage/dragToStageMixin","addPanelInfra/addPanel/addPanelHoverMixin","addPanelInfra/sections/liveComponentsSections/liveComponentStyleAdjuster","addPanelInfra/addPanel/componentsDefaultData","addPanelInfra/addPanel/addPanelStyleManager","addPanelInfra/sections/liveComponentsSections/liveComponentSection","addPanelInfra/sections/liveComponentsSections/designPanelLiveComponentSection","addPanelInfra/sections/presetSection/presetSectionWithCustomAction","addPanelInfra/sections/sectionWrapper"],function(a,b,c,d,e,f,g,h,i,j,k,l){"use strict";return{addPanel:b,categoryView:c,baseGenerator:a,dragToStageMixin:d,addPanelHoverMixin:e,liveComponentStyleAdjuster:f,componentsDefaultData:g,addPanelStyleManager:h,liveComponentSection:i,presetSectionWithCustomAction:k,designPanelLiveComponentSection:j,sectionWrapper:l}});