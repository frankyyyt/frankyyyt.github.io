define("loggingUtils/bi/errors.json",[],function(){return{SINGLE_PAGE_RETRIEVAL_ATTEMPT_FAILED:{errorCode:111020,severity:"warning",params:{p2:"pageId",p1:"hostname",p3:"url",p4:"responseStatusCode"}},ALL_PAGE_RETRIEVAL_ATTEMPTS_FAILED:{errorCode:111021,severity:"fatal",params:{p1:"pageId"}},UNHANDLED_LINK_TYPE_IN_DATA_FIXER:{errorCode:21067,severity:"fatal",params:{p1:"newLinkDataItem"}}}});define("loggingUtils/bi/services/wixBI",["lodash","coreUtils"],function(a,b){"use strict";var c=typeof window!=="undefined";var d=c&&window.queryUtil&&window.queryUtil.isParameterTrue("isEdited");var e={biUrl:"http://frog.wixpress.com",adapter:"",params:{}};var f=function(){if(!c){return true}var a=[/bot/i,/Google Web Preview/i,/^Mozilla\/4\.0$/];var b=window.navigator.userAgent;for(var d=0;d<a.length;++d){if(a[d].test(b)){return true}}return false}();var g=f?function(){}:function(a,b,c){var d=new window.Image;if(a.substr(-1)!=="/"){a+="/"}d.src=a+b+"?"+c};function h(b,c){var e=d&&c.adapter==="editor"?window.parent.mainLoaded:0;e=e||b.wixBiSession.initialTimestamp||b.wixBiSession.mainLoaded;return a.now()-e}function i(c,d){var f;a.defaults(d,e);if(typeof d.queryString==="string"){f=d.queryString}else{f=b.urlUtils.toQueryString(a.defaults(d.params,{ts:h(c,d)}))}g(d.biUrl,d.adapter,f)}return{report:i}});define("loggingUtils/bi/services/googleAnalytics",["lodash","coreUtils"],function(a,b){"use strict";var c=200;function d(b,c,d){if(window._gaq){e()}else{requirejs(["https://stats.g.doubleclick.net/dc.js"],e,a.noop)}function e(){var e=window._gaq||[];window._gaq=e;a.forEach(c,function(a,c){var f=c===0?"":"t"+c+".";e.push([f+"_setAccount",a],[f+"_setAllowAnchor",true]);if(d){e.push([f+"_setCustomVar",1,"version",d.ver,1],[f+"_setCustomVar",2,"language",d.lng,1],[f+"_setCustomVar",3,"userType",d.userType,1])}e.push([f+"_trackPageview",b])})}}function e(b,c){if(a.isEmpty(b)){return}if(window.ga){c()}else{requirejs(["//www.google-analytics.com/analytics.js"],function(){window.ga=window.ga||function(){(window.ga.q=window.ga.q||[]).push(arguments)};window.ga.l=a.now();window.ga.q=window.ga.q||[];a.forEach(b,function(a){window.ga("create",a,"auto")});c()},a.noop)}}return{reportPageEvent:function(a,f,g,h){if(typeof window!=="undefined"){setTimeout(function(){if(a.isUsingUrlFormat(b.siteConstants.URL_FORMATS.SLASH)){e(g,function(){window.ga("send","pageview",{page:f})})}else{d(f,g,h)}},c)}},report:function(b){var c=a.rest(arguments);e(b,function(){window.ga.apply(window.ga,c)})}}});define("loggingUtils/bi/services/facebookRemarketing",["lodash","coreUtils","experiment"],function(a,b,c){"use strict";function d(a){if(!f(a)){return}var b=window._fbq||(window._fbq=[]);if(!b.loaded){var c=document.createElement("script");c.async=true;c.src="//connect.facebook.net/en_US/fbds.js";var d=document.getElementsByTagName("script")[0];d.parentNode.insertBefore(c,d);b.loaded=true}b.push(["addPixelId",a[0]]);window._fbq.push(["track","PixelInitialized",{}])}function e(a){var b,c,d;if(window.fbq||!f(a)){return}b=window.fbq=function(){if(b.callMethod){b.callMethod.apply(b,arguments)}else{b.queue.push(arguments)}};if(!window._fbq){window._fbq=b}b.push=b;b.loaded=true;b.version="2.0";b.queue=[];c=document.createElement("script");c.async=true;c.src="//connect.facebook.net/en_US/fbevents.js";d=document.getElementsByTagName("script")[0];d.parentNode.insertBefore(c,d);window.fbq("init",a[0]);window.fbq("track","PageView")}function f(b){return Number(b[0])&&a.isString(b[0])&&b.length===1}return{initRemarketingPixel:function(a,f){if(a.isUsingUrlFormat(b.siteConstants.URL_FORMATS.SLASH)&&c.isOpen("sv_NewFacebookConversionPixel")){e(f)}else{d(f)}}}});define("loggingUtils/bi/services/googleRemarketing",["lodash"],function(a){"use strict";var b=false;var c={google_custom_params:{},google_remarketing_only:true};function d(d){if(b||!e(d)){return}a.assign(c,{google_conversion_id:d[0]});f();b=true}function e(b){return a.isArray(b)&&b.length===1&&Number(b[0])}function f(){var a=document.createElement("script");a.type="text/javascript";a.src="//www.googleadservices.com/pagead/conversion_async.js";a.async=true;a.setAttribute("onload","google_trackConversion("+JSON.stringify(c)+")");var b=document.getElementsByTagName("script")[0];b.parentNode.insertBefore(a,b)}function g(){if(b&&window.google_trackConversion){window.google_trackConversion(c)}}return{initRemarketingPixel:d,fireRemarketingPixel:g}});define("loggingUtils/bi/services/yandexMetrika",["lodash"],function(a){"use strict";var b="yandex_metrika_callbacks";var c=false;var d;function e(b){return a.isArray(b)&&a.isFinite(parseInt(b[0],10))}function f(a){d="yaCounter"+a}function g(a){(window[b]=window[b]||[]).push(function(){try{window[d]=new window.Ya.Metrika(i(a))}catch(a){}})}function h(){if(!c){var a=document.getElementsByTagName("script")[0];var b=document.createElement("script");b.type="text/javascript";b.async=true;b.src="https://mc.yandex.ru/metrika/watch.js";b.addEventListener("load",function(){c=true});a.parentNode.insertBefore(b,a)}}function i(a){return{id:parseInt(a,10),clickmap:true,trackLinks:true,accurateTrackBounce:true,webvisor:true,trackHash:true}}return{initialize:function(a){if(!e(a)){return}f(a[0]);g(a[0]);h()},reportPageHit:function(b){if(!c){return}if(window[d]&&a.isFunction(window[d].hit)){window[d].hit(b)}}}});define("loggingUtils/bi/bi",["loggingUtils/bi/services/wixBI","loggingUtils/bi/services/googleAnalytics","loggingUtils/bi/services/facebookRemarketing","loggingUtils/bi/services/googleRemarketing","loggingUtils/bi/services/yandexMetrika"],function(a,b,c,d,e){"use strict";return{wixBI:a,googleAnalytics:b,facebookRemarketing:c,googleRemarketing:d,yandexMetrika:e}});define("loggingUtils/logger/newrelic",["lodash"],function(a){"use strict";if(typeof window!=="undefined"&&!(window.queryUtil&&window.queryUtil.isParameterTrue("suppressbi"))){var b;try{b=window.parent.newrelic}catch(a){b=window.newrelic}if(b){var c=window.performance&&window.performance.now?function(){return Math.round(window.performance.now())}:function(){return 0};return{setCustomAttribute:b.setCustomAttribute.bind(b),addPageAction:function(d,e){var f=c();e=a.assign({},e,{timeSinceNavigate:f});return b.addPageAction(d,e)},finished:function(){var a=c();if(a){this.setCustomAttribute("timeSinceNavigate",c())}return b.finished.apply(b,arguments)}}}}return{setCustomAttribute:a.noop,addPageAction:a.noop,finished:a.noop}});define("loggingUtils/logger/performance",["lodash","loggingUtils/logger/newrelic"],function(a,b){"use strict";var c=" start";var d=" finish";var e=typeof window!=="undefined"&&window.queryUtil;if(!e||e.isParameterTrue("suppressperformance")){return{mark:a.noop,measure:a.noop,start:a.noop,startOnce:a.noop,finish:a.noop,time:function(a,b){return b.apply(this,Array.prototype.slice.call(arguments,2))},getMark:a.noop,getMeasure:a.noop,clearMarks:a.noop,clearMeasures:a.noop,now:a.now}}var f,g=window.performance;if(g&&g.now){f=g.now.bind(g)}else{var h=window.wixBiSession&&window.wixBiSession.initialTimestamp||0;f=function(){return a.now()-h}}var i=function(c,d){if(c){d=a.defaults({measureName:c.name,startTime:Math.round(c.startTime),duration:Math.round(c.duration)},d);b.addPageAction("measure",d)}};var j;if(g&&g.measure){var k=function(b,c){return a.find(g.getEntriesByName(c),{entryType:b})};j={mark:g.mark.bind(g),measure:function(a,b,c,d,e){try{g.measure(a,b,c);if(d){i(j.getMeasure(a),e)}}catch(a){}},getMark:k.bind(this,"mark"),getMeasure:k.bind(this,"measure"),clearMarks:g.clearMarks.bind(g),clearMeasures:g.clearMeasures.bind(g)}}else{var l={domLoading:{name:"domLoading",startTime:0}};var m={};var n=function(a,b){if(b){delete a[b]}else{a={}}};j={mark:function(a){l[a]={name:a,startTime:f()}},measure:function(a,b,c,d,e){var f=j.getMark(b);var g=j.getMark(c);if(f&&g){var h={name:a,startTime:f.startTime,duration:g.startTime-f.startTime};if(!isNaN(h.duration)){m[a]=h;if(d){i(h,e)}}}},getMark:function(a){return l[a]},getMeasure:function(a){return m[a]},clearMarks:n.bind(this,l),clearMeasures:n.bind(this,m)}}j.start=function(a){j.clearMeasures(a);j.mark(a+c)};j.startOnce=function(a){if(!j.getMark(a+c)){j.start(a)}};j.finish=function(a,b,e){var f=a+c;if(j.getMark(f)){var g=a+d;j.mark(g);j.measure(a,f,g,b,e);j.clearMarks(g);j.clearMarks(f)}return j.getMeasure(a)};j.time=function(a,b,c,d){try{j.start(a);return b.apply(this,Array.prototype.slice.call(arguments,4))}finally{j.finish(a,c,d)}};j.now=f;return j});define("loggingUtils/logger/beat",["lodash","loggingUtils/bi/bi","coreUtils","loggingUtils/logger/performance"],function(a,b,c,d){"use strict";var e=[];var f={};if(typeof window!=="undefined"&&window.wixBiSession){f=window.wixBiSession;f.beat(5)}var g={};var h=["No Site Type","WixSite","UGC","Template"];var i=["No Event Type","start","reset","finish"];var j="NO_SV";var k=2e3;var l={adapter:"bt",biUrl:"http://frog.wix.com/"};var m={src:29,evid:3};var n=["url","ref"];var o={6:"packages loaded",7:"load data",8:"render",finish:"layout",16:"TPAs"};var p={16:20};function q(b){var d=c.urlUtils.toQueryString(a.omit(b,n),true);return a.reduce(n,function(a,d){return a+"&"+c.urlUtils.toQueryParam(d,b[d],true)},d)}function r(b,c,d,e){var f=s(b);var g=t(b,d,e);var h={et:y(d)};return a.merge({},c,f,g,h)}function s(a){return{vuuid:v(),vid:j,dc:a.serviceTopology.serverName,vsi:g[a.siteId].viewerSessionId,uuid:a.siteHeader.userId,sid:a.siteId,msid:a.getMetaSiteId()}}function t(b,c,d){return{pid:d,pn:w(b,c),st:u(b),sr:A(),wr:B(),isjp:f.maybeBot?"1":"0",isp:b.isPremiumDomain(),url:z(b.currentUrl.full),ref:document.referrer,ts:x(b,c),c:a.now(),v:b.baseVersion||"unknown"}}function u(b){var c=b.rendererModel.siteInfo.documentType;var d=a.indexOf(h,c);return d!==-1?d:c}function v(){var b=c.cookieUtils.getCookie("_wixUIDX")||"";b=b.slice(a.lastIndexOf(b,"|")+1);b=b.replace(/^(null-user-id|null)$/g,"");return b}function w(a,b){if(b==="start"){g[a.siteId].pageNumber++}return g[a.siteId].pageNumber}function x(b,c){if(c==="start"){g[b.siteId].lastTimeStamp=a.now();return 0}return a.now()-g[b.siteId].lastTimeStamp}function y(b){var c=a.indexOf(i,b);if(c!==-1){return c}return b>3?b:-1}function z(a){return a.replace(/^http(s)?:\/\/(www\.)?/,"").substring(0,256)}function A(){var a=window.screen&&window.screen.width||0;var b=window.screen&&window.screen.height||0;return a+"x"+b}function B(){var a=0;var b=0;if(window.innerWidth){a=window.innerWidth;b=window.innerHeight}else if(window.document){if(document.documentElement&&document.documentElement.clientWidth){a=document.documentElement.clientWidth;b=document.documentElement.clientHeight}else if(document.body&&document.body.clientWidth){a=document.body.clientWidth;b=document.body.clientHeight}}return a+"x"+b}function C(a,b){f.et=b.et;a.wixBiSession.et=b.et}function D(a){return a>3&&a!==16}function E(a){var b=e[a];e[a]=true;return b}function F(a,b){return a&&a.wixBiSession.viewerSessionId&&a.viewMode!=="preview"&&!c.stringUtils.isTrue(a.currentUrl.query.suppressbi)&&y(b)!==-1&&(!D(b)||!E(b))}function G(a){g[a.siteId]=g[a.siteId]||{pageNumber:1,lastTimeStamp:a.wixBiSession.initialTimestamp||0,viewerSessionId:a.wixBiSession.viewerSessionId||c.guidUtils.getGUID()}}function H(a,b){return{queryString:q(b),adapter:l.adapter,biUrl:a.getServiceTopologyProperty("biServerUrl")||l.biUrl}}function I(a,b){if(!b){return true}var c=a.currentUrl.query.sampleratio;if(a.isDebugMode()&&c!=="force"||c==="none"){return true}return Math.floor(a.wixBiSession.random*b)===0}function J(a,c){if(I(a,p[c.et])){var d=H(a,c);b.wixBI.report(a,d)}}function K(a,b,c){var d=setTimeout(function(){d=0;c(b)},k);a.subSvSession(function(a){if(d){clearTimeout(d);b.vid=a||j;c(b)}})}var L;function M(a,b,c){G(a);var e=r(a,m,b,c);C(a,e);if(F(a,b)){K(a,e,J.bind(null,a))}var f=a.viewMode;f=f==="site"?"":" "+f;if(!L){d.measure("main-r started"+f,"domLoading","beat 4",true);d.measure("utils loaded"+f,"beat 4","beat 5",true);L="beat 5"}var g="beat "+b;d.mark(g);var h=o[b]||b;d.measure(h+f,L,g,true);L=g}return{reportBeatEvent:M,shouldIncludeInSampleRatio:I}});define("loggingUtils/logger/logger",["lodash","loggingUtils/bi/bi","loggingUtils/logger/beat","coreUtils"],function(a,b,c,d){"use strict";var e=typeof window!=="undefined"&&window.queryUtil&&window.queryUtil.isParameterTrue("isEdited");var f=typeof window!=="undefined"&&!window.clientSideRender?4:3;var g=10;var h={errorName:"errn",errorCode:"errc",errc:"errc",src:"src",severity:"sev",sev:"sev",packageName:"errscp"};var i={recoverable:10,warning:20,error:30,fatal:40};var j={eventId:"evid",evid:"evid",src:"src"};var k={};function l(a){return typeof a==="string"?i[a]:a}function m(a){return{errn:a.errorName,evid:10,sev:l(a.severity),cat:e?1:2,iss:1,ut:d.cookieUtils.getCookie("userType")}}function n(b,c){var d=a.merge({src:44,sev:30,errn:"error_name_not_found"},v(b,h),m(b),u(b,c));if(c&&c.description){d.desc=JSON.stringify(c.description).slice(0,512)}return d}function o(b,c){return a.merge({src:42},v(b,j),u(b,c))}function p(b,c,d,e){var f;switch(c){case"error":f=n(d,e);break;case"event":f=o(d,e);break}return a.merge(f,s(b))}function q(a,b,c){var d=b.reportType||(b.errorCode||b.errc?"error":"event");return{biUrl:a.serviceTopology.biServerUrl,adapter:b.adapter||b.endpoint||(d==="error"?"trg":"ugc-viewer"),params:p(a,d,b,c)}}function r(a){var b=a.santaBase&&a.santaBase.match(/([\d\.]+)\/?$/);return b&&b[1]||""}function s(b){k[b.siteId]=k[b.siteId]||b.wixBiSession.viewerSessionId||d.guidUtils.getGUID();var c=b.serviceTopology.serverName?a.first(b.serviceTopology.serverName.split(".")):"";var g={did:b.siteId,msid:b.getMetaSiteId(),majorVer:f,ver:r(b),server:c,viewMode:b.viewMode};if(!e){g.vsi=k[b.siteId]}return g}function t(a){return typeof a==="string"?encodeURIComponent(a):a}function u(b,c){var d={};var e=b.params;if(a.isArray(e)){d=a.pick(c,e)}else if(a.isObject(e)){d=a.mapValues(e,function(a){return t(c[a])})}else{d=a.mapValues(c,t)}return d}function v(b,c){return a.transform(b,function(a,b,d){var e=c[d];if(e){a[e]=b}},{})}function w(a){return d.stringUtils.isTrue(a.currentUrl.query.suppressbi)}function x(a){if(!a){return false}a.callCount=a.callCount||0;a.callCount++;return a.callLimit&&a.callCount>a.callLimit}function y(a,b){if(a.forceBI){return true}var d=g;if(b){if(a.isWixSite()&&"wixSiteSampleRatio"in b){d=b.wixSiteSampleRatio}else if("sampleRatio"in b){d=b.sampleRatio}else if("errorCode"in b||b.endpoint==="editor"){d=0}}if(d&&d>=1){return c.shouldIncludeInSampleRatio(a,d)}return true}function z(a,b){return!w(a)&&!x(b)&&y(a,b)}function A(c,d,e){if(!c||!a.isObject(d)){return}if(z(c,d)){var f=q(c,d,e);b.wixBI.report(c,f)}}function B(a,b){var c=[];var d=a.isPremiumDomain();switch(b){case"googleAnalytics":{if(C(a,b)){c.push(a.googleAnalytics)}break}case"facebookRemarketing":{if(C(a,b)&&d){c.push(a.facebookRemarketing)}break}case"googleRemarketing":{if(C(a,b)&&d){c.push(a.googleRemarketing)}break}case"yandexMetrika":{if(C(a,b)&&d){c.push(a.yandexMetrika)}break}}return c}function C(b,c){return!a.isEmpty(b[c])}function D(a){if(!e&&!w(a)){b.facebookRemarketing.initRemarketingPixel(a,B(a,"facebookRemarketing"))}}function E(a){if(!e&&!w(a)){b.googleRemarketing.initRemarketingPixel(B(a,"googleRemarketing"))}}function F(){b.googleRemarketing.fireRemarketingPixel()}function G(a){if(!e&&!w(a)){b.yandexMetrika.initialize(B(a,"yandexMetrika"))}}function H(a){b.yandexMetrika.reportPageHit(a)}function I(c,d){if(c&&a.isString(d)&&!e&&!w(c)){b.googleAnalytics.reportPageEvent(c,d,B(c,"googleAnalytics"))}}function J(c){if(!e){var d=B(c,"googleAnalytics");b.googleAnalytics.report.apply(null,[d].concat(a.rest(arguments)))}}function K(b,c,d){a.forOwn(d,function(a){a.packageName=b})}return{reportBI:A,reportGoogleAnalytics:J,reportPageEvent:I,register:K,reportBeatEvent:c.reportBeatEvent,initFacebookRemarketingPixel:D,initGoogleRemarketingPixel:E,fireGoogleRemarketingPixel:F,initYandexMetrika:G,reportYandexPageHit:H,shouldSendReport:z}});define("loggingUtils/bi/errors",["loggingUtils/bi/errors.json","lodash","loggingUtils/logger/logger"],function(a,b,c){"use strict";b.forEach(a,function(a,b){a.errorName=b});c.register("utils","error",a);return a});define("loggingUtils/log/log",["lodash","coreUtils"],function(a,b){"use strict";var c=console.log.bind(console);var d=typeof window==="undefined"?true:b.urlUtils.parseUrl(a.get(window,["location","href"],"")).query.debug==="all";var e=d?c:a.noop;return{verbose:e,info:c,warn:console.warn.bind(console),error:console.error.bind(console)}});define("loggingUtils",["loggingUtils/bi/errors","loggingUtils/logger/logger","loggingUtils/log/log","loggingUtils/logger/performance","loggingUtils/logger/newrelic"],function(a,b,c,d,e){"use strict";var f={bi:{errors:a},logger:b,log:c,performance:d,newrelic:e};return f});