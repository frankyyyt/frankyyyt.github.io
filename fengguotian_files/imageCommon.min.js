define("imageCommon/bi/errors.json",[],function(){return{IMAGE_FILTER_NOT_VALID:{errorName:"image_filter_not_valid",errorCode:556,severity:"error",params:{p1:"filterName"}}}});define("imageCommon/bi/errors",["imageCommon/bi/errors.json","lodash","utils"],function(a,b,c){"use strict";b.forEach(a,function(a,b){a.errorName=b});c.logger.register("components","error",a);return a});define("imageCommon/utils/imageElementFactoryMixin",["react","lodash","utils","santaProps","imageCommon/bi/errors"],function(a,b,c,d,e){"use strict";var f=c.svgFilters;return{propTypes:{staticMediaUrl:d.Types.ServiceTopology.staticMediaUrl,reportBI:d.Types.reportBI,"data-type":a.PropTypes.string,effectName:a.PropTypes.string,id:a.PropTypes.string},imageForLoadEvents:null,getSvgStyle:function(a){return{style:{width:a.style.width||0,height:a.style.height||0,left:0,top:0,overflow:"hidden",position:"absolute",visibility:"hidden"}}},assignLoadEvents:function(a,b,c){if(!this.imageForLoadEvents){if(typeof window!=="undefined"){this.imageForLoadEvents=new window.Image;if(a){this.imageForLoadEvents.onload=a}if(b){this.imageForLoadEvents.onerror=b}}else{this.imageForLoadEvents={}}}this.imageForLoadEvents.src=c},getImageAttributes:function(a,c,d){var e=a.css||{};var f=c?{WebkitFilter:"url(#"+c+")",filter:"url(#"+c+")"}:{};return{displayName:"Image Element",id:this.santaTypesProps.id+"image",ref:"image",key:"image"+c,alt:d,src:a.uri,style:b.assign(f,e.img),"data-type":this.santaTypesProps["data-type"],itemProp:a.itemProp}},getSvgImageAttributes:function(a,c){var d=a.attr||{};var e=b.assign({displayName:"SVG Image Element",id:this.santaTypesProps.id+"image",ref:"image",key:"image",xlinkHref:a.uri,"data-type":this.santaTypesProps["data-type"]},d.img);if(c){e.filter="url(#"+c+")"}return e},getSvgAttributes:function(a,c){return b.assign({displayName:"SVG Filter",ref:"svg",key:"svg"+c,version:"1.1"},a)},getValidEffectName:function(){var a="";var b=this.santaTypesProps.effectName;if(b&&b!=="none"){if(f.isFilterExists(b)){a=b}else{this.santaTypesProps.reportBI(e.IMAGE_FILTER_NOT_VALID,{filterName:b})}}return a},getSvgDefsAttributes:function(a,b,c){var d={ref:"defs",key:"defs"+b};if(b){d.dangerouslySetInnerHTML={__html:f.getFilter(b,a,c)}}return d},getSvgOnlyImageComponent:function(b,c,d){var e,f,g,h;var i=this.getValidEffectName();var j=i&&i+"-"+this.santaTypesProps.id;var k={staticMediaUrl:this.santaTypesProps.staticMediaUrl};if(c||d){this.assignLoadEvents(c,d,b.uri)}h=this.getSvgImageAttributes(b,j);f=this.getSvgAttributes(b.attr.container,j);g=i?this.getSvgDefsAttributes(i,j,k):{};e=a.createElement("svg",f,[a.createElement("defs",g),a.createElement("image",h)]);return e},getImageComponents:function(c,d,e){var f,g,h,i,j,k,l;var m=this.getValidEffectName();var n=m&&m+"-"+this.santaTypesProps.id;var o=b.get(this,"santaTypesProps.imageData.alt","");if(d||e){this.assignLoadEvents(d,e,c.uri)}j=this.getImageAttributes(c,n,o);g=a.createElement("img",j);if(m){l={staticMediaUrl:this.santaTypesProps.staticMediaUrl};k=this.getSvgStyle(j);h=this.getSvgAttributes(k,n);i=this.getSvgDefsAttributes(m,n,l);f=a.createElement("svg",h,a.createElement("defs",i));return[g,f]}return g}}});define("imageCommon",["imageCommon/utils/imageElementFactoryMixin"],function(a){"use strict";return{imageElementFactoryMixin:a}});