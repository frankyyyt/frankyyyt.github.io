define("rEditor/app/panelHelpers",["lodash","util","core","experiment"],function(a,b,c,d){"use strict";var e="panels.focusPanels.organizeImagesPanel";var f="panels.focusPanels.aviaryPanel";var g={FORBIDDEN_COMP_TYPES:["wysiwyg.common.components.anchor.viewer.Anchor","mobile.core.components.Page"],DESKTOP:{NOTIFICATION_RATE:10,DONT_SHOW_AGAIN_KEY:c.constants.USER_PREFS.OUT_OF_GRID.DESKTOP.OUT_OF_GRID_DONT_SHOW_AGAIN,OUT_OF_GRID_COUNT_KEY:c.constants.USER_PREFS.OUT_OF_GRID.DESKTOP.OUT_OF_GRID_COUNT,PANEL_NAME:"panels.focusPanels.outOfGridDesktopPanel"},MOBILE:{NOTIFICATION_RATE:10,DONT_SHOW_AGAIN_KEY:c.constants.USER_PREFS.OUT_OF_GRID.MOBILE.OUT_OF_GRID_DONT_SHOW_AGAIN,OUT_OF_GRID_COUNT_KEY:c.constants.USER_PREFS.OUT_OF_GRID.MOBILE.OUT_OF_GRID_COUNT,PANEL_NAME:"panels.focusPanels.outOfGridMobilePanel"},CONTAINER:{NOTIFICATION_RATE:2,DONT_SHOW_AGAIN_KEY:c.constants.USER_PREFS.OUT_OF_GRID.CONTAINER.OUT_OF_GRID_DONT_SHOW_AGAIN,OUT_OF_GRID_COUNT_KEY:c.constants.USER_PREFS.OUT_OF_GRID.CONTAINER.OUT_OF_GRID_COUNT,PANEL_NAME:"panels.focusPanels.outOfContainerGridPanel"}};var h=0;function i(){return(h++).toString()}function j(c){var d=a.map(c.items,function(a){var c=a.link;return{id:i(),data:a,linkText:c?b.link.getLinkValueAsString(this,c,true):""}},this);return d}function k(a,b){if(a){a(b)}}function l(a,b){var c=this.selection.getSelectedComponentData();return{imageDatas:j.call(this,c),isPreset:c.metaData.isPreset,imagesChanged:k.bind(this,b),createImageDataItem:this.data.createItem.bind(null,"Image"),galleryType:a}}function m(a,b){if(!n.call(this,a)){this.panelManager.openPanel(a,b)}else if(b){this.panelManager.updatePanelProps(a,b)}}function n(b){var c=this.panelManager.getOpenPanels();return a.some(c,{name:b})}function o(){if(!d.isOpen("popups")&&!d.isOpen("pagesPanelForPopups")){return this.isMobileEditor()?"rEditor.panels.pagesPanelMobile":"rEditor.panels.pagesPanel"}return"rEditor.panels.pagesAndPopupsPanel"}function p(b,c,e){var f=b.userPreferences.site.get(c.DONT_SHOW_AGAIN_KEY);var h=a.includes(g.FORBIDDEN_COMP_TYPES,e);var i=d.isOpen("popups")?b.pages.popupPages.isPopupOpened():false;var j=i&&!b.components.is.gridLinesVisible(b.pages.popupPages.getPopupContainer());return f||h||j}return{openOrganizeImagesPanel:function(a){this.panelManager.openPanel(e,l.call(this,"images",a),true)},openOrganizeSocialIconsPanel:function(a){this.panelManager.openPanel(e,l.call(this,"socialIcons",a))},openAviaryPanel:function(a){this.panelManager.openPanel(f,{imageLink:a,editorAPI:this,onDialogResult:function(){this.panelManager.closePanelByName(f)}.bind(this)},true)},isPagesPanelOpen:function(){var a=o.call(this);return n.call(this,a)},openPagesPanel:function(a){var b=o.call(this);m.call(this,b,a)},closePagesPanel:function(){var a=o.call(this);this.panelManager.closePanelByName(a)},openMobileElementsPanel:function(a){if(!this.isMobileEditor()){return}var b="mobileEditor.mobileElementsPanel";var d=(new Date).getTime();a=a||{};a.key=c.lazyComponent.isLoaded(b)?b+d:b+"loading";m.call(this,b,a,"leftPanelFrame")},openCompOutOfGridPanel:function(a,b){var c;if(b){c=g.CONTAINER}else if(this.isMobileEditor()){c=g.MOBILE}else{c=g.DESKTOP}var d=this.components.getType(this.selection.getSelectedComponents());if(p(this,c,d)){return}var e=this.userPreferences.session.get(c.OUT_OF_GRID_COUNT_KEY)||0;if(e%c.NOTIFICATION_RATE===0){this.panelManager.openPanel(c.PANEL_NAME,a,true)}e+=1;this.userPreferences.session.set(c.OUT_OF_GRID_COUNT_KEY,e)},openDragToHeaderPanel:function(a){var b=this.userPreferences.site.get(c.constants.USER_PREFS.DRAG_TO_HEADER.DONT_SHOW_AGAIN);if(b){return}var d=this.userPreferences.session.get(c.constants.USER_PREFS.DRAG_TO_HEADER.DRAG_COUNT)||0;if(d%10===0){this.panelManager.openPanel("panels.focusPanels.dragToHeaderPanel",a)}d+=1;this.userPreferences.session.set(c.constants.USER_PREFS.DRAG_TO_HEADER.DRAG_COUNT,d)},openPinModeSizeRestrictionPanel:function(a){var b=this.userPreferences.site.get(c.constants.PANELS.PIN_TOO_BIG.PIN_TOO_BIG_DONT_SHOW_AGAIN);if(!b){this.panelManager.openPanel(c.constants.PANELS.PIN_TOO_BIG.PANEL_NAME,a,true)}},openLinkPanel:function(a,c){this.panelManager.openPanel("panels.toolPanels.linkPanel",b.link.getLinkPanelProps(this,a),!c)}}});define("rEditor/app/updateOperationsPlugins",["lodash"],function(a){"use strict";function b(){var b=arguments;a.forEach(this.list,function(a){a.apply(this,b)})}return{setHomePagePlugins:{list:[],run:b},updatePagePlugins:{list:[],run:b}}});define("rEditor/app/componentsPlugins",["lodash","util","core","constants","gfppData","experiment"],function(a,b,c,d,e,f){"use strict";var g=[d.ACTIONS.SCREEN_IN,d.ACTIONS.EXIT,d.ACTIONS.MODE_IN,d.ACTIONS.MODE_EXIT,d.ACTIONS.MODE_CHANGE];function h(d){var h=d.pluginService;h.registerPlugin(h.pluginConstants.DOUBLE_CLICK,"wysiwyg.viewer.components.WRichText",function(){if(!d.isMobileEditor()){if(d.text.isEditorReady()){d.bi.event(c.bi.events.textControls.Text_Panel_opened,{origin:c.constants.USER_ACTIONS.ORIGIN.DOUBLE_CLICK});d.text.startEditing()}}else{d.openComponentPanel(c.constants.componentPanels.settings)}});h.registerPlugin(h.pluginConstants.DOUBLE_CLICK,"wysiwyg.viewer.components.SiteButton",i);h.registerPlugin(h.pluginConstants.DOUBLE_CLICK,"wysiwyg.viewer.components.inputs.DatePicker",i);h.registerPlugin(h.pluginConstants.DOUBLE_CLICK,c.constants.MULTISELECT.TYPE,a.noop);h.registerPlugin(h.pluginConstants.DOUBLE_CLICK,"wysiwyg.viewer.components.inputs.TextInput",a.noop);h.registerPlugin(h.pluginConstants.DOUBLE_CLICK,"mobile.core.components.Page",function(b,g){var h=d.siteSegments.getPagesContainerAbsLayout();var i=g.evt.pageX<h.x||g.evt.pageX>h.x+h.width;var j=g.comp[0];if(f.isOpen("popups")&&d.pages.popupPages.isPopup(j.id)){var k=e.getComponentMainActionClick(d,g.comp);if(a.isFunction(k)){k(d,g.comp,c.constants.USER_ACTIONS.ORIGIN.DOUBLE_CLICK)}return}if(i){d.panelManager.openPanel("rEditor.panels.backgroundPanel");return}d.openComponentPanel(c.constants.componentPanels.design)});function i(b,f){if(!d.isMobileEditor()){var g=e.getComponentMainActionClick(d,f.comp);if(a.isFunction(g)){g(d,f.comp,c.constants.USER_ACTIONS.ORIGIN.DOUBLE_CLICK)}}}function j(b,c){a.forEach(c,function(c){a(c).thru(b.get,b).filter({behavior:{type:"widget",name:"runCode"}}).forEach(function(a){b.remove(c,a.action,{id:a.behavior.targetId},a.behavior)}).value()})}function k(b,c,d){a.forEach(d,function(d){a(d).thru(b.get,b).filter(function(b){return a.includes(g,b.action)}).forEach(function(a){c.behaviors.remove(d,a)}).value()})}function l(b,c,d,e){var f=e.getPage(c);var g=a(b).reject(function(b){return a.isEqual(b.root,f)}).map("ref").value();j(d,g)}function m(b,c,d,e){var f=e.modes.getFirstAncestorOrSelfWithModeDefinitions(c);var g=a(b).reject(function(b){return a.isEqual(b.ancestor,f)}).map("ref").value();k(d,e,g)}function n(b,c){return a(c).thru(function(){return b.getChildren(c.ref,true).concat(c.ref)}).map(function(a){return{ref:a,root:c.root}}).value()}function o(b,c){return a(c).thru(function(){return b.getChildren(c.ref,true).concat(c.ref)}).map(function(a){return{ref:a,ancestor:c.ancestor}}).value()}function p(b,c){return a(c).map(a.partial(n,b)).flatten().value()}function q(b,c){return a(c).map(a.partial(o,b)).flatten().value()}function r(a,b,c,d,e){var f=p(d,b);var g=q(d,c);l(f,a,e,d);m(g,a,e,d)}function s(b){var c=a.map(b,"id");d.documentMode.ignoreComponentsHiddenProperty(c)}function t(b){var c=a.filter(b,function(b){var c=d.components.properties.get(b);return a.get(c,"isHidden")});s(c);if(f.isOpen("popups")){v(d,b)}}function u(b,c){var e=a.filter(d.selection.getSelectedComponents(),function(e){var f=b===e?c:d.components.properties.get(e);return a.get(f,"isHidden")});s(e)}function v(a,b){if(!b){return}if(b.length===1&&d.pages.popupPages.isPopup(b[0].id)){a.bi.event(c.bi.events.popups.pop_up_overlay_clicked)}}d.registerCompNamePlugin("wysiwyg.viewer.components.HoverBox",function(c){if(!f.isOpen("se_hoverBox")){return b.translate("component_label_HoverBox")}var e=d.components.modes.getTypes();var g=a.filter(d.components.modes.getModes(c),"type",e.HOVER);var h=d.components.modes.getComponentActiveModeIds(c);for(var i=0;i<g.length;i++){if(h[g[i].modeId]){return b.translate("component_label_hover_box_onhover")}}return b.translate("component_label_hover_box")});d.registerCompNamePlugin("wysiwyg.viewer.components.Column",function(c){var e=a(c).thru(d.components.getType).thru(function(a){return a.split(".")}).last();var f=a(c).thru(d.components.getContainer).thru(d.components.getChildren).findIndex(c)+1;return b.translate("component_label_"+e)+" "+f});d.registerCompNamePlugin("mobile.core.components.Page",function(a){if(f.isOpen("popups")&&d.pages.popupPages.isPopup(a.id)){return b.translate("component_label_Overlay")}return b.translate("component_label_Page")});d.registerRemovePlugin("wysiwyg.viewer.components.Column",function(a,b,c,e){d.columns.removeColumn(a,b,c,e)});d.registerDuplicatePlugin("wysiwyg.viewer.components.Column",function(b){var c=d.components.getContainer(b);if(!d.components.is.duplicatable(b,c)){return[]}var e=d.columns.duplicateColumn(a.first(b));d.waitForChangesApplied(function(){var a=d.openFirstTimePanel.bind(this,e);d.selection.selectComponentByCompRef(e,a)}.bind(this));return e});h.registerPlugin("selection","*",t);h.registerPlugin("propertiesChange","*",u);h.registerPlugin("setContainer","*",r)}return{register:h}});define("rEditor/app/APISectionsPlugins/historyPlugins",["constants"],function(a){"use strict";function b(b){var c=b.pluginService;c.registerPlugin(a.R_EDITOR.HISTORY.REDO,a.DS_ACTIONS.ADD_PAGE,function(a,c){if(a.nextPage&&a.nextPage!==b.pages.getFocusedPageId()){b.pages.navigateTo(a.nextPage,c)}else{c()}})}return{register:b}});define("rEditor/app/updateOperationsPlugins/siteSeoUpdateOperationPlugin",["rEditor/app/updateOperationsPlugins"],function(a){"use strict";function b(a,b){b=b&&b.replace(/^#/,"")||a.homePage.get();var c=a.pages.data.get(b);return{name:c.pageTitleSEO,description:c.descriptionSEO,keywords:c.metaKeywordsSEO}}function c(a,b){a.site.setSEOSiteName(b.name);a.site.setSEOSiteDescription(b.description);a.site.setSEOSiteKeywords(b.keywords)}return{register:function(){a.setHomePagePlugins.list.push(function(a,d){c(a,b(a,d))});a.updatePagePlugins.list.push(function(a,d){var e=d===a.homePage.get();if(e){c(a,b(a,d))}})}}});define("rEditor/app/pluginsRegistrar",["rEditor/app/componentsPlugins","rEditor/app/APISectionsPlugins/historyPlugins","rEditor/app/updateOperationsPlugins/siteSeoUpdateOperationPlugin"],function(a,b,c){"use strict";return{register:function(d){a.register(d);b.register(d);c.register()}}});define("rEditor/app/APISections/concurrentUsersWrapper",["lodash","jquery","util","panels"],function(a,b,c,d){"use strict";var e="panels.messagePanels.concurrentUserPanel";var f="http://editor."+c.serviceTopology.baseDomain+"/concurrent-editing-session-watcher/watcher/report";var g=a.template(f+"?msid=<%= msid %>&esi=<%= esi %>");var h=60*1e3;var i=null;var j=null;var k=false;var l=null;function m(){if(j){clearTimeout(j);j=null}i=null;k=false}function n(){if(!k){k=true;o(this,true)}}function o(a,b){if(!p(a)){m()}else if(q(a)){j=setTimeout(function(){o(a,b)},h)}else{j=setTimeout(function(){var c=r.bind(null,a,b);u(a,c)},b?0:h)}}function p(b){var d=b.generalInfo.getUserInfo();var e=c.cookie.getCookie("wixClient");return d&&d.name&&a.includes(e,d.name)}function q(a){return a.generalInfo.isFirstSave()}function r(b,c,f){if(c&&l===null){l=a.isEmpty(f)}if(!a.isEmpty(f)&&!t(i,f)){var g=s(i,f);i=f;var h={isFirstUser:l,concurrentUsers:f,concurrentUserToDisplay:g};d.panelManager.openPanel(e,h)}o(b,false)}function s(b,c){var d={};a.forEach(b,function(a){d[a]=d});var e=null;a.forEach(c,function(a){if(!d[a]){e=a;return false}});return e}function t(b,c){if(b===c){return true}else if(b&&!c||!b&&c||a.size(b)<a.size(c)){return false}var d={};var e=b.length;a.forEach(b,function(a){d[a]=a});a.forEach(c,function(a){d[a]=a});return e===a.size(d)}function u(a,b){if(b){var d=a.generalInfo.getMetaSiteId();var e=c.editorModel.editorSessionId;v(d,e,b)}}function v(a,c,d){var e=null;var f=g({msid:a,esi:c});b.get(f).done(function(a){if(a){e=a.otherUsersOnSite||null}d(e)}).fail(function(){d(e)})}return{concurrentUsers:{checkForConcurrentUsers:n,stopCheckForConcurrentUsers:m}}});define("rEditor/app/APISections/themeWrapper",["lodash"],function(a){"use strict";return{theme:{colors:{get:function(b){if(a.includes(b,"color")){return this.documentServices.theme.colors.get(b)}return b}},styles:{getExcludedList:function(){return this.theme.styles.excludedList||[]},setExcluded:function(a){var b=this.theme.styles;if(!b.excludedList){b.excludedList=[]}b.excludedList.push(a)},update:function(b,c,d){if(this.updateHooks){a.forEach(this.updateHooks,function(a){a(b,c)})}this.documentServices.theme.styles.update(b,c);if(!d){this.history.debouncedAdd("Update component style")}},getAllIds:function(){var b=this.documentServices.theme.styles;return a.difference(b.getAllIds(),this.theme.styles.getExcludedList())},registerHook:function(a){this.updateHooks=this.updateHooks||[];this.updateHooks.push(a)}}}}});define("rEditor/bi/events.json",[],function(){return{QUALAROO_DUMMY_EVENT:{evid:9,fields:{testField:"testValue"}},UPGRADE_EVENT:{evid:519,fields:{origin:"string"}},AUTOSAVE_TEST:{src:42,endpoint:"ugc-viewer",evid:362,fields:{type:"string",uuid:"guid"}}}});define("rEditor/app/APISections/historyWrapper",["lodash","constants","savePublish","util","experiment","rEditor/bi/events.json"],function(a,b,c,d,e,f){"use strict";var g=["panels.toolPanels.colorPicker.colorPickerPanel","rEditor.panels.backgroundApplyPanel","compPanels.dynamicPanels.pinnedDockPanel","rEditor.panels.slideShowBgApplyPanel"];function h(){a.forEach(g,this.panelManager.closePanelByName)}function i(a,b){if(e.isOpen("autosaveEvents")){a.bi.event(f.AUTOSAVE_TEST,{type:b,uuid:d.editorModel.permissionsInfo.loggedInUserId})}}function j(b,d){a.assign(d,{isSameEditorMode:d.isMobileEditor===this.isMobileEditor(),selectedComps:this.selection.getSelectedComponents()});h.call(this);this.selection.deselectComponents();this.setEditorMode(d.isMobileEditor,true);b.call(this.documentServices.history);var e=this;this.waitForChangesApplied(function(){if(d.postAction){d.postAction(d,k.bind(e,d))}else{k.call(e,d)}i(e,b===e.documentServices.history.undo?"undo":"redo");if(c.autosave.canAutosave(e)){c.autosave.handleUserAction(e)}})}function k(b){var c=a.filter(b.selectedComps,this.components.is.exist,this);if(a.isEmpty(c)){return}var d=this.pages.getFocusedPageId();var f=[d];if(!e.isOpen("popups")||!this.pages.popupPages.isPopupOpened()){f.push(this.pages.getMasterPageId())}var g=a.get(this.components.getPage(c),"id");if(b.isSameEditorMode&&a.includes(f,g)){this.selection.selectComponentByCompRef(c)}}function l(a,c,d){var e=d.pluginService.getPlugin(c,a.actionType);if(c===b.R_EDITOR.HISTORY.REDO){switch(a.actionType){case b.DS_ACTIONS.ADD_PAGE:a.postAction=e;break}}return a}return{history:{add:function(b,d){if(e.isOpen("rulers")){this.rulers.resetRulersHistory()}var f=this.isMobileEditor();d=a.defaults(d||{},{label:b,currentPage:this.pages.getFocusedPageId(),isMobileEditor:f});this.documentServices.history.add(b,d);i(this,"action");if(c.autosave.canAutosave(this)){c.autosave.handleUserAction(this)}},debouncedAdd:function(b){if(!this.history._debouncedAdd){this.history._debouncedAdd=a.debounce(this.history.add,500)}this.history._debouncedAdd(b)},undo:function(){var a=e.isOpen("rulers");if(a){if(this.rulers.canUndo()){this.rulers.undo();return}}this.waitForChangesApplied(function(){if(this.text.isEditingText()){if(a&&this.text.canUndo()){this.rulers.resetRulersHistory()}this.text.undo();return}var b=this.documentServices.history;if(!b.canUndo()){return}if(a){this.rulers.resetRulersHistory()}var c=b.getUndoLastSnapshotParams();if(c.currentPage===this.documentServices.pages.getFocusedPageId()){j.call(this,b.undo,c)}else{this.pages.navigateTo(c.currentPage,j.bind(this,b.undo,c))}}.bind(this))},redo:function(){if(e.isOpen("rulers")){if(this.rulers.canRedo()){this.rulers.redo();return}}this.waitForChangesApplied(function(){var a,c;if(this.text.isEditingText()){this.text.redo();return}a=this.documentServices.history;if(!a.canRedo()){return}c=a.getRedoLastSnapshotParams();c=l(c,b.R_EDITOR.HISTORY.REDO,this);if(c.currentPage===this.documentServices.pages.getFocusedPageId()){j.call(this,a.redo,c)}else{this.pages.navigateTo(c.currentPage,j.bind(this,a.redo,c))}}.bind(this))},clear:function(){this.documentServices.history.clear()}}}});define("rEditor/app/APISections/imageCrop",["lodash","core","util","baseUI","constants","experiment"],function(a,b,c,d,e,f){"use strict";var g=c.math.rect;var h=c.imageCrop;var i=c.imageTransform;function j(a,b){var c=g.getMiddlePoint(a);return g.getPointRatioFromRect(c,b)}function k(a,b,c){var d=j(a,b);return{x:c.width*d.x,y:c.height*d.y}}function l(b,c,d){var e=a.clone(c);var f=a.clone(d);var h=g.getMiddlePoint(d);var i=k(d,b,e);var j={x:i.x-h.x,y:i.y-h.y};f.x+=j.x;f.y+=j.y;e.x-=j.x;e.y-=j.y;return{originArea:e,area:f}}function m(a,b,c){var d=a/g.getAreaRatioPercentage(b,c);return g.getResizedByRatio(b,d)}function n(b){return{cropOriginArea:b,cropArea:a(b).pick(["height","width"]).assign({x:0,y:0}).value()}}function o(a,b){var c=h.reverseAutoCrop(a,b.crop);var d=h.reverseManualCrop(c,b.crop,b);var e=h.reverseAutoCrop(d,b);var f=h.manualCrop(e,b.crop,b);f=h.autoCrop(f,a);return{cropOriginArea:e,cropArea:f}}function p(a,b){var c=h.reverseManualCrop(a,b.crop,b);var d=h.manualCrop(c,b.crop,b);return{cropOriginArea:c,cropArea:d}}function q(b,c){var d=h.reverseAutoCrop(b,c);var e=a.assign({},d,{x:0,y:0});e=h.autoCrop(e,a.pick(b,["height","width"]));return{cropOriginArea:d,cropArea:e}}function r(a){var b={x:0,y:0,width:this.site.getSiteWidth(),height:this.site.getHeight()};return{cropArea:h.ensure.areaWithinViewport(b,a),cropOriginArea:a.cropOriginArea}}function s(b){var c=this.components.data.get(b);var d=this.components.properties.get(b).displayMode;var e=this.components.layout.get(b).rotationInDegrees;var f=d===i.fittingTypes.SCALE_TO_FILL;var g=a.pick(this.components.layout.getRelativeToScreen(b),["height","width","x","y"]);var h={};if(!c.crop&&!f){h=n(g)}else if(!c.crop&&f){h=q(g,c)}else if(c.crop&&!f){h=p(g,c)}else{h=o(g,c)}var j=t(h.cropArea,h.cropOriginArea,e);a.assign(h.cropOriginArea,j);h=r.call(this,h);return h}function t(b,d,e){var f=a.clone(b);f.x+=d.x;f.y+=d.y;var h=c.math.getPointAsIfRectWasNotRotated(f,g.getMiddlePoint(d),-e);return{x:h.x-d.width/2,y:h.y-d.height/2}}function u(){return this.editor.state.imageCrop.isOn}function v(b){var d=c.imageTransform.fittingTypes;var e=d.SCALE_TO_FILL;var f=d.STRETCH;var g=this.components.properties.get(b).displayMode;if(!a.includes([e,f],g)){this.components.properties.update(b,{displayMode:e})}}function w(g,h){var i,j;var k=this.editor.state.imageCrop;var l=this.editor.state.selectedComponents;if(!l){return}k.isOn=typeof g==="undefined"?!k.isOn:g;if(k.isOn){if(f.isOpen("popups")){d.tooltipManager.hide(e.R_EDITOR.ROOT_COMPS.TOOLTIPS.FIRST_TIME_EXIT_POPUP_MODE)}v.call(this,l);i=s.call(this,l);this.bi.event(b.bi.events.imageCrop.Open_crop_mode,{fixed_layout:false});j=c.keyboardShortcuts.CONTEXTS.IMAGE_CROP}else{i={cropArea:null,cropOriginArea:null};j=c.keyboardShortcuts.CONTEXTS.EDITOR}a.assign(k,i);h=h||a.noop;c.keyboardShortcuts.setContext(j);if(k.isOn){G.call(this,k,h)}else{this.editor.setState({imageCrop:k},h)}}function x(){return a.clone(this.editor.state.imageCrop.cropArea)}function y(){return a.clone(this.editor.state.imageCrop.cropOriginArea)}function z(a){var b=this.components.get.byId("PAGES_CONTAINER");var c=this.components.layout.getRelativeToScreen(b);var d=this.components.getContainer(a);var e=this.components.layout.getRelativeToScreen(d);if(this.components.is.fullWidth(d)||this.components.isShowOnAllPages(a)){e.x+=c.x}return e}function A(b,d,e){var f=g.getMiddlePoint(b);var h=a.assign({},d,{x:0,y:0});var i=c.math.getPointAsIfRectWasNotRotated(h,f,-e);return{x:i.x-b.width/2,y:i.y-b.height/2}}function B(b,c){var d=this.editor.state.selectedComponents;var e=this.editor.state.imageCrop;var f=e.cropOriginArea;var g=e.cropArea;var h=this.components.layout.get(d).rotationInDegrees;var i=b?{x:0,y:0}:z.call(this,d);if(!e){return null}var j=c?g:A(g,f,h);return a(g).pick(["height","width"]).assign({x:j.x+f.x-i.x,y:j.y+f.y-i.y}).value()}function C(b){return a(b).pick(["x","y","width","height"]).mapValues(Math.round).value()}function D(b,c){var d=a.cloneDeep(b);d.cropArea=C(b.cropArea);d.cropOriginArea=C(b.cropOriginArea);c=c||a.noop;this.editor.setState({imageCrop:d},c)}function E(b,c){var d=a.assign({},this.editor.state.imageCrop,{cropOriginArea:b});D.call(this,d,c)}function F(b,c){var d=a.assign({},this.editor.state.imageCrop,{cropArea:b});D.call(this,d,c)}function G(b,c){var d=a.assign({},this.editor.state.imageCrop,b);D.call(this,d,c)}function H(){var b=this.editor.state.selectedComponents;var c=this.components.data.get(b);var d=this.components.layout.get(b).fixedPosition;var e=this.imageCrop.getCropArea();var f=this.imageCrop.getCropOriginArea();var h=this.imageCrop.getCropAreaFinalPosition(d);var i={width:f.width/c.width,height:f.height/c.height};var j=a.mapValues({x:e.x/i.width,y:e.y/i.height,height:e.height/i.height,width:e.width/i.width},Math.round);var k=g.areRectsTheSameSize(c,j)&&j.x===0&&j.y===0;if(k&&c.crop){this.components.data.update(b,{crop:null})}else if(!k){this.components.data.update(b,{crop:j})}this.components.layout.update(b,h)}function I(a,b,d){var e=g.getMiddlePoint(a);var f=g.getMiddlePoint(b);var h={x:f.x-e.x,y:f.y-e.y};var i=c.math.degToRad(d);var j=c.math.rotateVectorAround(h,i);return{x:c.math.roundToNearestHalf(j.x-h.x),y:c.math.roundToNearestHalf(j.y-h.y)}}function J(b,c){var d=this.components.data.get(b);var e=this.components.layout.get(b);var f=e.rotationInDegrees;var j=this.components.properties.get(b).displayMode;var k=this.imageCrop.getCropOriginArea();var n=this.imageCrop.getCropArea();var o=g.getAspectRatio(e);var p=a.assign({},d,{height:d.width*o});var q=j===i.fittingTypes.STRETCH?p:d;var r=g.getRectMinDimensionsByContainedInnerRect(q,n);var s=m(c,k,d);s=h.ensure.scaleWithinDimensions(s,n,r);var t=l(k,s,n);var u=h.ensure.areaIsFullyContained(t.originArea,t.area);var v=I(k,u.originArea,f);u.originArea.x+=v.x;u.originArea.y+=v.y;return u}function K(a){return J.call(this,a,100)}function L(){var a=this.imageCrop.getCropOriginArea();var b=this.imageCrop.getCropArea();var c=Math.min(b.width,b.height);b.height=c;b.width=c;return{area:b,originArea:a}}function M(){var b=y.call(this);var c=g.getAspectRatio(b);var d=x.call(this);var e=this.imageCrop.getCropAreaFinalPosition(true);var f=g.getRectMinDimensionsByContainedInnerRect(b,e);var h=d.height>d.width?{height:f.height,width:f.height/c}:{width:f.width,height:f.width*c};return{area:a.assign({},h,{x:0,y:0}),originArea:a.assign({},e,h)}}return{imageCrop:{isCropMode:u,toggleCropMode:w,getCropArea:x,getCropOriginArea:y,getCropAreaFinalPosition:B,setCropOriginArea:E,setCropArea:F,setCropData:G,updateCrop:H,getNewCropStateByPercentageFromOriginalImage:J,quickActions:{getNewCropStateForHundredPercent:K,getNewCropStateForSquare:L,getNewCropStateResetCrop:M}}}});define("rEditor/app/APISections/siteWrapper",["core","util","lodash"],function(a,b,c){"use strict";function d(a){var b=c(a).split(";").filter(function(a){return c.startsWith(a,"viewer")}).map(function(a){return a.split("viewer:")[1]}).join(",");return b?"viewer:"+b:""}function e(a,e){var f=b.url;e.forEach(function(b){var e=f.getParameterByName(b);if(e&&(b==="experiments"||b==="experimentsoff")&&c.includes(e,":")){e=d(e)}a=e?f.setUrlParam(a,b,e):a});return a}return{site:{getCurrentSiteDomain:function(){var a=window.location.hostname;var b=a.match(/editor\.(.*)/);return b?"www."+b[1]:"www.wix.com"},getSEOSiteName:function(){return this.documentServices.seo.title.get()},setSEOSiteName:function(a){return this.documentServices.seo.title.set(a)},getSEOSiteDescription:function(){return this.documentServices.seo.description.get()},setSEOSiteDescription:function(a){return this.documentServices.seo.description.set(a)},getSEOSiteKeywords:function(){return this.documentServices.seo.keywords.get()},setSEOSiteKeywords:function(a){return this.documentServices.seo.keywords.set(a)},getMetaSiteId:function(){return this.documentServices.generalInfo.getMetaSiteId()},isPremium:function(){return this.documentServices&&this.documentServices.premiumFeatures&&this.documentServices.premiumFeatures.get().length>0},getXPos:function(){return this.components.layout.getRelativeToScreen(this.siteSegments.getPagesContainer()).x},getSiteDomainInfo:function(b,c){var d=this.documentServices.generalInfo.getMetaSiteId();a.premiumServicesAPI.getSiteDomainInfo(d,b,c)},getSitePremiumPackage:function(){return this.editor.state.site.premiumPackage||-1},getSitePublicUrl:function(){var a=this.generalInfo.getPublicUrl()||this.domain.getFreeDomainPrefix()+this.siteName.get();return e(a,["ReactSource","experiments","experimentsoff"])},getSiteWidth:function(){var a=window.document.getElementById("preview").getBoundingClientRect();return a.width}}}});define("rEditor/app/APISections/domainWrapper",["lodash","util"],function(a,b){"use strict";function c(){return this.generalInfo.urlFormat.isSlash()?"wixsite.com":"wix.com"}return{domain:{isDomainConnected:function(){var b=this.generalInfo.getPublicUrl();return b!==null&&b!==undefined&&!a.includes(b,c.call(this))},getFreeDomainPrefix:function(){return"http://"+this.generalInfo.getUserInfo().name+"."+c.call(this)+"/"},doesUserOwnGoogleDomain:function(){var a=b.cookie.getCookie("wixClient");return a.indexOf("GOOGLE_DOMAIN")>0||a.indexOf("REGRU")>0}}}});define("rEditor/rootComps/gfpp/gfppModel",["lodash","gfppData","constants","helpIds","experiment"],function(a,b,c,d,e){"use strict";var f=b.consts;var g=["onClick","template","onTemplatePropsChange"];var h=[f.ACTIONS.PIN_MODE,f.ACTIONS.STRETCH];var i=[f.ACTIONS.SETTINGS,f.ACTIONS.LAYOUT,f.ACTIONS.ANIMATION,f.ACTIONS.HELP].concat(h);var j={enabledActions:i};var k={settings:{isSelected:b.utils.getPanelStateFn("settings"),tooltip:"gfpp_tooltip_settings",icon:"settings",onClick:b.utils.getTogglePanelFn("settings")},design:{isSelected:b.utils.getPanelStateFn("design"),tooltip:"gfpp_tooltip_design",icon:"design",onClick:b.utils.getTogglePanelFn("design")},layout:{isSelected:b.utils.getPanelStateFn("layout"),tooltip:"gfpp_tooltip_layout",icon:"layout",onClick:b.utils.getTogglePanelFn("layout")},filters:{isSelected:b.utils.getPanelStateFn("filters"),tooltip:"gfpp_tooltip_image_filters",icon:"filters",onClick:b.utils.getTogglePanelFn("filters",{origin:"gfpp"})},stretch:{isSelected:b.utils.getPanelStateFn("stretching"),tooltip:"gfpp_tooltip_stretch",icon:"gfpp_stretch",onClick:b.utils.getTogglePanelFn("stretching")},stretchForColumns:{isSelected:b.utils.getPanelStateFn("stretching"),tooltip:"gfpp_tooltip_stretch",icon:"gfpp_stretch",onClick:b.utils.getTogglePanelFn("stretching")},upgrade:{isSelected:false,tooltip:"gfpp_tooltip_upgrade",icon:"",onClick:b.utils.getTogglePanelFn("upgrade")},crop:{isSelected:false,isDisabled:function(a,c){return!b.utils.isCropAllowed(a,c)},tooltip:function(a,c){return b.utils.isCropAllowed(a,c)?"gfpp_tooltip_crop":"gfpp_tooltip_crop_disabled"},icon:"effects",onClick:function(a,c){if(b.utils.isCropAllowed(a,c)){b.utils.openImageCrop(a,c)}}},aviary:{isSelected:false,tooltip:"gfpp_tooltip_imageeffects",icon:"effects",onClick:b.utils.openAviaryPanel},animation:{isSelected:b.utils.getPanelStateFn("animation"),isDisabled:function(a,b){return t(a,b)},isApplied:false,tooltip:function(b,d){var e=t(b,d);if(!e){return"gfpp_tooltip_animation"}var f=a.map(d,p.bind(null,b));var g=a.every(f,function(a){return a===c.COMPONENT_DISPLAY.IN_MODE_AND_DEFAULT});var h=a.every(f,function(a){return a===c.COMPONENT_DISPLAY.ONLY_IN_DEFAULT_MODE});if(g){return"gfpp_tooltip_hover_animation_disabled_linked_element_in_regular"}else if(h){return"gfpp_tooltip_hover_animation_disabled_single_element_in_regular"}},tooltip_active:"gfpp_tooltip_applied_animation",icon:"animation",onClick:function(a,c){var d=s(a,c);b.utils.getTogglePanelFn("animation",d)(a)}},link:{isSelected:b.utils.getPanelStateFn("link"),isApplied:b.utils.getDataDefinedFn("link"),isDisabled:function(a,b){return t(a,b)},tooltip:"gfpp_tooltip_linkto",tooltip_active:"gfpp_tooltip_applied_linkto",icon:"link",onClick:b.utils.openLinkPanel},hide:{isSelected:false,tooltip:"gfpp_tooltip_mobile_hide",icon:"gfpp_hide",onClick:function(a){a.selectedComponent.remove();a.history.add("component - remove")}},help:{tooltip:"gfpp_tooltip_help",icon:"gfpp_help",mobileHelpId:"b6d9a270-f9c5-4837-995b-c3818b13a643"},pinMode:{isSelected:b.utils.getPanelStateFn("panels.pinnedDockPanel"),tooltip:"gfpp_tooltip_PinToScreen",icon:"gfpp_pin",className:"gfpp-pin",onClick:function(a){a.pinMode.open("gfpp")}}};var l={};var m={};var n={isSelected:b.utils.getPanelStateFn("customizeDesign"),tooltip:"gfpp_tooltip_customize",icon:"gfpp_customize_design_drop",onClick:b.utils.getTogglePanelFn("customizeDesign")};m.customizeDesign=n;if(e.isOpen("fastStyling")){k.customizeDesign=n}if(e.isOpen("se_hoverBox")){k.applyToOtherView={isSelected:b.utils.getPanelStateFn("apply"),tooltip:function(a){var b=a.focusBox.getFocusedContainer();return a.components.modes.isCompDefaultModeActive(b)?"RightClick_Menu_Apply_Regular_ToHover_Label":"RightClick_Menu_Apply_Hover_ToRegular_Label"},icon:"gfpp_applyTo",onClick:b.utils.getTogglePanelFn("apply")}}function o(b,c,d){return a.some(d,function(a){return a.type!=="DEFAULT"&&b.components.modes.isComponentDisplayedInModes(c,[a.modeId])})}function p(a,b){var d=a.components.getContainer(b);var e=a.components.modes.getModes(d);if(e&&e.length>0){var f=a.components.modes.getFirstAncestorWithActiveModes(b);if(a.components.modes.isCompDefaultModeActive(f)){return o(a,b,e)?c.COMPONENT_DISPLAY.IN_MODE_AND_DEFAULT:c.COMPONENT_DISPLAY.ONLY_IN_DEFAULT_MODE}var g=a.components.modes.isDisplayedByDefault(b);return g?c.COMPONENT_DISPLAY.IN_MODE_AND_DEFAULT:c.COMPONENT_DISPLAY.ONLY_IN_NON_DEFAULT_MODES}return c.COMPONENT_DISPLAY.OUT_OF_MODES_BOX}function q(a){return{panelAction:c.ACTIONS.MODE_IN,panelExitAction:c.ACTIONS.MODE_EXIT,shouldAddExit:true,dataOverridesKey:c.ACTIONS.MODE_IN,allowOnlyShowOnceUI:false,extraBehaviorParams:{modeIds:a}}}function r(a){return{panelAction:c.ACTIONS.MODE_CHANGE,dataOverridesKey:c.ACTIONS.MODE_CHANGE,explanationText:"ANIMATION_PANEL_HOVER_BOX_DESCRIPTION_TEXT",allowPreviewUI:false,allowOnlyShowOnceUI:false,helpId:d.ANIMATION.TRANSITION,extraBehaviorParams:{modeIds:a}}}function s(b,d){if(e.isOpen("se_hoverBox")){var f=a.map(d,p.bind(null,b));var g=a.every(f,function(a){return a===c.COMPONENT_DISPLAY.ONLY_IN_NON_DEFAULT_MODES});var h=a.every(f,function(a){return a===c.COMPONENT_DISPLAY.IN_MODE_AND_DEFAULT});var i=a.isArray(d)?d:[d];var j=a.keys(b.components.modes.getFirstAncestorActiveModes(i[0]));if(g){return q(j)}else if(h){return r(j)}}return{}}function t(b,c){return a.some(c,function(a){var c=b.components.modes.getFirstAncestorWithActiveModes(a);return b.components.modes.isCompDefaultModeActive(c)})}function u(b,c,d){if(a.isFunction(b)){return b(c,d)}return b}function v(b,c,d){if(!b){return null}b=a.cloneDeep(b);a.forEach(b,function(e,f){if(a.isString(e)&&k[e]){e=a.cloneDeep(k[e]);b[f]=e}a.forEach(e,function(b,f){if(!a.includes(g,f)){e[f]=u(b,c,d)}})});return b}function w(a,b,c){var d=b.isMobileEditor();var e=d?a.mobileMainActions:a.mainActions;e=u(e,b,c);return v(e,b,c)}function x(a,b,c){var d=b.isMobileEditor();var e=d?a.mobileExtraActions:a.extraActions;e=u(e,b,c);return v(e,b,c)}function y(b,c,d){var g=c.isMobileEditor();var i=g?b.mobileEnabledActions:b.enabledActions;i=a.clone(u(i,c,d)||[]);i=a.union(i,h);if(e.isOpen("se_hoverBox")){if(!a.includes(i,f.ACTIONS.APPLY_TO_OTHER_VIEW)){i.push(f.ACTIONS.APPLY_TO_OTHER_VIEW)}}var j=u(b.presetActions,c,d);j=a.merge({},a.pick(k,i),g?a.pick(m,i):{},a.pick(j,i),a.pick(l,i));
return v(j,c,d)}function z(c,d){var e=c.isMobileEditor();d.helpId=e?d.mobileHelpId:d.helpId;d.isSelected=a.isUndefined(d.isSelected)?b.utils.isHelpPanelOpen(d.helpId):d.isSelected;return d}function A(b,c){return a.last(b.components.getType(c).split("."))}function B(a,c){var d=A(a,c);var e=b.getComponentData(d)||j;var f=w(e,a,c);var g=x(e,a,c);var h=y(e,a,c);if(h.help){h.help=z(a,h.help)}h=C(h,a,c);return{mainActions:f,extraActions:g,presetActions:h}}function C(b,c,d){var e=D(b,c,d);return!a.isEmpty(e)?a.omit(b,e):b}function D(b,c,d){var g=[];if(b[f.ACTIONS.HIDE]){if(!c.components.is.removable(d)){g.push(f.ACTIONS.HIDE)}}if(b[f.ACTIONS.ANIMATION]){var h=a.some(f.ANIMATION_TYPES,function(a){return c.components.is.animatable(d,a)});if(!h||!c.multiselect.areComponentsOfSamePage(d)){g.push(f.ACTIONS.ANIMATION)}else if(e.isOpen("se_hoverBox")){var i=a.map(d,p.bind(null,c));var j=a.every(i,a.isEqual.bind(a,i[0]));if(!c.multiselect.componentModes.areComponentsOfSameModefulContainer(d)||!j){g.push(f.ACTIONS.ANIMATION)}}}if(b[f.ACTIONS.STRETCH]){var k=c.components.layout.canBeStretched(d)&&!c.isMobileEditor();if(!k){g.push(f.ACTIONS.STRETCH)}}if(b[f.ACTIONS.PIN_MODE]){if(!c.components.layout.isPinned(d)){g.push(f.ACTIONS.PIN_MODE)}}if(b[f.ACTIONS.LAYOUT]){if(a.isArray(d)&&d.length>1&&a.some(d,c.components.is.controlledByParent)){g.push(f.ACTIONS.LAYOUT)}}if(e.isOpen("se_hoverBox")){if(b[f.ACTIONS.APPLY_TO_OTHER_VIEW]&&!E(c,d)){g.push(f.ACTIONS.APPLY_TO_OTHER_VIEW)}}return g}function E(b,c){if(a.size(c)===1){var d=a.first(c);var e=b.components.modes.getModes(d);var f=b.components.getContainer(d);var g=b.components.modes.getModes(f);return!b.isMobileEditor()&&(a.size(e)>1||a.size(g)>1)}return false}function F(b){a.merge(l,b)}return{getData:B,registerGfppActions:F}});define("rEditor/app/APISections/developerMode",["core","lodash","util","experiment","uiConstants","rEditor/rootComps/gfpp/gfppModel"],function(a,b,c,d,e,f){"use strict";var g=e.WIX_CODE_TOPBAR_HEIGHT;var h=c.splitterAPI;function i(){var b=!j.call(this);var c={developerModeEnabled:b,developerToolBarEnabled:b};var e=this;this.userPreferences.site.set(a.constants.USER_PREFS.VIEW_TOOLS.DEVELOPER_MODE_ENABLED,b);this.userPreferences.site.set(a.constants.USER_PREFS.VIEW_TOOLS.DEVELOPER_TOOLBAR_ENABLED,b);if(b&&this.editor.state.viewTools.toolbarEnabled){c.toolbarEnabled=false}if(b&&!this.userPreferences.site.get(a.constants.USER_PREFS.DEVELOPER_MODE.FIRST_TIME)){k.call(this)}if(d.isOpen("se_platform1")){if(b&&!require.specified("platform")){require(["platform"],function(a){a.init(e,f.registerGfppActions)})}}c.showHiddenComponents=l.call(this,b);if(!b){this.selection.deselectComponents()}this.documentMode.showHiddenComponents(c.showHiddenComponents);this.documentMode.showControllers(b);this.updateEditorViewTools(c)}function j(){var a=this.getViewTools();if(!a){return false}return a.developerModeEnabled}function k(){this.selection.deselectComponents();this.panelManager.openPanel("wixCode.panels.developerWelcomePanel");this.userPreferences.site.set(a.constants.USER_PREFS.DEVELOPER_MODE.FIRST_TIME,true);this.userPreferences.site.set(a.constants.USER_PREFS.VIEW_TOOLS.SHOW_HIDDEN_COMPS,true)}function l(b){return b&&this.userPreferences.site.get(a.constants.USER_PREFS.VIEW_TOOLS.SHOW_HIDDEN_COMPS)}function m(a,b){return{type:a,data:b}}function n(a){this.editor.setState({devModeContext:a})}function o(){var b=this.editor.state.devModeContext;if(b.type===a.constants.DEVELOPER_MODE.CONTEXT_TYPES.PAGE){var c=this.pages.getFocusedPageId();var e={id:this.pages.getFocusedPageId(),displayName:this.pages.getPageTitle(c)};if(d.isOpen("popups")){e.isPopup=this.pages.popupPages.isPopup(c)}else{e.isPopup=false}b=m(a.constants.DEVELOPER_MODE.CONTEXT_TYPES.PAGE,e)}return b}function p(){return"ideSplitter_"+this.editor.state.devModeContext.type}function q(c){switch(c){case"ideSplitter_"+a.constants.DEVELOPER_MODE.CONTEXT_TYPES.PAGE:return h.getInitialState("calc(100% - 234px)","bottom");case"ideSplitter_"+a.constants.DEVELOPER_MODE.CONTEXT_TYPES.FILE:case"ideSplitter_"+a.constants.DEVELOPER_MODE.CONTEXT_TYPES.COLLECTION:return h.getInitialState("0","top");case"consoleSplitter":return h.getInitialState("calc(100% - 234px)","bottom");case"fileTreeSplitter":var d=this.userPreferences.site.get(a.constants.USER_PREFS.DEVELOPER_MODE.FILE_PANE_SPLITTER);return b.isUndefined(d)?h.getInitialState("296px","left"):d}}function r(a){return this.editor.state[a]||q.call(this,a)}function s(a,c){var d=b.drop(arguments,2);var e=r.call(this,a);return c.apply(null,[e].concat(d))}function t(a){var b=s.apply(this,arguments);var c={};c[a]=b;this.editor.setState(c);return c}function u(a,b,c,d){var e=c+g>=d;if(e){return t.call(this,a,h.collapse,"bottom")}return t.call(this,a,h.setSplitPosition,b)}function v(){var b=t.apply(this,arguments);this.userPreferences.site.set(a.constants.USER_PREFS.DEVELOPER_MODE.FILE_PANE_SPLITTER,b.fileTreeSplitter)}function w(b){var c=r.call(this,b);if(h.isCollapsed(c,"top")){return a.constants.DEVELOPER_MODE.CONTAINER_STATES.MAXIMIZED}else if(h.isCollapsed(c,"bottom")){return a.constants.DEVELOPER_MODE.CONTAINER_STATES.MINIMIZED}return a.constants.DEVELOPER_MODE.CONTAINER_STATES.CUSTOM}function x(a){var c=b.drop(arguments);var d=p.call(this);return a.apply(this,[d].concat(c))}function y(){return"consoleSplitter"}function z(){var b=y();var c=w.call(this,b);return this.editor.state[b]&&c===a.constants.DEVELOPER_MODE.CONTAINER_STATES.MINIMIZED}var A={createContext:m,setContext:n,getContext:o,isEnabled:j,toggle:i,ui:{idePane:{getSplitPosition:b.partial(x,s,h.getSplitPosition),setSplitPosition:b.partial(x,u),maximize:b.partial(x,t,h.collapse,"top"),unMaximize:b.partial(x,t,h.unCollapse,"top"),toggleMaximize:b.partial(x,t,h.toggleCollapse,"top"),minimize:b.partial(x,t,h.collapse,"bottom"),unMinimize:b.partial(x,t,h.unCollapse,"bottom"),toggleMinimize:b.partial(x,t,h.toggleCollapse,"bottom"),revertSize:b.partial(x,t,h.unCollapse),getState:b.partial(x,w)},consolePane:{getSplitPosition:b.partial(s,y(),h.getSplitPosition),setSplitPosition:b.partial(u,y()),minimize:b.partial(t,y(),h.collapse,"bottom"),unMinimize:b.partial(t,y(),h.unCollapse,"bottom"),minimizedByUser:b.partial(z),getState:b.partial(w,y())},treePane:{getSplitPosition:b.partial(s,"fileTreeSplitter",h.getSplitPosition),setSplitPosition:b.partial(v,"fileTreeSplitter",h.setSplitPosition),toggle:b.partial(v,"fileTreeSplitter",h.toggleCollapse,"left"),isOpen:b.negate(b.partial(s,"fileTreeSplitter",h.isCollapsed,"left"))},topbarHeight:g+"px"}};return{developerMode:A}});define("rEditor/app/APISections/selectedComponent",["lodash","pLoader!santa:utils"],function(a,b){"use strict";var c=function(a){var b=this.components.layout.get(a);var c=!b.fixedPosition;this.components.layout.setFixed(a,c);return c};return{selectedComponent:{sendSelectedComponentBI:function(b,c){var d=this.selection.getSelectedComponents();if(b&&d){var e=this.getComponentType(d);var f={component_id:a.first(d).id,component_type:e};if(c){a.merge(f,c)}this.bi.event(b,f)}},copy:function(){return this.components.copy(this.selection.getSelectedComponents())},duplicate:function(){return this.components.duplicate(this.selection.getSelectedComponents())},cut:function(){var a=this.selection.getSelectedComponents();if(this.selection.isComponentSelected()){this.components.cut(a)}return a},remove:function(){var a=this.selection.getSelectedComponents();if(this.selection.isComponentSelected()){this.components.remove(a)}return a},copyStyle:function(){b.log.info("copyStyle")},pasteStyle:function(){b.log.info("pasteStyle")},lock:function(){b.log.info("lock")},toggleFixedPosition:function(){var a=this.selection.getSelectedComponents();if(a&&this.components.layout.canBeFixedPosition(a)){return c.call(this,a)}return false},togglePin:function(){var a=this.selection.getSelectedComponents();if(a){return c.call(this,a)}return false}}}});define("rEditor/app/APISections/savePublishWrapper",["lodash","core","util","pLoader!santa:utils"],function(a,b,c,d){"use strict";var e=[f];function f(){this.userPreferences.loadSitePreferences(this.documentServices.generalInfo.getSiteId(),true);this.leftBar.collapseMenu()}function g(a){try{return JSON.stringify(a)}catch(a){return"Failed to stringify save error info"}}function h(c,d,e){var f=a.keys(d);var g=a.compact(a.pluck(d,"errorCode"));var h=a.compact(a.pluck(d,"errorType"));var i={p1:f,p2:h,p3:g};if(e){c.bi.error(b.bi.errors.FIRST_SAVE_ERROR,i)}else{c.bi.error(b.bi.errors.SAVE_ERROR,i)}}function i(a,b){if(a){return"first"}if(b){return"full"}return"partial"}var j=c.newrelic;var k=0;var l=0;function m(c){this.editor.setState({savingStatus:b.constants.PROGRESS_STATUS.IDLE});c.apply(this,a.slice(arguments,1))}return{savePublish:{save:function(c,d,f,l){var m=this;var n=a.now();this.editor.setState({savingStatus:b.constants.PROGRESS_STATUS.IN_PROGRESS});var o=this.documentServices.generalInfo.isFirstSave();var p=i(o,f);m.bi.event(b.bi.events.save.saveProcess.SAVE_CLICK,{origin:l});var q={save_type:p};m.bi.event(b.bi.events.save.saveProcess.START_SAVE_PROCESS,q);var r=a.assign({is_first_save:o,save_count:++k},q);j.addPageAction("save start",a.clone(r));function s(){q.duration=a.now()-n;m.bi.event(b.bi.events.save.saveProcess.SUCCESS_SAVE_PROCESS,q);r=a.assign(r,q,{result:"success"});j.addPageAction("save finish",r);if(o){a.forEach(e,function(a){a.call(m)})}if(c){m.isSavedInCurrentSession=true;c()}m.editor.setState({savingStatus:b.constants.PROGRESS_STATUS.DONE_SUCCESS});setTimeout(function(){m.editor.setState({savingStatus:b.constants.PROGRESS_STATUS.IDLE})},b.constants.SAVE_PUBLISH.DURATION_TO_SHOW_RESULT)}function t(c){h(m,c,o);r=a.assign(r,{result:"failure",error:g(c)});j.addPageAction("save finish",r);if(d){d(c)}m.editor.setState({savingStatus:b.constants.PROGRESS_STATUS.DONE_FAILED});setTimeout(function(){m.editor.setState({savingStatus:b.constants.PROGRESS_STATUS.IDLE})},b.constants.SAVE_PUBLISH.DURATION_TO_SHOW_RESULT)}a.defer(function(){m.documentServices.save(s,t,f);j.addPageAction("save computed",a.assign(a.clone(r),{duration:a.now()-n}))})},saveAsTemplate:function(a,b){function c(a){if(b){b(a)}d.log.info("Failed saving as template ",a)}function e(){if(a){a()}}this.documentServices.saveAsTemplate(e,c)},publish:function(c,d){var e=this;this.editor.setState({publishingStatus:b.constants.PROGRESS_STATUS.IN_PROGRESS});var f={publish_count:++l};j.addPageAction("publish start",a.clone(f));function g(){f.result="success";j.addPageAction("publish finish",f);a.forEach(e.sitePublishedCallbacks,function(a){a()});if(c){c()}e.editor.setState({publishingStatus:b.constants.PROGRESS_STATUS.DONE_SUCCESS});setTimeout(function(){e.editor.setState({publishingStatus:b.constants.PROGRESS_STATUS.IDLE})},b.constants.SAVE_PUBLISH.DURATION_TO_SHOW_RESULT)}function h(a){f.result="failure";j.addPageAction("publish finish",f);if(d){d(a)}e.editor.setState({publishingStatus:b.constants.PROGRESS_STATUS.DONE_FAILED});setTimeout(function(){e.editor.setState({publishingStatus:b.constants.PROGRESS_STATUS.IDLE})},b.constants.SAVE_PUBLISH.DURATION_TO_SHOW_RESULT)}this.documentServices.publish(g,h)},registerFirstSaveCallback:function(a){e.push(a)},autosave:function(a,b){var c=m.bind(this,a);var d=m.bind(this,b);this.documentServices.autosave(c,d)},canAutosave:function(){return this.documentServices.canAutosave()},canUserPublish:function(){var b=this.documentServices&&this.documentServices.canUserPublish();return a.isBoolean(b)?b:true}}}});define("rEditor/app/APISections/connectionsWrapper",["lodash","editorEventRegistry"],function(a,b){"use strict";function c(c,d){if(a.isEqual(a.first(c),d)){var e=b.constants.events.SELECTED_COMPONENT_CONNECTION_STATUS_CHANGED;b.dispatch(e)}}return{platform:{controllers:{connections:{connect:function(a,b,d,e){this.documentServices.platform.controllers.connections.connect(a,b,d,e);c(this.selection.getSelectedComponents(),a)},disconnect:function(a,b,d){this.documentServices.platform.controllers.connections.disconnect(a,b,d);c(this.selection.getSelectedComponents(),a)}}}}}});define("rEditor/utils/removeUtil",["lodash","panels","util","core"],function(a,b,c,d){"use strict";var e=b.panelManager;var f=function(a){return!!a.tpaApplicationId};var g=function(a,b,c){var d=a.app.isPremium(b);if(d&&c>1){return true}else if(!d&&c>0){return true}return false};var h=function(b,d,h,i,k){var l=d.pages.getReference(i);var m=d.pages.data.get(i);var n=d.tpa.getPremiumTpaChildrenOnPage(l,m.tpaApplicationId,true);var o=d.wixapps.classics.isBlogPage(i);var p=d.components.getTpaChildren(l);if(o){p=p.concat(d.components.getBlogChildren(l))}var q=b.bi.getComponentsBIParams(p);a.forEach(q,function(a){a.removal_method="delete_page"});var r=f(m)&&d.tpa.app.isMultiSectionInstalled(m.tpaApplicationId);if(n.length>0&&!r||r&&g(d.tpa,m.tpaApplicationId,n.length)){var s=m&&m.title||"";var t=n[0];e.openPanel("tpa.confirmation.deletePageContainsPremiumTpa",{appName:t.appDefinitionName,appDefId:t.appDefinitionId,appCount:n.length,pageTitle:s,onConfirm:function(){j(b,d,i,m,h,false,q,k);a.forEach(n,function(a,e){var f={app_id:a.appDefinitionId,app_site_id:a.instanceId,instance_id:p[e].id,is_last_tpa:d.tpa.app.isLastAppComp(a.applicationId)?1:0,component_type:"tpa"};b.bi.event(c.bi.events.REMOVE_COMPONENT_SECOND_STEP_CLICK,f)})}},true)}else if(o){e.openPanel("blog.blogDeleteConfirmation",{onConfirm:function(){j(b,d,i,m,h,false,q,k)}},true)}else{j(b,d,i,m,h,true,q,k)}};var i=function(a,b){a.bi.reportBI(c.bi.events.COMPONENT_REMOVED,b)};var j=function(b,c,d,f,g,h,j,l){var m=c.tpa.section.getPageData(d);var n=m.hasSection&&g[c.tpa.constants.COMP_TYPES.TPA_SECTION];var o=c.wixapps.classics.isBlogPage(d);if(o){if(g.blog){g.blog()}b.pages.beforePageRemoveHook(d,function(){a.forEach(c.pages.getPagesData(),function(a){if(c.wixapps.classics.isBlogPage(a.id)){c.pages.remove(a.id);i(b,j)}});if(l){l()}})}else if(n){g[c.tpa.constants.COMP_TYPES.TPA_SECTION](d,m.title,m.appData,h,l,j)}else if(h){var p={pageTitle:f.title,onConfirm:k.bind(this,b,c,d,l,j),isPopup:f.isPopup};e.openPanel("panels.messagePanels.deletePageMessage",p,true)}else{k(b,c,d,l,j)}};var k=function(a,b,c,d,e){a.pages.beforePageRemoveHook(c,function(){b.pages.remove(c);if(d){d()}i(a,e)})};var l=function(a,b,c){var d=a.components.getType(b);if(c[d]){c[d](b)}else{a.components.remove(b)}};function m(a,b,c,d){var e=b.tpa.app.getData(a.applicationId);c.app_id=e.appDefinitionId;c.app_site_id=e.instanceId;c.instance_id=d}var n=function(b,c,f){a.forEach(f,function(a){var f=b.components.getType(a);var g=c.mobile.mobileOnlyComponents.isMobileOnlyComponent(a.id)?a.id:f;var h=b.components.data.get(a);b.mobile.hiddenComponents.hide(a);if(!c.zoomMode.isInZoomMode()){e.openPanel("mobileEditor.hiddenItemsPanel")}var i={current_page_name:b.pages.getFocusedPageId(),component_id:g,origin:"",component_type:f};if(c.isTpa(f)){m(h,c,i,a.id)}c.bi.event(d.bi.events.mobileEditor.hiddenElements.HIDDEN_ELEMENTS_HIDE,i)})};var o=function(b,d,e,f,g,h){var i=a.some(e,b.components.is.container);var j=e.length>1;if(b.viewMode.get()===b.viewMode.VIEW_MODES.MOBILE){n(b,f,e);if(g){g()}}else{var k=b.tpa.getPremiumTpaChildren(e);var l=a.reject(k,b.tpa.app.hasSections);var m=p(b,f,e);if((i||j)&&l.length>0){s(b,d,k,e,m,g,h)}else{var o=q(e.length,function(){f.bi.reportBI(c.bi.events.COMPONENT_REMOVED,m)});r(b,d,e,true,function(){o();if(g){return g(arguments)}return null},h)}}};var p=function(b,c,d){var e=b.tpa.getTpaPointersRecursive(d);var f=d.concat(e);f=a.uniq(f,"id");var g=c.bi.getComponentsBIParams(f);return g};var q=function(a,b){var c=a;return function(){c--;if(c===0){b()}}};var r=function(b,c,d,e,f,g){a.forEach(d,function(a){var d=b.components.getType(a),h=function(){b.components.remove(a,f,g)};if(c[d]){c[d](a,e,f,h)}else{h()}})};function s(b,d,f,g,h,i,j){var k=f[0];e.openPanel("tpa.confirmation.deleteContainerContainsPremiumTpa",{appName:k.appDefinitionName,appDefId:k.appDefinitionId,appCount:f.length,onConfirm:function(e){r(b,d,g,false,i,j);e.bi.reportBI(c.bi.events.COMPONENT_REMOVED,h);a.forEach(h,function(a){e.bi.event(c.bi.events.REMOVE_COMPONENT_SECOND_STEP_CLICK,a)})}},true)}return{removePage:h,removeComponent:o,cutComponent:l}});define("rEditor/utils/multiSelectHandler",["lodash"],function(a){"use strict";return function b(){var c=a.toArray(arguments);var d=c.shift();var e=c.pop();var f=this.components.asArray(d);if(this.multiselect.isMultiselect(f)){return e.multiCompHandler.apply(this,[f].concat(c))}return e.singleCompHandler.apply(this,[f[0]].concat(c))}});define("rEditor/app/APISections/componentsFacade/layoutWrapper",["lodash","experiment","core","util","rEditor/utils/multiSelectHandler"],function(a,b,c,d,e){"use strict";function f(a,b,c){var e=l.call(this,a,b);var f=d.layoutUtils.getLayoutRelativeToParentFromRelativeToScreen(this,a,e);this.documentServices.components.layout.update(a,f);if(!c){this.history.debouncedAdd("component - update layout")}}function g(a,b,c){var e=d.layoutUtils.getLayoutRelativeToParentFromRelativeToStructure(this,a,b);this.components.layout.update(a,e,c)}function h(a,b,c){var e=d.layoutUtils.getLayoutRelativeToParentFromRelativeToScreen(this,a,b);this.components.layout.updateAndPreserveProportions(a,e,c)}function i(a,b,c){var e=d.layoutUtils.getLayoutRelativeToParentFromRelativeToStructure(this,a,b);this.components.layout.updateAndPreserveProportions(a,e,c)}function j(a,b,c){this.documentServices.components.layout.updateAndPreserveProportions(b,c,true)}function k(a,b){var d=this.components.layout.get(a);return c.utils.updateLayoutUtil.getLayoutAfterConstraints(this,a,b,d)}function l(a,b){var d=this.components.layout.getRelativeToScreen(a);return c.utils.updateLayoutUtil.getLayoutRelativeToScreenAfterConstraints(this,a,b,d)}function m(c,d,e){var f=b.isOpen("se_screenWidthEditBox");if(f&&this.components.layout.isHorizontallyStretchedToScreen(c)){return d}var g={left:this.components.layout.RESIZE_SIDES.LEFT,right:this.components.layout.RESIZE_SIDES.RIGHT,top:this.components.layout.RESIZE_SIDES.TOP,bottom:this.components.layout.RESIZE_SIDES.BOTTOM};var h=a.map(e,function(a,b){return g[b]});return a.difference(d,h)}function n(a){return this.documentServices.components.layout.canBeStretched(a)&&!this.components.layout.isPinned(a)}function o(a,b){var c=d.math.getSquaresIntersection(a,b);return c&&d.math.rect.getAreaRatioPercentage(c,b)}return{get:function(a){return e.call(this,a,{multiCompHandler:this.multiselect.layout.get,singleCompHandler:this.documentServices.components.layout.get})},isRenderedInFixedPosition:function(b){var c=this.components.asArray(b);var d=a.every(c,function(a){return this.documentServices.components.layout.isRenderedInFixedPosition(a)},this);return d},isAncestorRenderedInFixedPosition:function(b){var c=this.components.asArray(b);var d=a.every(c,function(a){return this.documentServices.components.layout.isAncestorRenderedInFixedPosition(a)},this);return d},isShowOnFixedPosition:function(b){var c=this.components.asArray(b);var d=a.every(c,function(a){return this.documentServices.components.layout.isShowOnFixedPosition(a)},this);return d},isHorizontallyStretchedToScreen:function(b){var c=this.components.asArray(b);var d=a.every(c,function(a){return this.documentServices.components.layout.isHorizontallyStretchedToScreen(a)},this);return d},isDocked:function(b){var c=this.components.asArray(b);var d=a.every(c,function(a){return this.documentServices.components.layout.isDocked(a)},this);return d},unDock:function(a){return e.call(this,a,{multiCompHandler:this.multiselect.layout.unDock,singleCompHandler:this.documentServices.components.layout.unDock})},isRotated:function(b){var c=this.components.asArray(b);return a.every(c,function(a){return this.documentServices.components.layout.isRotated(a)},this)},isPinnedBySerializedLayout:function(b){var c=a.isArray(b)?b:[b];if(!a.isEmpty(c)){return a.every(c,function(b){return!a.isUndefined(b.docked)&&b.fixedPosition},this)}return false},isPinned:function(b){var c=this.components.asArray(b);if(!a.isEmpty(c)){return a.every(c,function(a){var b=this.documentServices.components.layout.get(a);b.docked=this.documentServices.components.layout.getDock(a);return this.components.is.pinnable(a)&&this.components.layout.isPinnedBySerializedLayout(b)},this)}return false},canBeStretched:function(a){return e.call(this,a,{multiCompHandler:this.multiselect.layout.canBeStretched,singleCompHandler:n})},canBeFixedPosition:function(a){return e.call(this,a,{multiCompHandler:this.multiselect.layout.canBeFixedPosition,singleCompHandler:this.documentServices.components.layout.canBeFixedPosition})},getRelativeToScreen:function(a,b){return e.call(this,a,b,{multiCompHandler:this.multiselect.layout.getRelativeToScreen,singleCompHandler:this.documentServices.components.layout.getRelativeToScreen})},getRelativeToScreenConsideringScroll:function(a){return e.call(this,a,{multiCompHandler:this.multiselect.layout.getRelativeToScreenConsideringScroll,singleCompHandler:this.documentServices.components.layout.getRelativeToScreenConsideringScroll})},getRelativeToStructure:function(a){return e.call(this,a,{multiCompHandler:this.multiselect.layout.getRelativeToStructure,singleCompHandler:this.documentServices.components.layout.getRelativeToStructure})},getResizableSides:function(b){return e.call(this,b,{multiCompHandler:this.multiselect.layout.getResizableSides,singleCompHandler:function(c){if(this.pinMode.isOpened()){return{}}if(this.components.is.group(c)){return a.toArray(this.components.layout.RESIZE_SIDES)}var d=this.documentServices.components.layout.getResizableSides(c);var e=this.components.layout.getDock(c);if(e){d=m.apply(this,[b,d,e])}return d}})},getProportionStructure:function(a,b){return e.call(this,a,b,{multiCompHandler:this.multiselect.layout.getProportionStructure,singleCompHandler:this.documentServices.components.layout.getProportionStructure})},update:function(a,b,c){if(!b){return}var d=k.call(this,a,b);e.call(this,a,d,{multiCompHandler:this.multiselect.layout.update,singleCompHandler:this.documentServices.components.layout.update});if(!c){this.history.debouncedAdd("component - update layout")}},updateRelativeToStructure:function(a,b,c){e.call(this,a,b,c,{multiCompHandler:this.multiselect.layout.updateRelativeToStructure,singleCompHandler:g})},updateRelativeToScreen:function(a,b,c){e.call(this,a,b,c,{multiCompHandler:this.multiselect.layout.updateRelativeToScreen,singleCompHandler:f})},updateRelativeToStructureAndPreserveProportions:function(a,b,c){e.call(this,a,b,c,{multiCompHandler:this.multiselect.layout.updateRelativeToStructureAndPreserveProportions,singleCompHandler:i})},updateRelativeToScreenAndPreserveProportions:function(a,b,c,d){e.call(this,a,b,c,d,{multiCompHandler:this.multiselect.layout.updateRelativeToScreenAndPreserveProportions,singleCompHandler:h})},updateAndPreserveProportions:function(a,b,c){e.call(this,a,b,c,{multiCompHandler:this.multiselect.layout.updateAndPreserveProportions,singleCompHandler:j})},updateAndAdjustLayout:function(a,b,c){var d=k.call(this,a,b);var f=e.call(this,a,d,{multiCompHandler:this.multiselect.layout.updateAndAdjustLayout,singleCompHandler:this.documentServices.components.layout.updateAndAdjustLayout});if(!c){this.history.debouncedAdd("component - update layout")}return f},updateRelativeToStructureAndAdjustLayout:function(a,b,c){var e=d.layoutUtils.getLayoutRelativeToParentFromRelativeToStructure(this,a,b);return this.components.layout.updateAndAdjustLayout(a,e,c)},updateRelativeToScreenAndAdjustLayout:function(a,b,c){var e=d.layoutUtils.getLayoutRelativeToParentFromRelativeToScreen(this,a,b);return this.components.layout.updateAndAdjustLayout(a,e,c)},setFixed:function(a,b){return e.call(this,this,a,b,{multiCompHandler:this.multiselect.layout.setFixed,singleCompHandler:c.utils.fixedPositionUtils.setFixedPosition})},isStretchedToScreen:function(a){return e.call(this,a,{multiCompHandler:this.multiselect.layout.isStretchedToScreen,singleCompHandler:this.documentServices.components.layout.isHorizontallyStretchedToScreen})},setDock:function(a,b){return e.call(this,a,b,{multiCompHandler:this.multiselect.layout.setDock,singleCompHandler:this.documentServices.components.layout.setDock})},getDock:function(a){return e.call(this,a,{multiCompHandler:this.multiselect.layout.getDock,singleCompHandler:this.documentServices.components.layout.getDock})},updateDock:function(a,b){return e.call(this,a,b,{multiCompHandler:this.multiselect.layout.updateDock,singleCompHandler:this.documentServices.components.layout.updateDock})},updateAspectRatio:function(a){return e.call(this,a,{multiCompHandler:this.multiselect.layout.updateAspectRatio,singleCompHandler:this.documentServices.components.layout.updateAspectRatio})},removeAspectRatio:function(a){return e.call(this,a,{multiCompHandler:this.multiselect.layout.removeAspectRatio,singleCompHandler:this.documentServices.components.layout.removeAspectRatio})},isAspectRatioOn:function(b){var c=this.components.asArray(b);return a.every(c,function(a){return this.documentServices.components.layout.isAspectRatioOn(a)},this)},isCompOutOfPageBounds:function(a){var b=this.components.layout.getRelativeToScreen(a);var d=this.components.layout.getRelativeToScreen(this.siteSegments.getPagesContainer());var e=this.isMobileEditor()?c.constants.SIZE_LIMITS.MOBILE_DRAG_CONSTRAINT_MARGINS:0;var f=d.x+e;var g=d.x+d.width-e;return b.x+b.width<=f||b.x>=g},getCompMargin:function(a){var b=this.components.layout.getRelativeToScreen(a);var c=this.components.layout.getRelativeToStructure(a);var d=b.width-c.width;var e=this.site.getSiteX();var f=c.x+e-b.x;var g=d-f;return{left:f,right:g}},isCompExceedingContainerMargin:function(b,c){var d=this.components.layout.getRelativeToScreen(c);var e=this.components.layout.getCompMargin(c);var f=this.components.layout.getRelativeToScreen(b);var g=a.assign({},d,{width:e.left});var h=a.assign({},d,{x:d.x+d.width-e.right,width:e.right});return(o(g,f)||0)>10||(o(h,f)||0)>10}}});define("rEditor/app/APISections/componentsFacade/arrangementFacade",["core"],function(a){"use strict";return{moveForward:function(a){var b=this.components.asArray(a);if(!this.components.arrangement.canMoveForward(b)){return null}this.documentServices.components.arrangement.moveForward(b[0]);this.history.add("component - move forward")},moveBackward:function(a){var b=this.components.asArray(a);if(!this.components.arrangement.canMoveBackward(b)){return null}this.documentServices.components.arrangement.moveBackward(b[0]);this.history.add("component - move backward")},moveToFront:function(a){var b=this.components.asArray(a);if(!this.components.arrangement.canMoveForward(b)){return null}this.documentServices.components.arrangement.moveToFront(b[0]);this.history.add("component - move to front")},moveToBack:function(a){var b=this.components.asArray(a);if(!this.components.arrangement.canMoveBackward(b)){return null}this.documentServices.components.arrangement.moveToBack(b[0]);this.history.add("component - move to back")},moveToIndex:function(a,b,c){var d=this.components.asArray(a);this.documentServices.components.arrangement.moveToIndex(d[0],b);if(!c){this.history.add("component - move to index")}},canMoveBackward:function(b){var c=this.components.asArray(b);if(this.multiselect.isMultiselect(c)){return this.multiselect.arrangement.canMoveBackward(c)}var d=this.components.getType(c)===a.constants.COMP_TYPES.ANCHOR;return!d&&this.documentServices.components.arrangement.canMoveBackward(c[0])},canMoveForward:function(b){var c=this.components.asArray(b);if(this.multiselect.isMultiselect(c)){return this.multiselect.arrangement.canMoveForward(c)}var d=this.components.getType(c)===a.constants.COMP_TYPES.ANCHOR;return!d&&this.documentServices.components.arrangement.canMoveForward(c[0])}}});define("rEditor/app/APISections/componentsFacade/behaviorsFacade",["rEditor/utils/multiSelectHandler"],function(a){"use strict";return{update:function(b,c,d){return a.call(this,b,c,d,{multiCompHandler:this.multiselect.behaviors.update,singleCompHandler:this.documentServices.components.behaviors.update})},get:function(b){return a.call(this,b,{multiCompHandler:this.multiselect.behaviors.get,singleCompHandler:this.documentServices.components.behaviors.get})},remove:function(b,c,d){return a.call(this,b,c,d,{multiCompHandler:this.multiselect.behaviors.remove,singleCompHandler:this.documentServices.components.behaviors.remove})},removeAll:function(b){return a.call(this,b,{multiCompHandler:this.multiselect.behaviors.removeAll,singleCompHandler:this.documentServices.components.behaviors.removeAll})},previewAnimation:function(b,c,d){return a.call(this,b,c,d,{multiCompHandler:this.multiselect.behaviors.previewAnimation,singleCompHandler:this.documentServices.components.behaviors.previewAnimation})},stopPreviewAnimation:function(b){return a.call(this,b,{multiCompHandler:this.multiselect.behaviors.stopPreviewAnimation,singleCompHandler:this.documentServices.components.behaviors.stopPreviewAnimation})},execute:function(b,c,d,e){return a.call(this,b,c,d,e,{multiCompHandler:this.multiselect.behaviors.execute,singleCompHandler:this.documentServices.components.behaviors.execute})},getRuntimeState:function(b){return a.call(this,b,{multiCompHandler:this.multiselect.behaviors.getRuntimeState,singleCompHandler:this.documentServices.components.behaviors.getRuntimeState})}}});define("rEditor/componentsMetaData/components/bgImageStrip",[],function(){"use strict";return{pinnable:false}});define("rEditor/componentsMetaData/components/fiveGridLine",[],function(){"use strict";return{pinnable:false}});define("rEditor/componentsMetaData/components/footer",[],function(){"use strict";return{pinnable:false,showLegacyFixedPosition:true}});define("rEditor/componentsMetaData/components/header",[],function(){"use strict";return{pinnable:false,showLegacyFixedPosition:true}});define("rEditor/componentsMetaData/components/screenWidthContainer",[],function(){"use strict";return{pinnable:false}});define("rEditor/componentsMetaData/components/stripShowcase",[],function(){"use strict";return{pinnable:false}});define("rEditor/componentsMetaData/components/stripSlideshowGallery",[],function(){"use strict";return{pinnable:false}});define("rEditor/componentsMetaData/components/blogComponents",["pLoader!santa:utils","lodash","experiment"],function(a,b,c){"use strict";var d=a.blogAppPartNames;return{pinnable:false,selectable:function(a,e){if(c.isOpen("se_blogHeroImage")){var f=a.components.data.get(e);if(f.appPartName===d.HERO_IMAGE){var g=a.wixapps.classics.getAppPartExtraData(e);if(g){var h=b.first(g.items);return h.coverImageData.isHeroImage}}}return true}}});define("rEditor/componentsMetaData/components/rssButton",[],function(){"use strict";return{pinnable:false}});define("rEditor/componentsMetaData/components/tpaGluedWidget",[],function(){"use strict";return{pinnable:false}});define("rEditor/rootComps/overlay/overlayWithHole.rt",["react","lodash"],function(a,b){"use strict";return function(){return a.createElement("div",{style:{position:"absolute",height:"100%",width:"100%"}},a.createElement("div",{style:this.getStyles()}))}});define("rEditor/rootComps/overlay/overlayWithHole",["react","lodash","core","rEditor/rootComps/overlay/overlayWithHole.rt"],function(a,b,c,d){"use strict";return a.createClass({displayName:"overlayWithHole",mixins:[c.mixins.editorAPIMixin],getHoleLayout:function(){return this.getEditorAPI().components.layout.getRelativeToScreen(this.props.hole)},getStyles:function(){var a=this.getHoleLayout(),b={width:a.width,height:a.height,top:a.y,left:a.x,position:"absolute",boxShadow:"0 0 0 9999px "+this.props.background};if(a.rotationInDegrees){b.transform="rotate("+a.rotationInDegrees+"deg)"}return b},render:d})});define("rEditor/rootComps/overlay/overlayWithQuickTip",["react","lodash","core","baseUI"],function(a,b,c,d){"use strict";function e(a){var b=a.cursor.get();return{height:0,width:0,top:b.y||0,left:b.x||0}}function f(a,b,c){a.userPreferences.session.set(b,true);setTimeout(function(){a.userPreferences.session.set(b,false);
},c)}return a.createClass({displayName:"overlayWithQuickTip",mixins:[c.mixins.editorAPIMixin],componentWillMount:function(){this.quickTipShowTimeoutId=this.showQuickTip()},showQuickTip:function(){var c=this.getEditorAPI(),f=c.userPreferences.session,g=this.props.quickTipSession.id+this.props.hoveredComp.id,h=c.userPreferences.session.get(g)||0;this.sessionDisabledId=g+"-disabled";if(h>=this.props.quickTipSession.maxNum||f.get(this.sessionDisabledId)){return null}return setTimeout(function(){var i=e(c),j=a.createElement(d.popoverTemplates.quickTip,b.assign(this.props.templateInfo,{closeAction:this.closeQuickTip}));this.quickTipShowTimeoutId=null;this.isQuickTipShown=true;f.set(g,h+1);c.showFloatingBubble(j,i,this.props.propsForBubble,this.props.shouldNotHideOnMouseLeaveTarget)}.bind(this),this.props.delayBeforeShow)},closeQuickTip:function(){this.getEditorAPI().hideFloatingBubble();this.getEditorAPI().overlay.enableUpdate();this.isQuickTipShown=false},componentWillUnmount:function(){if(this.isQuickTipShown){if(this.props.delayBeforeNext){f(this.getEditorAPI(),this.sessionDisabledId,this.props.delayBeforeNext)}this.closeQuickTip()}if(this.quickTipShowTimeoutId){clearTimeout(this.quickTipShowTimeoutId)}},render:function(){return this.props.children}})});define("rEditor/componentsMetaData/components/popupOverlay",["lodash","react","baseUI","rEditor/rootComps/overlay/overlayWithHole","rEditor/rootComps/overlay/overlayWithQuickTip"],function(a,b,c,d,e){"use strict";function f(a){return{delayBeforeShow:500,delayBeforeNext:1500,quickTipSession:{id:"popupOverlayQuickTipShownFor-",maxNum:4},shouldNotHideOnMouseLeaveTarget:false,templateInfo:{text:"POPUPS_OVERLAY_HOVER_TOOLTIP",symbol:"idea-bulb"},propsForBubble:{noArrow:true,shake:false,behindPopUps:true,alignment:c.uiConstants.TOOLTIP.ALIGNMENT.RIGHT,closeTriggers:[c.uiConstants.TOOLTIP.TRIGGERS.CLICK],onMouseLeave:a.overlay.enableUpdate,onMouseEnter:a.overlay.disableUpdate}}}return{pinnable:false,shouldBeOverlayed:function(a,b){return!a.isMobileEditor()&&a.pages.popupPages.isPopup(b.id)},getOverlay:function(c,g){var h=b.createElement(d,{hole:c.pages.popupPages.getPopupContainer(),background:"rgba(127, 204, 247, 0.4)"});var i=b.createElement(e,a.assign({hoveredComp:g},f(c)),h);return i},getOverlayProperties:function(){return{enter:{duration:300,delay:500},leave:{duration:300}}}}});define("rEditor/componentsMetaData/components/page",["lodash","rEditor/componentsMetaData/components/popupOverlay","experiment"],function(a,b,c){"use strict";var d={pinnable:false};if(c.isOpen("popups")){a.assign(d,b)}return d});define("rEditor/componentsMetaData/components/boxSlideShow",["baseUI","boxSlideshow","gfppData"],function(a,b,c){"use strict";var d=b.utils.boxSlideShowUtils;var e="compPanels.panels.BoxSlideShow.backgroundPanel";function f(a,b){if(c.utils.isPanelOpen(e)){var f={selectedComponent:[d.findCurrentSlide(a,b)]};a.panelManager.updatePanelProps(e,f)}}function g(a,b){a.selection.selectComponentByCompRef(b)}return{slidesContainer:true,focusable:true,focusBoxNavType:a.uiConstants.NAVIGATION_TYPES.PAGINATION,canContain:false,canContainByStructure:false,focusBoxNavContent:function(a,b){return{label:"gfpp_action_navigation_label",labelParams:{curr_slide:d.getCurrentSlideIndex(a,b),total_slides:d.getTotalSlidesLength(a,b)},onNext:d.moveNextSlide.bind(null,a,b,f),onPrev:d.movePrevSlide.bind(null,a,b,f),onLabelClick:g.bind(null,a,b)}}}});define("rEditor/componentsMetaData/components/stripSlideShowMetaData",["baseUI","boxSlideshow","gfppData"],function(a,b,c){"use strict";var d=b.utils.boxSlideShowUtils;var e="compPanels.panels.StripContainerSlideShow.backgroundPanel";function f(a,b){if(c.utils.isPanelOpen(e)){var f={selectedComponent:[d.findCurrentSlide(a,b)]};a.panelManager.updatePanelProps(e,f)}}function g(a,b){a.selection.selectComponentByCompRef(b)}return{slidesContainer:true,focusable:true,focusBoxNavType:a.uiConstants.NAVIGATION_TYPES.PAGINATION,canContain:false,canContainByStructure:false,pinnable:false,focusBoxNavContent:function(a,b){return{label:"gfpp_action_navigation_label",labelParams:{curr_slide:d.getCurrentSlideIndex(a,b),total_slides:d.getTotalSlidesLength(a,b)},onNext:d.moveNextSlide.bind(null,a,b,f),onPrev:d.movePrevSlide.bind(null,a,b,f),onLabelClick:g.bind(null,a,b)}}}});define("rEditor/componentsMetaData/components/boxSlideShowSlide",[],function(){"use strict";return{selectable:false,slideContainer:true}});define("rEditor/componentsMetaData/components/stripSlideShowSlide",[],function(){"use strict";return{selectable:false,slideContainer:true}});define("rEditor/componentsMetaData/components/anchor",[],function(){"use strict";return{pinnable:false}});define("rEditor/componentsMetaData/components/collage",[],function(){"use strict";return{pinnable:false}});define("rEditor/componentsMetaData/components/wRichText",[],function(){"use strict";return{pinnable:false}});define("rEditor/componentsMetaData/components/group",[],function(){"use strict";return{pinnable:false,selectedBeforeDescendants:true}});define("rEditor/componentsMetaData/components/stripContainer",[],function(){"use strict";return{pinnable:false}});define("rEditor/componentsMetaData/components/stripColumnsContainer",[],function(){"use strict";return{selectedBeforeDescendants:function(a,b){return a.components.getChildren(b).length>1},pinnable:false}});define("rEditor/componentsMetaData/components/tpaSection",[],function(){"use strict";return{pinnable:false}});define("rEditor/componentsMetaData/components/column",["lodash","baseUI","util"],function(a,b,c){"use strict";function d(a,b){return a.components.getSiblings(b).length}function e(a,b){return a.isDesktopEditor()&&d(a,b)}return{showMarginsIndicator:e,focusable:d,focusBoxNavType:b.uiConstants.NAVIGATION_TYPES.TABS,focusBoxNavContent:function(b,d){var e=a.template(c.translate("gfpp_column_navigation_slide_number"));var f=b.components.getContainer(d);var g=b.components.getChildren(f);var h=a.findIndex(g,function(b){return a.isEqual(b,d)});return{tabs:[{id:"item_"+h,label:e({curr_column:h+1}),active:true}],onTabClick:function(){b.selection.selectComponentByCompRef(d)},translate:false}},selectable:d,movable:false,canMoveUp:false,verticallyMovable:false,disabledKnobs:function(b){var c=b.isMobileEditor();if(c){return a.values(b.components.layout.RESIZE_SIDES)}return a(b.components.layout.RESIZE_SIDES).omit("BOTTOM").values().value()},controlledByParent:true}});define("rEditor/componentsMetaData/components/popupCloseIconButton",[],function(){"use strict";return{duplicatable:false}});define("rEditor/componentsMetaData/components/popupCloseTextButton",[],function(){"use strict";return{duplicatable:false}});define("rEditor/componentsMetaData/components/popupContainerMetaData",["baseUI"],function(a){"use strict";var b={nineGrid:function(a){return a.horizontalAlignment==="center"},fullWidth:function(){return true},fullHeight:function(){return false}};return{pinnable:false,gridLinesVisible:function(a,c){var d=a.components.properties.get(c);var e=b[d.alignmentType];if(e){return e(d)}},focusable:true,focusBoxNavType:a.uiConstants.NAVIGATION_TYPES.TABS,focusBoxNavContent:function(a,b){return{tabs:[{id:"item",label:"component_label_PopupContainer_Popupmode",active:true}],onTabClick:function(){a.selection.selectComponentByCompRef(b)},translate:true}}}});define("rEditor/componentsMetaData/components/tinyMenu",[],function(){"use strict";return{pinnable:false,showLegacyFixedPosition:true}});define("rEditor/componentsMetaData/metaDataMap",["rEditor/componentsMetaData/components/bgImageStrip","rEditor/componentsMetaData/components/fiveGridLine","rEditor/componentsMetaData/components/footer","rEditor/componentsMetaData/components/header","rEditor/componentsMetaData/components/screenWidthContainer","rEditor/componentsMetaData/components/stripShowcase","rEditor/componentsMetaData/components/stripSlideshowGallery","rEditor/componentsMetaData/components/blogComponents","rEditor/componentsMetaData/components/rssButton","rEditor/componentsMetaData/components/tpaGluedWidget","rEditor/componentsMetaData/components/page","rEditor/componentsMetaData/components/boxSlideShow","rEditor/componentsMetaData/components/stripSlideShowMetaData","rEditor/componentsMetaData/components/boxSlideShowSlide","rEditor/componentsMetaData/components/stripSlideShowSlide","rEditor/componentsMetaData/components/anchor","rEditor/componentsMetaData/components/collage","rEditor/componentsMetaData/components/wRichText","rEditor/componentsMetaData/components/group","rEditor/componentsMetaData/components/stripContainer","rEditor/componentsMetaData/components/stripColumnsContainer","rEditor/componentsMetaData/components/tpaSection","rEditor/componentsMetaData/components/column","rEditor/componentsMetaData/components/popupCloseIconButton","rEditor/componentsMetaData/components/popupCloseTextButton","rEditor/componentsMetaData/components/popupContainerMetaData","rEditor/componentsMetaData/components/tinyMenu"],function(a,b,c,d,e,f,g,h,i,j,k,l,m,n,o,p,q,r,s,t,u,v,w,x,y,z,A){"use strict";return{"wysiwyg.viewer.components.BgImageStrip":a,"wysiwyg.viewer.components.FiveGridLine":b,"wysiwyg.viewer.components.FooterContainer":c,"wysiwyg.viewer.components.HeaderContainer":d,"wysiwyg.viewer.components.ScreenWidthContainer":e,"tpa.viewer.components.StripSlideshow":g,"tpa.viewer.components.StripShowcase":f,"wixapps.integration.components.AppPart":h,"wysiwyg.common.components.rssbutton.viewer.RSSButton":i,"wysiwyg.viewer.components.tpapps.TPAGluedWidget":j,"mobile.core.components.Page":k,"wysiwyg.viewer.components.BoxSlideShow":l,"wysiwyg.viewer.components.StripContainerSlideShow":m,"wysiwyg.viewer.components.BoxSlideShowSlide":n,"wysiwyg.viewer.components.StripContainerSlideShowSlide":o,"wysiwyg.common.components.anchor.viewer.Anchor":p,"tpa.viewer.components.Collage":q,"wysiwyg.viewer.components.WRichText":r,"wysiwyg.viewer.components.Group":s,"wysiwyg.viewer.components.StripContainer":t,"wysiwyg.viewer.components.StripColumnsContainer":u,"wysiwyg.viewer.components.tpapps.TPASection":v,"wysiwyg.viewer.components.Column":w,"wysiwyg.viewer.components.PopupCloseIconButton":x,"wysiwyg.viewer.components.PopupCloseTextButton":y,"wysiwyg.viewer.components.PopupContainer":z,"wysiwyg.viewer.components.mobile.TinyMenu":A}});define("rEditor/app/APISections/singleCompHandlers/componentsMetaData",["lodash","rEditor/componentsMetaData/metaDataMap"],function(a,b){"use strict";var c={pinnable:true,showLegacyFixedPosition:false,duplicatable:true,controlledByParent:false,containable:true,canContain:true,containableByStructure:true,canContainByStructure:true,focusable:false,movable:true,verticallyMovable:true,canMoveUp:true,resizable:true,rotatable:true,selectable:true,slidesContainer:false,slideContainer:false,showMarginsIndicator:false,selectedBeforeDescendants:false,disabledKnobs:[],resizeOnlyProportionally:false,shouldBeOverlayed:false};function d(d,e){if(!b[d]||a.isUndefined(b[d][e])){return c[e]}return b[d][e]}function e(b,c,e){var f=b.components.getType(e);var g=d(f,c);if(typeof g==="function"){var h=a.toArray(arguments);h.splice(1,1);return g.apply(this,h)}return g}var f={getRestrictions:function(b,c){var d=this;return a.reduce(c,function(a,c){a[c]=f.is[c].call(d,b);return a},{})},is:{controlledByParent:function(a){return e(this,"controlledByParent",a)},fixed:function(a){return this.documentServices.components.layout.get(a).fixedPosition},exist:function(a){return this.documentServices.components.is.exist(a)},container:function(a){return this.documentServices.components.is.container(a)},selectable:function(a){return e(this,"selectable",a)},siteSegment:function(b){var c=this.siteSegments.getRefs();return a.find(c,b)},removable:function(a){return this.documentServices.components.is.removable(a)},anchorableFrom:function(a){return this.documentServices.components.is.anchorableFrom(a)},anchorableTo:function(a){return this.documentServices.components.is.anchorableTo(a)},duplicatable:function(a,b){return e(this,"duplicatable",a,b)&&this.documentServices.components.is.duplicatable(a,b)},containable:function(a,b){return e(this,"containable",a,b)&&e(this,"canContain",b,a)&&this.documentServices.components.is.containable(a,b)},containableByStructure:function(b,c){var f=b.componentType;var g=d(f,"containableByStructure");var h=a.isFunction(g)?g(b,c):g;return h&&e(this,"canContainByStructure",c,b)&&this.documentServices.components.is.containableByStructure(b,c)},styleCanBeApplied:function(a,b){return this.documentServices.components.is.styleCanBeApplied(a,b)},movable:function(a){return e(this,"movable",a)&&this.documentServices.components.is.movable(a)},horizontallyMovable:function(a){return this.documentServices.components.is.horizontallyMovable(a)&&!this.components.layout.isPinned(a)&&!this.components.layout.isHorizontallyStretchedToScreen(a)},verticallyMovable:function(a){return e(this,"verticallyMovable",a)&&this.documentServices.components.is.verticallyMovable(a)&&!this.components.layout.isPinned(a)},canMoveUp:function(a){return e(this,"canMoveUp",a)&&this.documentServices.components.is.canMoveUp(a)},focusable:function(a){return e(this,"focusable",a)},fullWidth:function(a){return this.documentServices.components.is.fullWidth(a)},rotatable:function(a){return e(this,"rotatable",a)&&this.documentServices.components.is.rotatable(a)},slidesContainer:function(a){return e(this,"slidesContainer",a)},slideContainer:function(a){return e(this,"slideContainer",a)},hoverBox:function(a){return e(this,"hoverBox",a)},resizable:function(a){return e(this,"resizable",a)&&this.documentServices.components.is.resizable(a)},horizontallyResizable:function(a){return!this.components.layout.isHorizontallyStretchedToScreen(a)&&(this.documentServices.components.is.horizontallyResizable(a)||this.components.is.group(a))},verticallyResizable:function(a){return this.documentServices.components.is.verticallyResizable(a)||this.components.is.group(a)},proportionallyResizable:function(a){return!this.components.is.fullWidth(a)&&!this.components.layout.isPinned(a)&&!this.components.is.controlledByParent(a)&&this.components.is.horizontallyResizable(a)&&this.components.is.verticallyResizable(a)},resizeOnlyProportionally:function(a){return this.documentServices.components.is.resizeOnlyProportionally(a)},group:function(a){return this.documentServices.components.is.group(a)},groupable:function(a){return this.documentServices.components.is.groupable(a)&&!e(this,"controlledByParent",a)},topMost:function(a,b){return this.documentServices.components.is.topMost(a,b)},leftMost:function(a,b){return this.documentServices.components.is.leftMost(a,b)},groupedComponent:function(a){return this.documentServices.components.is.groupedComponent(a)},animatable:function(a,b){return this.documentServices.components.is.animatable(a,b)},pinnable:function(a){return e(this,"pinnable",a)&&this.components.layout.canBeFixedPosition(a)&&!this.components.is.fullWidth(a)&&!this.components.layout.isRotated(a)&&!this.components.layout.isHorizontallyStretchedToScreen(a)&&!this.components.is.controlledByParent(a)},showLegacyFixedPosition:function(a){return e(this,"showLegacyFixedPosition",a)},alignable:function(a){return this.documentServices.components.is.alignable(a)&&this.components.is.movable(a)},draggable:function(a){return this.components.is.movable(a)&&!this.components.layout.isPinned(a)&&!this.components.is.page(a)},showMarginsIndicator:function(a){return e(this,"showMarginsIndicator",a)},focusBoxNavType:function(a){return e(this,"focusBoxNavType",a)},focusBoxNavContent:function(a){return e(this,"focusBoxNavContent",a)},selectedBeforeDescendants:function(a){return e(this,"selectedBeforeDescendants",a)},disabledKnobs:function(a){return e(this,"disabledKnobs",a)},shouldBeOverlayed:function(a){return e(this,"shouldBeOverlayed",a)},getOverlay:function(a,b){return e(this,"getOverlay",a,b)},getOverlayProperties:function(a){return e(this,"getOverlayProperties",a)},gridLinesVisible:function(a){return e(this,"gridLinesVisible",a)}}};return f});define("rEditor/app/APISections/componentsFacade/componentsMetaDataFacade",["lodash","rEditor/utils/multiSelectHandler","rEditor/app/APISections/singleCompHandlers/componentsMetaData"],function(a,b,c){"use strict";return{controlledByParent:function(a){return b.call(this,a,{multiCompHandler:this.multiselect.is.controlledByParent,singleCompHandler:c.is.controlledByParent})},fixed:function(a){return b.call(this,a,{multiCompHandler:this.multiselect.is.fixed,singleCompHandler:c.is.fixed})},exist:function(a){return b.call(this,a,{multiCompHandler:this.multiselect.is.exist,singleCompHandler:c.is.exist})},container:function(a){return b.call(this,a,{multiCompHandler:this.multiselect.is.container,singleCompHandler:c.is.container})},selectable:function(a){return b.call(this,a,{multiCompHandler:this.multiselect.is.selectable,singleCompHandler:c.is.selectable})},siteSegment:function(a){return b.call(this,a,{multiCompHandler:this.multiselect.is.siteSegment,singleCompHandler:c.is.siteSegment})},siblings:function(b){if(a.includes(b,undefined)){return false}var c=b.pop();var d=this.components.getSiblings(c);return a.every(b,function b(c){return a.find(d,c)})},removable:function(a){return b.call(this,a,{multiCompHandler:this.multiselect.is.removable,singleCompHandler:c.is.removable})},duplicatable:function(a,d){return b.call(this,a,d,{multiCompHandler:this.multiselect.is.duplicatable,singleCompHandler:c.is.duplicatable})},showMarginsIndicator:function(a,d){return b.call(this,a,d,{multiCompHandler:this.multiselect.is.showMarginsIndicator,singleCompHandler:c.is.showMarginsIndicator})},showLegacyFixedPosition:function(a){return b.call(this,a,{multiCompHandler:this.multiselect.is.showLegacyFixedPosition,singleCompHandler:c.is.showLegacyFixedPosition})},containable:function(a,d){return b.call(this,a,d,{multiCompHandler:this.multiselect.is.containable,singleCompHandler:c.is.containable})},containableByStructure:function(a,d){return b.call(this,a,d,{multiCompHandler:this.multiselect.is.containableByStructure,singleCompHandler:c.is.containableByStructure})},styleCanBeApplied:function(a){return b.call(this,a,{multiCompHandler:this.multiselect.is.styleCanBeApplied,singleCompHandler:c.is.styleCanBeApplied})},movable:function(a){return b.call(this,a,{multiCompHandler:this.multiselect.is.movable,singleCompHandler:c.is.movable})},horizontallyMovable:function(a){return b.call(this,a,{multiCompHandler:this.multiselect.is.horizontallyMovable,singleCompHandler:c.is.horizontallyMovable})},verticallyMovable:function(a){return b.call(this,a,{multiCompHandler:this.multiselect.is.verticallyMovable,singleCompHandler:c.is.verticallyMovable})},canMoveUp:function(a){return b.call(this,a,{multiCompHandler:this.multiselect.is.canMoveUp,singleCompHandler:c.is.canMoveUp})},fullWidth:function(a){return b.call(this,a,{multiCompHandler:this.multiselect.is.fullWidth,singleCompHandler:c.is.fullWidth})},resizable:function(a){return b.call(this,a,{multiCompHandler:this.multiselect.is.resizable,singleCompHandler:c.is.resizable})},horizontallyResizable:function(a){return b.call(this,a,{multiCompHandler:this.multiselect.is.horizontallyResizable,singleCompHandler:c.is.horizontallyResizable})},verticallyResizable:function(a){return b.call(this,a,{multiCompHandler:this.multiselect.is.verticallyResizable,singleCompHandler:c.is.verticallyResizable})},proportionallyResizable:function(a){return b.call(this,a,{multiCompHandler:this.multiselect.is.proportionallyResizable,singleCompHandler:c.is.proportionallyResizable})},resizeOnlyProportionally:function(a){return b.call(this,a,{multiCompHandler:this.multiselect.is.resizeOnlyProportionally,singleCompHandler:c.is.resizeOnlyProportionally})},group:function(a){return b.call(this,a,{multiCompHandler:this.multiselect.is.group,singleCompHandler:c.is.group})},groupable:function(a){return b.call(this,a,{multiCompHandler:this.multiselect.is.groupable,singleCompHandler:c.is.groupable})},page:function(a){var b=this.components.asArray(a);return this.pages.isPageExist(b[0].id)},topMost:function(a,d){return b.call(this,a,d,{multiCompHandler:this.multiselect.is.topMost,singleCompHandler:c.is.topMost})},leftMost:function(a,d){return b.call(this,a,d,{multiCompHandler:this.multiselect.is.leftMost,singleCompHandler:c.is.leftMost})},groupedComponent:function(a){return b.call(this,a,{multiCompHandler:this.multiselect.is.groupedComponent,singleCompHandler:c.is.groupedComponent})},rotatable:function(a){return b.call(this,a,{multiCompHandler:this.multiselect.is.rotatable,singleCompHandler:c.is.rotatable})},animatable:function(a,d){return b.call(this,a,d,{multiCompHandler:this.multiselect.is.animatable,singleCompHandler:c.is.animatable})},pinnable:function(a){return b.call(this,a,{multiCompHandler:this.multiselect.is.pinnable,singleCompHandler:c.is.pinnable})},focusable:function(a){return b.call(this,a,{multiCompHandler:this.multiselect.is.focusable,singleCompHandler:c.is.focusable})},slidesContainer:function(a){return b.call(this,a,{multiCompHandler:this.multiselect.is.slidesContainer,singleCompHandler:c.is.slidesContainer})},slideContainer:function(a){return b.call(this,a,{multiCompHandler:this.multiselect.is.slideContainer,singleCompHandler:c.is.slideContainer})},hoverBox:function(a){return b.call(this,a,{multiCompHandler:this.multiselect.is.hoverBox,singleCompHandler:c.is.hoverBox})},alignable:function(a){return b.call(this,a,{multiCompHandler:this.multiselect.is.alignable,singleCompHandler:c.is.alignable})},draggable:function(a){return b.call(this,a,{multiCompHandler:this.multiselect.is.draggable,singleCompHandler:c.is.draggable})},anchorableFrom:function(a){return b.call(this,a,{multiCompHandler:this.multiselect.is.anchorableFrom,singleCompHandler:c.is.anchorableFrom})},anchorableTo:function(a){return b.call(this,a,{multiCompHandler:this.multiselect.is.anchorableTo,singleCompHandler:c.is.anchorableTo})},focusBoxNavType:function(a){return b.call(this,a,{multiCompHandler:this.multiselect.is.focusBoxNavType,singleCompHandler:c.is.focusBoxNavType})},focusBoxNavContent:function(a){return b.call(this,a,{multiCompHandler:this.multiselect.is.focusBoxNavContent,singleCompHandler:c.is.focusBoxNavContent})},potentialContainerForScreenWidthComp:function(a){var b=this.components.asArray(a);return b.length===1&&this.documentServices.components.is.potentialContainerForScreenWidthComp(b[0])},selectedBeforeDescendants:function(a){return b.call(this,a,{multiCompHandler:this.multiselect.is.selectedBeforeDescendants,singleCompHandler:c.is.selectedBeforeDescendants})},disabledKnobs:function(a){return b.call(this,a,{multiCompHandler:this.multiselect.is.disabledKnobs,singleCompHandler:c.is.disabledKnobs})},shouldBeOverlayed:function(a){return c.is.shouldBeOverlayed.call(this,a)},getOverlay:function(a){return c.is.getOverlay.call(this,a)},getOverlayProperties:function(a){return c.is.getOverlayProperties.call(this,a)},gridLinesVisible:function(a){return c.is.gridLinesVisible.call(this,a)}}});define("rEditor/app/APISections/componentsWrapper",["lodash","core","util","rEditor/utils/removeUtil","rEditor/utils/multiSelectHandler","rEditor/app/APISections/componentsFacade/layoutWrapper","rEditor/app/APISections/componentsFacade/arrangementFacade","rEditor/app/APISections/componentsFacade/behaviorsFacade","rEditor/app/APISections/componentsFacade/componentsMetaDataFacade","rEditor/app/APISections/singleCompHandlers/componentsMetaData","experiment"],function(a,b,c,d,e,f,g,h,i,j,k){"use strict";function l(b){if(a.isArray(b)){return b}return[b]}function m(b,c){return a.every(c,function(c,d){return a.isEqual(b[d],c)})}function n(a,b){return e.call(a,b,{multiCompHandler:a.multiselect.componentModes.applyCurrentToAllModes,singleCompHandler:a.documentServices.components.modes.applyCurrentToAllModes})}function o(a,b,c){a.documentServices.components.modes.applyComponentToMode(b,c)}function p(b,c){if(k.isOpen("se_hoverBox")&&this.components.modes.isCompDefaultModeActive(b)){c=[].concat(c);var d=this;return function(){a.forEach(c,function(a){n(d,a)})}}return a.noop}function q(c,d,e){var f=this.documentServices.components.properties;var g=f.get(c);var h=!g||!m(g,d);var i=f.mobile.isForked(c);if(!h){return}d.type=a.get(d,"type")||a.get(g,"type");d=b.utils.updatePropertiesUtil.fixProperties(d,c,this.documentServices,this.isMobileEditor());if(this.isMobileEditor()&&g&&!i){f.mobile.fork(c)}f.update(c,d);if(!e){this.history.debouncedAdd("comp properties changed")}this.pluginService.getPlugin("propertiesChange","*")(c,d)}function r(a,c,d){c.type=c.type||this.components.data.get(a).type;c=b.utils.updateDataUtil.fixData(c);var e=this.components.data.get(a);var f=!e||!m(e,c);if(f){this.documentServices.components.data.update(a,c);if(!d){this.history.debouncedAdd("comp data changed")}}}function s(a,c,d,e){c.type=c.type||this.components.design.get(a).type;c=b.utils.updateDataUtil.fixData(c);var f=this.components.design.get(a);var g=!f||!m(f,c);if(g){u.call(this,a,c,d);this.documentServices.components.design.update(a,c,d);if(!e){this.history.debouncedAdd("comp design changed")}}}function t(b){var d=a.clone(b);if(a.has(b,"id")){var e="mobile_designItem";b.id=c.guidUtils.getUniqueId(e,"_")}a.forEach(d,function(b,c){if(a.isObject(b)){d[c]=t(b)}});return d}function u(a,b,c){var d=this.documentServices.viewMode.VIEW_MODES.MOBILE;if(a.type===d){b.metaData=b.metaData||{};b.metaData.mobileEdited=true}else{var e=this.documentServices.components.getPage(a).id;var f=this.documentServices.components.get.byId(a.id,e,d);if(f&&this.documentServices.components.is.exist(f)){var g=this.documentServices.components.design.get(f);if(g.metaData&&g.metaData.mobileEdited!==true){var h=t(b);this.documentServices.components.design.update(f,h,c)}}}}function v(b,c){var d=this.selection.getSelectedComponents();var e=this.selection.getFocusedContainer(d);if(d&&!this.documentServices.components.modes.isComponentDisplayedInModes(a.first(d),[c])){this.selection.selectComponentByCompRef(e)}this.documentServices.components.modes.activateComponentMode(b,c)}function w(a){return e.call(this,a,{multiCompHandler:this.multiselect.componentModes.addDefaultAnimationIfNeeded,singleCompHandler:this.components.modes.addDefaultAnimationIfNeeded})}function x(){return{defaultInAnimtaion:{action:"modeIn",name:"FadeIn",delay:0,duration:.35},defaultOutAnimtaion:{action:"modeOut",name:"FadeOut",delay:0,duration:.35}}}function y(b,c){return a.zipWith(b,c,function(a,b){return{ref:a,root:b}})}function z(b,c){return a.zipWith(b,c,function(a,b){return{ref:a,ancestor:b}})}function A(a){if(k.isOpen("se_hoverBox")){var b=l(a)[0];var c=this.components.modes.getFirstAncestorWithActiveModes(b);if(c){var d=this.components.modes.isCompDefaultModeActive(c);this.waitForChangesApplied(function(){this.tabIndicationState.activateAddAnimation(d)}.bind(this))}}}return{layouters:{getNonMasterChildren:function(a){return e.call(this,a,{multiCompHandler:this.multiselect.getNonMasterChildren,singleCompHandler:this.documentServices.layouters.getNonMasterChildren})},getParentCompWithOverflowHidden:function(a){return e.call(this,a,{multiCompHandler:this.multiselect.getParentCompWithOverflowHidden,singleCompHandler:this.documentServices.layouters.getParentCompWithOverflowHidden})}},components:{onPreviewReady:function(c){var d=b.utils.componentPreviewReadyPlugins;a.forEach(d,function(a){a(c)},this)},getPage:function(a){return e.call(this,a,{multiCompHandler:this.multiselect.getPage,singleCompHandler:this.documentServices.components.getPage})},asArray:function(b){return a.compact(a.isArray(b)?b:[b])},reset:function(){this.clipboard.setItem(b.constants.EDITOR_CLIPBOARD_TYPES.COMPONENT,undefined)},isShowOnAllPages:function(a){return e.call(this,a,{multiCompHandler:this.multiselect.isShowOnAllPages,singleCompHandler:this.documentServices.components.isShowOnAllPages})},cut:function(b){var c=this.selection.getSelectedComponents();c=this.multiselect.getComponentsWhichDontHaveAncestorsInTheArray(c);b=this.multiselect.getComponentsWhichDontHaveAncestorsInTheArray(b);if(a.isEqual(c,b)){this.selection.deselectComponents()}if(this.isMobileEditor()){this.openCantCopyPastePanel();return}if(this.components.is.duplicatable(b)){this.components.copy(b,true);var e=this;a.forEach(b,function(a){d.cutComponent(this.documentServices,a,e.cutComponentPlugins)},this)}},add:function(c,d,e,f){var g=b.utils.addUtil.addComponent(this,this.documentServices.components.add,c,d,e,f);if(k.isOpen("se_hoverBox")){var h=!a.isEmpty(this.components.modes.getModes(c));if(h){var i=this.components.modes.isCompDefaultModeActive(c);if(!i){var j=this.components.modes.getComponentActiveModeIds(c);this.components.modes.showComponentOnlyInModesCombination(g,a.keys(j))}this.tabIndicationState.activateAddAnimation(i)}}if(this.utils.isSameRef(c,this.siteSegments.getHeader())){this.openDragToHeaderPanel()}if(!k.isOpen("dontCloseAddPanelOnAdd")){this.panelManager.closePanelByName("addPanelInfra.addPanel")}return g},addAndAdjustLayout:function(a,c,d,e){return b.utils.addUtil.addComponent(this,this.documentServices.components.addAndAdjustLayout,a,c,d,e)},remove:function(b,c){var e=a.noop;var f=this;var g=this.selection.getFocusedContainer();var h=f.components.asArray(b);if(!f.components.is.removable(h)){a.forEach(h,function(a){var b=f.components.getType(a);if(f.cannotRemovePlugins[b]){f.cannotRemovePlugins[b](a)}});return}if(g&&!a.find(h,g)){f.selection.selectComponentByCompRef(g)}else if(!c||!c.isReplacingComp){f.selection.deselectComponents(h)}if(k.isOpen("se_hoverBox")){w.call(this,b)}if(f.components.is.controlledByParent(b)){var i=f.components.getContainer(b);var j=f.selection.getSelectedComponents();var m=a.isEqual(i,j&&j[0]);e=m?a.noop:function(){if(f.components.is.exist(i)){f.panelManager.closeAllPanels();f.selection.selectComponentByCompRef(i,null)}else{f.selection.deselectComponents()}}}d.removeComponent(f.documentServices,f.removePlugins,h,f,e,c);if(k.isOpen("se_hoverBox")){var n=this.components.modes.getFirstAncestorWithActiveModes(l(b)[0]);if(n){this.waitForChangesApplied(function(){this.tabIndicationState.activateDeleteAnimation()}.bind(this))}}},setContainer:function(b,c){var d=this.components.isShowOnAllPages(b);var f=l(b);var g=a.map(f,this.components.getPage);var h=a.map(f,this.components.modes.getFirstAncestorWithActiveModes);var i=e.call(this,b,c,{multiCompHandler:this.multiselect.setContainer,singleCompHandler:this.documentServices.components.setContainer});var j=l(i);var k=y(j,g);var m=z(j,h);this.pluginService.getPlugin("setContainer","*")(c,k,m,this.components,this.behaviors);if(!d&&this.utils.isSameRef(c,this.siteSegments.getHeader())){this.openDragToHeaderPanel()}this.setStateUpdateCallback(function(){var a=this.selection.getSelectedComponents();return{focusedContainer:this.selection.getParentToFocus(a)}}.bind(this));var n=p.call(this,c,b);this.waitForChangesApplied(function(){n();A.call(this,b)}.bind(this));return i},reparentComponentToPage:function(a,b){var c=e.call(this,a,b,{multiCompHandler:this.multiselect.reparentComponentToPage,singleCompHandler:this.documentServices.components.reparentComponentToPage});return c},getType:function(a){return e.call(this,a,{multiCompHandler:this.multiselect.getType,singleCompHandler:this.documentServices.components.getType})},getSiblings:function(a){return e.call(this,a,{multiCompHandler:this.multiselect.getSiblings,singleCompHandler:this.documentServices.components.getSiblings})},getChildren:function(a,b){return e.call(this,a,b,{multiCompHandler:this.multiselect.getChildren,singleCompHandler:this.documentServices.components.getChildren})},getDisplayName:function(a){var b=this.documentServices.components.getType(a);var d=this.compNamePlugins[b]?this.compNamePlugins[b](a):c.translate("component_label_"+b.split(".").pop());return d},getNickname:function(a){return this.documentServices.components.code.getNickname(a)},ungroup:function(a){var b=this.components.asArray(a);if(!this.components.is.exist(b[0])){return}var c=this.documentServices.components.getChildren(b[0]);
this.selection.selectComponentByCompRef(c);this.documentServices.components.ungroup(b[0]);this.history.add("ungroup")},getIconInfo:function(a,b){var d=this.documentServices.components.getType(a);if(this.compIconPlugins[d]){return this.compIconPlugins[d](a)}return c.compIcon.getCompIconInfo(a,d,b,this)},getContainer:function(a){var b=this.components.asArray(a);return this.documentServices.components.getContainer(b[0])},moveToFooter:function(b){var c=15;var d=a.negate(this.components.is.controlledByParent);var e=d(b)?b:this.utils.findAncestorMatchesCondition(b,d);var f=this.components.layout.getRelativeToStructure(e);var g=this.siteSegments.getFooter();var h=this.components.layout.get(g);var i=this.components.setContainer(e,g);var j=h.height<f.bounding.height+c;if(j){this.components.layout.update(g,{height:f.bounding.height+2*c})}this.waitForChangesApplied(function(){this.components.layout.update(i,{y:f.y-f.bounding.y+c})}.bind(this))},isDescendantOfComp:function(a,b){return e.call(this,a,b,{multiCompHandler:this.multiselect.isDescendantOfComp,singleCompHandler:this.documentServices.components.isDescendantOfComp})},isAscendantOfComp:function(b,c){return a.some(b,function(a){return this.components.isDescendantOfComp(c,a)},this)},getDefaultBiParams:function(a){var b=this.components.asArray(a);return{componentType:this.components.getType(a),component_id:b[0].id}},data:{update:function(a,b,c){e.call(this,a,b,c,{multiCompHandler:this.multiselect.data.update,singleCompHandler:r})},get:function(a){return e.call(this,a,{multiCompHandler:this.multiselect.data.get,singleCompHandler:this.documentServices.components.data.get})},remove:function(a,b){e.call(this,a,{multiCompHandler:this.multiselect.data.remove,singleCompHandler:this.documentServices.components.data.remove});if(!b){this.history.add("comp data removed")}}},design:{update:function(a,b,c,d){if(this.documentServices.components.design){e.call(this,a,b,c,d,{multiCompHandler:this.multiselect.data.update,singleCompHandler:s})}return null},get:function(a){if(this.documentServices.components.design){return e.call(this,a,{multiCompHandler:this.multiselect.data.get,singleCompHandler:this.documentServices.components.design.get})}return null},remove:function(a,b){if(this.documentServices.components.design){e.call(this,a,{multiCompHandler:this.multiselect.design.remove,singleCompHandler:this.documentServices.components.design.remove});if(!b){this.history.add("comp design removed")}}}},properties:{update:function(a,b,c){return e.call(this,a,b,c,{multiCompHandler:this.multiselect.properties.update,singleCompHandler:q})},get:function(a){return e.call(this,a,{multiCompHandler:this.multiselect.properties.get,singleCompHandler:this.documentServices.components.properties.get})}},alignment:{align:function(a,b){e.call(this,a,b,{multiCompHandler:this.multiselect.alignment.align,singleCompHandler:this.documentServices.components.alignment.alignInContainer});this.history.add("component - align - "+b)},canAlign:function(a,b){return this.documentServices.components.alignment.canAlign(a,b)}},multiComponents:{distribute:function(b,c){e.call(this,b,c,{multiCompHandler:this.multiselect.multiComponents.distribute,singleCompHandler:a.noop});this.history.add("component - distribute - "+c)},matchSize:function(b,c){e.call(this,b,c,{multiCompHandler:this.multiselect.multiComponents.matchSize,singleCompHandler:a.noop});this.history.add("component - matchSize - "+c)},canDistribute:function(a,b){return this.documentServices.components.multiComponents.canDistribute(a,b)},canMatchSize:function(a,b){return this.documentServices.components.multiComponents.canMatchSize(a,b)}},layout:f,style:{getId:function(a){var b=this.components.asArray(a);if(this.multiselect.isMultiselect(b)){throw"components.style.getId isn't supported for multi select"}return this.documentServices.components.style.getId(b[0])},setId:function(a,b){var c=this.components.asArray(a);if(this.multiselect.isMultiselect(c)){throw"components.style.setId isn't supported for multi select"}return this.documentServices.components.style.setId(c[0],b)},update:function(a,b){var c=this.components.asArray(a);if(this.multiselect.isMultiselect(c)){throw"components.style.update isn't supported for multi select"}return this.documentServices.components.style.update(c[0],b)}},arrangement:g,getRestrictions:function(a,b){return e.call(this,a,b,{multiCompHandler:this.multiselect.getRestrictions,singleCompHandler:j.getRestrictions})},is:i,skin:{getComponentSkinExports:function(a){return e.call(this,a,{multiCompHandler:this.multiselect.skin.getComponentSkinExports,singleCompHandler:this.documentServices.components.skin.getComponentSkinExports})},get:function(a){return e.call(this,a,{multiCompHandler:this.multiselect.skin.get,singleCompHandler:this.documentServices.components.skin.get})}},behaviors:h,code:{setNickname:function(a,b){this.documentServices.components.code.setNickname(a,b);this.history.debouncedAdd("comp nick name changed")}},canToggleShowOnAllPages:function(a){return this.components.canShowOnAllPages(a)&&this.components.canShowOnCurrentPage(a)},canShowOnCurrentPage:function(a){var b=this.documentServices.pages.getFocusedPage();return this.components.is.containable(a,b)&&!this.components.isDescendantOfComp(a,this.siteSegments.getFooter())},canShowOnAllPages:function(b){b=this.components.asArray(b);var c=this.documentServices.siteSegments.getSiteStructure();var d=a.some(b,function a(b){return this.documentServices.components.is.groupedComponent(b)},this);var e=this.components.is.containable(b,c)&&!a.some(b,this.components.is.controlledByParent);return!this.isCurrentPageLandingPage()&&e&&!d&&!(k.isOpen("popups")&&this.pages.popupPages.isPopupOpened())},setShowOnAllPages:function(a,b){var c;a=this.multiselect.getComponentsWhichDontHaveAncestorsInTheArray(a);if(b){c=this.documentServices.siteSegments.getSiteStructure()}else{c=this.documentServices.pages.getReference(this.pages.getPrimaryPageId())}return this.components.setContainer(a,c)},toggleShowOnAllPages:function(a){var b=this.selection.getSelectedComponents();var c=!this.components.isShowOnAllPages(a);var d=this.components.setShowOnAllPages(a,c);if(b===a){this.selection.selectComponentByCompRef(d)}this.history.add(c?"Show component on all pages":"Show component on current page")},modes:{activateComponentMode:function(a,b){if(k.isOpen("se_hoverBox")){v.call(this,a,b)}},applyCurrentToAllModes:function(b){if(k.isOpen("se_hoverBox")&&!a.isEmpty(b)){var c=n(this,b);this.waitForChangesApplied(function(){this.tabIndicationState.activateApplyToOthersAnimation()}.bind(this));this.history.add("comp applyCurrentToAllModes");return c}},applyComponentToMode:function(a,b){if(k.isOpen("se_hoverBox")){return o(this,a,b)}},isCompDefaultModeActive:function(b){var c=this.documentServices.components.modes.getTypes().DEFAULT;var d=a.first(this.documentServices.components.modes.getModesByType(b,c));if(d){var e=this.documentServices.components.modes.getComponentActiveModeIds(b);return a.includes(a.keys(e),d.modeId)}return false},addDefaultAnimationIfNeeded:function(a){var b=x();var c=this.components.is.animatable(a,b.defaultInAnimtaion.action);var d=this.documentServices.components.modes.getFirstAncestorWithActiveModes(a);if(d&&c){var e=this.components.modes.isCompDefaultModeActive(d);var f=this.documentServices.components.modes.isDisplayedByDefault(a);var g=!e&&f;if(g){this.documentServices.components.behaviors.update(a,b.defaultInAnimtaion);this.documentServices.components.behaviors.update(a,b.defaultOutAnimtaion)}}},getFirstAncestorOrSelfWithModeDefinitions:function(a){var b=a;while(b&&!this.components.modes.getModes(b)){b=this.components.getContainer(b)}return b},getFirstAncestorWithModeDefinitions:function(a){var b=this.components.getContainer(a);return this.components.modes.getFirstAncestorOrSelfWithModeDefinitions(this.components,b)}}}}});define("rEditor/app/APISections/componentDetectorWrapper",["lodash"],function(a){"use strict";function b(b){return a.filter(b,this.documentServices.components.is.visible)}return{components:{getAllComponents:function(a,c){return b.call(this,this.documentServices.components.getAllComponents(a,c))},get:{byXYRelativeToStructure:function(a,c,d,e){return b.call(this,this.documentServices.components.get.byXYRelativeToStructure(a,c,d,e))},byXYRelativeToScreen:function(a,c,d,e){return b.call(this,this.documentServices.components.get.byXYRelativeToScreen(a,c,d,e))},byType:function(a,c){return b.call(this,this.documentServices.components.get.byType(a,c))}}}}});define("rEditor/app/APISections/rulersAPI",["lodash","core","util"],function(a,b,c){"use strict";function d(){var a=this.rulers.getGuidesState();this.rulersHistory={stack:[a],currentIndex:0}}function e(){if(this.rulers.canUndo()){z.call(this);this.rulersHistory.currentIndex-=1;var a=this.rulersHistory.stack[this.rulersHistory.currentIndex];w.call(this,a)}}function f(){if(this.rulers.canRedo()){z.call(this);this.rulersHistory.currentIndex+=1;var a=this.rulersHistory.stack[this.rulersHistory.currentIndex];w.call(this,a)}}function g(){return this.rulersHistory.currentIndex>0}function h(){return this.rulersHistory.stack.length>this.rulersHistory.currentIndex+1}function i(c){var d=c.guidesState;this.userPreferences.site.set(b.constants.USER_PREFS.VIEW_TOOLS.GUIDES_STATE,d);t.call(this,c);if(!a.isEqual(this.rulersHistory.stack[this.rulersHistory.currentIndex],c.guidesState)){this.rulersHistory.stack=a.take(this.rulersHistory.stack,this.rulersHistory.currentIndex+1);this.rulersHistory.stack.push(d);this.rulersHistory.currentIndex+=1}}function j(){return this.editor.state.viewTools.rulersEnabled}function k(b,c){var d=a.cloneDeep(this.editor.state.viewTools.rulers);d[b]=c;return d}function l(){var b;if(a.get(this,"editor.state.viewTools.rulers")){b=a.cloneDeep(this.editor.state.viewTools.rulers.guidesState)}b=a.isEmpty(b)?q():b;return b}function m(){var a=l.call(this);return this.isMobileEditor()?a.mobile.horizontalGuides:a.desktop.horizontalGuides}function n(){var a=l.call(this);return this.isMobileEditor()?a.mobile.verticalGuides:a.desktop.verticalGuides}function o(b){var c=this.rulers.getGuidesState();var d;if(a.some(c.mobile.verticalGuides,"guideId",b)){d="mobile.verticalGuides"}else if(a.some(c.mobile.horizontalGuides,"guideId",b)){d="mobile.horizontalGuides"}else if(a.some(c.desktop.verticalGuides,"guideId",b)){d="desktop.verticalGuides"}else if(a.some(c.desktop.horizontalGuides,"guideId",b)){d="desktop.horizontalGuides"}var e=a.find(a.get(c,d),{guideId:b}).guidePosition;return{guideId:b,guidePosition:e,guidePath:d}}function p(){var a=this.editor.state.viewTools.rulers.selectedGuide;return o.call(this,a)}function q(){return{desktop:{verticalGuides:[],horizontalGuides:[]},mobile:{verticalGuides:[],horizontalGuides:[]}}}var r=0;function s(a){r++;return{guideId:"GUIDE_"+Date.now().toString(36)+r.toString(36),guidePosition:a}}function t(a){this.updateEditorViewTools("rulers",a)}function u(a,c){var e=!j.call(this);this.updateEditorViewTools("rulersEnabled",e);this.userPreferences.site.set(b.constants.USER_PREFS.VIEW_TOOLS.RULERS_ENABLED,e,a,c);d.call(this)}function v(b,c){var d=a.clone(this.editor.state.viewTools.rulers);d[b]=c;t.call(this,d)}function w(a){this.userPreferences.site.set(b.constants.USER_PREFS.VIEW_TOOLS.GUIDES_STATE,a);v.call(this,"guidesState",a)}function x(b){var c=a.clone(this.editor.state.viewTools.rulers);c.isDragging=false;if(!b){c.isHovered=false}t.call(this,c)}function y(a,b){if(b){this.rulers.sendBIEvent("GUIDE_TOOLTIP_IN_EDIT_MODE",{origin:b})}if(a){this.selection.deselectComponents();c.keyboardShortcuts.setContext(c.keyboardShortcuts.CONTEXTS.RULERS)}v.call(this,"selectedGuide",a)}function z(){this.rulers.selectGuide(null);c.keyboardShortcuts.setContext(this.getPreviewMode()?c.keyboardShortcuts.CONTEXTS.PREVIEW:c.keyboardShortcuts.CONTEXTS.EDITOR)}function A(b,d){var e=l.call(this);var f=s(d);a.get(e,b).push(f);var g=k.call(this,"guidesState",e);this.selection.deselectComponents();g.selectedGuide=f.guideId;c.keyboardShortcuts.setContext(c.keyboardShortcuts.CONTEXTS.RULERS);i.call(this,g);return f.guideId}function B(a){var b=L("vertical",this.isMobileEditor());return A.call(this,b,a)}function C(a){var b=L("horizontal",this.isMobileEditor());return A.call(this,b,a)}function D(b,c,d){var e=L(b,this.isMobileEditor());var f=F.call(this,e,c);var g={guidePosition:d,guideId:c};a.get(f,e).push(g);var h=k.call(this,"guidesState",f);i.call(this,h)}function E(b,c){var d=p.call(this);if(a.includes(d.guidePath,b)){this.rulers.changeGuidePosition(b,d.guideId,d.guidePosition+c)}}function F(b,c){var d=l.call(this);var e=a.reject(a.get(d,b),{guideId:c});a.set(d,b,e);return d}function G(a){var b=o.call(this,a);var d=F.call(this,b.guidePath,b.guideId);var e=k.call(this,"guidesState",d);e.selectedGuide=null;c.keyboardShortcuts.setContext(this.getPreviewMode()?c.keyboardShortcuts.CONTEXTS.PREVIEW:c.keyboardShortcuts.CONTEXTS.EDITOR);i.call(this,e)}function H(){G.call(this,this.editor.state.viewTools.rulers.selectedGuide)}function I(){this.rulers.sendBIEvent("GUIDE_DELETED",{origin:"delete_button"});H.call(this)}function J(c,d){var e=b.bi.events.rulers[c];var f={editor_view_mode:this.getDeviceType()};a.merge(f,d);this.bi.event(e,f)}function K(a){var b=this.siteSegments.getPagesContainerAbsLayout();return a+Math.round(b.x)}function L(a,b){var c=b?"mobile.":"desktop.";return c+a+"Guides"}return{rulers:{getGuidesState:l,getHorizontalGuides:m,getVerticalGuides:n,isRulersEnabled:j,toggleRulers:u,getGuidesInitialState:q,setVerticalGuide:B,setHorizontalGuide:C,removeSelectedGuide:H,removeGuideById:G,selectGuide:y,deselectGuide:z,changeGuidePosition:D,updateEditorRulersState:v,getVerticalGuideRealPosition:K,sendBIEvent:J,undo:e,redo:f,canUndo:g,canRedo:h,resetRulersHistory:d,updateStateOnDragEnd:x,getSelectedGuideData:p,removeGuideViaDelBtn:I,changeGuidePositionByPixels:E}}});define("rEditor/app/APISections/tabIndicationState",[],function(){"use strict";function a(){this.editor.setState({tabIndicationState:{indication:"DELETE",defaultMode:undefined}},d.bind(this))}function b(a){this.editor.setState({tabIndicationState:{indication:"ADD",defaultMode:a}},d.bind(this))}function c(){this.editor.setState({tabIndicationState:{indication:"APPLY",defaultMode:undefined}},d.bind(this))}function d(){this.editor.setState({tabIndicationState:{indication:"INACTIVE",defaultMode:undefined}})}function e(){return this.editor.state.tabIndicationState}return{tabIndicationState:{activateDeleteAnimation:a,activateAddAnimation:b,activateApplyToOthersAnimation:c,getState:e}}});define("rEditor/app/APISections/feedback",["lodash","jquery","constants"],function(a,b,c){"use strict";var d="http://feedback.wix.com/_api/feedback-server/getNewCommentsCount/";var e="http://feedback.wix.com/_api/feedback-server/siteIsShared/";function f(){var a=this.generalInfo.getSiteId();var b=this.generalInfo.getMetaSiteId();return d+a+"?metaSiteId="+b}function g(){return e+this.generalInfo.getSiteId()+"?metaSiteId="+this.generalInfo.getMetaSiteId()}function h(a){if(this.editor.state.unreadComments!==a){this.editor.setState({unreadComments:a})}}function i(){var a=f.call(this);b.ajax({url:a,type:"GET",xhrFields:{withCredentials:true},success:function(a){h.call(this,a.count)}.bind(this)})}var j={init:function(){var a=this;if(!a.account.isUserOwner()){return}var d=g.call(a);b.ajax({url:d,type:"GET",xhrFields:{withCredentials:true},success:function(b){if(b.shared){h.call(a,b.count);i.call(a);setInterval(i.bind(a),c.FEEDBACK.CHECK_COMMENTS_INTERVAL)}else{setTimeout(a.feedback.init,c.FEEDBACK.CHECK_SITE_SHARED_INTERVAL)}}})},getNewCommentsCounter:function(){var a=this;return a.editor.state.unreadComments}};return{feedback:j}});define("rEditor/app/APISections/mainMenuWrapper",["lodash","pagesMenu","experiment"],function(a,b,c){"use strict";var d=b.specialPages.menuLogic;var e=/Link$/;function f(a){return a.replace("#","")}function g(b,c){var d;a.some(c,function(a){if(a.type.isPage&&!b.pages.isHomePage(a.pageData.id)){d=a;return true}if(a.items&&a.items.length){d=g(b,a.items);if(d){return true}}});return d}function h(b,c){var d;a.some(b,function(a){var b=a.link&&a.link.pageId;var e=b&&b.substr(1);if(e===c){d=a;return true}if(a.items&&a.items.length){d=h(a.items,c);if(d){return true}}});return d}function i(a,b){var d=b.link&&b.link.type,f=b.link&&b.link.pageId,g=d==="PageLink",h=c.isOpen("popups")&&f&&a.pages.popupPages.isPopup(f.replace("#",""));return{raw:d,isDropdown:!d,isLink:!g&&e.test(d)||h,isPage:g&&!h}}function j(a,b,c,d,e){return{id:b.id,type:i(a,b),label:b.label,parent:e,isVisible:b.isVisible,isVisibleMobile:b.isVisibleMobile,pageData:d,link:b.link}}function k(b,d,e,g,h){var l=[];a.forEach(d,function(d){var m;var n=i(b,d);var o;if(c.isOpen("pagesPanelOpenCollapsed")){o=n.isPage?e.pagesDataMap[f(d.link.pageId)]:null}else{o=n.isPage?a.find(e.pagesDataList,"id",f(d.link.pageId)):null}if(!g||g(d,o)){m=j(b,d,n,o,e.parent);if(d.items.length>0){m.items=k(b,d.items,a.defaults({parent:m},e),g,h)}else{m.items=[]}l.push(m);if(h){h(m)}}});return l}function l(b,d,e,f){f=f||this.mainMenu.getMenu(true);if(c.isOpen("pagesPanelOpenCollapsed")){var g=a.indexBy(b,"id");return k(this,f,{parent:null,homePageId:this.homePage.get(),pagesDataMap:g},d,e)}return k(this,f,{parent:null,homePageId:this.homePage.get(),pagesDataList:b},d,e)}function m(b,c){function d(c,g){var h,k,l;a.forEach(g,function(g){k=i(c,g);if(k.isPage){l=a.findIndex(b,{id:f(g.link.pageId)});if(l>-1){h=b[l];e[l]=j(c,g,k,h)}}if(g.items.length>0){d(c,g.items)}})}var e=[];d(this,c||this.mainMenu.getMenu(true));return a.compact(e)}return{mainMenu:{hasOnlyLastPageMenuItem:function(){var b=this.documentServices.pages.getPagesData(),c=a.filter(b,function(a){return!d.isSpecialPage(this,a)},this);return c.length===1},getFirstNonHomePageMenuItem:function(){var a=this.mainMenu.getMenuItemsTreeForMainMenu();return g(this,a)},getMenuItemIdForCurrentPage:function(){var a=this.documentServices.mainMenu.getMenu(),b=this.documentServices.pages.getCurrentUrlPageId(),c=h(a,b);return c&&c.id},getMenuItemsTree:function(){var a=this.pages.getPagesData();return this.mainMenu.extendMenuItemsTreeWithPageData(a)},getMenuItemsTreeForPagesFixed:function(){var b=this.mainMenu.getMenu(true);var c=this.pages.getPagesData();var e=d.getSectionPagesIds(this,c);var f=[];var g=Array.prototype.push;var h=function a(b,c){if(!c&&b.items.length===0){return false}if(c&&d.isSpecialPage(this,c)){return false}return true}.bind(this);var i=function(b){if(b.pageData&&a.includes(e,b.pageData.id)){f.push(b)}};var j=this.mainMenu.extendMenuItemsTreeWithPageData(c,h,i,b);a.forEach(f,function(a){var e=d.getSpecialPagesListBySectionPageOrBySibling(this,a.pageData,c);var f=this.mainMenu.convertPagesDataListToMenuItemsList(e,b);g.apply(a.items,f)},this);return j},getMenuItemsTreeForMainMenu:function(a){a=a||this.pages.getPagesData();var b=function(a,b){if(!b){return true}return!d.isSpecialPage(this,b)}.bind(this);return this.mainMenu.extendMenuItemsTreeWithPageData(a,b)},extendMenuItemsTreeWithPageData:l,convertPagesDataListToMenuItemsList:m}}});define("rEditor/app/APISections/multiselect",["lodash","core","util"],function(a,b,c){"use strict";function d(b){return a.some(b,this.selection.isSingleSelectionComponent,this)}function e(b,d,e){return a.map(d,function d(f){var g=a.pick(b.components.layout.get(f),["x","y"]);var h=c.layoutUtils.addXYOffsetsToLayout(g,e);return{component:f,newLayout:h}})}function f(b,d,f,g){var h=c.layoutUtils.getLayoutsXYDiff(g,f);var i=e(b,d,h);a.forEach(i,function a(c){b.components.layout.update(c.component,c.newLayout)})}function g(a,b){var c=a.components.getContainer(b);while(c&&!a.components.is.group(c)){c=a.components.getContainer(c)}return c}function h(a,b){var d=c.layoutUtils.calcLayoutFromLayoutAndRatio(b,a.proportions);var e=c.layoutUtils.addXYOffsetsToLayout(d,b);return e}var i={canBeMasterChild:function(){return false},getParentCompWithOverflowHidden:function(){return false},getNonMasterChildren:function(){},isShownOnAllStates:function(){return false},isDescendantOfComp:function(b,c){return a.every(b,function(a){return this.documentServices.components.isDescendantOfComp(a,c)},this)},getType:function(){return b.constants.MULTISELECT.TYPE},canBeShownOnAllStates:function(){return false},toggleShowOnAllStates:function(){},getPage:function(b){if(this.multiselect.areComponentsOfSamePage(b)){return this.documentServices.components.getPage(a.first(b))}return null},count:function(b){if(!a.isArray(b)){return 0}return b.length},isMultiselect:function(a){return this.multiselect.count(a)>1},getContainer:function(b){if(this.multiselect.containsSiblingsOnly(b)){return this.documentServices.components.getContainer(a.first(b))}return null},getChildren:function(){return[]},getSiblings:function(b){if(!this.multiselect.containsSiblingsOnly(b)){throw"Cannot obtain siblings of the given compoents since they are not siblings"}var c=this.documentServices.components.getSiblings(b[0]);var d=a.reject(c,function(c){return a.some(b,{id:c.id})},this);return d},isShowOnAllPages:function(b){var c=a.every(b,function(a){return this.documentServices.components.isShowOnAllPages(a)},this);return c},canBeSelectedTogether:function(a){if(this.multiselect.count(a)<=1){return true}return!d.call(this,a)},containsSiblingsOnly:function(b){if(!this.multiselect.isMultiselect(b)){return true}var c=this.components.getSiblings(a.first(b));var d=a.rest(b);return a.every(d,function b(d){return!!a.find(c,d)})},containsAncestorsAndDescendants:function(b){if(!this.multiselect.isMultiselect(b)){return false}return a.every(b,function c(d,e){var f=b.slice(e+1);return a.every(f,function(a){return this.components.isDescendantOfComp(d,a)||this.components.isDescendantOfComp(a,d)},this)},this)},areComponentsOfSamePage:function(b){if(!this.multiselect.isMultiselect(b)){return true}var c=a.first(b);var d=a.rest(b);var e=this.documentServices.components.getPage(c);return a.every(d,function b(c){var d=this.documentServices.components.getPage(c);return a.isEqual(d,e)},this)},getComponentsWhichDontHaveAncestorsInTheArray:function(b){var c=a.clone(b);a.forEach(b,function(d,e){var f=b.slice(e+1);a.forEach(f,function(b){if(this.components.isDescendantOfComp(d,b)){a.remove(c,d);return false}else if(this.components.isDescendantOfComp(b,d)){a.remove(c,b)}},this)},this);return c},removeGroupedCompsIfTheirGroupIsInArray:function(b){return a.reject(b,function c(d){var e=g(this,d);return e&&!!a.find(b,e)},this)},setContainer:function(b,c){var d=a.map(b,function(a){return this.documentServices.components.setContainer(a,c)},this);return d},reparentComponentToPage:function(b,c){var d=a.map(b,function(a){return this.documentServices.components.reparentComponentToPage(a,c)},this);return d},data:{update:function(){throw"Cannot update data for multiple components"},get:function(b){var c=a.map(b,function(a){return this.documentServices.components.data.get(a)},this);return c},remove:function(){throw"Cannot remove data for multiple components"}},design:{update:function(){throw"Cannot update design for multiple components"},get:function(b){var c=a.map(b,function(a){return this.documentServices.components.design.get(a)},this);return c},remove:function(){throw"Cannot remove design for multiple components"}},properties:{update:function(){throw"cannot update multiple components properties"},get:function(b){var c=a.map(b,function(a){return this.documentServices.components.properties.get(a)},this);return c}},arrangement:{canMoveForward:function(){return false},canMoveBackward:function(){return false}},alignment:{align:function(a,b){this.documentServices.components.alignment.alignComponents(a,b)}},multiComponents:{distribute:function(a,b){this.documentServices.components.multiComponents.distribute(a,b)},matchSize:function(a,b){this.documentServices.components.multiComponents.matchSize(a,b)}},layout:{get:function(a){if(!this.multiselect.containsSiblingsOnly(a)){throw"Cannot get layout for non-siblings components"}var b=this.documentServices.components.layout.getSnugLayout(a);return b},canBeFixedPosition:function(b){var c=a.every(b,function(a){return this.documentServices.components.layout.canBeFixedPosition(a)},this);return c},getRelativeToScreen:function(a){return this.documentServices.components.layout.getSnugLayoutRelativeToScreen(a)},getRelativeToScreenConsideringScroll:function(a){return this.documentServices.components.layout.getSnugLayoutRelativeToScreenConsideringScroll(a)},getRelativeToStructure:function(a){return this.documentServices.components.layout.getSnugLayoutRelativeToStructure(a)},getResizableSides:function(b){if(this.multiselect.is.proportionallyResizable(b)){return a.values(this.components.layout.RESIZE_SIDES)}return[]},update:function(a,b){if(!this.multiselect.containsSiblingsOnly(a)){throw"Selected components do not share the same parent and therefore cannot be positioned relative to their container"}var c=this.documentServices.components.layout.getSnugLayout(a);f(this,a,c,b)},updateRelativeToStructure:function(b,c){var d=a.pick(this.multiselect.layout.getRelativeToStructure(b),["x","y"]);f(this,b,d,c)},updateRelativeToScreen:function(b,c){var d=a.pick(this.multiselect.layout.getRelativeToScreen(b),["x","y"]);f(this,b,d,c)},updateRelativeToScreenAndPreserveProportions:function(b,c,d){a.defaults(c,d.layout);a.forEach(d.children,function a(b){var d=h(b,c);this.components.layout.updateRelativeToScreenAndPreserveProportions(b.component,d,b)},this)},updateRelativeToStructureAndPreserveProportions:function(a,b,d){var e=c.layoutUtils.getLayoutRelativeToScreenFromRelativeToStructure(this,a,b);this.multiselect.layout.updateRelativeToScreenAndPreserveProportions(a,e,d)},updateAndPreserveProportions:function(a,b,d){if(!this.multiselect.containsSiblingsOnly(a)){throw"Selected components do not share the same parent and therefore cannot be positioned relative to their container"}var e=c.layoutUtils.getLayoutRelativeToScreenFromRelativeToParent(this,a,b);this.multiselect.layout.updateRelativeToScreenAndPreserveProportions(a,e,d)},getProportionStructure:function(b,d){var e=this.components.layout.getRelativeToScreen(b);return{component:null,layout:e,children:a.map(b,function b(f){var g=this.components.layout.getRelativeToScreen(f);var h=c.layoutUtils.getLayoutsXYDiff(g,e);var i=a.defaults(h,g);var j=c.layoutUtils.getChildContainerLayoutRatio(i,e);var k=this.components.layout.getProportionStructure(f,d);k.proportions=j;k.minLayout=a.omit(k.minLayout,["x","y"]);return k},this)}},updateAndAdjustLayout:function(b,d){if(!this.multiselect.containsSiblingsOnly(b)){throw"Cannot update and adjust layout of non-siblings components"}var f=this.documentServices.components.layout.getSnugLayout(b);f=a.pick(f,"y");var g=c.layoutUtils.getLayoutsXYDiff(d,f);var h=e(this,b,g);a.forEach(h,function(a){this.documentServices.components.layout.updateAndAdjustLayout(a.component,a.newLayout)},this)},setFixed:function(c,d){return a.map(c,function a(c){return b.utils.fixedPositionUtils.setFixedPosition(this,c,d)})},updateAspectRatio:function(b){a.forEach(b,function(a){this.documentServices.components.layout.updateAspectRatio(a)},this)},removeAspectRatio:function(b){a.forEach(b,function(a){this.documentServices.components.layout.removeAspectRatio(a)},this)},unDock:function(){throw"Dock / Undock not supported for multiselect"},setDock:function(){throw"Dock / Undock not supported for multiselect"},updateDock:function(){throw"Dock / Undock not supported for multiselect"},getDock:function(){throw"Dock / Undock not supported for multiselect"},canBeStretched:function(){return false},isStretchedToScreen:function(b){return a.some(b,function(a){return this.components.layout.isStretchedToScreen(a)},this)}},skin:{get:function(){throw"cannot get skin of multiple components"},getComponentSkinExports:function(){throw"Cannot get component skin exports for multiple components"}},getRestrictions:function(b,c){var d=this;return a.reduce(c,function(a,c){a[c]=i.is[c].call(d,b);return a},{})},is:{controlledByParent:function(b){return a.every(b,this.components.is.controlledByParent,this)},fixed:function(b){return a.every(b,this.components.is.fixed,this)},selectable:function(){return true},alignable:function(b){return a.every(b,this.components.is.alignable)},container:function(){return false},exist:function(b){return a.every(b,function a(b){return this.components.is.exist(b)},this)},siteSegment:function(){return false},removable:function(b){var c=a.every(b,function(a){return this.components.is.removable(a)},this);return c},duplicatable:function(b){var c=a.every(b,function(a){return this.components.is.duplicatable(a)},this);return c},styleCanBeApplied:function(){return false},containable:function(b,c){var d=a.every(b,function(a){return this.components.is.containable(a,c)},this);return d},containableByStructure:function(b,c){var d=a.every(b,function(a){return this.components.is.containableByStructure(a,c)},this);return d},movable:function(b){var c=a.every(b,function(a){return this.components.is.movable(a)},this);return c},horizontallyMovable:function(b){var c=a.every(b,function(a){return this.components.is.horizontallyMovable(a)},this);return c},verticallyMovable:function(b){var c=a.every(b,function(a){return this.components.is.verticallyMovable(a)},this);return c},canMoveUp:function(b){var c=a.every(b,function(a){return this.components.is.canMoveUp(a)},this);return c&&this.multiselect.containsSiblingsOnly(b)},anchorableFrom:function(b){var c=a.some(b,function(a){return this.components.is.anchorableFrom(a)},this);return c&&this.multiselect.containsSiblingsOnly(b)},anchorableTo:function(b){var c=a.some(b,function(a){return this.components.is.anchorableTo(a)},this);return c&&this.multiselect.containsSiblingsOnly(b)},fullWidth:function(b){var c=a.every(b,function(a){return this.components.is.fullWidth(a)},this);return c},horizontallyResizable:function(b){return a.every(b,this.components.is.horizontallyResizable)},verticallyResizable:function(b){return a.every(b,this.components.is.verticallyResizable)},proportionallyResizable:function(b){return a.every(b,this.components.is.proportionallyResizable)},resizeOnlyProportionally:function(b){return a.every(b,this.components.is.resizeOnlyProportionally)},group:function(){return false},groupable:function(b){return a.every(b,function a(b){return this.components.is.groupable(b)},this)},groupedComponent:function(b){var c=a.every(b,function(a){return this.documentServices.components.is.groupedComponent(a)},this);return c},topMost:function(b,c){var d=a.some(b,function(a){return this.documentServices.components.is.topMost(a,c)},this);return d},leftMost:function(b,c){var d=a.some(b,function(a){return this.documentServices.components.is.leftMost(a,c)},this);return d},resizable:function(){return false},rotatable:function(){return false},animatable:function(b,c){var d=a.every(b,function(a){return this.components.is.animatable(a,c)},this);return d},focusable:function(){return false},pinnable:function(){return false},slidesContainer:function(){return false},slideContainer:function(){return false},hoverBox:function(){return false},draggable:function(b){return a.every(b,this.components.is.draggable)},selectedBeforeDescendants:function(){return false},showLegacyFixedPosition:function(){return false},disabledKnobs:function(b){var c=a(b).map(this.components.is.disabledKnobs).pluck("length").compact().get("length");return c?a.values(this.components.layout.RESIZE_SIDES):[]}},behaviors:{update:function(b,c,d){a.forEach(b,function(a){this.documentServices.components.behaviors.update(a,c,d)},this)},get:function(b){var c=a.reduce(b,function(a,b){return a.concat(this.documentServices.components.behaviors.get(b)||[])},[],this);return c},remove:function(b,c,d){a.forEach(b,function(a){this.documentServices.components.behaviors.remove(a,c,d)},this)},removeAll:function(b){a.forEach(b,function(a){this.documentServices.components.behaviors.removeAll(a)},this)},previewAnimation:function(b,c,d){
var e=a.map(b,function(b,e,f){return this.documentServices.components.behaviors.previewAnimation(b,a.cloneDeep(c),e===f.length-1?d:undefined)},this);return e},stopPreviewAnimation:function(b){a.forEach(b,function(a){this.documentServices.components.behaviors.stopPreviewAnimation(a)},this)},execute:function(b,c,d){a.forEach(b,function(a){this.documentServices.components.behaviors.execute(a,c,d)},this)},getRuntimeState:function(b){return a.map(b,function(a){return this.documentServices.components.behaviors.getRuntimeState(a)},this)}},componentModes:{applyCurrentToAllModes:function(b){a.forEach(b,function(a){this.components.modes.applyCurrentToAllModes(a)},this)},addDefaultAnimationIfNeeded:function(b){a.forEach(b,function(a){this.components.modes.addDefaultAnimationIfNeeded(a)},this)},areComponentsOfSameModefulContainer:function(b){if(!this.multiselect.isMultiselect(b)){return true}var c=a.map(b,function(a){return this.components.modes.getFirstAncestorWithActiveModes(a)},this);return a.every(c,a.partial(a.isEqual,c[0]))}}};return{multiselect:i}});define("rEditor/app/APISections/leftBarAPI",["lodash","core"],function(a,b){"use strict";function c(c,d,e,f,g,h,i){return{panelName:c,panelProps:d,label:e,className:f,symbolName:g,order:a.indexOf(b.constants.LEFT_BAR.SUPER_APPS_ORDER.DESKTOP,c),collapseOnClick:h||false,isButtonOpen:i}}function d(a,b){delete a.notifications[b];this.panelManager.closePanelByName(b)}return{leftBar:{collapseMenu:function(){var b=a.cloneDeep(this.editor.state.leftBar);b.isCollapsed=true;this.editor.setState({leftBar:b})},openAddPanel:function(){this.leftBar.collapseMenu();this.panelManager.openPanel("addPanelInfra.addPanel")},superApps:{addButton:function(b,d,e,f,g,h,i,j){var k=c(b,d,e,f,g,i,j);var l=a.cloneDeep(this.editor.state.leftBar);var m=[l.superApps.desktop];if(h){m.push(l.superApps.mobile)}m.forEach(function c(d){var e=a.find(d,{panelName:b});if(e){a.assign(e,k)}else{d.push(k)}});this.editor.setState({leftBar:l})},removeButton:function(b){var c=a.cloneDeep(this.editor.state.leftBar);c.superApps.desktop=a.reject(this.editor.state.leftBar.superApps.desktop,{panelName:b});c.superApps.mobile=a.reject(this.editor.state.leftBar.superApps.mobile,{panelName:b});d.call(this,c,b);this.editor.setState({leftBar:c})}},notifications:{setCount:function(b,c){var d=a.cloneDeep(this.editor.state.leftBar);d.notifications[b]=c;this.editor.setState({leftBar:d})},getCount:function(a){return this.editor.state.leftBar.notifications[a]},increaseCount:function(b,c){var d=a.cloneDeep(this.editor.state.leftBar);d.notifications[b]+=c||1;this.editor.setState({leftBar:d})},decreaseCount:function(b,c){var d=a.cloneDeep(this.editor.state.leftBar);d.notifications[b]-=c||1;this.editor.setState({leftBar:d})}}}}});define("rEditor/app/APISections/selection",["lodash","core","util","baseUI","experiment"],function(a,b,c,d,e){"use strict";var f="compPanels.panels.MultiSelect.layoutPanel";var g=2;var h=d.uiConstants;var i=c.browserUtil;var j=b.utils.mouseCoordinatesHandler;var k=false;var l=false;var m=false;var n=null;function o(b){var c=b&&b.length===1&&b[0];var d=this.editor.state.selectedComponents;var e=d&&d.length===1&&d[0];return this.editor.state.focusedContainer&&!a.isEqual(e,c)&&a.isEqual(c,this.editor.state.focusedContainer)}function p(a,b){var c=s.call(this,a);if(o.call(this,a)){this.panelManager.closeAllPanelsOfType("compPanelFrame")}q.call(this,{selectedComponents:a,focusedContainer:c},b)}function q(b,c){var d=a.has(b,"selectedComponents")&&!a.isEqual(b.selectedComponents,this.editor.state.selectedComponents);this.editor.setState(b,function(){var b=this.editor.state.selectedComponents;if(d){var e=this.pluginService.getPlugin("selection","*");if(a.isFunction(e)){e(b)}}if(c){c.call(this,b)}}.bind(this))}function r(b,c){var d=c.getContainer(a.first(b));a(b).rest().every(function(a){return c.getContainer(a)===d})}function s(b){if(b&&b.length>=2&&!r(b,this.components)){return null}var c=a.first(b);var d=e.isOpen("se_hoverBox");while(c&&!this.components.is.focusable(c)&&(!d||a.isEmpty(this.components.modes.getModes(c)))){c=this.components.getContainer(c)}return c}function t(a,b){if(this.selection.isComponentSelected(a)){if(b.button===g){return null}return this.selection.deselectComponents(a)}this.closeCompPanelIfExists();return this.selection.addComponentToSelectionByRef(a)}function u(b,c){this.closeCompPanelIfExists();if(e.isOpen("boxSlideShow")){var d=this.utils.getParentIfCompCanBeSelected(b);if(d){b=d}}var f=c?this.openFirstTimePanel.bind(this,b):a.noop;this.selection.selectComponentByCompRef(b,f)}function v(b){var c=this.components.getSiblings(b);var d=a.reject(c,function a(b){return this.components.is.siteSegment(b)},this);return d}function w(a,b){var c=a.getComponentType(b);return c==="Page"||c==="AppPage"}function x(a,b){var c=this.editor.getPreviewPosition();return{x:a-c.left,y:b-c.top}}function y(a,b){return a.utils.findAncestorMatchesCondition(b,a.components.is.selectedBeforeDescendants)}function z(b,c){var d=y(b,c);var e=d?a(d).thru(z.bind(null,b)).flatten().value():[];return a.compact([d].concat(e))}function A(b,c,d){function e(a){return d&&b.components.isDescendantOfComp(d,a)}var f=b.selection.isComponentSelected(c);if(f){return c}var g=z(b,c);if(g.length===0){return c}var h=a.first(g);var i=a.last(g);var j=e(h);if(j){return c}var k=e(i);if(k){return h}return i}var B=function(){var b="";var c=null;function d(a,b){return[b.clientX,b.clientY,a.timeStamp].join(",")}return{get:function(e,f){if(e.timeStamp){var g=d(e,f);if(g===b){return a.clone(c)}}return null},set:function(a,e,f){if(a.timeStamp){b=d(a,f);c=e}}}}();return{selection:{isMultiSelectKeyPressed:function(a){return a.shiftKey||i.isSpecialKeyPressed(a)},isSingleSelectionComponent:function(c){var d=this.components.getType(c);return a.includes(b.constants.MULTISELECT.SINGLE_SELECTION_COMPONENT_TYPES,d)||this.components.layout.isShowOnFixedPosition(c)},setIsMouseUpSelectionEnabled:function(a){k=a},getIsMouseUpSelectionEnabled:function(){return k},setIsHiddenComponentDraggedNext:function(a){l=!!a},isHiddenComponentDraggedNext:function(){return l},isComponentExplicitlySelected:function(){return m},getAnchorsUnderClick:function(b,c){var d=e.isOpen("fitEditorCoordinatesToViewer")?{x:b,y:c}:x.call(this,b,c);var f=this.pages.getReference(this.pages.getFocusedPageId());var g=this.components.get.byType("wysiwyg.common.components.anchor.viewer.Anchor",f);return a.filter(g,function(a){var b=this.components.layout.getRelativeToScreenConsideringScroll(a);b.y+=h.ANCHOR_OFFSET_TOP;return d.x>=b.x&&d.x<=b.x+h.ANCHOR_WIDTH&&d.y>=b.y&&d.y<=b.y+h.ANCHOR_HEIGHT},this)},getComponentsByXY:function(a,b){var c=e.isOpen("fitEditorCoordinatesToViewer")?{x:a,y:b}:x.call(this,a,b);var d=this.components.get.byXYRelativeToScreen(c.x,c.y,0,this.pages.getFocusedPageId());var f=this.selection.getAnchorsUnderClick(a,b);return f.concat(d)},getComponentsUnderClick:function(a){var b=e.isOpen("fitEditorCoordinatesToViewer")?j.fitMouseCoordinatesToViewer(this,a):{pageX:a.pageX,pageY:a.pageY,clientX:a.clientX,clientY:a.clientY};var c=B.get(a,b);if(!c){c=this.selection.getComponentsByXY(b.clientX,b.clientY);B.set(a,c,b)}return c},getNonGroupCompUnderCursor:function(b){var c=this.selection.getComponentsUnderClick(b);if(a.isEmpty(c)){return null}var d=0;var f=c[d];if(e.isOpen("boxSlideShow")){if(f){var g=this.layouters.getParentCompWithOverflowHidden(f);while(this.components.is.group(f)||!this.components.is.selectable(f)||(g?!a.includes(a.pluck(c,"id"),g.id):false)){d++;f=c[d];g=f?this.layouters.getParentCompWithOverflowHidden(f):null}}}else{while(this.components.is.group(f)||!this.components.is.selectable(f)){d++;f=c[d]}}return f||null},getComponentUnderClickToBeSelected:function(b){var c=this.selection.getNonGroupCompUnderCursor(b);var d=a.first(this.selection.getSelectedComponents());if(!c){return null}c=A(this,c,d);return c},getComponentToBeMarkedByHoverBox:function(a){var b=this.selection.getComponentUnderClickToBeSelected(a);return n&&b?n:b},selectComponentByClick:function(a){var b=this.selection.getComponentUnderClickToBeSelected(a);if(n&&b&&n.id!==b.id){b=n;m=false}else{m=true}var c=this.selection.isComponentSelected(b);var d=this.selection.getSelectedComponents();var f=a.button!==g;if(!b){this.selection.deselectComponents();return}if(this.selection.isMultiSelectKeyPressed(a)&&!c){t.call(this,b,a);this.selection.setLastSelectionClickPos(null)}else{if(!this.multiselect.isMultiselect(d)){var h=this.components.layout.isShowOnFixedPosition(b);var i;var k=e.isOpen("fitEditorCoordinatesToViewer")?j.fitMouseCoordinatesToViewer(this,a):{pageX:a.pageX,pageY:a.pageY,clientX:a.clientX,clientY:a.clientY};if(h){i={x:k.clientX,y:k.clientY}}else{var l=this.ui.scroll.getScroll();i={x:k.clientX+l.scrollLeft,y:k.clientY+l.scrollTop}}this.selection.setLastSelectionClickPos(i)}if(c){this.selection.setIsMouseUpSelectionEnabled(true);return}u.call(this,b,f)}},selectNonGroupCompUnderCursor:function(a){var b=this.selection.getNonGroupCompUnderCursor(a);b=b&&n?n:b;var c=a.button!==g;if(this.selection.isComponentSelected(b)){return null}if(this.selection.isMultiSelectKeyPressed(a)){return t.call(this,b)}return u.call(this,b,c)},selectComponentByCompRef:function(b,d){var g=this.components.asArray(b);g=a.uniq(g,"id");if(g.length>30){return}if(e.isOpen("boxSlideShow")&&g.length>0&&!this.components.is.selectable(g)){return}if(!this.multiselect.canBeSelectedTogether(g)){return}g=a.isEmpty(g)?null:this.multiselect.removeGroupedCompsIfTheirGroupIsInArray(g);var h=a.find(this.panelManager.getOpenPanels(),{name:f});if(a.size(g)<2&&h){this.panelManager.closePanelByName(f)}if(this.components.layout.isPinned(g)){c.keyboardShortcuts.setContext(c.keyboardShortcuts.CONTEXTS.PIN_MODE)}else if(c.keyboardShortcuts.getContext()===c.keyboardShortcuts.CONTEXTS.PIN_MODE){c.keyboardShortcuts.setContext(c.keyboardShortcuts.CONTEXTS.EDITOR)}p.call(this,g,d)},addComponentToSelectionByRef:function(a){var c=this.components.asArray(a);var d=this.selection.getSelectedComponents()||[];var e=d.concat(c);if(e.length>1){this.bi.event(b.bi.events.selection.MULTISELECT,{num_of_elements_selected:e.length,selection_method:"keyboard"})}this.selection.selectComponentByCompRef(e);return d},getSelectedComponentId:function(){var b=this.selection.getSelectedComponents();return!!b&&a.first(b).id},getSelectedComponents:function(){return this.editor.state.selectedComponents},getFocusedContainer:function(){return this.editor.state.focusedContainer},getParentToFocus:function(a){return s.call(this,a)},getSelectedComponentType:function(){var b=this.selection.getSelectedComponents();if(!a.isEmpty(b)){return this.getComponentType(a.first(b))}return null},selectAll:function(){var c=this.selection.getSelectedComponents();var d,e;if(!this.multiselect.containsSiblingsOnly(c)||!this.selection.isComponentSelected()){d=(c||[]).concat(this.components.getChildren(this.pages.getFocusedPage()))}else if(this.components.is.siteSegment(c)||w(this,c)){d=this.components.getChildren(c)}else{e=v.call(this,c);d=c.concat(e)}if(!a.isEmpty(d)){this.closeCompPanelIfExists();if(d.length>1){this.bi.event(b.bi.events.selection.MULTISELECT,{num_of_elements_selected:d.length,selection_method:"keyboard"})}this.selection.selectComponentByCompRef(d)}},getSelectedComponentData:function(){var a=this.selection.getSelectedComponents();if(a){return this.components.data.get(a)}return null},deselectComponents:function(b){if(c.keyboardShortcuts.getContext()===c.keyboardShortcuts.CONTEXTS.PIN_MODE){c.keyboardShortcuts.setContext(c.keyboardShortcuts.CONTEXTS.EDITOR)}var d=!b;var e=this.components.asArray(b);var f=this.selection.getSelectedComponents();var g=a.reject(f,function b(c){return d||a.some(e,c)},this);this.selection.selectComponentByCompRef(g)},isComponentSelected:function(b){var c=this.selection.getSelectedComponents();if(a.isEmpty(b)){return!!c}var d=this.components.asArray(b);return a.every(d,function b(d){return a.some(c,d)})},setLastSelectionClickPos:function(a){if(!e.isOpen("fitEditorCoordinatesToViewer")){if(a){a.y-=this.editorConfig.previewPosition.top;a.x-=this.editorConfig.previewPosition.left}}q.call(this,{lastSelectionClickPos:a})},isSelectedCompUnderCursorAndBeneathSiteSegment:function(b,c){var d=this.selection.getComponentsUnderClick(c);var e=this.pages.getReference(this.pages.getPrimaryPageId());var f=this.siteSegments.getRefs().concat(e);var g=a.findIndex(d,function(b){return a.some(f,b)});if(g===-1){return false}return a.some(b,function(b){return a.some(d,function(c,d){return a.isEqual(b,c)&&d>g})})},setModalComponent:function(a){n=a}}}});define("rEditor/app/APISections/databaseEditor",["savePublish","experiment"],function(a,b){"use strict";function c(a,c,d,e){a.openPanel("compPanels.panels.AppPart2.databaseEditorPanel",{selectedComponentType:e,listId:c,compRef:d,autoSave:!b.isOpen("disableDbEditorAutoSave")})}function d(a){a.openPanel("savePublish.panels.common.failPanel",{titleKey:"PUBLISH_ERROR_TITLE_LABEL",description:"SAVE_PUBLISH_ERROR_BODY_DESCRIPTION",steps:["SAVE_PUBLISH_ERROR_OPTION_1","SAVE_PUBLISH_ERROR_OPTION_2"],helpMessage:"SAVE_ERROR_LEARN_MORE_LABEL",helpLinkMessage:"SAVE_PUBLISH_ERROR_LEARN_MORE_LINK",helpLink:"http://www.wix.com/"})}function e(e,f){var g=this.panelManager;var h=this.selection.getSelectedComponentType();if(!b.isOpen("disableDbEditorAutoSave")&&this.generalInfo.isFirstSave()){a.saveInBackground(this,c.bind(null,g,e,f,h),d.bind(null,g))}else{c(g,e,f,h)}}return{openDatabaseEditor:e}});define("rEditor/app/APISections/welcomeScreensWrapper",["lodash","panels","util","core","experiment"],function(a,b,c,d,e){"use strict";function f(a){var b=a.account.getEditorVersionsInfo();var c=!!b&&b.isEligibleForSwitch;return c&&(a.compatibility.hasOldApp()||a.compatibility.hasAppPage())}function g(a){var b=a.account.getEditorVersionsInfo();var c=window.editorModel.firstSave===false&&b.isEligibleForSwitch===false;return b&&!b.isNewUser&&!c}function h(a,b){var d=a.account.getEditorVersionsInfo();var e=d.isEligibleForSwitch?"START_NOW_CLICK_WITH_BACK_OPTION":"START_NOW_CLICK_WITHOUT_BACK_OPTION";j(a,e,b);c.cookie.setUserPetriOverrideCookie("SantaEditorUserOverride","new")}function i(a,b){j(a,"BACK_TO_OLD_EDITOR_CLICK",b);c.cookie.setUserPetriOverrideCookie("SantaEditorUserOverride","old");c.windowInteractionUtils.reloadPageWithoutQuestion()}function j(a,b,c){var e=d.bi.events.newEditorWelcomeScreens[b];var f={site_id:a.generalInfo.getSiteId()};if(e.fields.duration){f.duration=Date.now()-c}a.bi.event(e,f)}function k(b){return a(b.components.get.byType("wixapps.integration.components.AppPart2")).map(b.components.data.get).pluck("appPartName").map(b.wixapps.appbuilder.data.lists.getListVersion).some(function(a){return!a||a==="1.0"})}function l(a){if(!g(a)){return false}var b=a.account.getEditorVersionsInfo();var c=b.userOverride==="new";var d=b.userOverride==="old"&&b.isEligibleForSwitch;return!c&&!d}function m(a){return g(a)&&k(a)}function n(a){var c=a.account.getEditorVersionsInfo();var d=m(a);b.panelManager.openPanel("panels.focusPanels.newEditorWelcomeScreenPanel",{isEligibleForSwitch:c.isEligibleForSwitch,onNextClick:d?o.bind(this,a):h.bind(this,a,Date.now()),nextBtnLabel:d?"Notification_Box_Next":"Notification_Box_Start_Now",onBackClick:i.bind(this,a,Date.now())})}function o(a){var c=a.account.getEditorVersionsInfo();b.panelManager.openPanel("panels.focusPanels.newEditorListWelcomeScreenPanel",{isEligibleForSwitch:c.isEligibleForSwitch,onNextClick:h.bind(this,a,Date.now()),onBackClick:i.bind(this,a,Date.now())})}function p(a){if(!e.isOpen("newUserIntroVideo")){return false}var b=a.siteName.getUsed();var c=b?b.length===0:true;var d=!!a.getUserPreferences().global.get("didPassNewUserVideoCheck");if(d){return false}a.getUserPreferences().global.set("didPassNewUserVideoCheck",true);return c}function q(a){var b=a.account.getEditorVersionsInfo();var c=a.siteName.getUsed();var d=c?c.length===0:true;var e=b&&b.userOverride!=="old";return e&&!d}function r(a){var b=a.getUserPreferences().global.get("didPassNewFeaturesVideoCheck");if(!e.isOpen("newFeaturesIntroVideo")||b){return false}return!g(a)&&q(a)}function s(a){a.getUserPreferences().global.set("didPassNewFeaturesVideoCheck",true);b.panelManager.openPanel("panels.focusPanels.newFeaturesVideoPanel",{})}return{initWelcomeScreen:function(a){var d=c.url.getParameterByName("disableWelcomeScreen")==="true";if(!d){if(a.wixStores.isSiteInWixStoreTestDrive()){return}else if(r(a)){s(a)}else if(p(a)){b.panelManager.openPanel("panels.focusPanels.newUserIntroVideoPanel",{})}else if(f(a)){b.panelManager.openPanel("panels.focusPanels.editorMigrationFailedPanel",{})}else if(l(a)){n(a)}else if(m(a)){o(a)}}}}});define("rEditor/app/APISections/layoutersWrapper",["lodash","rEditor/utils/multiSelectHandler"],function(a,b){"use strict";var c="wysiwyg.viewer.components.BoxSlideShow";var d="wysiwyg.viewer.components.StripContainerSlideShow";return{components:{canBeShownOnAllStates:function(a,e){var f={multiCompHandler:this.multiselect.canBeMasterChild,singleCompHandler:this.documentServices.layouters.canBeMasterChild};if(e){return b.call(this,a,e,f)}return b.call(this,a,c,f)||b.call(this,a,d,f)},toggleShowOnAllStates:function(a,e){if(!e){e=this.components.canBeShownOnAllStates(a,c)?c:d}return b.call(this,a,e,{multiCompHandler:this.multiselect.toggleShowOnAllStates,singleCompHandler:this.documentServices.layouters.toggleMasterChild})},isShownOnAllStates:function(a,e){var f={multiCompHandler:this.multiselect.isShownOnAllStates,singleCompHandler:this.documentServices.layouters.isMasterChild};if(e){return b.call(this,a,e,f)}return b.call(this,a,c,f)||b.call(this,a,d,f)}}}});define("rEditor/app/APISections/copyPasteWrapper",["lodash","core","panels","experiment","boxSlideshow"],function(a,b,c,d,e){"use strict";var f=["wysiwyg.viewer.components.tpapps.TPAGluedWidget"];var g=e.utils.boxSlideShowUtils;function h(a){var b={compRef:a};if(d.isOpen("boxSlideShow")){if(this.components.canBeShownOnAllStates(a)){var c=g.getSlideShowParent(this,a);var e=g.getSlideShowSlideParent(this,a);if(e){b.originalParent=e;b.originalGrandParent=c;var f=this.components.layout.getRelativeToStructure(a);var h=this.components.layout.getRelativeToStructure(e);b.relativeToParentPosition={x:f.x-h.x,y:f.y-h.y}}}}return b}function i(b,c){if(d.isOpen("boxSlideShow")&&b.originalGrandParent&&this.components.is.slidesContainer(b.originalGrandParent)){var e=this.components.get.byXYRelativeToStructure(c.x,c.y);return!!a.find(e,b.originalGrandParent)}return false}function j(a,b){if(i.call(this,a,b)){return g.findCurrentSlide(this,a.originalGrandParent)}return null}function k(b,c){if(i.call(this,b,c)){if(!a.isEqual(g.findCurrentSlide(this,b.originalGrandParent),b.originalParent)){return b.relativeToParentPosition}return null}return null}function l(b){if(a.isEmpty(b)){return false}var c=this.isMobileEditor();var d=this.pages.data.get(this.pages.getPrimaryPageId()).isLandingPage;var e=a.some(b.components,"isShowOnAllPages");return!c&&!(d&&e)}function m(b){return a.has(b,"x")&&a.has(b,"y")}function n(b){return a.includes(f,b)}function o(a,b){return[].concat(a[b]||[],a["*"]||[])}function p(b,c,e){var f=this.pages.getFocusedPageId();var g=[];var h=this.components.asArray(a.cloneDeep(b.components));var i=this.siteSegments.getPagesContainer();var l=this.siteSegments.layout.get(i);c=m(c)?c:null;var p=this.pasteLogic.pasteContext.getPastePosition(this,b.snugLayoutRelativeToStructure,f);a.forEach(h,function(b){var h=b.serializedComp;var i=n(h.componentType);var m=this.pages.getReference(i?this.pages.getMasterPageId():f);var r;var s=j.call(this,b,p);if(s){var t=this.components.layout.getRelativeToStructure(s);c=c||{};c.x=p.x-t.x;c.y=p.y-t.y;m=s}var u=a.clone(c);var v=a.clone(p);if(!u){if(!i){v.y-=l.y}u=v}else if(i){u.y+=l.y}h.layout.x=u.x+b.positionRelativeToSnug.x;h.layout.y=u.y+b.positionRelativeToSnug.y;if(e){h.layout.x-=h.layout.width/2;h.layout.y-=h.layout.height/2}var w=k.call(this,b,p);if(w){h.layout.x=w.x;h.layout.y=w.y}var x=o(this.pasteComponentPlugins,h.componentType);a.forEach(x,function(a){h=a(this,h)},this);if(d.isOpen("popups")||d.isOpen("se_blogRelatedPosts")){if(this.components.is.containableByStructure(h,m)){r=q.call(this,m,h);g.push(r)}}else{r=q.call(this,m,h);g.push(r)}},this);return g}function q(a,b){if(this.addComponentPlugins[b.componentType]){return this.addComponentPlugins[b.componentType](this,a,b)}return this.components.add(a,b,b.id)}function r(a){return this.components.is.duplicatable(a)}function s(b,c){if(c&&c.length>0){var d=b.modes.getFirstAncestorWithActiveModes(a.first(c));var e=a.curry(a.isEqual)(d);if(a(c).rest().map(b.modes.getFirstAncestorWithActiveModes).every(e)){return d}}}function t(a){if(a.styleId){a.previousStyleId=a.styleId}}function u(b,c){var d=this.components.layout.getRelativeToStructure(b);var e=this.pages.getFocusedPageId();this.pasteLogic.pasteContext.setPasteData(d,e,this.ui.scroll.getScroll());var f={snugLayoutRelativeToStructure:d,components:a.map(b,function(b){var e=this.components.serialize(b,null,false,c,null,t);var f=this.components.style.getId(b);if(f){e.style=f}var g=this.components.layout.getRelativeToStructure(b);var i=this.components.getType(b);if(this.copyComponentPlugins[i]){e=this.copyComponentPlugins[i](b,e)}var j=h.call(this,b);return a.merge({serializedComp:e,positionRelativeToSnug:{x:g.x-d.x,y:g.y-d.y},isShowOnAllPages:this.components.isShowOnAllPages(b)},j)},this)};var g=s(this.components,b);if(g){f.containerWithModes=g}return f}function v(b){var c=this.pages.getFocusedPageId();var d=this.siteSegments.getPagesContainer();var e=this.siteSegments.layout.get(d);var f=this.ui.scroll.getScroll();return a.map(b,function(a){var b=this.components.serialize(a);z.call(this,a,b);var d=y.call(this,a,c,f,b.componentType,e);b.layout.x=d.x;b.layout.y=d.y;w.call(this,a,b);var g=x.call(this,c,b,a,d);return this.components.add(g,b)},this)}function w(a,b){var c=this.components.getType(a);if(this.copyComponentPlugins[c]){b=this.copyComponentPlugins[c](a,b)}return b}function x(b,c,d,e){var f=n(c.componentType);var g=this.pages.getReference(f?this.pages.getMasterPageId():b);var i=a.merge({serializedComp:c},h.call(this,d));var k=j.call(this,i,e);if(k){g=k}return g}function y(a,b,c,d,e){var f=this.components.layout.getRelativeToStructure(a).bounding;this.pasteLogic.duplicateContext.setPasteData(f,b,c);var g=this.pasteLogic.duplicateContext.getPastePosition(this,f,b);var h=n(d);if(!h){g.y-=e.y}return g}function z(a,b){var c=this.components.style.getId(a);if(c){b.style=c}}return{components:{copy:function(a,c){if(!a){return}var d=this.components.asArray(a);d=this.multiselect.getComponentsWhichDontHaveAncestorsInTheArray(d);if(!r.call(this,d)){if(this.isMobileEditor()){this.openCantCopyPastePanel()}return}var e=u.call(this,d,c);this.clipboard.setItem(b.constants.EDITOR_CLIPBOARD_TYPES.COMPONENT,e)},paste:function(a,d){var e=this.clipboard.getItem(b.constants.EDITOR_CLIPBOARD_TYPES.COMPONENT);if(!l.call(this,e)){if(this.isMobileEditor()){this.openCantCopyPastePanel()}return}c.panelManager.closeAllPanels();var f=p.call(this,e,a,d);if(!this.editor.state.performingMouseMoveAction){this.waitForChangesApplied(function(){var a=this.openFirstTimePanel.bind(this,f);this.selection.selectComponentByCompRef(f,a)}.bind(this))}},canApplyModeFromClipboard:function(){var c=this.clipboard.getItem(b.constants.EDITOR_CLIPBOARD_TYPES.COMPONENT);if(d.isOpen("se_hoverBox")&&c&&c.containerWithModes){var e=this.components;var f=this.editor.state.selectedComponents;if(f&&f.length===1){var g=f[0];if(a.isEqual(g,c.containerWithModes)){var h=e.modes.getModes(g);if(h&&h.length>0){var i=e.modes.getComponentActiveModeIds(g);if(a.size(i)===1){var j=a.keys(i)[0];var k=a(h).reject({modeId:j}).map("modeId").value();return a(c.components).map("compRef").every(function(b){var c=a.some(k,function(a){return e.modes.isComponentDisplayedInModes(b,[a])});return c&&!e.modes.isComponentDisplayedInModes(b,[j])})}}}}}return false},applyModeFromClipboard:function(){var c=this.clipboard.getItem(b.constants.EDITOR_CLIPBOARD_TYPES.COMPONENT);var d=a.map(c.components,function(a){return{compRef:a.compRef,compDefinition:a.serializedComp}});var e=this.editor.state.selectedComponents;if(e&&e.length===1){var f=this.components;var g=e[0];if(a.isEqual(g,c.containerWithModes)){var h=f.modes.getModes(g);if(h&&h.length>0){var i=f.modes.getComponentActiveModeIds(g);if(a.size(i)===1){var j=a.keys(i)[0];f.modes.applyComponentToMode(d,j);var k=a.map(d,"compRef");this.waitForChangesApplied(function(){this.selection.selectComponentByCompRef(k)}.bind(this))}}}}},duplicate:function(b){if(a.isEmpty(b)){return[]}c.panelManager.closeAllPanels();var d=this.selection.getSelectedComponents();var e=this.components.asArray(b);var f=this.components.getType(d);if(this.duplicatePlugins[f]){return this.duplicatePlugins[f](d)}d=this.multiselect.getComponentsWhichDontHaveAncestorsInTheArray(d);e=this.multiselect.getComponentsWhichDontHaveAncestorsInTheArray(e);var g=this.components.getContainer(b);if(!this.components.is.duplicatable(e,g)){return[]}if(a.isEqual(e,d)){this.selection.deselectComponents()}var h=v.call(this,e);this.waitForChangesApplied(function(){var a=this.openFirstTimePanel.bind(this,h);this.selection.selectComponentByCompRef(h,a)}.bind(this));return h}}}});define("rEditor/app/APISections/wixStoresFlowAPI",["lodash","util"],function(a,b){"use strict";return{wixStores:{isSiteInWixStoreTestDrive:function(){return a.includes(b.editorModel.metaSiteFlags,"EComTestDrive")}}}});define("rEditor/app/APISections/editorUI",[],function(){"use strict";return{ui:{scroll:{getScroll:function(){return this.editor.getScroll()},setScroll:function(a){return this.editor.setScroll(a)},animateScroll:function(a,b,c){this.editor.animateScroll(a,b,c)},addListener:function(a){return this.editor.addScrollListener(a)},removeListener:function(a){return this.editor.removeScrollListener(a)}},stage:{getEditingAreaLayout:function(){return this.editor.getEditingAreaLayout()}},focus:{setOnEditor:function(){this.editor.setFocus()}}}}});define("rEditor/app/APISections/wixCode",["lodash","util"],function(a,b){"use strict";var c="wixCodeLoaded";function d(){return this.editor.state[c]}function e(){this.toggleEditorStateParam(c,true)}function f(c){var d={loggedInUserId:b.editorModel.permissionsInfo.loggedInUserId};var e=a.assign({},d,c);return this.documentServices.wixCode.log.trace(e)}return{wixCode:{isLoaded:d,setLoaded:e,log:{trace:f}}}});define("rEditor/app/APISections/columns",["lodash"],function(a){"use strict";var b="compPanels.panels.StripColumnsContainer.managePanel";var c=5;var d=a.times(c,function(){return 1});var e={LEFT:0,CENTER:50,RIGHT:100};var f={BoxSlideShow:true,StripContainerSlideShow:true};var g={background:{type:"BackgroundMedia",mediaRef:null,alignType:"center",fittingType:"fill",color:"#FFFFFF",colorOpacity:0,colorOverlay:"",colorOverlayOpacity:1,imageOverlay:""}};var h=false;function i(b){b.components=a.reject(b.components,this.components.is.fullWidthByStructure);a.forEach(b.components,i,this);return b}function j(b){var c=b;var d=a.sum(c);var e=100-d;if(e){c[c.length-1]+=e}return c}function k(b){var c=a.sum(b);return j(a.map(b,function(a){return Math.round(100*a/c)}))}function l(b){var c=this.components.getChildren(b);return a(c).indexBy("id").mapValues(this.components.layout.get).mapValues("width").value()}function m(b,c,d){var e=o.call(this,b);var f=this.components.getChildren(b);var g=true;a.forEach(f,function(a,b){this.components.layout.update(a,{width:c[b]},g)},this);var h=k(c);C.call(this,f,e,h);if(!d){this.history.add("Change Columns Proportions")}}function n(b,c,d){if(!a.isUndefined(c)){this.components.arrangement.moveToIndex(b,c,d)}}function o(b){var c=this.components.getChildren(b);var d=a(c).map(this.components.layout.get).pluck("width").value();return k(d)}function p(a,b){if(this.components.getChildren(a).length===c){m.call(this,a,d,b)}}function q(a){var b=o.call(this,a);var c=b.reverse();m.call(this,a,c)}function r(b){var d=a(b).thru(this.components.serialize,this).thru(i,this).value();var e=this.components.getContainer(b);var f=this.components.getChildren(e);if(f.length===c||h){return}h=true;var g=a.findIndex(f,b)+1;var j=o.call(this,e);j.splice(g,0,j[g-1]);var l=k(j);var m=this.components.add(e,d);this.waitForChangesApplied(function(){var a=true;n.call(this,m,g,a);p.call(this,e,true);var b=this.components.getChildren(e);C.call(this,b,j,l);h=false;this.waitForChangesApplied(function(){this.history.add("added column")}.bind(this))}.bind(this));return m}function s(b){var d=this.components.getChildren(b);var e=a.last(d);if(d.length===c){return}return r.call(this,e)}function t(a,b){this.components.properties.update(a,{alignment:b})}function u(a){return this.components.properties.get(a).alignment}function v(a){this.components.arrangement.moveBackward(a)}function w(a){this.components.arrangement.moveForward(a)}function x(a){return this.components.getChildren(a).length<c}function y(a){var b=this.getComponentType(a);return!!f[b]}function z(b){var c=this.components.getChildren(b);return a(c).reject(y,this).map(z,this).flatten().union(c).value()}function A(a,b,c,d){var f=this.components.layout.getRelativeToStructure(b);var g=f.x-a.x;var h=f.width;var i=this.components.is.resizable(b);var j=i?h*c:h;var k={width:j};if(this.components.is.group(b)){return}if(d===e.LEFT){k.x=g*c}else if(d===e.CENTER){var l=g+h/2;var m=l*c;k.x=m-j/2}else{var n=g+h;var o=n*c;k.x=o-j}k.x+=a.x;var p=true;this.components.layout.updateRelativeToStructure(b,k,p)}function B(a,b,c){var d=a[c];var e=b[c];return d&&e?d/e:null}function C(b,c,d){a.forEach(b,function(b,e){var f=B(d,c,e);if(f){var g=z.call(this,b);var h=this.components.properties.get(b).alignment;var i=this.components.layout.getRelativeToStructure(b);a.forEach(g,function(a){A.call(this,i,a,f,h)},this)}},this)}function D(b,c,d,e){var f=e||this.documentServices.components.remove.bind(this,b,d);var h=this.components.getContainer(b);var i=this.components.getChildren(h);var j=l.call(this,h);f();this.waitForChangesApplied(function(){var b=l.call(this,h);a.forEach(b,function(b,c){var d=b/j[c];var e=a.find(i,{id:c});var f=z.call(this,e);var g=this.components.properties.get(e).alignment;var h=this.components.layout.getRelativeToStructure(e);a.forEach(f,function(a){A.call(this,h,a,d,g)},this)},this);if(a.keys(b).length===1){this.components.design.update(h,g,undefined,true)}}.bind(this))}function E(a,b){var c=a.components.getChildren(b);return c.length===1}function F(a,b){this.editor.setState({managedColumnPointer:a},b)}function G(){var a=this.editor.state.managedColumnPointer;return a&&this.components.is.exist(a)?a:null}function H(c,d){if(a.isArray(d)){d=a.first(d)}d=d||a(c).thru(this.components.getChildren).first();this.columns.manage.setManagedColumn(d,function(){this.selection.selectComponentByCompRef(c,function(){this.panelManager.openComponentPanel(b,{selectedComponent:c})}.bind(this))}.bind(this))}function I(){this.columns.manage.setManagedColumn(null,function(){this.panelManager.closePanelByName(b)}.bind(this))}return{columns:{isSingleColumnStrip:E,addColumn:s,duplicateColumn:r,removeColumn:D,canAdd:x,proportions:{set:m,get:o,flip:q,fix:j,toPercentages:k},columnAlignment:{set:t,get:u},move:{left:v,right:w},manage:{setManagedColumn:F,getManagedColumn:G,openPanel:H,closePanel:I}}}});define("rEditor/app/APISections/pagesWrapper",["lodash","core","util","rEditor/utils/removeUtil","rEditor/app/updateOperationsPlugins","pLoader!santa:utils"],function(a,b,c,d,e,f){"use strict";function g(a,b){i.call(this,a,b);h.call(this)}function h(){if(!this.getPreviewMode()){this.shouldUpdateEditorScrollAfterHeightUpdate=true;this.applyPreviewScrollToEditorScroll()}}function i(b,d){c.keyboardShortcuts.enable();a(this.pageNavigationCallbacks).concat(d).compact().forEach(function(a){a(b)}).value()}function j(c,d){var e=c.style;if(a.isObject(c.style)){e=b.styleManager.getStyleIdByDef(d.theme,d.components,c.style,c.componentType);
}if(e){c.style=e}a.forEach(c.components,function(a){j(a,d)})}function k(b){var c=["type","name"];var d=b.actions.getDefinition("load");var e=b.behaviors.getDefinition("openPopup");return{action:a.pick(d,c),behavior:a.pick(e,c)}}function l(b,c){var d=b.pages.data.get(c);return a.get(d,"title")||""}return{pages:{add:function(a,b){if(b){b.data.pageUriSEO=this.pages.data.pageUriSEO.getValid("",b.data.pageUriSEO)}return this.documentServices.pages.add(a,b)},navigateTo:function(a,d){this.selection.deselectComponents();c.keyboardShortcuts.disable();this.documentServices.pages.navigateTo(a);this.documentServices.waitForChangesApplied(function(){var a=this.documentServices.pages.getFocusedPageId();g.call(this,a,d)}.bind(this));this.developerMode.setContext(this.developerMode.createContext(b.constants.DEVELOPER_MODE.CONTEXT_TYPES.PAGE))},navigateToAndScroll:function(a,c,d){this.selection.deselectComponents();this.documentServices.pages.navigateToAndScroll(a,c,h.bind(this));this.documentServices.waitForChangesApplied(g.bind(this,a,d));this.developerMode.setContext(this.developerMode.createContext(b.constants.DEVELOPER_MODE.CONTEXT_TYPES.PAGE))},getCurrentUrlPageTitle:function(){if(!this.documentServices){return null}var a=this.documentServices;var b=a.pages.getCurrentUrlPageId();return l(a,b)},getPageTitle:function(a){return l(this.documentServices,a)},remove:function(a,b){this.selection.deselectComponents();d.removePage(this,this.documentServices,this.removePlugins,a,b)},beforePageRemoveHook:function(a,b){var c=this.homePage.get();var d;if(c===a){d=this.mainMenu.getFirstNonHomePageMenuItem();if(d){this.homePage.set(d.pageData.id);c=d.pageData.id.replace(/^#/,"")}}this.documentServices.pages.navigateTo(c,b)},isPageExist:function(a){return this.pages.doesPageExist(a)},isHomePage:function(a){return a===this.homePage.get()},serialize:function(a,b){var c=this.documentServices.pages.serialize(a,true);if(b){j(c,this)}return c},data:{update:function(a,c){if(c.isLandingPage){this.selection.deselectComponents()}if(c.pageUriSEO){c.pageUriSEO=this.pages.data.pageUriSEO.getValid(a,c.pageUriSEO)}c=b.utils.updateDataUtil.fixData(c);this.documentServices.pages.data.update(a,c);var d=this;this.waitForChangesApplied(function(){e.updatePagePlugins.run(d,a)})}},background:{update:function(a,c,d){c=b.utils.updateDataUtil.fixData(c);this.documentServices.pages.background.update(a,c,d)}},transitions:{set:function(a){this.documentServices.pages.transitions.set(a);this.history.add("page transition")}},popupPages:{close:function(){this.hideFloatingBubble();var a=this.documentServices.pages.getPrimaryPageId();this.pages.navigateTo(a)},getCurrentPopup:function(){var a=this.pages.popupPages.getCurrentPopupId();return this.components.get.byId(a)},getCurrentPopupData:function(){var a=this.documentServices.pages.popupPages.getCurrentPopupId();return this.pages.data.get(a)},getPopupContainer:function(b){b=b||this.documentServices.pages.popupPages.getCurrentPopupId();var c=this.documentServices.components.get.byId(b);return a.first(this.documentServices.components.get.byType(f.constants.POPUP.POPUP_CONTAINER.COMPONENT_TYPE,c))},getOpenBehaviorsForPopups:function(){var b=k(this);return a(this.pages.getPageIdList(true)).map(a.ary(this.components.get.byId,1)).map(a.ary(this.behaviors.get,1)).flatten().filter(b).map(function(a){return{pageId:a.action.sourceId,popupId:a.behavior.targetId,params:a.behavior.params}}).value()},getOpenBehaviorsForPopupWithId:function(b){return a.filter(this.pages.popupPages.getOpenBehaviorsForPopups(),{popupId:b})},getDataListOrdered:function(){return a.sortBy(this.documentServices.pages.popupPages.getDataList(),"id")},isFullWidthPopupOpened:function(){if(!this.pages.popupPages.isPopupOpened()){return false}var a=this.components.properties.get(this.pages.popupPages.getPopupContainer());return a&&a.alignmentType==="fullWidth"}},dynamicPages:{getMenuItems:function(){function b(a){return{id:"dpage-"+a.title,label:a.title,type:{isPage:true,isDropdown:false,isDynamicPage:true},pageData:a}}var c=this.routers.pages.getDynamicPagesList();var d=[];a.forEach(c,function(c,e){var f=c.appId===-1?"Data":"Custom Router";var g={id:"router_"+e,isRoot:true,label:a.capitalize(c.prefix)+" ("+f+")",prefix:c.prefix,routerType:f,type:{isDropdown:true},items:a.map(c.pages,b)};d.push(g)});return d}}}}});define("rEditor/app/APISections/pinModeWrapper",["lodash","baseUI","constants","util","experiment"],function(a,b,c,d,e){"use strict";var f={default:{panelName:"compPanels.dynamicPanels.pinnedDockPanel",open:function(a){a.blockingLayer.show();a.editorControls.hide()},close:function(a){a.hideComponentPreviewRect();a.blockingLayer.hide();a.editorControls.show()}}};if(e.isOpen("popups")){f.PopupContainer={panelName:c.COMP_PANELS.POPUP.CONTAINER.POPUP_GRID_LAYOUT_PANEL.NAME,open:function(a){a.blockingPopupLayer.show();a.editorControls.hide()},close:function(a){a.hideComponentPreviewRect();a.blockingPopupLayer.hide();a.editorControls.show()}}}function g(b){return a.get(f,a.has(f,b)?b:"default")}function h(b,c){return a.get(g(c),"panelName")}function i(b,c,d){var e=a.get(g(c),d);if(e){e(b)}}return{pinMode:{open:function(d,e){var f=this.editor.editorAPI.selection.getSelectedComponentType();b.tooltipManager.hide(c.R_EDITOR.ROOT_COMPS.TOOLTIPS.FIRST_TIME_EXIT_POPUP_MODE);e=a.assign({origin:d,selectedComponents:this.editor.state.selectedComponents},e);this.panelManager.openComponentPanel(h(this,f),e);i(this,f,"open")},close:function(){if(this.pinMode.isOpened()){var a=this.editor.state.pinnedCompType;this.panelManager.closePanelByName(h(this,a));i(this,a,"close")}},closeAndCheckSizeRestrictions:function(){this.pinMode.close();this.pinMode.checkSizeRestrictionsAndShowPopup()},checkSizeRestrictionsAndShowPopup:function(){if(!this.getPreviewMode()){this.waitForChangesApplied(function(){var b=this.components.layout.getDock(this.editor.state.selectedComponents);if(!a.isUndefined(b)){var c=d.pinModeUtils.getDockedDirection(b);var e=this.components.layout.get(this.editor.state.selectedComponents);if(d.pinModeUtils.checkSizeRestrictions(c,e)){this.openPinModeSizeRestrictionPanel({state:"on pin",title:"Notification_Box_PinToScreen_ElementTooLarge_postPin_Title",content:"Notification_Box_PinToScreen_ElementTooLarge_postPin_Message"})}}}.bind(this))}},isOpened:function(){return Boolean(this.editor.state.pinnedCompType)},getPinnedCompType:function(){return this.editor.state.pinnedCompType}}}});define("rEditor/app/APISections/promotionsWrapper",["jquery","lodash","core","util","staticAssets","experiment"],function(a,b,c,d,e,f){"use strict";var g=d.serviceTopology.wixStoresMigrationServiceUrl.replace(/ecommerce-migration-web\//,"bi-profile-server/userprofile")||"http://editor.wix.com/_api/wix-bi-profile-server/userprofile";var h;function i(c){var d=g+"?fields=post_reg_category,post_reg_sub_category&accept=json";a.ajax(d).complete(function(a,d){if(d==="success"){var e=a.responseJSON;var f=e.payload&&e.payload.fields;var g=b.find(f,{name:"post_reg_category"});c(b.get(g,"value")||"")}else{c("")}})}function j(a){var c=b.template("panels/focusPanels/<%= promotionName %>PromotionPopup.png");var f=b.template("panels/focusPanels/<%= promotionName %>PromotionPopupRetina.png");var g=d.browserUtil.getDevicePixelRatio();if(g>=2){return d.media.getMediaUrl(e.staticAssetsMap[f({promotionName:a})])}return d.media.getMediaUrl(e.staticAssetsMap[c({promotionName:a})])}function k(a){if(f.isOpen("musicPromotionFixed")||f.isOpen("musicPromotionRotation")){var b=a.promotions.music;a.tpa.app.registerOnInstalled(c.constants.MUSIC_PROMO.APP_DEFINITION_ID,b.displayPopup);if(b.isActive()){b.displayPopup()}}}function l(a){if(!a.userPreferences.session.get("photo-promo-popup-displayed")){a.userPreferences.session.set("photo-promo-popup-displayed",true);a.promotions.photography.displayPopup()}}function m(a){if(f.isOpen("photographyPromotionFixed")||f.isOpen("photographyPromotionRotation")){b.forEach(c.constants.PHOTOGRAPHY_PROMO.APP_DEFINITION_IDS,function(c){a.tpa.app.registerOnInstalled(c,b.partial(l,a))})}}return{promotions:{initPromotions:function(){i(function(a){h=a.toLowerCase();k(this);m(this)}.bind(this))},music:{isActive:function(){if(f.isOpen("musicPromotionFixed")||f.isOpen("musicPromotionRotation")){var a=this.generalInfo.getSiteOriginalTemplateId();var d=b.includes(c.constants.MUSIC_PROMO.TEMPLATE_IDS,a);var e=this.tpa.app.isInstalled(c.constants.MUSIC_PROMO.APP_DEFINITION_ID);return d||e||b.includes(h,"music")}return false},displayPopup:function(){this.panelManager.openPanel("panels.focusPanels.promotionModalPanel",{className:"music-promo-popup",headerFirstLineText:"MUSIC_PROMOTION_HEADER_2",imageSrc:j("music"),bodyText:"MUSIC_PROMOTION_BODY_LINE1",bodyLinkText:"MUSIC_PROMOTION_BODY_B4_ENDS",bodyBottomText:"MUSIC_PROMOTION_BODY_EASY",actionText:"MUSIC_PROMOTION_BUTTON_SUBMIT",actionUrl:"MUSIC_PROMOTION_BUTTON_SUBMIT_URL",biEvent:c.bi.events.musicPromotionPopup.submit_video_clicked})}},photography:{isActive:function(){if(f.isOpen("photographyPromotionFixed")||f.isOpen("photographyPromotionRotation")){var a=this.generalInfo.getSiteOriginalTemplateId().toUpperCase();var d=b.includes(c.constants.PHOTOGRAPHY_PROMO.TEMPLATE_IDS,a);var e=b.some(c.constants.PHOTOGRAPHY_PROMO.APP_DEFINITION_IDS,b.bind(this.tpa.app.isInstalled,this));var g=b.includes(h,"photography")||b.includes(h,"design");return d||e||g}return false},displayPopup:function(){this.panelManager.openPanel("panels.focusPanels.promotionModalPanel",{className:"photo-promo-popup",headerFirstLineText:"PHOTO_PROMO_POP_HEADER1",headerSecondLineText:"PHOTO_PROMO_POP_HEADER2",imageSrc:j("photo"),bodyText:"PHOTO_PROMO_POP_TEXT1",isImageLinkActive:false,actionText:"PHOTO_PROMO_POP_BUTTON_TEXT",actionUrl:"PHOTO_PROMO_POP_BUTTON_URL",biEvent:c.bi.events.photographyPromotionPopup.submit_video_clicked})}}}}});define("rEditor/app/pluginService",["lodash"],function(a){"use strict";var b={};var c={DOUBLE_CLICK:"doubleClick"};var d=function(c,d,e){a.set(b,[c,d],e)};var e=function(c,d){return a.get(b,[c,d])};return{pluginConstants:c,registerPlugin:d,getPlugin:e}});define("rEditor/app/updateThemePlugins/tinyMenu",["lodash"],function(a){"use strict";return function(b,c){if(!c||!c.style||!c.style.properties){return}var d=c.style.properties;var e=c.style.propertiesSource;var f=d["alpha-txt"];if(!a.isUndefined(f)){if(a.isUndefined(d["alpha-iconcolor"])){d["alpha-iconcolor"]=f}if(a.isUndefined(d["alpha-bordercolor"])){d["alpha-bordercolor"]=f}}delete d["alpha-txt"];delete d["alpha-txts"];if(e){var g=e["alpha-txt"];e["alpha-iconcolor"]=e["alpha-iconcolor"]||g;e["alpha-bordercolor"]=e["alpha-bordercolor"]||g;delete e["alpha-txt"];delete e["alpha-txts"]}}});define("rEditor/app/updateThemePlugins/designDataThemeChangeHandler",["lodash","util"],function(a,b){"use strict";function c(c,d){var e=d.values;if(d.type==="COLOR"){a(c.components.getAllComponents()).reduce(function(a,b){var d=c.components.design.get(b);if(d){a.push({pointer:b,data:d})}return a},[]).forEach(function(a){var d=a.data;b.designData.updateThemeColors(d,e);c.components.design.update(a.pointer,d,true)})}}return c});define("rEditor/app/updateThemePlugins",["lodash","rEditor/app/updateThemePlugins/tinyMenu","rEditor/app/updateThemePlugins/designDataThemeChangeHandler"],function(a,b,c){"use strict";var d={"wysiwyg.viewer.skins.mobile.TinyMenuSkin":b};function e(a,b){var c=d[b.skin];if(c){c(a,b)}}return{register:function(b){b.theme.styles.registerHook(e);var d=a.bind(c,{},b);b.theme.events.onChange.addListener(d)}}});define("rEditor/app/tooltipTextService",["lodash"],function(a){"use strict";var b={};function c(c,d,e){if(a.isUndefined(b[c])){b[c]={}}b[c][d]=e}function d(a,c){if(b[a]){return b[a][c]||null}return null}function e(a){var b=this.selection.getSelectedComponents();return this.tooltipTextService.getComponentTooltipText(b,a)}function f(a,b){var c=this.components.getType(a);return this.tooltipTextService.getTooltipText(c,b)}function g(){b={}}return{registerTooltipText:c,getTooltipText:d,getSelectedComponentTooltipText:e,getComponentTooltipText:f,clearAllToolTipsText:g}});define("rEditor/pasteLogic/pasteLogicCalculations",[],function(){"use strict";var a={xOffset:40,yOffset:30,newStackOffset:{x:60,y:40},bottomThreshold:80,rightThreshold:80};function b(b){return{x:b.x+a.xOffset,y:b.y+a.yOffset}}function c(b){return{x:b.x+a.newStackOffset.x,y:b.y-a.newStackOffset.y}}function d(b,c,d){var e=a.rightThreshold;var f=a.bottomThreshold;if(d){e=0;f=0}return c.x+e>b.rightX||c.y+f>b.stageLayout.bottom+b.scrollTop}function e(a,b,c){var d=a.siteSegments.getPagesContainer();var e=a.siteSegments.layout.get(d);return{x:(e.width-c.width)/2,y:(b.stageLayout.height-c.height)/2+b.scrollTop-e.y}}function f(a,b,c){var d=a.siteSegments.getPagesContainer();var e=a.siteSegments.layout.get(d);return c.y>e.height+b.stageLayout.top}function g(b,c){return c.y>=b.stageLayout.top&&c.y+a.bottomThreshold<=b.stageLayout.bottom-b.stageLayout.top+b.scrollTop}return{getNextComponentPosition:b,getNewStackComponentPosition:c,cannotFitIntoViewPort:d,getCenteredCompPosition:e,isComponentInViewPort:g,cannotFitIntoPageHeight:f}});define("rEditor/pasteLogic/ComponentPasteLogic",["lodash","core","rEditor/pasteLogic/pasteLogicCalculations"],function(a,b,c){"use strict";function d(){return a.isEmpty(this.firstCompPosition)}function e(a){return a!==this.lastCompPage}function f(a,b,d){return this.centerOnFirstPaste||e.call(this,d)&&c.cannotFitIntoPageHeight(a,b,this.originalCompPosition)}function g(a,b,d){if(!c.isComponentInViewPort(b,d)){a.ui.scroll.setScroll({scrollLeft:0,scrollTop:d.y})}}function h(a){if(!this.lastCompPage){this.lastCompPage=a}if(e.call(this,a)){this.resetPastePosition()}}function i(a){return a.y<0}function j(a,b,d,h){var j={};if(f.call(this,a,b,h)){j=c.getCenteredCompPosition(a,b,d);if(i(j)){j.y=0}}else if(e.call(this,h)){j=this.originalCompPosition;g(a,b,j)}else{var k=a.ui.scroll.getScroll();j={x:this.originalCompPosition.x,y:this.originalCompPosition.y-this.originalScrollPosition+k.scrollTop}}this.firstCompPosition=j;return j}function k(a){var b=c.getNextComponentPosition(this.lastCompPosition);if(c.cannotFitIntoViewPort(a,b)){b=c.getNewStackComponentPosition(this.firstCompPosition);this.firstCompPosition=b}return b}function l(a){a=a||{};this.originalCompPosition={};this.originalScrollPosition=0;this.firstCompPosition={};this.lastCompPosition={};this.lastCompPage="";this.centerOnFirstPaste=a.centerOnFirstPaste||false;this.lastScrollPosition=null}l.prototype.setPasteData=function(a,b,c){this.originalScrollPosition=c.scrollTop;this.originalCompPosition={x:a.x,y:a.y};this.firstCompPosition={x:a.x,y:a.y};this.lastCompPosition={x:a.x,y:a.y};this.lastCompPage=b};l.prototype.resetPastePosition=function(){this.firstCompPosition={};this.lastCompPosition={}};l.prototype.getPastePosition=function(c,e,f){var g=c.ui.scroll.getScroll();if(this.lastScrollPosition&&!a.isEqual(g,this.lastScrollPosition)){this.resetPastePosition()}var i=b.utils.stageUtils.getViewPort(true);var l=a.pick(e,["width","height"]);var m={};h.call(this,f);if(d.call(this)){m=j.call(this,c,i,l,f)}else{m=k.call(this,i)}this.lastCompPosition=m;this.lastCompPage=f;this.lastScrollPosition=g;return a.clone(m)};return l});define("rEditor/pasteLogic/AddPanelPasteLogic",["rEditor/pasteLogic/ComponentPasteLogic"],function(a){"use strict";function b(){a.call(this,{centerOnFirstPaste:true});this.lastCompTypeAdded=""}b.prototype=Object.create(a.prototype);b.prototype.constructor=b;b.prototype.getPastePosition=function(b,c,d,e){if(e!==this.lastCompTypeAdded){this.resetPastePosition()}this.lastCompTypeAdded=e;return a.prototype.getPastePosition.call(this,b,c,d)};return b});define("rEditor/pasteLogic/pasteLogicContext",["lodash","rEditor/pasteLogic/ComponentPasteLogic","rEditor/pasteLogic/AddPanelPasteLogic"],function(a,b,c){"use strict";var d=new b;var e=new b;var f=new b({centerOnFirstPaste:true});var g=new c;return{pasteContext:d,duplicateContext:e,addContext:f,addPanelPasteLogic:g}});define("rEditor/utils/openPanelByURLData",["lodash"],function(a){"use strict";var b="1380b703-ce81-ff05-f115-39571d94dfcd";var c={addPanel:{name:"addPanelInfra.addPanel",propsGenarator:function(a,b){return{category:a,section:b}}},siteSettingsPanel:{name:"rEditor.panels.siteSettingsPanel",propsGenarator:function(a){return{tab:a}}},pagesPanel:{name:"rEditor.panels.pagesPanel",propsGenarator:function(a){return{tabForSettingsPanel:a}}},feedMe:{name:"panels.focusPanels.feedbackPanel"},blog:{name:"blog.menuPanel"},background:{name:"rEditor.panels.backgroundPanel"},wixStore:{name:"wixStore.panels.wixStorePanel",shouldOpenPanelByRestrictions:function(a){return a.tpa.app.isInstalled(b)}}};var d={mobileHidden:{name:"mobileEditor.hiddenItemsPanel"},mobileBackground:{name:"rEditor.panels.backgroundPanel"},mobileSiteSettingsPanel:{name:"rEditor.panels.siteSettingsPanel",propsGenarator:function(a){return{tab:a}}},mobileElements:{name:"mobileEditor.mobileElementsPanel",propsGenarator:function(a){return{mobileElementId:a}}}};function e(){var b=a.merge({},c,d);return a.mapKeys(b,function(a,b){return b.toLowerCase()})}function f(){return a.mapKeys(d,function(a,b){return b.toLowerCase()})}return{allPanels:e(),mobilePanels:f()}});define("rEditor/utils/openPanelByURL",["lodash","rEditor/utils/openPanelByURLData"],function(a,b){"use strict";var c=b.allPanels;var d=b.mobilePanels;function e(a){return a&&!!d[a]}function f(a){var b=i(a);var c=b?b.split("."):"";var d=c?c[0]:"";return d==="mobile"||e(d)}function g(b){var d=b.split(".");var e=d[0];var f=d.slice(1);if(c[e]&&a.isFunction(c[e].propsGenarator)&&f.length){var g=c[e].propsGenarator.apply(null,f);return a.omit(g,a.isUndefined)}return{}}function h(b,d){if(b){var e=b.split(".")[0];var f=a.isFunction(a.get(c[e],"shouldOpenPanelByRestrictions"))?c[e].shouldOpenPanelByRestrictions(d):true;return!!c[e]&&f}}function i(b){var c=a.mapKeys(b,function(a,b){return b.toLowerCase()}).openpanel;return c?c.toLowerCase():""}function j(a,b){var d=i(a);if(h(d,b)){var e=c[d.split(".")[0]].name;var f=g(d);b.panelManager.openPanel(e,f)}}return{shouldLoadMobileEditor:f,openPanel:j}});define("rEditor/bi/errors.json",[],function(){return{QUALAROO_SURVEY_TIMEOUT_NOT_SENT:{errorCode:8,errorName:"QUALAROO_SURVEY_TIMEOUT_NOT_SENT",desc:"qualaroo component was added without a timeout prop",severity:"error"}}});define("rEditor/bi/bi",["rEditor/bi/events.json","rEditor/bi/errors.json"],function(a,b){"use strict";var c=function(b){b.bi.register("rEditor","event",a)};return{events:a,errors:b,registerEvents:c}});define("rEditor/app/EditorAPI",["reactDOM","pLoader!santa:utils","lodash","jquery","core","baseUI","panels","util","mediaServices","compPanels","rEditor/app/panelHelpers","rEditor/app/updateOperationsPlugins","rEditor/app/pluginsRegistrar","userPreferences","savePublish","rEditor/app/APISections/concurrentUsersWrapper","rEditor/app/APISections/themeWrapper","rEditor/app/APISections/historyWrapper","rEditor/app/APISections/imageCrop","rEditor/app/APISections/siteWrapper","rEditor/app/APISections/domainWrapper","rEditor/app/APISections/developerMode","rEditor/app/APISections/selectedComponent","rEditor/app/APISections/savePublishWrapper","rEditor/app/APISections/connectionsWrapper","rEditor/app/APISections/componentsWrapper","rEditor/app/APISections/componentDetectorWrapper","rEditor/app/APISections/rulersAPI","rEditor/app/APISections/tabIndicationState","rEditor/app/APISections/feedback","rEditor/app/APISections/mainMenuWrapper","rEditor/app/APISections/multiselect","rEditor/app/APISections/leftBarAPI","rEditor/app/APISections/selection","rEditor/app/APISections/databaseEditor","rEditor/app/APISections/welcomeScreensWrapper","rEditor/app/APISections/layoutersWrapper","rEditor/app/APISections/copyPasteWrapper","rEditor/app/APISections/wixStoresFlowAPI","rEditor/app/APISections/editorUI","rEditor/app/APISections/wixCode","rEditor/app/APISections/columns","rEditor/app/APISections/pagesWrapper","rEditor/app/APISections/pinModeWrapper","rEditor/app/APISections/promotionsWrapper","rEditor/app/pluginService","rEditor/app/updateThemePlugins","rEditor/app/tooltipTextService","rEditor/pasteLogic/pasteLogicContext","rEditor/utils/openPanelByURL","rEditor/bi/bi","textControls","blog","editorEventRegistry","experiment","constants","uiAnimations"],function(a,b,c,d,e,f,g,h,i,j,k,l,m,n,o,p,q,r,s,t,u,v,w,x,y,z,A,B,C,D,E,F,G,H,I,J,K,L,M,N,O,P,Q,R,S,T,U,V,W,X,Y,Z,$,_,aa,ba){"use strict";var ca=h.serviceTopology.dashboardUrl.replace(/create\//,"")+"/"||"http://www.wix.com/my-account/";var da=f.uiConstants;function ea(){return{topBarHeight:da.TOPBAR_HEIGHT,previewHeight:null,previewWidth:null,languages:["latin"],extraSiteHeight:40,previewPosition:{top:da.TOPBAR_HEIGHT,left:0,height:0,width:0}}}var fa={toolbarEnabled:true,developerModeEnabled:false,showHiddenComponents:true,guidelinesEnabled:true,sectionsHandlesEnabled:true,snapToEnabled:true,rulersEnabled:undefined,rulers:{guidesState:{},selectedGuide:undefined,isHovered:false,isDragging:null}};var ga=["latin"];var ha=null;var ia={};function ja(b){var c=a.findDOMNode(b.refs.preview);var d=c.contentWindow;if(d.selection){d.selection.empty()}else if(d.getSelection){d.getSelection().removeAllRanges()}}function ka(a,b){var d=c.pick(a,["top","left","height","width"]);d.top+=b;return d}function la(a){var b=h.url.parseUrl(window.document.location.href).query||"";X.openPanel(b,a)}function ma(a){var b=a.generalInfo.getUserInfo().email;a.mediaServices.setIsEmailWithWixDomain(/@wix\.com$/.test(b));a.mediaServices.setSiteMediaToken(a.generalInfo.getSiteToken());a.savePublish.registerFirstSaveCallback(function(){a.mediaServices.setSiteMediaToken(a.generalInfo.getSiteToken())})}function na(a){h.bindOwnMethodsDeep(this,this);this.previewReady=false;this.documentServices=null;this.userPreferences=new n;this.editor=a;this.editorConfig=ea();this.pendingStateChanges={};this.pendingEditorStateUpdateCallbacks=[];this.removePlugins={};this.duplicatePlugins={};this.compNamePlugins={};this.compIconPlugins={};this.cannotRemovePlugins={};this.copyComponentPlugins={};this.pasteComponentPlugins={};this.cutComponentPlugins={};this.addComponentPlugins={};this.pageNavigationCallbacks=[];this.viewerUpdateCallbacks=[this.onViewerChanged];this.goToPreviewCallbacks=[];this.userPreferencesInitCallbacks=[this.initViewToolsFromUserPrefs,this.initUserAddedColors,this.initWelcomeScreen,this.initDevModeValues,this.dispatchUserPrefLoaded];this.sitePublishedCallbacks=[];this.deviceTypeChangeCallbacks=[];this.registeredHideBubbleOnPreview=false;this.isSavedInCurrentSession=false;this.pasteLogic=W;this.mediaServices=new i;this.panelManager=g.panelManager;if(window.testApi&&window.testApi.domSelectors){window.testApi.domSelectors.setSearchRoot(this.editor);window.testApi.editorAPI=this;window.testApi.bi=h.automationUtil.bi}}na.prototype=c.defaultsDeep({},F,x,y,z,A,B,C,D,E,G,q,r,s,t,u,v,w,H,I,K,L,p,M,N,O,P,Q,R,S,{dispatchUserPrefLoaded:function(){var a=_.constants.events.USER_PREFERENCES_LOADED;_.dispatch(a,this)},onPreviewReady:function(a){this.previewReady=true;this.setDocumentServices(a);this.bi.event=this.bi.eventWithEditorPresets(this.bi.event);this.onViewerChanged();this.updateUserPreferencesOnPreviewReady();this.components.onPreviewReady(this);this.synchronizeSiteSEOToMainPageSEO();o.setTimerForSaveReminder(this);this.panelManager.initBIHandler(this.bi);this.feedback.init();this.documentServices.registerToSiteChanged(this.notifyViewerUpdate);this.documentServices.documentMode.enableAction("screenIn",false);if(aa.isOpen("se_hoverBox")){this.documentServices.documentMode.enableAction("modeChange",false)}if(aa.isOpen("popups")){this.documentServices.documentMode.enableAction("load",false)}this.documentServices.documentMode.enableAction("exit",false);this.documentServices.documentMode.enableBgVideoAutoplay(false);if(!this.documentServices.generalInfo.isFirstSave()){this.leftBar.collapseMenu()}e.bi.registerEvents(this);this.initPlugins();this.campaigns.fetchCampaignInfo();if(this.documentServices.generalInfo.isFirstSave()){this.initTemplateCharacterSet()}ma(this);if(aa.isOpen("fontsUpload")){this.mediaServices.fontsManager.init()}this.promotions.initPromotions();la(this)},isMetaSiteFlagOpen:function(a){return c.includes(h.editorModel.metaSiteFlags,a)},triggerMouseUpOnEditor:function(a){this.editor.onMouseUp(a)},synchronizeSiteSEOToMainPageSEO:function(){var a=this.seo.title.get()||"";var b=this.seo.description.get()||"";var c=this.seo.keywords.get()||"";var d=this.homePage.get();var e=this.pages.data.get(d);e.pageTitleSEO=a;e.descriptionSEO=b;e.metaKeywordsSEO=c;this.pages.data.update(d,e)},initTemplateCharacterSet:function(){var a=this.documentServices.theme.fonts.getCharacterSet();function b(a){return c.isEqual(a,ga)}function d(a){return c.includes(a,"arabic")&&c.includes(a,"hebrew")}if(b(a)||d(a)){var e=this.documentServices.theme.fonts.getLanguageCharacterSet(this.getLanguageCode());if(e){this.documentServices.theme.fonts.updateCharacterSet(e)}else{var f=this.documentServices.theme.fonts.getCharacterSetByGeo();this.documentServices.theme.fonts.updateCharacterSet(f)}}},initPanelManager:function(){this.panelManager.registerObserver(this.onPanelsUpdated)},setDocumentServices:function(a){this.documentServices=a;var b={};c.merge(b,this.documentServices,this);c.merge(this,b)},initPlugins:function(){m.register(this);U.register(this)},getLanguageCode:function(){return h.languages.getLanguageCode()},getViewTools:function(){return c.clone(this.editor.state.viewTools)},updateUserPreferencesOnPreviewReady:function(){var a=this;var b=this.generalInfo.getSiteId();var d,f;var g=a.documentServices.generalInfo.isFirstSave();function h(){a.userPreferencesInitCallbacksInvoked=true;c.forEach(a.userPreferencesInitCallbacks,function(a){a()})}function i(a){d=d||a===e.constants.USER_PREFS.TYPES.GLOBAL;f=f||a===e.constants.USER_PREFS.TYPES.SITE;if(d&&(f||g)){h()}}this.userPreferences.loadGlobalPreferences(i.bind(this,e.constants.USER_PREFS.TYPES.GLOBAL));if(!g){a.userPreferences.loadSitePreferences(b,false,i.bind(this,e.constants.USER_PREFS.TYPES.SITE))}},initWelcomeScreen:function(){this.newEditorWelcomeScreenWrapper.initWelcomeScreen(this)},initDevModeValues:function(){var a=this.userPreferences.site.get(e.constants.USER_PREFS.VIEW_TOOLS.SHOW_HIDDEN_COMPS);this.documentServices.documentMode.showHiddenComponents(a);this.documentServices.documentMode.showControllers(true)},initViewToolsFromUserPrefs:function(){var a=e.constants.USER_PREFS.VIEW_TOOLS;var b={showHiddenComponents:this.userPreferences.site.get(a.SHOW_HIDDEN_COMPS),developerModeEnabled:this.userPreferences.site.get(a.DEVELOPER_MODE_ENABLED),developerToolBarEnabled:this.userPreferences.site.get(a.DEVELOPER_TOOLBAR_ENABLED),guidelinesEnabled:this.userPreferences.site.get(a.GUIDELINES_ENABLED),sectionsHandlesEnabled:this.userPreferences.site.get(a.SECTIONS_HANDLES_ENABLED),snapToEnabled:this.userPreferences.site.get(a.SNAPTO_ENABLED),rulersEnabled:this.userPreferences.site.get(a.RULERS_ENABLED),rulers:{guidesState:this.userPreferences.site.get(a.GUIDES_STATE)}};c.defaults(b,fa);this.editor.setState({viewTools:b});this.rulers.resetRulersHistory()},initUserAddedColors:function(){var a=this.documentServices.theme.colors.getCustomUsedInSkins();var b=e.constants.USER_PREFS.THEME.COLORS.CUSTOM.USER_ADDED;var d=this.userPreferences.session.get(b);d=c.intersection(d,a);this.userPreferences.session.set(b,d)},updatePreviewTop:function(a){var b=c.isUndefined(a)?this.editor.state.hideTools&&!this.editor.state.hideToolsAndMaintainStagePosition:a;this.editorConfig.previewPosition.top=da.TOPBAR_HEIGHT;if(b){this.editorConfig.previewPosition.top-=da.OFFSET_TOP_WHEN_TOOLS_HIDDEN}if(this.isMobileEditor()){this.editorConfig.previewPosition.top+=da.MOBILE_PREVIEW_TOP}},updateConfig:function(){this.editorConfig.previewHeight=this.documentServices.site.getHeight();this.updatePreviewTop()},refreshPreviewPosition:function(){var a=c.pick(this.editor.getPreviewPosition(),["top","left","height","width"]);if(!c.isEqual(a,this.editorConfig.previewPosition)){c.assign(this.editorConfig,{previewPosition:a});this.editor.setState({config:this.editorConfig})}},onPanelsUpdated:function(){this.editor.setState({openPanels:this.panelManager.getOpenPanels(),helpProps:this.panelManager.getHelpPanelProps()})},notifyViewerUpdate:function(a){this.waitForChangesApplied(function(){c.forEach(this.viewerUpdateCallbacks,function(b){b(a)})}.bind(this))},setStateWaitForViewer:function(a){c.assign(this.pendingStateChanges,a)},setStateUpdateCallback:function(a){this.pendingEditorStateUpdateCallbacks.push(a)},getPendingStateChanges:function(){return c.reduce(this.pendingEditorStateUpdateCallbacks,function(a,b){return c.assign(a,b())},this.pendingStateChanges,this)},preventMouseDown:function(){window.addEventListener("mousedown",this.preventEvent,true);this.preventMouseDownTimeout=setTimeout(this.allowMouseDown,5e3)},allowMouseDown:function(){clearTimeout(this.preventMouseDownTimeout);window.removeEventListener("mousedown",this.preventEvent,true)},preventEvent:function(a){a.stopPropagation();a.preventDefault()},onViewerChanged:function(){if(!this.editor.state.editorIsInit){this.setDocumentMode(false)}this.updateConfig();var a=this.getPendingStateChanges();this.pendingStateChanges={};this.pendingEditorStateUpdateCallbacks=[];var b=c.filter(this.editor.state.selectedComponents,this.components.is.rendered);b=c.isEmpty(b)?null:b;var d=!c.isEqual(b,this.editor.state.selectedComponents);var e={};if(d){e=this.editor.getCancelMouseHandlerStateParams();e.focusedContainer=null;this.editor.turnOffMouseEvents()}var f={config:this.editorConfig,editorIsInit:true,selectedComponents:b,renderIndex:this.editor.state.renderIndex+1};f.isMobileEditor=this.viewMode&&this.viewMode.get()===this.viewMode.VIEW_MODES.MOBILE;this.editor.setState(c.defaults(f,e,a));if(this.shouldUpdateEditorScrollAfterHeightUpdate){this.applyPreviewScrollToEditorScroll();this.shouldUpdateEditorScrollAfterHeightUpdate=false}},registerInitUserPrefsCallback:function(a){this.userPreferencesInitCallbacks.push(a);if(this.userPreferencesInitCallbacksInvoked){a()}},exitEditor:function(){window.open(ca+"?referralInfo=EDITOR","_self")},getUserPreferences:function(){return this.userPreferences},isTpa:function(a){return this.documentServices.tpa.isTpaByCompType(a)},registerToViewerChange:function(a){this.viewerUpdateCallbacks.push(a)},registerToGoToPreview:function(a){this.goToPreviewCallbacks.push(a)},registerRemovePlugin:function(a,b){this.removePlugins[a]=b},registerDuplicatePlugin:function(a,b){this.duplicatePlugins[a]=b},registerCannotRemovePlugin:function(a,b){this.cannotRemovePlugins[a]=b},registerCopyComponentPlugin:function(a,b){this.copyComponentPlugins[a]=b},registerAddComponentPlugin:function(a,b){this.addComponentPlugins[a]=b},registerPasteComponentPlugin:function(a,b){this.pasteComponentPlugins[a]=this.pasteComponentPlugins[a]||[];this.pasteComponentPlugins[a].push(b)},registerCutComponentPlugin:function(a,b){this.cutComponentPlugins[a]=b},registerPageNavigationCallback:function(a){this.pageNavigationCallbacks.push(a)},registerCompNamePlugin:function(a,b){this.compNamePlugins[a]=b},registerCompIconPlugin:function(a,b){this.compIconPlugins[a]=b},registerSitePublishedCallbacks:function(a){this.sitePublishedCallbacks.push(a)},registerDeviceTypeChangeCallbacks:function(a){this.deviceTypeChangeCallbacks.push(a)},applyPreviewScrollToEditorScroll:function(){if(!this.getPreviewMode()){var a=this.site.getScroll();this.editor.setScroll({scrollLeft:a.x,scrollTop:a.y})}},togglePreview:function(){var a=!this.editor.state.previewMode;if(aa.isOpen("se_hoverBox")){this.documentServices.components.modes.resetAllActiveModes();this.waitForChangesApplied(function(){this.setDocumentMode(a);this.setRenderPlugins(a,this.isMobileEditor());if(a){this.goToPreview()}else{this.exitPreview()}}.bind(this))}else{this.setDocumentMode(a);this.setRenderPlugins(a,this.isMobileEditor());
if(a){this.goToPreview()}else{this.exitPreview()}}},goToPreview:function(){ja(this.editor);this.panelManager.closeAllPanels();f.tooltipManager.hide(ba.R_EDITOR.ROOT_COMPS.TOOLTIPS.FIRST_TIME_EXIT_POPUP_MODE);this.editor.setState({previewMode:true,contextMenu:null},function(){this.waitForChangesApplied(this.actions.executeAnimationsInPage);c.forEach(this.goToPreviewCallbacks,function(a){a()})}.bind(this));this.selection.deselectComponents();h.keyboardShortcuts.setContext(h.keyboardShortcuts.CONTEXTS.PREVIEW)},exitPreview:function(){this.editor.setState({previewMode:false},function(){this.applyPreviewScrollToEditorScroll();this.shouldUpdateEditorScrollAfterHeightUpdate=true;this.hideFloatingBubble();h.keyboardShortcuts.setContext(h.keyboardShortcuts.CONTEXTS.EDITOR)}.bind(this))},setRenderPlugins:function(a){this.renderPlugins.allowSiteOverflow(a);this.renderPlugins.setExtraSiteHeight(a||this.isMobileEditor()?0:this.editorConfig.extraSiteHeight);this.renderPlugins.setPreviewTooltipCallback(function(a,b){var c=ka(a,this.editorConfig.previewPosition.top);this.showFloatingBubble(b,c);ha=setTimeout(this.hideFloatingBubble,e.constants.PREVIEW.FLOATING_BUBBLE_TIMEOUT)}.bind(this))},setDocumentMode:function(a){this.documentServices.documentMode.enablePlaying(a);this.documentServices.documentMode.enableZoom(a);this.documentServices.documentMode.enableSocialInteraction(false);this.documentServices.documentMode.enableExternalNavigation(false);this.documentServices.documentMode.enableSlideShowGalleryClick(a);this.documentServices.documentMode.enableTinyMenuOpening(a);this.documentServices.documentMode.enableRenderFixedPositionContainers(a);this.documentServices.documentMode.enableRenderFixedPositionBackgrounds(a);this.documentServices.documentMode.enableBackToTopButton(a);this.documentServices.documentMode.enablePageProtection(false);this.documentServices.documentMode.toggleWixAds(a);this.documentServices.documentMode.enableBgVideoAutoplay(a&&this.isDesktopEditor());this.documentServices.documentMode.enableSiteMembersDialogsOpening(a);this.documentServices.documentMode.enableResetGalleryToOriginalState(a);this.documentServices.documentMode.enableResetComponent(!a);this.documentServices.documentMode.resetBehaviors(a);this.documentServices.documentMode.enableAction("screenIn",a&&this.isDesktopEditor());if(aa.isOpen("popups")){this.documentServices.documentMode.enableAction("load",a)}if(aa.isOpen("se_hoverBox")){this.documentServices.documentMode.enableAction("modeChange",a&&this.isDesktopEditor())}this.documentServices.documentMode.enableAction("exit",a&&this.isDesktopEditor());this.documentServices.documentMode.enableAction("bgScrub",a&&this.isDesktopEditor());this.documentServices.documentMode.setExtraSiteHeight(a||this.isMobileEditor()?0:this.editorConfig.extraSiteHeight);this.documentServices.documentMode.enableShouldUpdateJsonFromMeasureMap(!a);this.documentServices.documentMode.allowSiteOverflow(a);this.documentServices.documentMode.setComponentViewMode(a?"preview":"editor");this.documentServices.documentMode.allowWixCodeInitialization(a);this.documentServices.documentMode.showHiddenComponents(a?!a:this.getViewTools().showHiddenComponents);this.documentServices.documentMode.showControllers(a?!a:this.getViewTools().developerModeEnabled);if(!a){this.documentServices.documentMode.runtime.reset()}},getPreviewSize:function(){return this.editor.getPreviewSize()},getPreviewMode:function(){return this.editor.state.previewMode},isCurrentPageLandingPage:function(){var a=this.pages.data.get(this.pages.getPrimaryPageId());return a.isLandingPage},isDesktopEditor:function(){return!this.isMobileEditor()},isMobileEditor:function(){return this.editor.state&&this.editor.state.isMobileEditor},getDeviceType:function(){return this.isMobileEditor()?"mobile":"desktop"},resizeOnlyProportionally:function(a){return this.components.is.resizeOnlyProportionally(a)},openCantCopyPastePanel:function(){var a=this.userPreferences.site.get(e.constants.USER_PREFS.CANT_MAKE_CHANGES.MOBILE_CANT_MAKE_CHANGE_DONT_SHOW_AGAIN);if(a){return}this.panelManager.openPanel("mobileEditor.panels.cantMakeChangeMobile",{},true)},setDesktopEditor:function(){this.setEditorMode(false)},setMobileEditor:function(){f.tooltipManager.hide(ba.R_EDITOR.ROOT_COMPS.TOOLTIPS.FIRST_TIME_EXIT_POPUP_MODE);this.setEditorMode(true)},setEditorMode:function(a,b){if(a===this.isMobileEditor()){return}c.forEach(this.deviceTypeChangeCallbacks,function(a){a()});if(!a){this.editor.setState({isMobileEditor:false})}var d=a?this.viewMode.VIEW_MODES.MOBILE:this.viewMode.VIEW_MODES.DESKTOP;if(!b){this.panelManager.closeAllPanels()}this.selection.deselectComponents();this.viewMode.set(d);this.documentServices.waitForChangesApplied(function(){this.documentServices.documentMode.enableAction("screenIn",this.getPreviewMode()&&!a);if(aa.isOpen("popups")){this.documentServices.documentMode.enableAction("load",this.getPreviewMode())}if(aa.isOpen("se_hoverBox")){this.documentServices.documentMode.enableAction("modeChange",this.getPreviewMode()&&!a)}this.documentServices.documentMode.enableAction("exit",this.getPreviewMode()&&!a);this.documentServices.documentMode.enableAction("bgScrub",this.getPreviewMode()&&!a);this.documentServices.documentMode.enableBgVideoAutoplay(this.getPreviewMode()&&!a)}.bind(this));this.setRenderPlugins(this.getPreviewMode(),a);if(!b&&a&&this.documentServices.history.canUndo()){this.history.add("mobile structure was updated")}this.documentServices.documentMode.setExtraSiteHeight(this.editor.state.previewMode||a?0:this.editorConfig.extraSiteHeight);this.documentServices.documentMode.resetBehaviors(this.getPreviewMode());if(aa.isOpen("rulers")){this.rulers.resetRulersHistory()}if(aa.isOpen("sv_hoverBox")&&!a){this.documentServices.components.modes.resetAllActiveModes()}},isMobileOptimizedSite:function(){if(!this.documentServices){return false}return this.documentServices.mobile.isOptimized()},setMobileOptimizedSite:function(a){if(!this.documentServices){return}this.documentServices.mobile.enableOptimizedView(a)},groupComponents:function(a){if(this.components.is.groupedComponent(a)){return}this.selection.deselectComponents();var b=this.components.groupComponents(a);this.closeCompPanelIfExists();this.history.add("group components");this.waitForChangesApplied(function(){this.selection.selectComponentByCompRef(b)}.bind(this))},getLeftBarButtonsBoundingRect:function(){return this.editor.refs.leftBar?this.editor.refs.leftBar.getButtonsBoundingRect():0},openRightClickMenu:function(a,b,c,d){var e={editorMousePosition:{x:a,y:b},viewerPosition:{x:c,y:d}};this.editor.setState({contextMenu:e})},closeRightClickMenu:function(a){if(!aa.isMultiValueExperimentOpen("editorHintsConfigs")||!this.rightClickMenuCloseOnOuterClickDisabled){this.editor.setState({contextMenu:null},a)}},disableRightClickMenuCloseOnOuterClick:function(){this.rightClickMenuCloseOnOuterClickDisabled=true},enableRightClickMenuCloseOnOuterClick:function(){this.rightClickMenuCloseOnOuterClickDisabled=false},closeCompPanelIfExists:function(){var a=this.panelManager.getPanelsOfType("compPanelFrame");if(a.length){this.panelManager.closeAllPanelsOfType("compPanelFrame")}},openFirstTimePanel:function(a){var b="firstTimePanelsNotToShow";var c=this.selection.getSelectedComponentType(a);var d=this.userPreferences.site.get(b)||{};if(!d[c]&&!this.isMobileEditor()){this.panelManager.openFirstTimePanel(c)}},toggleShowOnAllPages:function(a){var b;if(this.components.isShowOnAllPages(a)){b=this.documentServices.pages.getReference(this.pages.getPrimaryPageId())}else{b=this.documentServices.siteSegments.getSiteStructure()}return this.components.setContainer(a,b)},getCompDragRestrictions:function(a){if(!a||this.editor.state.isOpenTextEditor||this.pinMode.isOpened()){return{horizontallyMovable:false,verticallyMovable:false}}return this.components.getRestrictions(a,["horizontallyMovable","verticallyMovable"])},getCompMoveRestrictions:function(a){var b=this.getCompDragRestrictions(a);if(a){c.assign(b,{canMoveForward:this.components.arrangement.canMoveForward(a),canMoveBackward:this.components.arrangement.canMoveBackward(a)})}return b},getCompRestrictions:function(a){var b=this.getCompMoveRestrictions(a);if(a){var d=this.components.layout.isPinned(a);var e=this.editor.state.isOpenTextEditor;var f=["container","containable","movable","alignable","canMoveUp","resizable","disabledKnobs","duplicatable","fixed","showLegacyFixedPosition","anchorableFrom","anchorableTo"];if(!d){f.push("horizontallyResizable","verticallyResizable","rotatable","duplicatable")}if(!e){f.push("removable")}c.assign(b,this.components.getRestrictions(a,f));if(d){b.horizontallyResizable=false;b.verticallyResizable=false;b.rotatable=false;b.duplicatable=false}if(e){b.removable=false}c.assign(b,{resizeableSides:this.components.layout.getResizableSides(a),canBeFixed:this.components.layout.canBeFixedPosition(a),canShowOnAllPages:this.components.canShowOnAllPages(a),resizeOnlyProportionally:this.resizeOnlyProportionally(a),canToggleShowOnAllPages:this.components.canToggleShowOnAllPages(a)});if(aa.isOpen("boxSlideShow")){b.canBeShownOnAllStates=this.components.canBeShownOnAllStates(a)}}return b},getComponentType:function(a){return this.components.getType(a).split(".").pop()},closePagesPanel:k.closePagesPanel,isPagesPanelOpen:k.isPagesPanelOpen,openPagesPanel:k.openPagesPanel,openMobileElementsPanel:k.openMobileElementsPanel,openComponentPanel:function(a,b){b=b||{};var d=this.getComponentType(c.get(b,"selectedComponent",this.editor.state.selectedComponents));var e=this.getPanelPathByType(d,a);this.panelManager.openComponentPanel(e,b)},replaceComponentPanel:function(a,b){b=b||{};var c=this.getComponentType(this.editor.state.selectedComponents);var d=this.getPanelPathByType(c,a);this.panelManager.replaceComponentPanel(d,b)},openCompOutOfGridPanelIfNeeded:function(a){var b=this.utils.findAncestorMatchesCondition(a,this.components.is.showMarginsIndicator);if(b&&this.components.layout.isCompExceedingContainerMargin(a,b)){var c=true;this.openCompOutOfGridPanel({},c);this.bi.event(e.bi.events.columns.COLUMNS_ELEMENTS_PLACED_IN_DEAD_SPOT)}else if(!b&&this.components.layout.isCompOutOfPageBounds(a)){this.openCompOutOfGridPanel()}},openCompOutOfGridPanel:k.openCompOutOfGridPanel,openDragToHeaderPanel:k.openDragToHeaderPanel,openOrganizeImagesPanel:k.openOrganizeImagesPanel,openOrganizeSocialIconsPanel:k.openOrganizeSocialIconsPanel,openAviaryPanel:k.openAviaryPanel,openLinkPanel:k.openLinkPanel,openPinModeSizeRestrictionPanel:k.openPinModeSizeRestrictionPanel,getPanelPathByType:function(a,b){var d="compPanels.panels."+a+"."+b;if(!c.get(j,["panels",a,b])){if(this.isTpa(a)){if(b===e.constants.componentPanels.settings){d="tpa.compPanels.tpaSettings"}}else if(b===e.constants.componentPanels.animation){d="compPanels.dynamicPanels."+e.constants.componentPanels.animation}else if(b===e.constants.componentPanels.stretching){d="compPanels.dynamicPanels."+e.constants.componentPanels.stretching}else if(b===e.constants.componentPanels.filters){d="compPanels.dynamicPanels."+e.constants.componentPanels.filters}else if(b===e.constants.componentPanels.apply){d="compPanels.dynamicPanels."+e.constants.componentPanels.apply}else if(b===e.constants.componentPanels.design){d="designPanel."+e.constants.componentPanels.design}else if(b===e.constants.componentPanels.customizeDesign){d="advancedStylePanel."+e.constants.componentPanels.customizeDesign}}return d},openLearnMore:function(a){if(a&&typeof a==="string"){b.log.info("opening learn more with key - ",a)}},isPreviewReady:function(){return this.previewReady},registerMouseMoveAction:function(a,b,c){this.editor.registerMouseMoveAction(a,b,c);if(aa.isMultiValueExperimentOpen("editorHintsConfigs")){T.getPlugin("mouseMoveStartPlugin","*")()}},isPerformingMouseMoveAction:function(){return this.editor.isPerformingMouseMoveAction()},setPortalChildren:function(a,b){var d=c.cloneDeep(this.editor.state.portalComps);if(c.isEmpty(b)){delete d[a]}else{d[a]=b}this.editor.setState({portalComps:d})},hasExternalDesign:function(a){return this.documentServices.tpa.isTpaByCompType(this.components.getType(a))},setAttachCandidate:function(a,b){if(b){this.editor.setState({attachCandidate:a})}else{this.setStateWaitForViewer({attachCandidate:a})}},setConstraintArea:function(a){this.setStateWaitForViewer({constraintArea:a})},setPageSections:function(a,b){var d=c.clone(this.editor.state.pageSections);c.assign(d,{sections:a,selectedSection:b});this.editor.setState({pageSections:d})},clearPageSections:function(){this.setPageSections(null,null)},sectionsHandles:{areSectionsHandlesEnabled:function(){return this.editor.state.viewTools.sectionsHandlesEnabled},toggleSectionsHandles:function(a,b){var c=!this.sectionsHandles.areSectionsHandlesEnabled();this.updateEditorViewTools("sectionsHandlesEnabled",c);this.userPreferences.site.set(e.constants.USER_PREFS.VIEW_TOOLS.SECTIONS_HANDLES_ENABLED,c,a,b)}},setSiteScale:function(a,b){this.editor.setSiteScale(a,b)},zoomMode:{enterZoomMode:function(){f.tooltipManager.hide(ba.R_EDITOR.ROOT_COMPS.TOOLTIPS.FIRST_TIME_EXIT_POPUP_MODE);this.setSiteScale(.5,0);this.documentMode.allowShowingFixedComponents(false);h.keyboardShortcuts.setContext(h.keyboardShortcuts.CONTEXTS.ZOOM_MODE)},exitZoomMode:function(){this.setSiteScale(1,0);this.documentMode.allowShowingFixedComponents(true);h.keyboardShortcuts.setContext(h.keyboardShortcuts.CONTEXTS.EDITOR)},isInZoomMode:function(){return this.editor.state.siteScale!==1}},snapData:{set:function(a,b){if(b){this.editor.setState({snapData:a})}else{this.setStateWaitForViewer({snapData:a})}},clear:function(a){if(a){this.editor.setState({snapData:null})}else{this.setStateWaitForViewer({snapData:null})}}},lasso:{setCandidates:function(a){this.editor.setState({lassoCandidates:a})},setLayout:function(a){this.editor.setState({lassoLayout:a})},clear:function(){this.editor.setState({lassoLayout:null,lassoCandidates:[]})}},hoverBox:{set:function(a,b){this.editor.setHoverBox(a,b)},clear:function(){this.editor.clearHoverBox()}},focusBox:{getFocusedContainer:function(){return this.editor.state.focusedContainer}},clipboard:{types:e.constants.EDITOR_CLIPBOARD_TYPES,setItem:function(a,b){var d=c.cloneDeep(this.editor.state.clipboard);d[a]=b;this.editor.setState({clipboard:d})},getItem:function(a){return this.editor.state.clipboard[a]}},clipboardContainsComp:function(){return!!this.clipboard.getItem(e.constants.EDITOR_CLIPBOARD_TYPES.COMPONENT)},text:{startEditing:function(){if(!this.text.isEditorReady()){return}if(CKEDITOR&&!CKEDITOR.wixDocumentServices){CKEDITOR.wixDocumentServices=this}if(!this.editor.state.isOpenTextEditor){var a=this.selection.getSelectedComponents();this._textCompForEdit=c.first(a);if(Z.migrationUtils.isOldTextComponent(this._textCompForEdit,this)){this.bi.error(e.bi.errors.OLD_TEXT_MIGRATION);Z.migrationUtils.migrateComponent(this._textCompForEdit,this);var b=this;this.waitForChangesApplied(function(){b.editor.setState({isOpenTextEditor:true})})}else{this.editor.setState({isOpenTextEditor:true})}}},stopEditing:function(){if(this.editor.state.isOpenTextEditor){this.editor.setState({isOpenTextEditor:false})}},setCurrentTextEditor:function(a){this._currentTextEditor=a},getEditor:function(){return this._currentTextEditor},getTextCompForEdit:function(){return this._textCompForEdit},isEditingText:function(){return!!this.editor.state.isOpenTextEditor},undo:function(){this._currentTextEditor.editor.undoManager.undo()},canUndo:function(){return this._currentTextEditor.editor.undoManager.hasUndo},redo:function(){this._currentTextEditor.editor.undoManager.redo()},canRedo:function(){return this._currentTextEditor.editor.undoManager.hasRedo},isEditorReady:function(){return this._currentTextEditor&&this._currentTextEditor.editor.status==="ready"&&c.get(window,"CKEDITOR.WIX.status")==="ready"}},account:{isUserOwner:function(){var a=h.editorModel.permissionsInfo;return a&&a.ownerId===a.loggedInUserId},isUserContributor:function(){return!this.account.isUserOwner()},openConnectDomain:function(a,b){var d=this.generalInfo.isFirstSave();b=c.isBoolean(b)?b:!this.generalInfo.isSitePublished();var e=this.site.isPremium();this.panelManager.openPanel("savePublish.panels.connectDomain",{isFirstSave:d,isFirstPublish:b,isPremium:e,title:"PREMIUM_PUBLISH_TITLE",subtitle:e?"PREMIUM_PUBLISH_SUBTITLE":"CONNECT_DOMAIN_DIALOG_FREE_SUBTITLE",flowId:a},true)},openSettings:function(){var a="49cebc11-f15c-4cf8-82d9-2c36c5397520";this.panelManager.openPanel("rEditor.panels.siteSettingsPanel",{helpId:a})},openRevisions:function(){var a=!!this.userPreferences.site.get(e.constants.USER_PREFS.SITE_REVISIONS.SITE_HISTORY_DONT_SHOW_AGAIN);if(a){this.account.openSiteHistory()}else{var b=this;this.panelManager.openPanel("panels.messagePanels.siteRevisionsPanel",{onButtonClick:function(a){if(a){b.account.openSiteHistory()}}})}},manage:function(){var a=this.documentServices.generalInfo.getMetaSiteId();window.open(ca+"sites/"+a+"/?referralInfo=EDITOR")},openSiteHistory:function(){var a=this.documentServices.generalInfo.getMetaSiteId();window.open(ca+"history/"+a+"/?forceHttp&referralInfo=EDITOR")},upgrade:function(a){var b=a.replace(/edhtml_/,"")||"unknown";this.bi.event(Y.events.UPGRADE_EVENT,{origin:b});var c=this.documentServices.generalInfo.getMetaSiteId();var d=a?"referralAdditionalInfo="+a:"";var e=h.serviceTopology.premiumServerUrl||"https://premium.wix.com";e+="/wix/api/premiumStart?"+d+"&siteGuid="+c;window.open(e)},getEditorVersionsInfo:function(){return window.editorVersionsInfo||null}},help:{openHelpCenter:function(a,c,d,e){b.log.error("editorAPI.help.openHelpCenter is deprecated. Use panelManager.openHelpCenter instead");this.panelManager.openHelpCenter(a,d,e)}},mobile:{mobileOnlyComponents:{enableBackToTopButton:function(a){this.documentServices.mobile.mobileOnlyComponents.enableBackToTopButton(a)}},hiddenComponents:{get:function(a){var b=this.documentServices.mobile.hiddenComponents.get(a);return c.filter(b,function(b){var c=this.documentServices.components.get.byId(b,a,this.documentServices.viewMode.VIEW_MODES.DESKTOP);if(!this.documentServices.components.is.group(c)){return true}return false},this)}}},utils:{isSameRef:function(a,b){var d=this.components.asArray(a);var e=this.components.asArray(b);if(this.multiselect.isMultiselect(d)||this.multiselect.isMultiselect(e)){if(d.length!==e.length){return false}var f=c.sortBy(d,"id");var g=c.sortBy(e,"id");var h=c.every(f,function(a,b){return this.documentServices.utils.isSameRef(a,g[b])},this);return h}return this.documentServices.utils.isSameRef(c.first(d),c.first(e))},isPage:function(a){var b=this.components.asArray(a);if(this.multiselect.isMultiselect(b)){return false}return this.documentServices.utils.isPage(b[0])},getParentIfCompCanBeSelected:function(a){if(!this.components.is.selectable(a)){return this.components.getContainer(a)}return null},findAncestorMatchesCondition:function(a,b){if(!a){return null}var c=this.components.getContainer(a);while(c&&!b(c)){c=this.components.getContainer(c)}return c}},siteName:{validate:function(a){var b=this.documentServices.siteName.validate(a);var c={};c[this.documentServices.siteName.ERRORS.SITE_NAME_IS_EMPTY]="SAVE_SITE_NAME_IS_EMPTY";c[this.documentServices.siteName.ERRORS.SITE_NAME_IS_NOT_STRING]="SITE_NAME_IS_NOT_STRING";c[this.documentServices.siteName.ERRORS.SITE_NAME_INVALID_CHARS]="SAVE_SITE_NAME_INVALID_CHARS";c[this.documentServices.siteName.ERRORS.SITE_NAME_ENDS_WITH_HYPHEN]="SAVE_SITE_NAME_ENDS_WITH_HYPHEN";c[this.documentServices.siteName.ERRORS.SITE_NAME_TOO_SHORT]="SAVE_SITE_NAME_TOO_SHORT";c[this.documentServices.siteName.ERRORS.SITE_NAME_TOO_LONG]="SAVE_SITE_NAME_TOO_LONG";c[this.documentServices.siteName.ERRORS.SITE_NAME_ALREADY_EXISTS]="SAVE_SITE_NAME_ALREADY_EXISTS";b.errorMessage=c[b.errorCode];return b},set:function(a){this.documentServices.siteName.set(a);if(!this.domain.isDomainConnected()){this.documentServices.generalInfo.setPublicUrl(this.domain.getFreeDomainPrefix()+a)}},sanitize:function(a){return this.documentServices.siteName.sanitize(a)},rename:function(a,b,c){var e=h.serviceTopology.editorServerRoot||"//editor.wix.com/html/editor/web";e+="/meta-site-proxy/rename/"+this.documentServices.generalInfo.getMetaSiteId();d.ajax(e,{type:"POST",data:{newName:a},success:function(d){if(!d.success){c(d);return}this.documentServices.siteName.set(a);if(!this.domain.isDomainConnected()){this.documentServices.generalInfo.setPublicUrl(this.domain.getFreeDomainPrefix()+a)}if(b){b()}}.bind(this),error:function(){if(c){c()}}})}},updateEditorViewTools:function(a,b){var d=a;if(c.isString(a)){d={};d[a]=b}var e=c.defaults(d,this.getViewTools());this.editor.setState({viewTools:e})},toolbar:{isToolbarEnabled:function(){return this.editor.state.viewTools.toolbarEnabled},toggleToolbar:function(){this.updateEditorViewTools("toolbarEnabled",!this.toolbar.isToolbarEnabled())}},developerToolBar:{isEnabled:function(){return this.editor.state.viewTools.developerToolBarEnabled},toggle:function(){var a=!this.developerToolBar.isEnabled();this.updateEditorViewTools("developerToolBarEnabled",a);this.userPreferences.site.set(e.constants.USER_PREFS.VIEW_TOOLS.DEVELOPER_TOOLBAR_ENABLED,a)}},developerHiddenComponents:{isEnabled:function(){return this.editor.state.viewTools.showHiddenComponents},toggle:function(){var a=!this.developerHiddenComponents.isEnabled();this.updateEditorViewTools("showHiddenComponents",a);this.documentMode.showHiddenComponents(a);this.userPreferences.site.set(e.constants.USER_PREFS.VIEW_TOOLS.SHOW_HIDDEN_COMPS,a)}},grid:{guidelines:{isGuidelinesEnabled:function(){return this.editor.state.viewTools.guidelinesEnabled},toggleGuidelines:function(a,b){var c=!this.grid.guidelines.isGuidelinesEnabled();this.updateEditorViewTools("guidelinesEnabled",c);this.userPreferences.site.set(e.constants.USER_PREFS.VIEW_TOOLS.GUIDELINES_ENABLED,c,a,b)}},snapTo:{isSnapToEnabled:function(){return this.editor.state.viewTools.snapToEnabled},toggleSnapTo:function(a,b){var c=!this.grid.snapTo.isSnapToEnabled();this.updateEditorViewTools("snapToEnabled",c);this.userPreferences.site.set(e.constants.USER_PREFS.VIEW_TOOLS.SNAPTO_ENABLED,c,a,b)}}},siteSegments:{getRefs:function(){var a=this.documentServices.siteSegments;return[a.getFooter(),a.getHeader(),a.getPagesContainer(),a.getSiteStructure()]},getPagesContainerAbsLayout:function(){var a=this.siteSegments.getPagesContainer();return this.components.layout.getRelativeToScreen(a)}},pluginService:T,tooltipTextService:V,homePage:{set:function(a){this.documentServices.homePage.set(a);l.setHomePagePlugins.run(this,a)}},openEditorVersionInfoPanel:function(){this.panelManager.openPanel("rEditor.panels.editorVersionInfoPanel")},styles:{openApplyStylePanel:function(a){this.panelManager.openPanel("rEditor.panels.applyStylePanel",{selectedComp:a,editorAPI:this})}},bi:{eventWithEditorPresets:function(a){return function(b,d){b=c.defaults({},b,{src:38,endpoint:"editor",sampleRatio:0});d=d||{};var e=h.editorModel.permissionsInfo;if(e){var f=e.ownerId;var g=c.pluck(e.loggedInUserRoles,"role").join(",");d=c.assign({},d,{ownerId:f,roles:g})}if(aa.isMultiValueExperimentOpen("editorHintsConfigs")){T.getPlugin("biPlugin","*")(b,d)}a(b,d)}},getComponentsBIParams:function(a){return c.map(a,function(a){var b={};if(a){b.component_id=a.id;var d=this.components.getType(a);b.component_type=d;if(d&&this.isTpa(d)){c.assign(b,this.bi.getTpaComponentBIParams(a))}}return b},this)},getTpaComponentBIParams:function(a){var b={};var c=this.components.data.get(a)||{};var d=this.tpa.app.getData(c.applicationId);b.app_id=d.appDefinitionId;b.instance_id=a.id;b.app_site_id=d.instanceId;b.widget_id=c.widgetId;var e=c.type==="TPAWidget";var f=this.tpa.app.isLastAppComp(c.applicationId);var g=f||!(e||this.tpa.app.isMultiSectionInstalled(c.applicationId));b.is_last_tpa=g?1:0;return b},reportBI:function(a,b){var d=this;c.forEach(b,function(b){b.is_last=b.is_last||b===this;d.bi.event(a,b)},b[b.length-1])},registerForBIEvents:function(a){T.registerPlugin("biPlugin","*",a)}},campaigns:{fetchCampaignInfo:function(){var a=this;var b="http://"+window.location.host+"/_api/wix/salesSystemResolver";d.getJSON(b,function(b,c){if(c==="success"&&b){a.campaignInfo={id:b.data.campaignId,type:b.data.type}}})},getActiveCampaignInfo:function(){return this.campaignInfo},isActiveCampaign:function(a){if(this.campaigns.getActiveCampaignInfo()){return c.includes(this.campaigns.getActiveCampaignInfo().id,a.id)}return false},getDiscountValue:function(a){var b=this.campaigns.getActiveCampaignInfo();var d=b.id.split("_");return d.length===1?a.defaultDiscount:c.last(d)},personalSale:{isActiveCampaign:function(){return this.campaigns.isActiveCampaign(e.constants.CAMPAIGNS.PERSONAL_SALE)||this.campaigns.isActiveCampaign(e.constants.CAMPAIGNS.SEASONAL_CAMPAIGN)},getDiscountValue:function(){return this.campaigns.getDiscountValue(e.constants.CAMPAIGNS.PERSONAL_SALE)},getAssetPath:function(){return e.constants.CAMPAIGNS.PERSONAL_SALE.assetPath}}},newEditorWelcomeScreenWrapper:J,showFloatingBubble:function(a,b,c,d){this.editor.showFloatingBubble(a,b,c,d)},hideFloatingBubble:function(){this.editor.hideFloatingBubble();clearTimeout(ha)},showComponentPreviewRect:function(a){this.editor.setState({pinPreviewRectStyle:a})},hideComponentPreviewRect:function(){var a=this.editor.state.pinPreviewRectStyle;c.assign(a,{opacity:0});this.editor.setState({pinPreviewRectStyle:a})},blockingLayer:{show:function(){var a=ba.R_EDITOR.EDITOR_API.BLOCKING_LAYER_STYLE;this.renderPlugins.setCompsToShowOnTop(c.pluck(this.selection.getSelectedComponents(),"id"));this.renderPlugins.setBlockingLayer(a)},hide:function(){var a=null;this.renderPlugins.setCompsToShowOnTop(null);this.renderPlugins.setBlockingLayer(a)}},blockingPopupLayer:{show:function(){var a=ba.R_EDITOR.EDITOR_API.BLOCKING_LAYER_STYLE;this.renderPlugins.setCompsToShowOnTop(c.pluck(this.selection.getSelectedComponents(),"id"));this.renderPlugins.setBlockingPopupLayer(a)},hide:function(){var a=null;this.renderPlugins.setCompsToShowOnTop(null);this.renderPlugins.setBlockingPopupLayer(a)}},editorControls:{hide:function(){this.editor.setState({pinnedCompType:this.selection.getSelectedComponentType(),contextMenu:null})},show:function(){this.editor.setState({pinnedCompType:false})}},getSiteScale:function(){return this.editor.state.siteScale},endMouseMoveActionIfNeeded:function(a){if(this.editor.state.registeredMouseMoveAction){this.editor.onMouseUp(a)}},isVerticalScrollbarHidden:function(){var a=window.document.body.clientHeight>window.innerHeight;return!a||a&&window.document.body.clientWidth===window.innerWidth},toggleEditorStateParam:function(a,b){var c={};c[a]=typeof b==="undefined"?!this.editor.state[a]:b;this.editor.setState(c)},toolsControl:{toggleHalfOpacityTools:function(a){this.toggleEditorStateParam("halfOpacityTools",a)},toggleHideToolsBtnBlink:function(a){this.toggleEditorStateParam("shouldHideToolsBtnBlink",a)},toggleHideTools:function(a,b){b=c.isBoolean(b)?b:this.editor.state.hideToolsAndMaintainStagePosition;var d=typeof a==="undefined"?!this.editor.state.hideTools:a,f="panels.toolPanels.linkPanel",g=this.panelManager.getOpenPanels();this.hideFloatingBubble();if(!b){this.updatePreviewTop(d)}this.editor.setState({hideToolsAndMaintainStagePosition:d?b:d,hideTools:d,editorConfig:this.editorConfig,halfOpacityTools:false,shouldHideToolsBtnBlink:false});if(d){c(g).reject({frameType:e.constants.PANEL_TYPES.COMP}).reject({name:f}).forEach(function(a){this.panelManager.closePanelByName(a.name)},this).value()}return d},areToolsHidden:function(){return this.editor.state.hideTools}},blog:{add:function(a,b){$.installApp(this,a||"MediaLeftPage",b)}},cursor:{get:function(){return ia},set:function(a){ia=a}},overlay:{disableUpdate:function(){this.editor.setState({shouldOverlayUpdate:false})},enableUpdate:function(){this.editor.setState({shouldOverlayUpdate:true})},shouldUpdate:function(){return this.editor.state.shouldOverlayUpdate}},tooltips:{disable:function(){this.editor.setState({isTooltipsDisabled:true})},enable:function(){this.editor.setState({isTooltipsDisabled:false})}},hints:{registerForMouseEvents:function(a,b){T.registerPlugin("mouseMoveStartPlugin","*",a);T.registerPlugin("mouseMoveEndPlugin","*",b)}},topBarMenuBar:{openDropDown:function(a,b){this.editor.refs.topbar.openDropDown(a,b)},enableClose:function(){this.editor.refs.topbar.enableClose()},disableDropDown:function(){this.editor.refs.topbar.disableDropDown()},enableDropDown:function(){this.editor.refs.topbar.enableDropDown()},shouldBeVisible:function(a){return this.editor.refs.topbar.shouldBeVisible(a)},registerForDropDownActions:function(a,b){T.registerPlugin("topBarMenuBarDropDownOpen","*",a);T.registerPlugin("topBarMenuBarDropDownClose","*",b)},onMenuBarDropDownOpen:function(a){var b=T.getPlugin("topBarMenuBarDropDownOpen","*");if(b&&c.isFunction(b)){b(a)}},onMenuBarDropDownClose:function(a){var b=T.getPlugin("topBarMenuBarDropDownClose","*");if(b&&c.isFunction(b)){b(a)}}}});return na});define("rEditor/rootComps/keyboard/config/topContextShortcuts",["lodash"],function(a){"use strict";var b=function(a){a.preventDefault()};var c={esc:b,"ctrl + t, command + t":b,"ctrl + y, command + y":b,"ctrl + d, command + d":b,"ctrl + s, command + s":b,"ctrl + ], command + ]":b,"ctrl + [, command + [":b,"ctrl + shift + ], command + shift + ]":b,"ctrl + shift + [, command + shift + [":b,backspace:b,"ctrl + left, command + left":b,"ctrl + right, command + right":b,"ctrl + shift + left, command + shift + left":b,"ctrl + shift + right, command + shift + right":b,"ctrl + m, command + m":b,"ctrl + shift + m, command + shift + m":b};return{init:a.once(a.noop),shortcuts:c}});define("rEditor/rootComps/keyboard/config/keyboardShortcutsActionMap",["core"],function(a){"use strict";var b=a.constants.KEYBOARD_SPECIAL_KEY.value;var c=a.constants.KEYBOARD_SPECIAL_KEY.label;return{editor:{SELECT_ALL:{key:b+" + a",label:""},GROUP_COMPONENTS:{key:b+" + g",label:""},UNGROUP_COMPONENTS:{key:b+" + shift + g",label:""},COPY:{key:b+" + c",label:c+" + C"},PASTE:{key:b+" + v",label:c+" + V"},APPLY_MODE:{key:b+" + shift + v",label:c+" + Shift + V"},CUT:{key:b+" + x",label:c+" + X"},DUPLICATE:{key:b+" + d",label:c+" + D"},UNDO:{key:b+" + z",label:c+" + Z"},REDO:{key:[b+" + y",b+" + shift + z"].join(","),label:c+" + Y"},DELETE:{key:["del","backspace"].join(","),label:"Del"},SAVE:{key:b+" + s",label:c+" + S"},SAVE_AS_TEMPLATE:{key:b+" + alt + t",label:""},SELECT_NEXT_COMP:{key:b+" + m",label:""},SELECT_PREV_COMP:{key:b+" + shift + m",label:""},CLOSE_PANELS:{key:"esc",label:""},MOVE_RIGHT:{key:"right",label:""},SHIFT_RIGHT:{key:"shift + right",label:""},MOVE_LEFT:{key:"left",label:""},SHIFT_LEFT:{key:"shift + left",label:""},MOVE_UP:{key:"up",label:""},SHIFT_UP:{key:"shift + up",label:""},MOVE_DOWN:{key:"down",label:""},SHIFT_DOWN:{key:"shift + down",label:""},SEND_FORWARD:{key:b+" + right",label:c+" + →"},SEND_TO_FRONT:{key:b+" + shift + right",label:c+" + Shift + →"},SEND_BACKWARD:{key:b+" + left",label:c+" + ←"},SEND_TO_BACK:{key:b+" + shift + left",label:c+" + Shift + ←"},TOGGLE_PREVIEW:{key:b+" + p",label:c+" + P"},PUBLISH_SITE:{key:b+" + shift + p",label:c+" + Shift + P"},HIDE_TOOLS:{key:"shift + f",label:"Shift + F"},TOGGLE_RULERS:{key:"shift + r",label:"Shift + R"}},preview:{EXIT_PREVIEW:{key:"esc",label:""},TOGGLE_PREVIEW:{key:b+" + p",label:c+" + P"},PUBLISH_SITE:{key:b+" + shift + p",label:c+" + Shift + P"}},topBar:{CLOSE_DROP_PANEL:{key:"esc",label:""}},imageCrop:{APPLY:{key:"enter",label:"Enter"},CANCEL:{key:"esc",label:"Esc"}}}});define("rEditor/rootComps/topBar/menuBar/menuBarItemsDefinitions",["lodash","core","util","panels","savePublish","rEditor/rootComps/keyboard/config/keyboardShortcutsActionMap","editorHints","experiment"],function(a,b,c,d,e,f,g,h){"use strict";var i=null;var j=b.constants;var k="savePublish.panels.save.saveYourSitePanel";var l={EDITOR:"editor",KEYBOARD_SHORTCUTS:"kb_shortcuts",HELP_VIDEOS:"video_help",SEO:"seo",
CONNECT_DOMAIN:"connect_domain",BACK_TO_OLD_EDITOR:"back_to_old_editor"};function m(a,b,c){var e=i&&i.generalInfo&&i.generalInfo.isFirstSave();if(e){d.panelManager.openPanel(k,{title:b,messageBody:c},true)}else{a()}}function n(b,c,d,e){var f=e?a.cloneDeep(c):c;f.fields.status=b?1:0;if(!!e&&f.fields.category){f.fields.category+=e}i.bi.event(f.type,f.fields);d.call(i)}function o(a,c){var e=c||null;var f={panel_name:e,origin:b.constants.BI.HELP.ORIGIN.TOPBAR,learn_more:false};d.panelManager.openHelpCenter(a,null,f)}function p(){var k=i.account.getEditorVersionsInfo()||{};var p={SITE_BAR:{label:c.translate("TOPBAR_Site_Label"),bi:{type:b.bi.events.topbar.top_bar_click,fields:{category:"site"}},getCounter:function(){if(!q()){return s()}},hintProps:{id:"SiteMenuBar"},hintContainerId:g.hintsContainers.TOP_BAR_SITE_MENU_PANEL},EDIT_BAR:{label:c.translate("TOPBAR_Edit_Label"),bi:{type:b.bi.events.topbar.top_bar_click,fields:{category:"edit"}}},VIEW_BAR:{label:c.translate("Topbar_Tools_Label"),bi:{type:b.bi.events.topbar.top_bar_click,fields:{category:"view"}},hintProps:{id:"ToolsMenuBar"},hintContainerId:g.hintsContainers.TOP_BAR_TOOLS_MENU_PANEL},SETTINGS:{action:function(){m(function(){i.bi.event(b.bi.events.topbar.top_bar_open_settings_click);i.account.openSettings()},"TOPBAR_SITE_SETTINGS_SAVE_FIRST_MSG_TITLE","TOPBAR_SITE_SETTINGS_SAVE_FIRST_MSG_BODY")},label:c.translate("TOPBAR_Settings_Label"),bi:{type:b.bi.events.topbar.top_bar_SITE_menu_click,fields:{category:"settings"}},hintProps:{id:"SiteSettings"}},HELP_BAR:{label:c.translate("TOPBAR_HELP_TOOLTIP_TITLE"),bi:{type:b.bi.events.topbar.top_bar_click,fields:{category:"help"}},hintProps:{id:"Help"}},HELP_CENTER:{label:c.translate("TOPBAR_HELP_EDITOR_HELP"),action:function(){var a=i.isDesktopEditor();var b=a?"58406e7a-1ad0-4105-8e37-c053b529f9d8":"f8b24a99-cefd-4c55-adda-aa66ec643259";o(b,l.EDITOR)},bi:{type:b.bi.events.topbar.top_bar_HELP_menu_click,fields:{category:"help_center"}}},HELP_VIDEOS:{separator:true,label:c.translate("TOPBAR_HELP_VIDEOS"),action:function(){o("8ea5fd0e-6fd0-48d5-91c3-a816927a19cc",l.HELP_VIDEOS)},bi:{type:b.bi.events.topbar.top_bar_HELP_menu_click,fields:{category:"video_help"}}},HELP_KB_SHORTCUTS:{separator:true,label:c.translate("TOPBAR_HELP_KB_SHORTCUTS"),action:function(){o("5a3238e6-ebe9-4aca-a7a2-1c717598e334",l.KEYBOARD_SHORTCUTS)},bi:{type:b.bi.events.topbar.top_bar_HELP_menu_click,fields:{category:"help_kb_shortcuts"}}},HELP_CONNECT_DOMAIN:{label:c.translate("TOPBAR_HELP_CONNECT_DOMAIN"),action:function(){o("a06941d9-7683-4ced-bce3-bd2cc3c7d6e9",l.CONNECT_DOMAIN)},bi:{type:b.bi.events.topbar.top_bar_HELP_menu_click,fields:{category:"help_connect_domain"}}},HELP_SEO:{separator:true,label:c.translate("TOPBAR_HELP_SEO"),action:function(){o("ab2c2a83-5bc0-435e-ab82-f2c1036580a7",l.SEO)},bi:{type:b.bi.events.topbar.top_bar_HELP_menu_click,fields:{category:"help_seo"}}},HELP_FEEDBACK:{separator:true,label:c.translate("Topbar_HELP_FEEDBACK"),action:function(){var a=j.HELP_URLS.FEEDBACK;var b=c.languages.getLocalizedLink(a,"{$lang}");window.open(b)},bi:{type:b.bi.events.topbar.top_bar_HELP_menu_click,fields:{category:"help_feedback"}}},TERMS_OF_USE:{label:c.translate("TOPBAR_HELP_TERMS_OF_USE"),action:function(){var a=c.serviceTopology.basePublicUrl+"about/terms-of-use";var b=c.languages.getLocalizedLink(a);window.open(b)},bi:{type:b.bi.events.topbar.top_bar_HELP_menu_click,fields:{category:"terms_of_use"}}},PRIVACY_POLICY:{label:c.translate("TOPBAR_HELP_PRIVACY_POLICY"),action:function(){var a=c.serviceTopology.basePublicUrl+"about/privacy";var b=c.languages.getLocalizedLink(a);window.open(b)},bi:{type:b.bi.events.topbar.top_bar_HELP_menu_click,fields:{category:"privacy_policy"}}},SAVE:{label:c.translate("TOPBAR_Site_Save"),action:function(){e.save(i,{origin:"top_bar_site_menu"})},bi:{type:b.bi.events.topbar.top_bar_SITE_menu_click,fields:{category:"save"}}},VIEW_SITE:{label:c.translate("TOPBAR_SITE_VIEWSITE"),action:function(){if(!p.VIEW_SITE.disabledChecker()){var a=i.site.getSitePublicUrl();window.open(a);return true}return false},disabledChecker:function(){return!i||!i.generalInfo||!i.generalInfo.isSitePublished()},bi:{type:b.bi.events.topbar.top_bar_SITE_menu_click,fields:{category:"view_site"}}},PREVIEW:{label:c.translate("TOPBAR_PREVIEW_TOOLTIP_TITLE"),action:i.togglePreview,bi:[{type:b.bi.events.topbar.top_bar_SITE_menu_click,fields:{category:"preview"}},{type:b.bi.events.preview.PREVIEW_CLICK,fields:{origin:"menubar"}}]},FEEDBACK:{label:c.translate("TOPBAR_GetFeedback_Label"),action:function(){m(d.panelManager.openPanel.bind(null,"panels.focusPanels.feedbackPanel"),"TOPBAR_SITE_FEEDBACK_SAVE_FIRST_MSG_TITLE","TOPBAR_SITE_FEEDBACK_SAVE_FIRST_MSG_BODY")},getCounter:s,bi:[{type:b.bi.events.topbar.top_bar_SITE_menu_click,fields:{category:"feedback"}},{type:b.bi.events.preview.PREVIEW_CLICK,fields:{origin:"menubar"}}],visibilityFunc:function(){return!r()&&i.account.isUserOwner()},hintProps:{id:"GetFeedback"}},GET_TRAFFIC:{label:c.translate("TOPBAR_GetTraffic_Label"),action:function(){if(!p.GET_TRAFFIC.disabledChecker()){d.panelManager.openPanel("panels.focusPanels.getTrafficPanel",{title:"TOPBAR_SITE_FEEDBACK_SAVE_FIRST_MSG_TITLE",messageBody:"TOPBAR_SITE_FEEDBACK_SAVE_FIRST_MSG_BODY"},true);return true}return false},bi:[{type:b.bi.events.topbar.top_bar_SITE_menu_click,fields:{category:"get_traffic"}},{type:b.bi.events.preview.PREVIEW_CLICK,fields:{origin:"menubar"}}],disabledChecker:function(){return!i||!i.generalInfo||!i.generalInfo.isSitePublished()}},PUBLISH:{label:c.translate("TOPBAR_Site_Publish"),action:function(){if(!p.PUBLISH.disabledChecker()){e.saveAndPublish(i,"top_bar_site_menu_publish")}},disabledChecker:function(){return!i.savePublish.canUserPublish()},bi:[{type:b.bi.events.topbar.top_bar_SITE_menu_click,fields:{category:"publish"}},{type:b.bi.events.publish.PUBLISH_CLICK,fields:{origin:"menubar"}}]},EDITOR_MODE_SWITCH:{separator:true,labelFunc:function(){return i&&i.isMobileEditor()?c.translate("Topbar_Site_Desktop_Editor"):c.translate("Topbar_Site_Mobile_Editor")},action:function(){i.setEditorMode(!i.isMobileEditor())},bi:{type:b.bi.events.topbar.top_bar_SITE_menu_click,fields:{category:"editor_mode_switch"}}},REVISIONS:{label:c.translate("TOPBAR_Site_Site_Revisions"),action:function(){m(i.account.openRevisions,"TOPBAR_SITE_HISTORY_SAVE_FIRST_MSG_TITLE","TOPBAR_SITE_HISTORY_SAVE_FIRST_MSG_BODY")},bi:{type:b.bi.events.topbar.top_bar_SITE_menu_click,fields:{category:"revisions"}},hintProps:{id:"SiteHistory"}},SITE_DASHBOARD:{label:c.translate("TOPBAR_SITE_DASHBOARD"),action:function(){m(i.account.manage,"TOPBAR_SITE_SETTINGS_SAVE_FIRST_MSG_TITLE","TOPBAR_SITE_DASHBOARD_SAVE_FIRST_MSG_BODY")},bi:{type:b.bi.events.topbar.top_bar_SITE_menu_click,fields:{category:"site_dashboard"}}},EXIT:{label:c.translate("TOPBAR_Site_Logout"),action:i.exitEditor,bi:{type:b.bi.events.topbar.top_bar_SITE_menu_click,fields:{category:"logout"}}},UNDO:{label:c.translate("TOPBAR_Edit_Undo"),shortcutLabel:f.editor.UNDO.label,action:i.history.undo,bi:{type:b.bi.events.topbar.top_bar_EDIT_menu_click,fields:{category:"undo"}}},REDO:{label:c.translate("TOPBAR_Edit_Redo"),shortcutLabel:f.editor.REDO.label,action:i.history.redo,bi:{type:b.bi.events.topbar.top_bar_EDIT_menu_click,fields:{category:"redo"}}},CUT:{label:c.translate("TOPBAR_Edit_Cut"),shortcutLabel:f.editor.CUT.label,compActionRestrictionNames:["duplicatable","removable"],action:function(){i.selectedComponent.sendSelectedComponentBI(b.bi.events.topbar.top_bar_EDIT_menu_click,{category:"cut"});i.selectedComponent.cut();i.history.add("component - cut")}},COPY:{label:c.translate("TOPBAR_Edit_Copy"),shortcutLabel:f.editor.COPY.label,compActionRestrictionNames:["duplicatable"],action:function(){i.selectedComponent.sendSelectedComponentBI(b.bi.events.topbar.top_bar_EDIT_menu_click,{category:"copy"});i.selectedComponent.copy()}},PASTE:{label:c.translate("TOPBAR_Edit_Paste"),shortcutLabel:f.editor.PASTE.label,compActionRestrictionNames:["duplicatable"],action:function(){i.components.paste();i.history.add("component - paste")},bi:{type:b.bi.events.topbar.top_bar_EDIT_menu_click,fields:{category:"paste"}}},DUPLICATE:{label:c.translate("TOPBAR_Edit_Duplicate"),shortcutLabel:f.editor.DUPLICATE.label,compActionRestrictionNames:["duplicatable"],action:function(){i.selectedComponent.sendSelectedComponentBI(b.bi.events.topbar.top_bar_EDIT_menu_click,{category:"duplicate"});i.selectedComponent.duplicate();i.history.add("component - duplicate")}},DELETE:{labelFunc:function(){return i.isDesktopEditor()?c.translate("TOPBAR_Edit_Delete"):c.translate("TOPBAR_Edit_HIDE")},shortcutLabel:f.editor.DELETE.label,compActionRestrictionNames:["removable"],action:function(){i.selectedComponent.sendSelectedComponentBI(b.bi.events.topbar.top_bar_EDIT_menu_click,{category:"delete"});i.selectedComponent.remove();i.history.add("component - remove")}},TOOLBAR:{label:c.translate("TOPBAR_VIEW_TOOLBAR_TITLE"),isCheckbox:true,menuPropsKey:"toolbarEnabled",action:function(a,b){n(!i.toolbar.isToolbarEnabled(),p.TOOLBAR.biData,i.toolbar.toggleToolbar,b?"(Image)":null)},biData:{type:b.bi.events.topbar.top_bar_VIEW_menu_click,fields:{category:"toolbar",status:null}}},RULERS:{label:c.translate("TOPBAR_VIEW_RULERS1"),isCheckbox:true,menuPropsKey:"rulersEnabled",visibilityFunc:function(){return h.isOpen("rulers")},action:function(b,c){var d=a.cloneDeep(p.RULERS.biData);d.fields.editor_view_mode=i.getDeviceType();n(!i.rulers.isRulersEnabled(),d,i.rulers.toggleRulers,c?"(Image)":null)},biData:{type:b.bi.events.topbar.top_bar_VIEW_menu_click,fields:{category:"rulers",status:null,editor_view_mode:null}},hintProps:{id:"Rulers"}},GUIDELINES:{label:c.translate("TOPBAR_VIEW_GRIDLINES_TITLE"),isCheckbox:true,isDisabled:function(){return!i.isDesktopEditor()},menuPropsKey:"guidelinesEnabled",action:function(a,b){n(!i.grid.guidelines.isGuidelinesEnabled(),p.GUIDELINES.biData,i.grid.guidelines.toggleGuidelines,b?"(Image)":null)},biData:{type:b.bi.events.topbar.top_bar_VIEW_menu_click,fields:{category:"guidelines",status:null}}},SNAP:{label:c.translate("TOPBAR_VIEW_SNAP_TITLE"),isCheckbox:true,menuPropsKey:"snapToEnabled",action:function(a,b){n(!i.grid.snapTo.isSnapToEnabled(),p.SNAP.biData,i.grid.snapTo.toggleSnapTo,b?"(Image)":null)},biData:{type:b.bi.events.topbar.top_bar_VIEW_menu_click,fields:{category:"snap",status:null}}},SECTIONS:{label:c.translate("TOPBAR_VIEW_SECTIONS"),isCheckbox:true,menuPropsKey:"sectionsHandlesEnabled",visibilityFunc:function(){return i.isDesktopEditor()},action:function(a,b){n(!i.sectionsHandles.areSectionsHandlesEnabled(),p.SECTIONS.biData,i.sectionsHandles.toggleSectionsHandles,b?"(Image)":null)},biData:{type:b.bi.events.topbar.top_bar_VIEW_menu_click,fields:{category:"sectionshandles",status:null}}}};p.IMAGE_OPTIMIZATION={label:c.translate("TOPBAR_SITE_IMAGE_QUALITY"),action:function(){d.panelManager.openPanel("panels.focusPanels.siteImageOptimizationPanel",{panelName:"panels.focusPanels.siteImageOptimizationPanel"})},bi:{type:b.bi.events.topbar.top_bar_SITE_menu_click,fields:{category:"image_optimization"}}};if(h.isOpen("developerModeToggle")){p.SECTIONS.separator=true;p.DEVELOPER_MODE={label:c.translate("TOPBAR_VIEW_DEVELOPER_MODE_TITLE"),isCheckbox:true,menuPropsKey:"developerModeEnabled",action:function(a,c,d){if(!i.userPreferences.site.get(b.constants.USER_PREFS.DEVELOPER_MODE.FIRST_TIME)){d()}i.developerMode.toggle()},biData:{type:b.bi.events.topbar.top_bar_VIEW_menu_click,fields:{category:"dev_mode",status:null}}};p.PROPERTIES_TOOLBAR={label:c.translate("TOPBAR_VIEW_DEVELOPER_MODE_PROPERTIES_PANEL_TITLE"),isCheckbox:true,visibilityFunc:function(){return i.developerMode.isEnabled()},menuPropsKey:"developerToolBarEnabled",action:function(){i.developerToolBar.toggle()},biData:{type:b.bi.events.topbar.top_bar_VIEW_menu_click,fields:{category:"properties_panel",status:null}}};p.HIDDEN_ELEMENTS={label:c.translate("TOPBAR_VIEW_DEVELOPER_MODE_HIDDEN_ELEMENTS_TITLE"),isCheckbox:true,visibilityFunc:function(){return i.developerMode.isEnabled()},menuPropsKey:"showHiddenComponents",action:function(){i.developerHiddenComponents.toggle()},biData:{type:b.bi.events.topbar.top_bar_VIEW_menu_click,fields:{category:"show_hidden_components",status:null}}}}if(i.account.isUserOwner()){p.UPGRADE={label:c.translate(h.isOpen("spanishUpgradeText")?"UPGRADE_FOR_SPAIN_ONLY":"TOPBAR_Upgrade_Label"),bi:{type:b.bi.events.topbar.top_bar_click,fields:{category:"upgrade"}},hintProps:{id:"Premium"}};if(!i.wixStores.isSiteInWixStoreTestDrive()){p.UPGRADE_ITEM={label:c.translate(h.isOpen("spanishUpgradeText")?"UPGRADE_FOR_SPAIN_ONLY":"TOPBAR_Upgrade_Label"),separator:true,className:"menu-bar-item-upgrade",action:function(){m(i.account.upgrade.bind(i,"edhtml_TOP_BAR_SITE_MENU_UPGRADE"),"TOPBAR_SITE_UPGRADE_SAVE_FIRST_MSG_TITLE","TOPBAR_SITE_UPGRADE_SAVE_FIRST_MSG_BODY")},bi:{type:b.bi.events.topbar.top_bar_SITE_menu_click,fields:{category:"upgrade"}}};p.CONNECT_DOMAIN={label:c.translate("TOPBAR_SITE_CONNECT_DOMAIN"),action:function(){if(i.generalInfo.isFirstSave()){e.save(i)}else{i.account.openConnectDomain(b.constants.CONNECT_DOMAIN.FLOWS.TOP_BAR)}},bi:{type:b.bi.events.topbar.top_bar_SITE_menu_click,fields:{category:"connect_domain"}}}}}if(q()){p.BACK_TO_OLD_EDITOR={label:c.translate("Topbar_oldeditor_link"),action:function(){if(k.isEligibleForSwitch){d.panelManager.openPanel("panels.messagePanels.switchToOldEditorConfirmationPanel",{title:"Notification_Box_ToOldEditor_Title"})}else{o("85aae89a-84f6-4967-b866-e5c39c91d635",l.BACK_TO_OLD_EDITOR)}},bi:{type:b.bi.events.topbar.top_bar_SITE_menu_click,fields:{category:"back_to_old_editor"}},visibilityFunc:q}}return p}function q(){var a=i.account.getEditorVersionsInfo()||{};return!a.isNewUser&&a.userOverride==="none"&&a.isEligibleForSwitch&&!i.isSavedInCurrentSession}function r(){var a=i.account.getEditorVersionsInfo()||{};return a.isEligibleForSwitch&&!i.isSavedInCurrentSession&&!i.generalInfo.isTemplate()}function s(){var a=i.feedback.getNewCommentsCounter();return a>99?"99+":a}var t={init:a.once(function(b){i=b;var c=p();a.merge(t,c)})};return t});define("rEditor/rootComps/keyboard/config/topBarShortcuts",["lodash","rEditor/rootComps/topBar/menuBar/menuBarItemsDefinitions"],function(a,b){"use strict";var c={};function d(){a.forEach(b,function(a){if(a&&a.shortcut){c[a.shortcut]=a.action}})}return{init:a.once(function(a){b.init(a);d()}),shortcuts:c}});define("rEditor/rootComps/keyboard/actions/selectComponentShortcutsActions",["lodash","core","experiment"],function(a,b,c){"use strict";var d=["PAGES_CONTAINER","SITE_PAGES","BACK_TO_TOP_BUTTON"];function e(a,b,c){return c==="x"&&a.components.is.horizontallyMovable(b)||c==="y"&&a.components.is.verticallyMovable(b)}function f(b){var c=b.pages.getFocusedPageId();var e=b.components.getAllComponents(c);var f=a.filter(e,function(b){return!a.includes(d,b.id)});return f}function g(b,d,e){var f=a.findIndex(d,{id:e});var h=f+1===d.length;var i=h?0:f+1;if(c.isOpen("boxSlideShow")&&!b.components.is.selectable(d[i])){return g(b,d,d[i].id)}return d[i]}function h(b,d,e){var f=a.findIndex(d,{id:e});var g=f===0?d.length-1:f-1;if(c.isOpen("boxSlideShow")&&!b.components.is.selectable(d[g])){return h(b,d,d[g].id)}return d[g]}function i(a,b){var c=a.height/2;return Math.max(b-c,0)}function j(a,c){var d=b.utils.stageUtils.getStageLayout();var e=a.components.layout.getRelativeToScreen(c);b.utils.scrollUtils.setScroll({scrollTop:i(d,e.y)})}function k(a,b){a.selection.selectComponentByCompRef(b);j(a,b)}return{selectNextComponent:function a(b){var c=b.selection.getSelectedComponentId();if(!c){return}var d=g(b,f(b),c);k(b,d)},selectPreviousComponent:function a(b){var c=b.selection.getSelectedComponentId();if(!c){return}var d=h(b,f(b),c);k(b,d)},moveComponent:function(b,c,d){var f=b.multiselect.getComponentsWhichDontHaveAncestorsInTheArray(b.selection.getSelectedComponents());if(f&&e(b,f,c)){b.waitForChangesApplied(function(){var e=b.components.layout.getRelativeToStructure(f);var g=a.clone(e);g[c]+=d;if(d===10){g[c]=Math.floor(g[c]/10)*10}else if(d===-10){g[c]=Math.ceil(g[c]/10)*10}b.components.layout.updateRelativeToStructure(f,g)})}return f}}});define("rEditor/rootComps/keyboard/util/editorDebugShortcutsUtil",["core","lodash","savePublish"],function(a,b,c){"use strict";var d=a.constants.KEYBOARD_SPECIAL_KEY.value;function e(a){var e={};var f=b(window.editorModel.runningExperiments).pick(function(a){return a==="new"}).keys().value();e["ctrl + alt + shift + v"]=a.openEditorVersionInfoPanel.bind(a);e["ctrl + alt + shift + e"]=function(){window.alert("Active Experiments:\n"+f.join("\n"))};var g=window.location.search&&window.location.search.toLowerCase();var h=b.includes(g,"debug=")||b.includes(g,"isqa=true");if(h){e[d+" + shift + alt + s"]=c.configureSave;e[d+" + shift + alt + p"]=c.configurePublish.bind(c,a)}return e}return e});define("rEditor/rootComps/keyboard/util/sendBIAndActionUtil",["core","lodash"],function(a,b){"use strict";function c(a,c){b.assign(c,a)}function d(a,d,e){if(a&&d){var f=a.selection.getSelectedComponents();var g=a.bi.getComponentsBIParams(f);b.forEach(g,c.bind(null,e));if(b.isEmpty(g)&&e){g.push(e)}a.bi.reportBI(d,g)}}return d});define("rEditor/rootComps/keyboard/config/editorShortcuts",["lodash","core","panels","rEditor/rootComps/keyboard/config/keyboardShortcutsActionMap","rEditor/rootComps/keyboard/actions/selectComponentShortcutsActions","rEditor/rootComps/keyboard/util/editorDebugShortcutsUtil","rEditor/rootComps/keyboard/util/sendBIAndActionUtil"],function(a,b,c,d,e,f,g){"use strict";var h={};var i=d.editor;function j(b){var c={};c[i.GROUP_COMPONENTS.key]=l.bind(null,b);c[i.UNGROUP_COMPONENTS.key]=m.bind(null,b);c[i.COPY.key]=k.bind(null,b);c[i.CUT.key]=o.bind(null,b);c[i.DUPLICATE.key]=n.bind(null,b);c[i.MOVE_RIGHT.key]=p.bind(null,b,"x",1);c[i.MOVE_LEFT.key]=p.bind(null,b,"x",-1);c[i.MOVE_UP.key]=p.bind(null,b,"y",-1);c[i.MOVE_DOWN.key]=p.bind(null,b,"y",1);c[i.SHIFT_RIGHT.key]=p.bind(null,b,"x",10);c[i.SHIFT_LEFT.key]=p.bind(null,b,"x",-10);c[i.SHIFT_UP.key]=p.bind(null,b,"y",-10);c[i.SHIFT_DOWN.key]=p.bind(null,b,"y",10);var d=f(b);a.merge(c,d);a.merge(h,c)}function k(a){var c=b.bi.events.rightClickMenu;var d=a.selection.getSelectedComponents();var e=a.components.layout.isPinned(d)?1:0;a.selectedComponent.copy();if(d){var f=a.components.getType(d);g(a,c.COPY,{origin:"keyboard",is_component_pinned:e,component_type:f})}}function l(a,b){var c=a.selection.getSelectedComponents();if(a.components.is.groupable(c)&&a.multiselect.isMultiselect(c)){a.groupComponents(c)}b.preventDefault()}function m(a,b){var c=a.selection.getSelectedComponents();if(a.components.is.group(c)){a.components.ungroup(c)}b.preventDefault()}function n(a){var c=b.bi.events.rightClickMenu;var d=a.selection.getSelectedComponents();var e=a.components.layout.isPinned(d)?1:0;a.selectedComponent.duplicate();if(a.selection.getSelectedComponentType()!=="Column"){a.history.add("component - duplicate")}g(a,c.DUPLICATE,{origin:"keyboard",is_component_pinned:e})}function o(a){var c=b.bi.events.rightClickMenu;var d=a.selection.getSelectedComponents();var e=a.components.layout.isPinned(d)?1:0;a.selectedComponent.cut();a.history.add("component - cut");g(a,c.CUT,{origin:"keyboard",is_component_pinned:e})}function p(a,b,c,d){if(d){d.preventDefault()}e.moveComponent(a,b,c)}return{init:function(a){j(a)},shortcuts:h}});define("rEditor/rootComps/keyboard/config/previewShortcuts",["lodash","rEditor/rootComps/keyboard/config/keyboardShortcutsActionMap"],function(a,b){"use strict";var c={};function d(a){a.preventDefault()}return{init:a.once(function(a){c[b.preview.EXIT_PREVIEW.key]=a.togglePreview;c[b.preview.TOGGLE_PREVIEW.key]=e.bind(this,a);c[b.preview.PUBLISH_SITE.key]=d}),shortcuts:c};function e(a,b){b.preventDefault();a.togglePreview()}});define("rEditor/rootComps/keyboard/config/pinModeShortcuts",["lodash","core","panels","rEditor/rootComps/keyboard/config/keyboardShortcutsActionMap","rEditor/rootComps/keyboard/util/editorDebugShortcutsUtil","rEditor/rootComps/keyboard/actions/selectComponentShortcutsActions"],function(a,b,c,d,e){"use strict";var f={};var g=d.editor;function h(c){var d=b.bi.events.rightClickMenu;var h={};h[g.GROUP_COMPONENTS.key]=j;h[g.UNGROUP_COMPONENTS.key]=j;h[g.COPY.key]=i.bind(null,c,d.COPY,{is_component_pinned:1});h[g.CUT.key]=i.bind(null,c,d.CUT,{is_component_pinned:1});h[g.DUPLICATE.key]=i.bind(null,c,d.DUPLICATE,{is_component_pinned:1});h[g.MOVE_RIGHT.key]=j;h[g.MOVE_LEFT.key]=j;h[g.MOVE_UP.key]=j;h[g.MOVE_DOWN.key]=j;h[g.SHIFT_RIGHT.key]=j;h[g.SHIFT_LEFT.key]=j;h[g.SHIFT_UP.key]=j;h[g.SHIFT_DOWN.key]=j;var k=e(c);a.merge(h,k);a.merge(f,h)}function i(b,c,d){if(b&&c){var e=b.selection.getSelectedComponents();var f=b.bi.getComponentsBIParams(e);a.forEach(f,k.bind(null,d));if(a.isEmpty(f)&&d){f.push(d)}b.bi.reportBI(c,f)}}function j(a){a.preventDefault()}function k(b,c){a.assign(c,b)}return{init:function(a){h(a)},shortcuts:f}});define("rEditor/rootComps/keyboard/util/commonKeyboardActions",["core","savePublish","rEditor/rootComps/keyboard/util/sendBIAndActionUtil","pLoader!santa:utils"],function(a,b,c,d){"use strict";function e(b){var d=a.bi.events.editor.undo_redo_component_change;b.history.undo();c(b,d,{type:"undo",origin:"keyboard"})}function f(b){var d=a.bi.events.editor.undo_redo_component_change;b.history.redo();c(b,d,{type:"redo",origin:"keyboard"})}function g(a){b.save(a,{origin:"keyboard"})}function h(a){b.saveAsTemplate(a,function(){d.log.info("Saved successfully as Template.")})}function i(c,d){if(!c.savePublish.canUserPublish()){return}d.preventDefault();c.bi.event(a.bi.events.publish.PUBLISH_CLICK,{origin:"keyboard"});b.saveAndPublish(c,"keyboard_publish")}return{undoFromKeyboard:e,redoFromKeyboard:f,saveSiteFromKeyboard:g,saveSiteAsTemplateFromKeyboard:h,publishSiteFromKeyboard:i}});define("rEditor/rootComps/keyboard/config/zoomModeShortcuts",["lodash","rEditor/rootComps/keyboard/util/commonKeyboardActions","rEditor/rootComps/keyboard/config/keyboardShortcutsActionMap"],function(a,b,c){"use strict";var d={};var e=c.editor;function f(c){var f={};f[e.UNDO.key]=b.undoFromKeyboard.bind(null,c);f[e.REDO.key]=b.redoFromKeyboard.bind(null,c);f[e.SAVE.key]=b.saveSiteFromKeyboard.bind(null,c);f[e.SAVE_AS_TEMPLATE.key]=b.saveSiteAsTemplateFromKeyboard.bind(null,c);f[e.PUBLISH_SITE.key]=b.publishSiteFromKeyboard.bind(null,c);a.assign(d,f)}return{init:function(a){f(a)},shortcuts:d}});define("rEditor/rootComps/keyboard/config/imageCropShortcuts",["lodash","core","rEditor/rootComps/keyboard/config/keyboardShortcutsActionMap","rEditor/rootComps/keyboard/actions/selectComponentShortcutsActions"],function(a,b,c){"use strict";var d={};var e=c.imageCrop;function f(b){var c={};c[e.APPLY.key]=g.bind(null,b);c[e.CANCEL.key]=h.bind(null,b);a.merge(d,c)}function g(c){var d=c.selection.getSelectedComponents();var e=c.selection.getSelectedComponentData().crop;c.imageCrop.updateCrop();c.imageCrop.toggleCropMode(false);c.waitForChangesApplied(function(){var f=c.components.data.get(d).crop;var g=!a.isEqual(e,f);c.bi.event(b.bi.events.imageCrop.apply_crop,{is_changed:g,origin:"enter"})})}function h(a){a.imageCrop.toggleCropMode(false)}return{init:function(a){f(a)},shortcuts:d}});define("rEditor/rootComps/keyboard/config/baseEditorShortcuts",["lodash","core","panels","experiment","rEditor/rootComps/keyboard/config/keyboardShortcutsActionMap","rEditor/rootComps/keyboard/actions/selectComponentShortcutsActions","rEditor/rootComps/keyboard/util/editorDebugShortcutsUtil","rEditor/rootComps/keyboard/util/commonKeyboardActions","rEditor/rootComps/keyboard/util/sendBIAndActionUtil"],function(a,b,c,d,e,f,g,h,i){"use strict";var j={};var k=e.editor;function l(b){var c={};c[k.SELECT_ALL.key]=b.selection.selectAll;c[k.PASTE.key]=n.bind(null,b);c[k.APPLY_MODE.key]=o.bind(null,b);c[k.UNDO.key]=h.undoFromKeyboard.bind(null,b);c[k.REDO.key]=h.redoFromKeyboard.bind(null,b);c[k.DELETE.key]=q.bind(null,b);c[k.SAVE.key]=h.saveSiteFromKeyboard.bind(null,b);c[k.SAVE_AS_TEMPLATE.key]=h.saveSiteAsTemplateFromKeyboard.bind(null,b);c[k.SELECT_NEXT_COMP.key]=r.bind(null,b);c[k.SELECT_PREV_COMP.key]=s.bind(null,b);c[k.TOGGLE_RULERS.key]=t.bind(null,b);c[k.CLOSE_PANELS.key]=u.bind(null,b);c[k.SEND_TO_FRONT.key]=m.toFront.bind(null,b);c[k.SEND_TO_BACK.key]=m.toBack.bind(null,b);c[k.SEND_FORWARD.key]=m.forward.bind(null,b);c[k.SEND_BACKWARD.key]=m.backward.bind(null,b);c[k.TOGGLE_PREVIEW.key]=p.bind(null,b);c[k.PUBLISH_SITE.key]=h.publishSiteFromKeyboard.bind(null,b);c[k.HIDE_TOOLS.key]=v.bind(null,b);var d=g(b);a.merge(c,d);a.merge(j,c)}var m={toFront:function(a){var c=a.selection.getSelectedComponents();if(a.components.is.controlledByParent(c)){return}a.components.arrangement.moveToFront(c);i(a,b.bi.events.rightClickMenu.BRING_TO_FRONT,{origin:"keyboard"})},toBack:function(a){var c=a.selection.getSelectedComponents();if(a.components.is.controlledByParent(c)){return}a.components.arrangement.moveToBack(c);i(a,b.bi.events.rightClickMenu.SEND_TO_BACK,{origin:"keyboard"})},forward:function(a){var c=a.selection.getSelectedComponents();if(a.components.is.controlledByParent(c)){return}a.components.arrangement.moveForward(c);i(a,b.bi.events.rightClickMenu.MOVE_FORWARD,{origin:"keyboard"})},backward:function(a){var c=a.selection.getSelectedComponents();if(a.components.is.controlledByParent(c)){return}a.components.arrangement.moveBackward(c);i(a,b.bi.events.rightClickMenu.MOVE_BACKWARDS,{origin:"keyboard"})}};function n(c){var d=b.bi.events.rightClickMenu;var e=c.clipboard.getItem(b.constants.EDITOR_CLIPBOARD_TYPES.COMPONENT);if(e){var f=a.pluck(e.components,"serializedComp.layout");var g=c.components.layout.isPinnedBySerializedLayout(f)?1:0;c.components.paste();c.history.add("component - paste");i(c,d.PASTE,{origin:"keyboard",is_component_pinned:g})}}function o(a){var c=b.bi.events.rightClickMenu;if(d.isOpen("se_hoverBox")&&a.components.canApplyModeFromClipboard()){a.components.applyModeFromClipboard();a.history.add("component - apply mode");i(a,c.APPLY_MODE_FROM_CLIPBOARD,{origin:"keyboard"})}}function p(a,c){c.preventDefault();a.bi.event(b.bi.events.preview.PREVIEW_CLICK,{origin:"keyboard"});a.togglePreview()}function q(a){var c=a.selection.getSelectedComponents();var d=a.components.layout.isPinned(c)?1:0;a.selectedComponent.remove();a.history.add("component - remove");i(a,b.bi.events.editor.component_removed,{removal_method:"keyboard",is_component_pinned:d})}function r(a){a.panelManager.closeAllPanels();f.selectNextComponent(a)}function s(a){a.panelManager.closeAllPanels();f.selectPreviousComponent(a)}function t(a){a.rulers.toggleRulers()}function u(a){var d=c.panelManager;var e=d.getOpenPanels();if(e.length>0){d.closeAllPanelsOfType(["leftPanelFrame","compPanelFrame","focusPanelFrame","messagePanelFrame","pagesPanelFrame","toolPanelFrame","tpaSettingsPanelFrame"])}else if(d.getHelpPanelProps()){d.closeHelpCenter()}else if(a.selection.isComponentSelected()){a.selection.deselectComponents()}else{a.toolsControl.toggleHideTools(false);a.bi.event(b.bi.events.editor.hide_tools.show_controls,{origin:"shortcut"})}}function v(a){var c=a.toolsControl.toggleHideTools(),d=c?"hide_controls":"show_controls";a.bi.event(b.bi.events.editor.hide_tools[d],{origin:"shortcut"})}return{init:function(a){l(a)},shortcuts:j}});define("rEditor/rootComps/keyboard/config/shortcutsConfig",["util","lodash","rEditor/rootComps/keyboard/config/topContextShortcuts","rEditor/rootComps/keyboard/config/topBarShortcuts","rEditor/rootComps/keyboard/config/editorShortcuts","rEditor/rootComps/keyboard/config/previewShortcuts","rEditor/rootComps/keyboard/config/pinModeShortcuts","rEditor/rootComps/keyboard/config/zoomModeShortcuts","rEditor/rootComps/keyboard/config/imageCropShortcuts","rEditor/rootComps/keyboard/config/baseEditorShortcuts"],function(a,b,c,d,e,f,g,h,i,j){"use strict";var k=a.keyboardShortcuts;function l(a,b){return function(){b();return a.apply(null,arguments)}}function m(a,c){return b.mapValues(a,function(a){return l(a,c)})}function n(a,b){k.registerContext(k.CONTEXTS.TOP_CONTEXT,m(c.shortcuts,b),a);var l=k.extendContext(k.CONTEXTS.TOP_CONTEXT,m(j.shortcuts,b));k.registerContext(k.CONTEXTS.BASE_EDITOR,l,a);var n=k.extendContext(k.CONTEXTS.TOP_CONTEXT,m(f.shortcuts,b));k.registerContext(k.CONTEXTS.PREVIEW,n,a);var o=k.extendContext(k.CONTEXTS.BASE_EDITOR,m(e.shortcuts,b));k.registerContext(k.CONTEXTS.EDITOR,o,a);var p=k.extendContext(k.CONTEXTS.BASE_EDITOR,m(g.shortcuts,b));k.registerContext(k.CONTEXTS.PIN_MODE,p,a);var q=k.extendContext(k.CONTEXTS.EDITOR,m(d.shortcuts,b));k.registerContext(k.CONTEXTS.TOP_BAR,q,a);var r=k.extendContext(k.CONTEXTS.TOP_CONTEXT,m(i.shortcuts,b));k.registerContext(k.CONTEXTS.IMAGE_CROP,r,a);var s=k.extendContext(k.CONTEXTS.TOP_CONTEXT,m(h.shortcuts,b));k.registerContext(k.CONTEXTS.ZOOM_MODE,s,a)}return{init:b.once(function(a){c.init(a);f.init(a);j.init(a);g.init(a);i.init(a);h.init(a);e.init(a);d.init(a);n(a,a.closeRightClickMenu)})}});define("rEditor/rootComps/topBar/config/topBarData.json",[],function(){return{EDIT:[{comp:"WIX_LOGO",orientation:"left"},{comp:"SEPARATOR",orientation:"left"},{comp:"PAGES_LIST",orientation:"left"},{comp:"SEPARATOR",orientation:"left"},{comp:"MENU",orientation:"left"},{comp:"SEPARATOR",orientation:"right"},{comp:"ZOOMOUT",orientation:"right"},{comp:"SEPARATOR",orientation:"right"},{comp:"UNDO",orientation:"right"},{comp:"SEPARATOR",orientation:"right"},{comp:"REDO",orientation:"right"},{comp:"REDO_SEPARATOR",orientation:"right"},{comp:"EDITOR_MODE_SWITCH",orientation:"right"},{comp:"SEPARATOR",orientation:"right"},{comp:"SAVE",orientation:"right"},{comp:"SEPARATOR",orientation:"right"},{comp:"WIXSTORES_MIGRATION_UPGRADE_SITE",orientation:"right"},{comp:"PREVIEW",orientation:"right"},{comp:"PUBLISH",orientation:"right"},{comp:"WIXSTORES_MIGRATION_SAVE",orientation:"right"}],PREVIEW:[{comp:"WIX_LOGO",orientation:"left"},{comp:"SEPARATOR",orientation:"left"},{comp:"MOBILE_NON_OPTIMIZED_NOTIFICATION",orientation:"center"},{comp:"PREVIEW_NOTIFICATION",orientation:"center"},{comp:"SEPARATOR",orientation:"right"},{comp:"EDITOR_MODE_SWITCH",orientation:"right"},{comp:"SEPARATOR",orientation:"right"},{comp:"PREVIEW_SAVE",orientation:"right"},{comp:"SEPARATOR",orientation:"right"},{comp:"WIXSTORES_MIGRATION_UPGRADE_SITE",orientation:"right"},{comp:"BACK_TO_EDITOR",orientation:"right"}]}});define("rEditor/rootComps/topBar/menuBar/config/topBarMenuData.json",[],function(){return[{key:"SITE_BAR",children:[{key:"SAVE",rightPanel:{type:"rEditor.panels.topBar.promotionPanel",props:{menuKey:"SAVE",style:{width:192,minHeight:396},title:"TOPBAR_SITE_SAVE_PROMOTION_TITLE",message:"TOPBAR_SITE_SAVE_PROMOTION_TEXT",symbol:"menubarSaveSitePromotion"}}},{key:"PREVIEW",rightPanel:{type:"rEditor.panels.topBar.promotionPanel",props:{menuKey:"PREVIEW",style:{width:192,minHeight:396},title:"TOPBAR_SITE_PREVIEW_PROMOTION_TITLE",message:"TOPBAR_SITE_PREVIEW_PROMOTION_TEXT",symbol:"menubarPreviewSitePromotion"}}},{key:"FEEDBACK",rightPanel:{type:"rEditor.panels.topBar.promotionPanel",props:{menuKey:"FEEDBACK",style:{width:192,minHeight:396},title:"TOPBAR_GetFeedback_Promotion_Title",message:"TOPBAR_GetFeedback_Promotion_Text",symbol:"menubarfeedbackPromotion"}}},{key:"PUBLISH",rightPanel:{type:"rEditor.panels.topBar.promotionPanel",props:{menuKey:"PUBLISH",style:{width:192,minHeight:396},title:"TOPBAR_SITE_PUBLISH_PROMOTION_TITLE",message:"TOPBAR_SITE_PUBLISH_PROMOTION_TEXT",symbol:"menubarPublishSitePromotion"}}},{key:"VIEW_SITE",rightPanel:{type:"rEditor.panels.topBar.promotionPanel",props:{menuKey:"VIEW-SITE",style:{width:192,minHeight:396},title:"TOPBAR_SITE_VIEW_SITE_PROMOTION_TITLE",message:"TOPBAR_SITE_VIEW_SITE_PROMOTION_TEXT",symbol:"menubarViewPublishedPromotion"}}},{key:"GET_TRAFFIC",experiment:"getTraffic",rightPanel:{type:"rEditor.panels.topBar.promotionPanel",props:{menuKey:"GET_TRAFFIC",style:{width:192,minHeight:396},title:"TOPBAR_GetTraffic_Label",message:"TOPBAR_GetTraffic_Promotion_Text",
symbol:"menubargetTraffic"}}},{key:"CONNECT_DOMAIN",rightPanel:{type:"rEditor.panels.topBar.promotionPanel",props:{menuKey:"CONNECT-DOMAIN",style:{width:192,minHeight:396},title:"TOPBAR_SITE_CONNECT_PROMOTION_TITLE",message:"TOPBAR_SITE_CONNECT_PROMOTION_TEXT",symbol:"menubarConnectDomainPromotion"}}},{key:"UPGRADE_ITEM",rightPanel:{type:"rEditor.panels.topBar.promotionPanel",props:{menuKey:"UPGRADE",style:{backgroundColor:"#ebdbf6",width:192,minHeight:396},title:"TOPBAR_SITE_UPGRADE_PROMOTION_TITLE",message:"TOPBAR_SITE_UPGRADE_PROMOTION_TEXT",symbol:"menubarUpgradePromotionLight"}}},{key:"EDITOR_MODE_SWITCH",rightPanel:{DESKTOP:{type:"rEditor.panels.topBar.promotionPanel",props:{menuKey:"MOBILE-SWITCH",style:{width:192,minHeight:396},title:"TOPBAR_SITE_MOBILE_PROMOTION_TITLE",message:"TOPBAR_SITE_MOBILE_PROMOTION_TEXT",symbol:"menubarSwitchToMobilePromotion"}},MOBILE:{type:"rEditor.panels.topBar.promotionPanel",props:{menuKey:"DESKTOP-SWITCH",style:{width:192,minHeight:396},title:"TOPBAR_SITE_DESKTOP_PROMOTION_TITLE",message:"TOPBAR_SITE_DESKTOP_PROMOTION_TEXT",symbol:"menubarSwitchToDesktopPromotion"}}}},{key:"IMAGE_OPTIMIZATION",rightPanel:{type:"rEditor.panels.topBar.promotionPanel",props:{menuKey:"IMAGE-OPTIMIZATION",style:{width:192,minHeight:396},title:"TOPBAR_SITE_IMAGE_QUALITY_PROMOTION_TITLE",message:"TOPBAR_SITE_IMAGE_QUALITY_PROMOTION_TEXT",symbol:"imageOptimizationPromotion"}}},{key:"SITE_DASHBOARD",rightPanel:{type:"rEditor.panels.topBar.promotionPanel",props:{menuKey:"SITE-DASHBOARD",style:{width:192,minHeight:396},title:"TOPBAR_SITE_DASHBOARD",message:"TOPBAR_SITE_DASHBOARD_PROMOTION_TEXT",symbol:"menubarMySitesPromotion"}}},{key:"SETTINGS",rightPanel:{type:"rEditor.panels.topBar.promotionPanel",props:{menuKey:"SETTINGS",style:{width:192,minHeight:396},title:"TOPBAR_SITE_SETTINGS_PROMOTION_TITLE",message:"TOPBAR_SITE_SETTINGS_PROMOTION_TEXT",symbol:"menubarSiteSettingsPromotion"}}},{key:"REVISIONS",rightPanel:{type:"rEditor.panels.topBar.promotionPanel",props:{menuKey:"REVISIONS",style:{width:192,minHeight:396},title:"TOPBAR_SITE_HISTORY_PROMOTION_TITLE",message:"TOPBAR_SITE_HISTORY_PROMOTION_TEXT",symbol:"menubarSiteHistoryPromotion"}}},{key:"BACK_TO_OLD_EDITOR",rightPanel:{type:"rEditor.panels.topBar.promotionPanel",props:{menuKey:"BACK-TO-OLD-EDITOR",style:{width:192,minHeight:396},title:"Topbar_oldeditor_promotion_title",message:"topbar_oldeditor_promotion_text2",symbol:"menubarBackToOldEditorPromotionNew"}}},{key:"EXIT",rightPanel:{type:"rEditor.panels.topBar.promotionPanel",props:{menuKey:"EXIT-EDITOR",style:{width:192,minHeight:396},title:"TOPBAR_SITE_EXIT_PROMOTION_TITLE",message:"TOPBAR_SITE_EXIT_PROMOTION_TEXT",symbol:"menubarExitEditorPromotion"}}}],rightPanel:{type:"rEditor.panels.topBar.promotionPanel",props:{menuKey:"SAVE",style:{width:192,minHeight:396},title:"TOPBAR_SITE_SAVE_PROMOTION_TITLE",message:"TOPBAR_SITE_SAVE_PROMOTION_TEXT",symbol:"menubarSaveSitePromotion"}}},{key:"VIEW_BAR",children:[{key:"TOOLBAR",rightPanel:{type:"rEditor.panels.topBar.promotionPanel",props:{menuKey:"TOOLBAR",style:{width:192,minHeight:315},title:"TOPBAR_VIEW_TOOLBAR_TITLE",message:"TOPBAR_VIEW_TOOLBAR_BODY",symbol:"menubarToolbarPromotion"}}},{key:"RULERS",rightPanel:{type:"rEditor.panels.topBar.promotionPanel",props:{menuKey:"RULERS",style:{width:192,minHeight:315},title:"TOPBAR_VIEW_RULERS_TITLE1",message:"TOPBAR_VIEW_RULERS_BODY1",symbol:"menubarRulersPromotion"}}},{key:"GUIDELINES",rightPanel:{type:"rEditor.panels.topBar.promotionPanel",props:{menuKey:"GUIDELINES",style:{width:192,minHeight:315},title:"TOPBAR_VIEW_GRIDLINES_TITLE",message:"TOPBAR_VIEW_GRIDLINES_BODY",symbol:"menubarGuidesPromotion"}}},{key:"SNAP",rightPanel:{type:"rEditor.panels.topBar.promotionPanel",props:{menuKey:"SNAP",style:{width:192,minHeight:315},title:"TOPBAR_VIEW_SNAP_TITLE",message:"TOPBAR_VIEW_SNAP_BODY",symbol:"menubarSnapToObjectPromotion"}}},{key:"DEVELOPER_MODE",rightPanel:{type:"rEditor.panels.topBar.promotionPanel",props:{menuKey:"DEVELOPER_MODE",style:{width:192,minHeight:315},title:"TOPBAR_VIEW_DEVELOPER_MODE_TITLE",message:"TOPBAR_VIEW_DEVELOPER_MODE_BODY",symbol:"menuBarDeveloperMode"}}},{key:"PROPERTIES_TOOLBAR",experimentOff:"zoomModeSectionsRedesign",rightPanel:{type:"rEditor.panels.topBar.promotionPanel",props:{menuKey:"PROPERTIES_TOOLBAR",style:{width:192,minHeight:315},title:"TOPBAR_VIEW_DEVELOPER_MODE_PROPERTIES_PANEL_TITLE",message:"TOPBAR_VIEW_DEVELOPER_MODE_PROPERTIES_PANEL_BODY",symbol:"menuBarDeveloperModeProperties"}}},{key:"HIDDEN_ELEMENTS",experimentOff:"zoomModeSectionsRedesign",rightPanel:{type:"rEditor.panels.topBar.promotionPanel",props:{menuKey:"HIDDEN_ELEMENTS",style:{width:192,minHeight:315},title:"TOPBAR_VIEW_DEVELOPER_MODE_HIDDEN_ELEMENTS_TITLE",message:"TOPBAR_VIEW_DEVELOPER_MODE_HIDDEN_ELEMENTS_BODY",symbol:"menuBarDeveloperModeHiddenElements"}}}],rightPanel:{type:"rEditor.panels.topBar.promotionPanel",props:{menuKey:"TOOLBAR",style:{width:192,minHeight:315},title:"TOPBAR_VIEW_TOOLBAR_TITLE",message:"TOPBAR_VIEW_TOOLBAR_BODY",symbol:"menubarToolbarPromotion"}}},{key:"HELP_BAR",children:[{key:"HELP_CENTER",rightPanel:{type:"rEditor.panels.topBar.promotionPanel",props:{menuKey:"HELP-CENTER",style:{width:192,minHeight:297},classes:{graphics:"graphics-help-center"},title:"TOPBAR_HELP_CENTER_PROMOTION_TITLE",message:"TOPBAR_HELP_CENTER_PROMOTION_TEXT",symbol:"menubarHelpCenterPromotion"}}},{key:"HELP_KB_SHORTCUTS",rightPanel:{type:"rEditor.panels.topBar.promotionPanel",props:{menuKey:"KB-SHORTCUTS",style:{width:192,minHeight:297},classes:{graphics:"graphics-help-center"},title:"TOPBAR_HELP_QUESTION_PROMOTION_TITLE",message:"TOPBAR_HELP_QUESTION_PROMOTION_TEXT",symbol:"menubarHelpCenterPromotion"}}},{key:"HELP_VIDEOS",experiment:"helpVideoEntry",rightPanel:{type:"rEditor.panels.topBar.promotionPanel",props:{menuKey:"TOPBAR_HELP_VIDEOS",style:{width:192,minHeight:297},classes:{graphics:"graphics-help-center"},title:"TOPBAR_HELP_VIDEOS_PROMOTION_TITLE",message:"TOPBAR_HELP_VIDEOS_PROMOTION_TEXT",symbol:"menubarHelpCenterPromotion"}}},{key:"HELP_CONNECT_DOMAIN",rightPanel:{type:"rEditor.panels.topBar.promotionPanel",props:{menuKey:"CONNECT-DOMAIN",style:{width:192,minHeight:297},classes:{graphics:"graphics-help-center"},title:"TOPBAR_HELP_CONNECT_PROMOTION_TITLE",message:"TOPBAR_HELP_CONNECT_PROMOTION_TEXT",symbol:"menubarHelpCenterPromotion"}}},{key:"HELP_SEO",rightPanel:{type:"rEditor.panels.topBar.promotionPanel",props:{menuKey:"SEO",style:{width:192,minHeight:297},classes:{graphics:"graphics-help-center"},title:"TOPBAR_HELP_SEO_PROMOTION_TITLE",message:"TOPBAR_HELP_SEO_PROMOTION_TEXT",symbol:"menubarHelpCenterPromotion"}}},{key:"HELP_FEEDBACK",rightPanel:{type:"rEditor.panels.topBar.promotionPanel",props:{menuKey:"FEEDBACK",style:{width:192,minHeight:297},classes:{graphics:"graphics-help-center"},title:"Topbar_HELP_FEEDBACK_PROMOTION_TITLE",message:"Topbar_HELP_FEEDBACK_PROMOTION_TEXT",symbol:"menubarHelpCenterPromotion"}}},{key:"TERMS_OF_USE",rightPanel:{type:"rEditor.panels.topBar.promotionPanel",props:{menuKey:"HELP-CENTER",style:{width:192,minHeight:297},classes:{graphics:"graphics-help-center"},title:"TOPBAR_HELP_TERMS_PROMOTION_TITLE",message:"TOPBAR_HELP_TERMS_PROMOTION_TEXT",symbol:"menubarHelpCenterPromotion"}}},{key:"PRIVACY_POLICY",rightPanel:{type:"rEditor.panels.topBar.promotionPanel",props:{menuKey:"HELP-CENTER",style:{width:192,minHeight:297},classes:{graphics:"graphics-help-center"},title:"TOPBAR_HELP_PRIVACY_PROMOTION_TITLE",message:"TOPBAR_HELP_PRIVACY_PROMOTION_TEXT",symbol:"menubarHelpCenterPromotion"}}}],rightPanel:{type:"rEditor.panels.topBar.promotionPanel",props:{menuKey:"HELP-CENTER",style:{width:192,minHeight:297},classes:{graphics:"graphics-help-center"},title:"TOPBAR_HELP_CENTER_PROMOTION_TITLE",message:"TOPBAR_HELP_CENTER_PROMOTION_TEXT",symbol:"menubarHelpCenterPromotion"}}},{category:"UPGRADE",upgradePanels:{DEFAULT:{key:"UPGRADE",rightPanel:{type:"rEditor.panels.topBar.promotionPanel",props:{menuKey:"UPGRADE-POPUP",class:"right-check-panel-upgrade",style:{backgroundColor:"transparent",width:131,padding:"25px 0"},symbol:"menubarUpgradePromotionDark",hintProps:{id:"Premium"}}}}}}]});define("rEditor/rootComps/topBar/buttons/mixins/topBarButtonProgressMixin",["core"],function(a){"use strict";return{isInProgress:function(){return this.props.progressStatus===a.constants.PROGRESS_STATUS.IN_PROGRESS},isProgressDone:function(){return this.isDoneSuccessfully()||this.isDoneUnSuccessfully()},isDoneSuccessfully:function(){return this.props.progressStatus===a.constants.PROGRESS_STATUS.DONE_SUCCESS},isDoneUnSuccessfully:function(){return this.props.progressStatus===a.constants.PROGRESS_STATUS.DONE_FAILED}}});define("rEditor/rootComps/topBar/buttons/mixins/topBarTooltipMixin",["react","baseUI"],function(a,b){"use strict";var c=b.tooltipManager;return{getTooltipElement:function(){var b=this.props.tooltipData;if(b&&b.presenter){return a.createElement(b.presenter,b.props)}return b||false},getTooltipInteractiveMode:function(){var a=this.props.tooltipData;return a&&a.interactive},hideTooltip:function(a){var b=a||this.props.tooltipData&&this.props.tooltipData.id;c.hide(b)}}});define("rEditor/rootComps/topBar/dropPanels/topBarDropPanel.rt",["react","lodash"],function(a,b){"use strict";return function(){return a.createElement("div",{className:"top-bar-drop-panel "+(this.props.dropPanelClass||"")},a.createElement("div",{className:"drop-panel-left-side"},this.getLeftContent()),this.hasRightContent()?a.createElement("div",{className:"drop-panel-right-side",key:"rightContent"},this.getRightContent()):null,!!this.props.bottomContent?a.createElement("div",{className:"drop-panel-bottom-side",key:"bottomContent"},this.props.bottomContent):null)}});define("rEditor/rootComps/topBar/dropPanels/topBarDropPanel",["react","lodash","experiment","editorHints","rEditor/rootComps/topBar/dropPanels/topBarDropPanel.rt"],function(a,b,c,d,e){"use strict";return a.createClass({displayName:"topBarDropPanel",propTypes:{leftContent:a.PropTypes.object.isRequired,bottomContent:a.PropTypes.object,rightContentOptions:a.PropTypes.object,dropPanelClass:a.PropTypes.string,closeHandle:a.PropTypes.func,hintContainerId:a.PropTypes.string},getInitialState:function(){return{displayedRightContentKey:"main"}},componentWillReceiveProps:function(a){var c=b.keys(this.props.rightContentOptions);var d=b.keys(a.rightContentOptions);var e=b.intersection(d,c);if(e.length!==c.length){this.setState({displayedRightContentKey:"main"})}},getLeftContent:function(){return a.cloneElement(this.props.leftContent,{onMenuItemHover:this.onSubMenuItemHover,closeDropDownHandle:this.props.closeHandle})},getRightContent:function(){return this.props.rightContentOptions[this.state.displayedRightContentKey]},hasRightContent:function(){return!!this.props.rightContentOptions},onSubMenuItemHover:function(a){if(a.rightPanel){this.setState({displayedRightContentKey:a.key})}},render:function(){if(c.isMultiValueExperimentOpen("editorHintsConfigs")&&this.props.hintContainerId){return a.createElement(d.hintsNotify,{id:this.props.hintContainerId},e.call(this))}return e.call(this)}})});define("rEditor/rootComps/topBar/buttons/topBarButton/topBarButton.rt",["react","lodash","baseUI","experiment"],function(a,b,c,d){"use strict";function e(e){var f=this.isDoneSuccessfully();return a.createElement("div",{className:"wrapper-to-perserve-ref","data-hint-id":d.isMultiValueExperimentOpen("editorHintsConfigs")&&this.props.hintProps?this.props.hintProps.id:null},a.createElement(c.button2,{key:"buttonContent-"+this.props.iconSymbol,label:this.props.label,style:this.props.buttonStyle,symbolName:this.props.iconSymbol,customLabelClass:"top-bar-button-label",className:b({"top-bar-button-content":true,"icon-and-label":this.props.iconSymbol&&this.props.label,invisible:f}).transform(function(a,b,c){if(b){a.push(c)}},[]).join(" "),onClick:this.onClick,onMouseOver:this.handleMouseOverButton,onMouseLeave:this.handleMouseLeftButton,hintId:d.isMultiValueExperimentOpen("editorHintsConfigs")&&this.props.hintProps?this.props.hintProps.id+"_inner":null}),f?a.createElement(c.symbol,{key:"successSymbol",name:"topBarButtonVSign",className:"button-symbol vSign"}):null,this.isInProgress()?a.createElement("div",{key:"progressIndicator",className:"progress-indicator"}):null)}function f(){var b=this.getTooltipElement();return a.createElement(c.tooltip,{id:this.props.tooltipData&&this.props.tooltipData.id,value:b,interactive:this.getTooltipInteractiveMode(),disabled:!b||this.state.isDropDownDisplayed},e.apply(this,[b]))}return function(){return a.createElement("div",{className:this.getClasses(),style:this.props.style},f.apply(this,[]),this.state.isDropDownDisplayed?a.createElement(c.bubble,b.assign({},{key:"topBarButtonDropDown"},this.getDropDownProps())):null)}});define("rEditor/rootComps/topBar/buttons/topBarButton/topBarButton",["reactDOM","react","lodash","core","util","baseUI","rEditor/rootComps/topBar/buttons/mixins/topBarButtonProgressMixin","rEditor/rootComps/topBar/buttons/mixins/topBarTooltipMixin","rEditor/rootComps/topBar/dropPanels/topBarDropPanel","rEditor/rootComps/topBar/buttons/topBarButton/topBarButton.rt"],function(a,b,c,d,e,f,g,h,i,j){"use strict";return b.createClass({displayName:"topBarButton",mixins:[b.addons.PureRenderMixin,g,e.singlePassDOMReadWriteMixin,d.mixins.editorAPIMixin,d.mixins.biMixin,h],propTypes:{label:b.PropTypes.string,classes:b.PropTypes.string,iconSymbol:b.PropTypes.string,dropPanelProps:b.PropTypes.object,actions:b.PropTypes.array,bi:b.PropTypes.oneOfType([b.PropTypes.array,b.PropTypes.object]),biFunc:b.PropTypes.func,progressStatus:b.PropTypes.string,isDisabled:b.PropTypes.bool,onMenuOpened:b.PropTypes.func,onMenuClosed:b.PropTypes.func,buttonStyle:b.PropTypes.object},getInitialState:function(){this._domNode=null;return{isDropDownDisplayed:false,isMouseOverButton:false}},getDefaultProps:function(){return{buttonStyle:{}}},componentDidMount:function(){this._domNode=a.findDOMNode(this)},componentWillUnmount:function(){this._domNode=null},getClasses:function(){var a="top-bar-button "+this.props.classes;if(this.state.isDropDownDisplayed){a+=" top-bar-button-selected"}if(this.isInProgress()||this.props.isDisabled){a+=" disabled-button"}return a},onClick:function(){if(this.props.isDisabled){return}if(this.props.dropPanelContent){this.toggleDropDown()}this.hideTooltip();var a=this.getEditorAPI();var b=a.selection.getSelectedComponents();var d=a.bi.getComponentsBIParams(b);if(this.props.actions){c.forEach([].concat(this.props.actions),function(a){a()})}this.sendButtonBI(d)},handleMouseOverButton:function(){this.setState({isMouseOverButton:true})},handleMouseLeftButton:function(){this.setState({isMouseOverButton:false})},getDropDownId:function(){return"top-bar-dropdown-"+(this.props.label||this.props.iconSymbol)},getDropDownProps:function(){if(!this._domNode){return{}}var a=this.getDropDownContent();return{id:this.getDropDownId(),value:a,width:"1000px",interactive:true,closeTriggers:[f.uiConstants.TOOLTIP.TRIGGERS.MOUSE_LEAVE],className:"top-bar-drop-down",overridePositionAdjustments:this.props.dropPanelProps&&this.props.dropPanelProps.overridePositionAdjustments,targetNode:this._domNode,hideMethod:this.handleDropDownWantsToClose,mouseLeftTargetNode:!this.state.isMouseOverButton,timeoutForMouseOverBubble:500}},getDropDownContent:function(){var a=this.getDropPanelLeftContent();var c={main:this.getDropPanelRightContent()};if(a){return b.createElement(i,{closeHandle:this.closeDropDown,leftContent:a,rightContentOptions:c,dropPanelClass:this.props.dropPanelProps&&this.props.dropPanelProps.dropPanelClass})}return null},getDropPanelLeftContent:function(){var a=this.props.dropPanelContent;var c=this.props.dropPanelProps;if(a){c.closeHandle=this.closeDropDown;return b.createElement(a,this.props.dropPanelProps)}return null},getDropPanelRightContent:function(){var a=this.props.dropPanelProps&&this.props.dropPanelProps.dropPanelPromotion;if(a){var e=c.cloneDeep(a.props);e=c.merge({moduleName:a.type},e);return b.DOM.div({className:a.classes},[b.createElement(d.lazyComponent,e)])}return null},openDropDown:function(){this.setState({isDropDownDisplayed:true,isMouseOverButton:true});if(this.props.onMenuOpened){this.props.onMenuOpened()}},closeDropDown:function(){this.setState({isDropDownDisplayed:false});if(this.props.onMenuClosed){this.props.onMenuClosed()}},toggleDropDown:function(){if(this.state.isDropDownDisplayed){this.closeDropDown()}else{this.openDropDown()}},handleDropDownWantsToClose:function(){if(this.isMounted()&&!this.state.isMouseOverButton){this.closeDropDown()}},sendButtonBI:function(a){if(this.props.bi){var b=[].concat(this.props.bi);c.forEach(b,function(a){if(a.type){this.sendBI(a.type,a.fields)}},this)}if(this.props.biFunc){this.props.biFunc(a)}},measurePhase:function(){if(this.props.measurePhase){return this.props.measurePhase()}return null},patchPhase:function(a){if(this.props.patchPhase){this.props.patchPhase(a)}},render:j})});define("rEditor/utils/menuItemsRepository",["lodash"],function(a){"use strict";function b(b,c){if(!c){return undefined}c=c.toLowerCase();var d=function(a){return a.label.toLowerCase().indexOf(c)===0};var e=function(b){var c;a.forEach(b,function(a){if(d(a)){c=a;return false}var b=e(a.items);if(b){c=b;return false}});return c};return e(b)}function c(b,c){c=c.toLowerCase();var d=function(b){return a.includes(b.label.toLowerCase(),c)};var e=function(b){if(!b||b.length===0){return b}var c=[];a.forEach(b,function(b){var f=d(b);var g=e(b.items);var h=g&&g.length>0;if(f||h){var i=a.clone(b,false);i.items=g;c.push(i)}});return c};return e(b)}return{findFirstFilteredItem:b,filterItems:c}});define("rEditor/rootComps/topBar/buttons/pagesNavButton/pagesNavButton.rt",["react","lodash","util","baseUI","symbols","experiment","pLoader!santa:utils","uiAnimations"],function(a,b,c,d,e,f,g,h){"use strict";function i(){var b=this.getTooltipElement();var e=f.isOpen("popups")&&this.isNavButtonInPopupMode();return a.createElement(d.tooltip,{id:"pageNavButtonTooltip",value:b,interactive:this.getTooltipInteractiveMode(),disabled:!b||this.state.isFiltering||e||f.isOpen("popups")&&this.isPopupsFirstTimeOpen("ADD")},a.createElement("div",{className:this.props.classes+(e?" popup-mode":" ")+(this.state.isFiltering?" ":" pages-nav-button-bg ")+(this.props.isSmallVersion?"mini-":"")+"page-nav-with-label ",onClick:this.onClick,"data-hint-id":f.isMultiValueExperimentOpen("editorHintsConfigs")?"Pages_Navigation":null},!this.state.isFiltering?a.createElement("div",{key:"page-name",className:"top-bar-page-navigation-select",ref:"popupTooltipTarget"},!this.props.isSmallVersion?a.createElement("div",{key:"graphics",className:"page-navigation-button-graphics"},a.createElement(d.symbol,{name:"pages"})):null,a.createElement("span",{"data-hint-id":f.isMultiValueExperimentOpen("editorHintsConfigs")?"Pages_Navigation_inner":null,className:(this.props.isSmallVersion?"mini-":"")+"top-bar-page-navigation-pageName"},"\n                ",this.props.isSmallVersion?"":c.translate("Pages_Menu_Title_Title")+":","\n                ",a.createElement("span",{},this.getPageName())),!this.props.isSmallVersion?a.createElement("span",{key:"arrow",className:"top-bar-page-navigation-arrow"},a.createElement(d.symbol,{name:"pagesArrow"})):null):null,a.createElement(h.contentSlideCSS,{distance:"60px",delay:1e3},e?a.createElement("div",{key:"popup-mode",className:"top-bar-page-navigation-select popup-mode-exit"},a.createElement("span",{},c.translate("PopUps_TopBar_Exit")),a.createElement(d.button,{className:"close",icon:"headerCloseButton"})):null),this.state.isFiltering?a.createElement("div",{key:"page-filter",className:"top-bar-page-navigation-select"},a.createElement("div",{className:"page-navigation-button-graphics"},a.createElement(d.symbol,{name:"pagesSearch"})),a.createElement(d.autoCompleteTextInput,{ref:"filterInput",className:"top-bar-page-filter",placeholder:c.translate("TOPBAR_FIND_PAGE"),cancelIcon:"topBarButtonCancel",complete:this.completePageName,onChange:this.filterChanged,onKeyDown:this.onKeyDown})):null))}return function(){return i.apply(this,[])}});define("rEditor/rootComps/topBar/buttons/pagesNavButton/pagesNavButton",["reactDOM","lodash","react","core","panels","baseUI","util","constants","rEditor/utils/menuItemsRepository","rEditor/rootComps/topBar/buttons/mixins/topBarTooltipMixin","rEditor/rootComps/topBar/buttons/pagesNavButton/pagesNavButton.rt","experiment"],function(a,b,c,d,e,f,g,h,i,j,k,l){"use strict";var m=f.tooltipManager;function n(a,b,c){var d={ADD:{classPath:"baseUI.popoverTemplates.imageAndTextTooltip",props:{imageContainerStyle:{backgroundColor:"#5FBC57",backgroundImage:"url("+g.media.getMediaUrl("rEditor/topBar/popupsExitFirstTimeRetina.gif")+")",backgroundPosition:"center",backgroundRepeat:"no-repeat",backgroundSize:"80%",height:"140px"},text:"Popups_Exit_FirstTime_Text",onClose:function(){c("x");m.unRegisterTooltip(a)}}}};return d[b]||{}}var o={displayName:"topBarPageNavButton",propTypes:{isSmallVersion:c.PropTypes.bool,bi:c.PropTypes.object,tooltipData:c.PropTypes.object,clickCallback:c.PropTypes.func},mixins:[d.mixins.editorAPIMixin,d.mixins.biMixin,j],keyCodes:{ENTER:13,ESC:27},getInitialState:function(){return{isFiltering:false,filter:""}},completePageName:function(a){var b=this.getEditorAPI().mainMenu.getMenuItemsTreeForMainMenu();var c=i.findFirstFilteredItem(b,a);if(c){return c.label}return null},getPageName:function(){return this.getEditorAPI().pages.getCurrentUrlPageTitle()},onClick:function(){if(this.props.clickCallback){this.props.clickCallback()}this.openFilteredPagesPanel()},openFilteredPagesPanel:function(){this.openWithFilter(this.state.filter);this.hideTooltip("pageNavButtonTooltip");if(this.props.bi&&this.props.bi.type){this.sendBI(this.props.bi.type,this.props.bi.fields)}},filterChanged:function(a){this.openWithFilter(a)},openWithFilter:function(a){this.setState({isFiltering:true,filter:a});this.openPagesPanel(a)},navigateToFirst:function(){var a=this.getEditorAPI().mainMenu.getMenuItemsTreeForMainMenu();var b=i.findFirstFilteredItem(a,this.state.filter);if(b&&b.pageData){this.getEditorAPI().pages.navigateTo(b.pageData.id);this.closePagesPanel();this.closeFiltering()}},closeFiltering:function(){this.setState({isFiltering:false,filter:""})},onKeyDown:function(a){if(a.keyCode===this.keyCodes.ENTER&&this.state.filter){this.navigateToFirst()}else if(a.keyCode===this.keyCodes.ESC){this.closePagesPanel();this.closeFiltering()}},componentWillReceiveProps:function(){if(!this.getEditorAPI().isPagesPanelOpen()){this.closeFiltering()}},componentDidUpdate:function(a,b){if(this.state.isFiltering&&!b.isFiltering){this.refs.filterInput.focus()}},openPagesPanel:function(a){var b=this.getEditorAPI();var c={filter:a,pageAdded:function(){this.closeFiltering();this.openPagesPanel("")}.bind(this),subpagesOpened:function(){this.closeFiltering()}.bind(this)};b.openPagesPanel(c)},closePagesPanel:function(){this.getEditorAPI().closePagesPanel()},render:k};if(l.isOpen("popups")){var p={ADD:{TEASER:"popups/first_time_tour_add",ID:h.R_EDITOR.ROOT_COMPS.TOOLTIPS.FIRST_TIME_EXIT_POPUP_MODE}},q="ADD",r=o.onClick;b.assign(o,{onClick:function(){if(this.isNavButtonInPopupMode()){this.getEditorAPI().panelManager.closePanelByName("addPanelInfra.addPanel");this.closePopupMode();this.tryToShowPopupsFirstTime(q)}else{this.tryToClosePopupsFirstTime(q);r.call(this)}},isPopupOpened:function(){var a=this.getEditorAPI().pages.popupPages;return a.isPopupOpened&&a.isPopupOpened()},closePopupMode:function(){var a=this.getEditorAPI();a.panelManager.closeAllPanels();a.pages.popupPages.close();a.bi.event(d.bi.events.popups.exit_pop_up_mode_clicked,{})},isNavButtonInPopupMode:function(){return this.isPopupOpened()&&!this.state.isFiltering},getUserPrefs:function(){return this.getEditorAPI().getUserPreferences()||{}},setPopupsFirstTimeIsShown:function(a,b){var c=this.getUserPrefs().site;if(c){c.set("closed_teaser_"+p[a].TEASER,true)}b("auto close")},shouldShowPopupsFirstTime:function(a){var b=this.getUserPrefs().site;return b&&!b.get("closed_teaser_"+p[a].TEASER)},getPopupsFirstTimeTooltipProps:function(a){var c=p[a].ID;var e=b.once(b.partial(function(a,b){a.bi.event(d.bi.events.popups.pop_up_tooltip_closed,{origin:b})},this.getEditorAPI()));return{id:c,width:"240px",marginsFromElement:0,alignment:f.uiConstants.TOOLTIP.ALIGNMENT.BOTTOM,onClose:b.partial(this.setPopupsFirstTimeIsShown,a,e),value:n(c,a,e)}},tryToShowPopupsFirstTime:function(c){if(this.shouldShowPopupsFirstTime(c)){m.createTooltip(true,b.assign(this.getPopupsFirstTimeTooltipProps(c),{targetNode:a.findDOMNode(this.refs.popupTooltipTarget)}))}},tryToClosePopupsFirstTime:function(a){var b=p[a].ID;if(!this.shouldShowPopupsFirstTime(a)){this.clearPopupsFirstTimeHandlers()}else if(this.isPopupsFirstTimeOpen(a)){m.unRegisterTooltip(b);this.clearPopupsFirstTimeHandlers()}},isPopupsFirstTimeOpen:function(a){var b=p[a].ID;return m.isDisplayed(b)},clearPopupsFirstTimeHandlers:function(){this.tryToShowPopupsFirstTime=b.noop;this.tryToClosePopupsFirstTime=b.noop;this.isPopupsFirstTimeOpen=b.noop}})}return c.createClass(o)});define("rEditor/rootComps/topBar/buttons/topBarNotification/topBarNotification.rt",["react","lodash"],function(a,b){"use strict";return function(){return this.props.isShown?a.createElement("div",{key:"topBarNotification",className:this.props.classes+" top-bar-notification"},a.createElement("div",{},this.getMessage())):null}});define("rEditor/rootComps/topBar/buttons/topBarNotification/topBarNotification",["react","util","rEditor/rootComps/topBar/buttons/topBarNotification/topBarNotification.rt"],function(a,b,c){"use strict";return a.createClass({displayName:"topBarNotification",propTypes:{message:a.PropTypes.string,measurePhase:a.PropTypes.func,patchPhase:a.PropTypes.func},mixins:[b.singlePassDOMReadWriteMixin],emptyMessage:["","",""],getMessage:function(){var b=this.getMessageParts();var c=this.getMessageLinkPart(b[1]);return a.createElement("div",{},[b[0],c,b[2]])},getMessageParts:function(){var a=this.props.message;if(a){var b=this.getAnchorIndexes(a);var c=a.substring(0,b[0]);var d=a.substring(b[1]+"</a>".length);var e=a.substring(b[0]+"<a>".length,b[1]);return[c,e,d]}return this.emptyMessage},getAnchorIndexes:function(a){if(!a){return[0,0]}var b=a.indexOf("<a>");var c=a.indexOf("</a>");if(b<0||c<0){b=a.length;c=a.length}return[b,c]},getMessageLinkPart:function(b){return b?a.DOM.a({onClick:this.linkAction},b):""},linkAction:function(){this.props.action()},measurePhase:function(){if(this.props.measurePhase){return this.props.measurePhase()}return null},patchPhase:function(a){if(this.props.patchPhase){this.props.patchPhase(a)}},render:c})});define("rEditor/rootComps/topBar/menuBar/menuBarPanelsDefinitions",["lodash","core","util","savePublish","experiment"],function(a,b,c,d,e){"use strict";var f=null;var g=null;var h={ACTIONS_PANEL:{left:{panel:"rEditor.panels.topBar.menuActionsPanel",propsGetter:function(){return{}}}},UPGRADE:{left:{panel:"rEditor.panels.topBar.checkListPanel",propsGetter:function(b){var d=p(b);var f="";if(b.campaigns.personalSale.isActiveCampaign()){f=i(b,"TOPBAR_UPGRADE_POPUP_PERSONAL_SALE_LABEL_DYNAMIC")}else{f=c.translate(e.isOpen("spanishUpgradeText")?"UPGRADE_TO_YEARLY_FOR_SPAIN_ONLY":"TOPBAR_UPGRADE_FREE_US_TITLE")}return{type:"upgrade",class:"left-check-panel-upgrade",title:f,comment:d?c.translate("TOPBAR_UPGRADE_SAVE_FIRST_TEXT"):null,description:a.map(["TOPBAR_UPGRADE_FREE_US_LINE_1","TOPBAR_UPGRADE_FREE_US_LINE_2","TOPBAR_UPGRADE_FREE_US_LINE_3","TOPBAR_UPGRADE_FREE_US_LINE_4"],c.translate)}}},bottom:{panel:"rEditor.panels.topBar.checkListPanel",propsGetter:function(a){var b=j(a);return{type:"upgrade",class:"bottom-check-panel-upgrade",footerButtons:b}}}}};function i(b,d){var e=b.campaigns.personalSale.getDiscountValue();var f=a.template(c.translate(d));return f({discount:e})}function j(a){var b=null;var c=p(a);if(c){b=k(a)}else{b=n(a)}return b}function k(a){if(f===null){f=[{buttonText:c.translate("TOPBAR_UPGRADE_BUTTON_SAVE_SITE"),action:function(){d.save(a)}}]}return f}function l(a){var b="TOPBAR_UPGRADE_FREE_ROW_BUTTON_1";var d="";if(a.campaigns.personalSale.isActiveCampaign()){d=i(a,"TOPBAR_UPGRADE_POPUP_PERSONAL_SALE_BUTTON_DYNAMIC")}else{d=c.translate("TOPBAR_UPGRADE_FREE_ROW_BUTTON_2")}return{offerButtonText:d,leftButtonText:c.translate(b)}}function m(a){var b="edhtml_TOP_BAR_UPGRADE_MENU_GET_YEARLY_UNLIMITED";if(a.campaigns.personalSale.isActiveCampaign()){b="edhtml_TOP_BAR_UPGRADE_MENU_PS"}return b}function n(a){if(g===null){var c=b.bi.events.topbar;var d=l(a);var e=m(a);g=[{buttonText:d.leftButtonText,action:o.bind(null,a,c.top_bar_compare_plans_click,"edhtml_TOP_BAR_UPGRADE_MENU_COMPARE_PLANS")},{buttonText:d.offerButtonText,action:o.bind(null,a,c.top_bar_get_yearly_unlimited_click,e)}]}return g}function o(a,b,c){a.bi.event(b);a.account.upgrade(c)}function p(a){return a&&a.generalInfo&&a.generalInfo.isFirstSave()}function q(a,b){b=b||"left";a=s(a);var c=h[a];if(c&&c[b]){return c[b].panel}return null}function r(a,b,c){c=c||"left";a=s(a);var d=h[a];if(d&&d[c]){return d[c].propsGetter(b)}return null}function s(b){if(a.includes(["SITE_BAR","EDIT_BAR","VIEW_BAR","HELP_BAR"],b)){return"ACTIONS_PANEL"}return b}return{getMenuPanelProps:r,getMenuPanelType:q}});define("rEditor/rootComps/topBar/dropPanels/content/menuBarContent.rt",["react","lodash","core"],function(a,b,c){"use strict";function d(){var d=this.getPanelProps();var e=this.getPanelClass();return a.createElement("div",{},a.createElement(c.lazyComponent,b.assign({},{moduleName:e},d)))}return function(){return a.createElement("div",{},!!this.props.selectedMenu?a.createElement("div",{key:"menuActions"},d.apply(this,[])):null)}});define("rEditor/rootComps/topBar/dropPanels/content/menuBarContent",["lodash","react","rEditor/rootComps/topBar/menuBar/menuBarPanelsDefinitions","rEditor/rootComps/topBar/dropPanels/content/menuBarContent.rt"],function(a,b,c,d){"use strict";return b.createClass({displayName:"menuBarContent",propTypes:{content:b.PropTypes.string.isRequired,editorAPI:b.PropTypes.object.isRequired,selectedMenu:b.PropTypes.object,closeDropDownHandle:b.PropTypes.func},getPanelProps:function(){var b=null;var d=this.props.selectedMenu.key;if(d){b=a.clone(this.props);var e=c.getMenuPanelProps(d,this.props.editorAPI,this.props.content);b=a.merge(b,e)}return b},getPanelClass:function(){var a=this.props.selectedMenu.key;if(a){return c.getMenuPanelType(a,this.props.content)}return null},render:d})});define("rEditor/rootComps/topBar/dropPanels/content/menuBarRightContent.rt",["react","lodash","core"],function(a,b,c){"use strict";return function(){return this.props.panel?a.createElement("div",{className:"promotion",key:"promotionPanel"},a.createElement(c.lazyComponent,b.assign({},{moduleName:this.props.panel.type},b.merge(this.props.panel.props,{editorAPI:this.props.editorAPI,action:this.props.action,bi:this.props.bi})))):null}});define("rEditor/rootComps/topBar/dropPanels/content/menuBarRightContent",["react","rEditor/rootComps/topBar/dropPanels/content/menuBarRightContent.rt"],function(a,b){"use strict";return a.createClass({displayName:"menuBarRightContent",render:b})});define("rEditor/rootComps/topBar/menuBar/menuBar.rt",["react","lodash","uiAnimations","baseUI"],function(a,b,c,d){"use strict";function e(a,b,c){this.onMouseOverMenuItem(c)}function f(b,c,d){return a.createElement("li",{ref:"menuItem"+d,className:c.class,key:c.key,"data-hint-id":this.getMenuItemHintId(c.key),onMouseOver:e.bind(this,b,c,d)},a.createElement("a",{"data-hint-id":this.getMenuItemHintId(c.key)+"_inner"},this.getMenuItemLabel(c.key)),c.counter?a.createElement("div",{key:c.key+"counter",className:"counter"},c.counter):null)}function g(){var c=this.getMenuItems();return a.createElement.apply(this,["ul",{className:b({"menubar-items":true}).transform(function(a,b,c){if(b){a.push(c)}},[]).join(" "),onMouseLeave:this.onMouseLeave},b.map(c,f.bind(this,c))]);
}return function(){return a.createElement("div",{ref:"menuBar",className:this.props.classes},g.apply(this,[]),a.createElement(c.topBarMenuPanelAnimation,{outAnimationDuration:this.state.mouseOverMenu?0:.2},this.state.indexOfOpenMenu!==null?a.createElement(d.bubble,b.assign({},{key:"menuBarDropDown"},this.getDropDownProps())):null))}});define("rEditor/rootComps/topBar/menuBar/menuBar",["react","lodash","core","util","baseUI","rEditor/rootComps/topBar/menuBar/menuBarItemsDefinitions","rEditor/rootComps/topBar/dropPanels/content/menuBarContent","rEditor/rootComps/topBar/dropPanels/content/menuBarRightContent","rEditor/rootComps/topBar/dropPanels/topBarDropPanel","rEditor/rootComps/topBar/menuBar/menuBar.rt","experiment"],function(a,b,c,d,e,f,g,h,i,j,k){"use strict";var l=300;var m=500;function n(a){var b=d.keyboardShortcuts.CONTEXTS.TOP_BAR;var c=d.keyboardShortcuts.extendContext(b,{esc:function(){if(a.state.indexOfOpenMenu!==null){a.closeDropDown()}},left:function(){var b=a.state.indexOfOpenMenu;var c;if(b===0){c=a.getNumberOfMenuItems()-1}else{c=a.state.indexOfOpenMenu-1}a.openDropDown(c)},right:function(){var b=a.state.indexOfOpenMenu;var c=(b+1)%a.getNumberOfMenuItems();a.openDropDown(c)}});d.keyboardShortcuts.registerContext(d.keyboardShortcuts.CONTEXTS.MENU_BAR,c)}function o(c,d,e){var f;if(d.isMobileEditor()){f=c.MOBILE||c}else{f=c.DESKTOP||c}return a.createElement(h,b.assign({panel:f,editorAPI:d},e))}function p(a){if(a&&a.openHandlePID){window.clearTimeout(a.openHandlePID);a.openHandlePID=null}}return a.createClass({displayName:"menuBar",mixins:[c.mixins.editorAPIMixin],propTypes:{menuItems:a.PropTypes.array.isRequired,viewTools:a.PropTypes.object.isRequired,tooltipData:a.PropTypes.object,onMenuOpened:a.PropTypes.func,onMenuClosed:a.PropTypes.func},getInitialState:function(){this._isMounted=false;this.openHandlePID=null;var a={indexOfOpenMenu:null,mouseOverMenu:false};if(k.isMultiValueExperimentOpen("editorHintsConfigs")){a.shouldDropDownRemainOpen=false;a.dropDownDisabled=false}return a},componentDidMount:function(){this._isMounted=true;n(this)},componentWillUnmount:function(){this._isMounted=false;d.keyboardShortcuts.unregisterContext(d.keyboardShortcuts.CONTEXTS.MENU_BAR);if(this.isMenuBarKeyboardContextActive()){d.keyboardShortcuts.setContext(this.lastKeyboardContext)}},componentDidUpdate:function(a,b){var c=this.state.indexOfOpenMenu!==b.indexOfOpenMenu&&this.state.indexOfOpenMenu===null;var e=this.state.indexOfOpenMenu!==b.indexOfOpenMenu&&b.indexOfOpenMenu===null;if(c){if(d.keyboardShortcuts.getContext()===d.keyboardShortcuts.CONTEXTS.MENU_BAR){d.keyboardShortcuts.setContext(this.lastKeyboardContext)}if(this.props.onMenuClosed){this.props.onMenuClosed()}}else if(e){if(this.props.onMenuOpened){this.props.onMenuOpened()}}},isMenuBarKeyboardContextActive:function(){return d.keyboardShortcuts.getContext()===d.keyboardShortcuts.CONTEXTS.MENU_BAR},getMenuItems:function(){return b.map(this.props.menuItems,function(a,b){return{key:a.key,class:this.getMenuItemClasses(a.key,b),counter:this.getMenuItemCounter(a.key)}},this)},getMenuItemClasses:function(a,b){var c=[];a=a&&a.toLowerCase()||"";c.push(a!=="upgrade"?"menu-bar-title":"menu-bar-upgrade-title");if(a==="help"){c.push("top-bar-help-title")}if(b===this.state.indexOfOpenMenu){c.push("menu-bar-selected-item")}return c.join(" ")},getMenuItemLabel:function(a){return f[a].label},getMenuItemCounter:function(a){return b.isFunction(f[a].getCounter)&&f[a].getCounter()},getNumberOfMenuItems:function(){return this.props.menuItems.length},getDropDownProps:function(){if(!this._isMounted){return{}}var a=this.state.indexOfOpenMenu;return{key:"menuDropDown-"+a,value:this.getDropDownContent(a),width:"1000px",closeTriggers:this.getDropDownTooltipCloseTriggers(),className:"top-bar-drop-down",overridePositionAdjustments:{type:e.uiConstants.TOOLTIP.ALIGNMENT.LEFT,value:70},targetNode:this.refs["menuItem"+a],hideMethod:this.handleDropDownWantsToClose,mouseLeftTargetNode:!this.state.mouseOverMenu,timeoutForMouseOverBubble:m}},handleDropDownWantsToClose:function(){if(!k.isMultiValueExperimentOpen("editorHintsConfigs")||!this.state.shouldDropDownRemainOpen){if(this._isMounted&&!this.state.mouseOverMenu){if(k.isMultiValueExperimentOpen("editorHintsConfigs")){this.getEditorAPI().topBarMenuBar.onMenuBarDropDownClose(this.state.indexOfOpenMenu)}this.setState({indexOfOpenMenu:null})}}},getDropDownTooltipCloseTriggers:function(){return[e.uiConstants.TOOLTIP.TRIGGERS.MOUSE_LEAVE]},getDropDownContent:function(b){var c=this.getDropDownBottomContent(b);var d=this.getDropDownLeftContent(b,this.props.viewTools);var e=this.getMenuRightContentOptions(b);var g=this.props.menuItems[b].key;var h=f[g];var j=h.hintContainerId||null;return a.createElement(i,{closeHandle:this.closeDropDown,bottomContent:c,leftContent:d,rightContentOptions:e,dropPanelClass:"menubar-drop-panel",hintContainerId:j})},getDropDownBottomContent:function(b){var c=this.props.menuItems[b];return a.createElement(g,{content:"bottom",selectedMenu:c,closeDropDownHandle:this.closeDropDown,editorAPI:this.getEditorAPI()})},getDropDownLeftContent:function(b,c){var d=this.props.menuItems[b];return a.createElement(g,{content:"left",selectedMenu:d,action:f[d.key].action,viewTools:c,closeDropDownHandle:this.closeDropDown,editorAPI:this.getEditorAPI()})},getMenuRightContentOptions:function(a){var c=this.getEditorAPI();var d=this.props.menuItems[a];var e={};e.main=o(d.rightPanel,c);b.forEach(d.children,function(a){if(a&&f[a.key]&&a.rightPanel){var b=this.handleClickOnRightPanel.bind(this,a);var d=f[a.key].bi;var g={action:b,bi:d};e[a.key]=o(a.rightPanel,c,g)}},this);return e},getMenuItemHintId:function(a){var b=f[a];return k.isMultiValueExperimentOpen("editorHintsConfigs")&&b.hintProps?b.hintProps.id:null},handleClickOnRightPanel:function(a){var c=f[a.key];var d=c.action;if(d){var e=d.apply(null,b.rest(arguments))!==false;if(!(c.isCheckbox||!e)){this.closeDropDown()}}},disableDropDown:function(){if(k.isMultiValueExperimentOpen("editorHintsConfigs")){this.setState({dropDownDisabled:true})}},enableDropDown:function(){if(k.isMultiValueExperimentOpen("editorHintsConfigs")){this.setState({dropDownDisabled:false})}},openDropDown:function(a,b){if(k.isMultiValueExperimentOpen("editorHintsConfigs")){if(this.state.dropDownDisabled===true){return}this.getEditorAPI().topBarMenuBar.onMenuBarDropDownOpen(a)}if(this.state.indexOfOpenMenu===null){this.lastKeyboardContext=d.keyboardShortcuts.getContext();d.keyboardShortcuts.setContext(d.keyboardShortcuts.CONTEXTS.MENU_BAR)}var c={indexOfOpenMenu:a};if(k.isMultiValueExperimentOpen("editorHintsConfigs")){c.shouldDropDownRemainOpen=b||false}this.setState(c)},enableClose:function(){if(k.isMultiValueExperimentOpen("editorHintsConfigs")){this.setState({shouldDropDownRemainOpen:false})}},closeDropDown:function(){if(k.isMultiValueExperimentOpen("editorHintsConfigs")){if(!this.state.shouldDropDownRemainOpen){this.getEditorAPI().topBarMenuBar.onMenuBarDropDownClose(this.state.indexOfOpenMenu);this.setState({indexOfOpenMenu:null,shouldDropDownRemainOpen:false})}}else{this.setState({indexOfOpenMenu:null})}},onMouseOverMenuItem:function(a){if(k.isMultiValueExperimentOpen("editorHintsConfigs")&&this.state.dropDownDisabled===true){return}var b=!this.state.mouseOverMenu;var c=this.state.indexOfOpenMenu!==null;var d=b&&!c;var e=c&&this.state.indexOfOpenMenu!==a;if(b){this.setState({mouseOverMenu:true})}if(d){p(this);var f=this;this.openHandlePID=setTimeout(function(){if(f._isMounted){f.openDropDown(a)}},l)}else if(e){this.openDropDown(a)}},onMouseLeave:function(){p(this);this.setState({mouseOverMenu:false})},render:j})});define("rEditor/rootComps/topBar/dropPanels/editorModesPanel.rt",["react","lodash","baseUI"],function(a,b,c){"use strict";return function(){return a.createElement("div",{className:"editor-modes-panel"},a.createElement("div",{className:"editor-modes-panel-top-part"},a.createElement("div",{},a.createElement(c.radioList,{options:[{label:"TOPBAR_MobileDesktop_Desktopview",symbolName:"desktop",className:"editor-mode-option-desktop",symbolClass:"editor-mode-option-symbol",value:"desktop"},{label:"TOPBAR_MobileDesktop_MobileView",symbolName:"mobile",className:"editor-mode-option-mobile",symbolClass:"editor-mode-option-symbol",value:"mobile"}],value:this.props.desktopModeSelected?"desktop":"mobile",onChange:this.setEditorMode,highlightOnHover:true}))),a.createElement("div",{className:"optimized-view-row"},a.createElement(c.toggle,{label:"TOPBAR_MobileDesktop_MobileOptimized",labelAfterSymbol:true,value:this.props.isMobileOptimized,onChange:this.toggleOptimized})))}});define("rEditor/rootComps/topBar/dropPanels/editorModesPanel",["react","lodash","core","util","rEditor/rootComps/topBar/dropPanels/editorModesPanel.rt"],function(a,b,c,d,e){"use strict";var f="EDITOR_MODES_SWITCH";return a.createClass({displayName:"editorModesPanel",propTypes:{editorAPI:a.PropTypes.object.isRequired,isMobileOptimized:a.PropTypes.bool.isRequired,desktopModeSelected:a.PropTypes.bool.isRequired,closeHandle:a.PropTypes.func},biData:{desktop:{editor_view_mode:"desktop"},mobile:{editor_view_mode:"mobile"}},getDefaultProps:function(){return{closeHandle:b.noop}},componentDidMount:function(){this.registerKeyboardShortcuts();this.lastKeyboardContext=d.keyboardShortcuts.getContext();d.keyboardShortcuts.setContext(f)},componentWillUnmount:function(){d.keyboardShortcuts.setContext(this.lastKeyboardContext)},setEditorMode:function(a){var b=this.props.editorAPI;if(a==="desktop"){this.sendModeChangeBI("desktop");b.setDesktopEditor()}else{this.sendModeChangeBI("mobile");b.setMobileEditor()}if(this.props.closeHandle){this.props.closeHandle()}},toggleOptimized:function(){var a=this.props.isMobileOptimized;var b=!a;this.sendToggleBI(this.props.editorAPI.getPreviewMode(),b);this.props.editorAPI.setMobileOptimizedSite(b)},sendToggleBI:function(a,b){var d=c.bi.events.topbar.mobile_view_mode_toggle;var e=a?"top bar preview":"top bar editor";var f={origin:e,status:b?1:0};this.props.editorAPI.bi.event(d,f)},sendModeChangeBI:function(a){var b=this.props.editorAPI;if(!b){return}var d=c.bi.events.topbar.top_bar_editor_view_mode_click;if(b.getPreviewMode()){d=c.bi.events.topbar.top_bar_preview_page_editor_view_mode_click}b.bi.event(d,{editor_view_mode:a});b.bi.event(c.bi.events.topbar.editor_view_mode_switch,{origin:"site_menu",mode:a})},registerKeyboardShortcuts:function(){var a=this;var b={esc:function(){a.props.closeHandle()}};d.keyboardShortcuts.registerContext(f,b)},render:e})});define("rEditor/rootComps/topBar/dropPanels/menuPanels/checkListPanel.rt",["react","lodash","baseUI"],function(a,b,c){"use strict";function d(d,e,f){return a.createElement("li",{key:f},a.createElement("div",{className:b({check:!d,"check-purple":d}).transform(function(a,b,c){if(b){a.push(c)}},[]).join(" ")},a.createElement(c.symbol,{name:"check"})),a.createElement("div",{className:"text"},e))}function e(a,b,c){this.onClick(b.action)}function f(d,f,g){return a.createElement(c.button,{className:b({"action-button":!d,"action-button-purple1":d&&g%2===0,"action-button-purple2":d&&g%2!==0}).transform(function(a,b,c){if(b){a.push(c)}},[]).join(" "),label:f.buttonText,shouldTranslate:false,key:"key-"+f.buttonText,onClick:e.bind(this,d,f,g)})}function g(){var c=this.props.type==="upgrade";return a.createElement.apply(this,["div",{className:this.props.class},!!this.props.title?a.createElement("div",{key:"title",className:"title"},this.props.title):null,b.size(this.props.description)===1?a.createElement("div",{key:"single",className:"description"},this.props.description):null,b.size(this.props.description)>1?a.createElement("div",{key:"multiple",className:"description"},a.createElement.apply(this,["ul",{},b.map(this.props.description,d.bind(this,c)),this.props.comment?a.createElement("li",{key:"comment",className:"comment"},this.props.comment):null])):null,b.map(this.props.footerButtons,f.bind(this,c))])}return function(){return g.apply(this,[])}});define("rEditor/rootComps/topBar/dropPanels/menuPanels/checkListPanel",["react","rEditor/rootComps/topBar/dropPanels/menuPanels/checkListPanel.rt"],function(a,b){"use strict";return a.createClass({displayName:"checkListPanel",propTypes:{editorAPI:a.PropTypes.object.isRequired,closeDropDownHandle:a.PropTypes.func.isRequired},onClick:function(a){if(a){a(this.props.editorAPI)}this.props.closeDropDownHandle()},render:b})});define("rEditor/rootComps/topBar/topBarWidgetsDefinitions",["reactDOM","jquery","lodash","util","core","rEditor/rootComps/topBar/config/topBarData.json","rEditor/rootComps/topBar/menuBar/config/topBarMenuData.json","rEditor/rootComps/topBar/buttons/topBarButton/topBarButton","rEditor/rootComps/topBar/buttons/pagesNavButton/pagesNavButton","rEditor/rootComps/topBar/buttons/topBarNotification/topBarNotification","rEditor/rootComps/topBar/menuBar/menuBar","rEditor/rootComps/topBar/dropPanels/editorModesPanel","baseUI","panels","savePublish","experiment","rEditor/rootComps/topBar/menuBar/menuBarPanelsDefinitions","rEditor/rootComps/topBar/dropPanels/menuPanels/checkListPanel"],function(a,b,c,d,e,f,g,h,i,j,k,l,m,n,o,p){"use strict";var q={LEFT:"left",RIGHT:"right"};function r(a,b){var c="previewingStatus";var d=a.getEditorAPI();if(d.wixCode.isLoaded()){h();d.toggleEditorStateParam(c,e.constants.PROGRESS_STATUS.IN_PROGRESS);d.wixCode.fileSystem.flush().then(g).catch(f).done(j)}else{g()}function f(){d.panelManager.openPanel("savePublish.panels.common.failPanel",{titleKey:"WixCode_PreviewSaveFail_Title",description:"SAVE_PUBLISH_ERROR_BODY_DESCRIPTION",stepsTitle:"SAVE_PUBLISH_ERROR_BODY_DESCRIPTION_BOLD",steps:["SAVE_PUBLISH_ERROR_OPTION_1","WixCode_PreviewSaveFail_Step2_Text","WixCode_DeveloperModeFail_Step3_Text"],helpMessage:"WixCode_PreviewSaveFail_Learn_More_Label",helpLinkMessage:"WixCode_PreviewSaveFail_Learn_More_Link",helpLink:"",errorCode:"1234"});i()}function g(){i();s(a,b)}function h(){if(!a.areActionsLocked){a.lockActions()}}function i(){a.unlockActions()}function j(){d.toggleEditorStateParam(c,e.constants.PROGRESS_STATUS.IDLE)}}function s(a,b){if(!a.areActionsLocked){a.lockActions();a.getEditorAPI().togglePreview();setTimeout(a.unlockActions,b||1)}}function t(a){return d.media.getMediaUrl("rEditor/topBar/"+a)}function u(a){return!a||a.generalInfo&&a.generalInfo.isFirstSave()}function v(a){var b=null;var c=a.generalInfo&&a.generalInfo.isSitePublished()||false;if(!a.savePublish.canUserPublish()){b={title:"TOPBAR_SITE_PUBLISH_DISABLED_PROMOTION_TITLE",body:"TOPBAR_SITE_PUBLISH_DISABLED_PROMOTION_TEXT",linkText:"TOPBAR_SITE_PUBLISH_DISABLED_PROMOTION_LINK",linkAction:function(){var a=d.languages.getLocalizedLink(e.constants.HELP_URLS.CONTRIBUTOR_ROLES,"{$lang}");window.open(a)}}}else if(c){b={title:"TOPBAR_POSTPUBLISH_TOOLTIP_TITLE",body:"TOPBAR_POSTPUBLISH_TOOLTIP_BODY",linkText:"SAVE_PUBLISH_BUTTON_VIEW",linkAction:function(){var b=a.site.getSitePublicUrl();window.open(b)}}}else{b={title:"TOPBAR_PREPUBLISH_TOOLTIP_TITLE",body:"TOPBAR_PREPUBLISH_TOOLTIP_BODY",linkText:null,linkAction:null}}return b}function w(c){var d=b(a.findDOMNode(c.refs.topBarSideWrapperLeft));var e=b(a.findDOMNode(c.refs.topBarSideWrapperRight));return{leftWidth:d.width(),rightWidth:e.width()}}function x(c,d){var e=b(a.findDOMNode(c.refs.topBarSideWrapperCenter));e.css({left:d.leftWidth,right:d.rightWidth,width:"auto"})}function y(c,d,e){e=e||0;return b(a.findDOMNode(c.refs[d])).width()||e}function z(c,d){var e=c.refs.topBarBackToEditorButton;d=J.PREVIEW.measuredWidth+J.PUBLISH.measuredWidth;if(e&&d>0){b(a.findDOMNode(e)).width(d)}}var A=function(){var a=null;return function(b){if(a===null){a={onMenuOpened:b.onMenuOpened,onMenuClosed:b.onMenuClosed}}return a}}();var B=function(){var a={};return function(b){if(!a[b]){a[b]={type:e.bi.events.topbar.top_bar_click,fields:{category:b}}}return a[b]}}();var C=function(){var a={};return function(b,c,d,e,f,g){var h=a[b];if(!h){h={presenter:m.popoverTemplates.titleBodyAndLinkTooltip,id:b,interactive:c,props:{title:d,text:e,link:f,linkAction:g}};a[b]=h}return h}}();function D(a){var b="save-button-tooltip";var c=u(a);var d=!c?"":"-notSaved";var e=a.generalInfo&&a.generalInfo.isSiteFromOnBoarding();var f=e?"-ob-site":"";var g=b+d+f;return C(g,true,e?"ADI_EDITOR_MIGRATION_SAVE_TOOLTIP_TITLE":"TOPBAR_SAVE_TOOLTIP_TITLE",e?"ADI_EDITOR_MIGRATION_SAVE_TOOLTIP_TEXT":"TOPBAR_SAVE_TOOLTIP_BODY",!c&&!e?"TOPBAR_SAVE_TOOLTIP_LINK":null,!c&&!e?function(){a.account.openRevisions()}:null)}function E(a){var b="save-button-tooltip";return{compClass:h,actions:null,compProps:function(c,d,f,g){var h=c.getEditorAPI();if(h.wixStores.isSiteInWixStoreTestDrive()){return null}var i=c.state.appearance>=c.APPEARANCE.SAVE_AND_MOBILE_CHANGE_ICONS;var j=g&&g.toUpperCase()==="PREVIEW";var k=j?e.bi.events.topbar.top_bar_Preview_Page_Save_click:B("save");var l=u(h);var m=!l?"":"-notSaved";J.SAVE.actions=J.SAVE.actions||[o.save.bind(o,h,{origin:"top_bar"})];return{label:i?null:"TOPBAR_Site_Save",iconSymbol:i?"save":null,classes:["top-bar-menu-item","top-bar-save",L(d),M(d,f)].join(" "),actions:J.SAVE.actions,isDisabled:o.isPublishInProgress()||o.isSaveInProgress(),progressStatus:c.props.savingStatus,tooltipData:p.isOpen("se_obMigrationFlow")&&D(h)||C((a?b:b)+m,true,"TOPBAR_SAVE_TOOLTIP_TITLE","TOPBAR_SAVE_TOOLTIP_BODY",!l?"TOPBAR_SAVE_TOOLTIP_LINK":null,!l?function(){h.account.openRevisions()}:null),bi:k}}}}function F(a){return{compClass:"div",compProps:function(b,c){var d=!a||a(b,c);return{className:["top-bar-separator","top-bar-menu-item",L(c),!d?"hidden":""].join(" ")}}}}function G(a){a.panelManager.closeAllPanels();a.toolsControl.toggleHideTools(true,true);setTimeout(function(){a.zoomMode.enterZoomMode();a.bi.event(e.bi.events.topbar.top_bar_zoom_mode_click,{editor_view_mode:a.getDeviceType()})},400)}function H(a){var b=!a.isMobileEditor();var c={origin:"top_bar",mode:a.getDeviceType()};a.bi.event(e.bi.events.topbar.editor_view_mode_switch,c);a.setEditorMode(b)}function I(){return{compClass:h,actions:null,bi:[B("zoomout"),{type:e.bi.events.preview.PREVIEW_CLICK,fields:{origin:"topbar"}}],compProps:function(a,b,c){var d=a.getEditorAPI();var e=p.isOpen("popups")&&d.isPreviewReady()&&d.pages.popupPages.isPopupOpened();J.ZOOMOUT.actions=J.ZOOMOUT.actions||[G.bind(null,d)];J.ZOOMOUT.classes=J.ZOOMOUT.classes||["top-bar-menu-item","top-bar-preview-icon",M(b,c),L(b)].join(" ");return{iconSymbol:"zoomOut",actions:J.ZOOMOUT.actions,classes:J.ZOOMOUT.classes+(e?" hidden":""),tooltipData:C("topBarZoomOutTooltipID",false,"TOPBAR_ZoomOut_Tooltip_Title","TOPBAR_ZoomOut_Tooltip_Body"),bi:J.ZOOMOUT.bi,ref:"topBarZoomOutButton",hintProps:{id:"ZoomOut"}}}}}var J={WIX_LOGO:{compClass:h,compProps:function(a,b){return{iconSymbol:"wixLogo",classes:["top-bar-wix-logo",L(b)].join(" "),bi:B("wix_logo")}}},PAGES_LIST:{compClass:i,compProps:function(a,b,d){var e=a.state.appearance>=a.APPEARANCE.TRIM_PAGES_NAV_BUTTON;var f=A(a);return c.assign({},f,{label:"pages",isSmallVersion:e,classes:["top-bar-menu-item",M(b,d),L(b)].join(" "),tooltipData:C("pagesTooltipID",false,null,"TOPBAR_PAGES_TOOLTIP_TITLE"),bi:B("pages")})}},REDO_SEPARATOR:F(function(a){return a.state.appearance<a.APPEARANCE.HIDE_REDO}),SEPARATOR:F(),ZOOMOUT:I(),UNDO:{compClass:h,actions:null,biFunc:null,classes:null,compProps:function(a,b,c){var d=a.getEditorAPI();var e=J.UNDO;e.actions=e.actions||[d.history.undo];e.biFunc=e.biFunc||K.bind(null,d,"undo");e.classes=e.classes||["top-bar-undo",M(b,c),L(b)].join(" ");return{iconSymbol:"undo2",classes:J.UNDO.classes,actions:J.UNDO.actions,tooltipData:C("topBarUndoTooltipID",false,null,"TOPBAR_UNDO_TOOLTIP_TITLE"),biFunc:J.UNDO.biFunc,hintProps:{id:"Undo"}}}},REDO:{compClass:h,actions:null,biFunc:null,compProps:function(a,b,d){var e=a.getEditorAPI();J.REDO.actions=J.REDO.actions||[e.history.redo];J.REDO.biFunc=J.REDO.biFunc||K.bind(null,e,"redo");var f=a.state.appearance>=a.APPEARANCE.HIDE_REDO;return{iconSymbol:"redo2",classes:c.compact(["top-bar-redo","top-bar-responsive-1024",M(b,d),L(b)],f?"hidden":"").join(" "),actions:J.REDO.actions,tooltipData:C("topBarRedoTooltipID",false,null,"TOPBAR_REDO_TOOLTIP_TITLE"),biFunc:J.REDO.biFunc}}},PREVIEW:{compClass:h,actions:null,measuredWidth:0,bi:[B("preview"),{type:e.bi.events.preview.PREVIEW_CLICK,fields:{origin:"topbar"}}],compProps:function(a,b,c){var d=a.state.appearance>=a.APPEARANCE.PREVIEW_CHANGE_TO_ICON;if(p.isOpen("developerModeToggle")){J.PREVIEW.actions=J.PREVIEW.actions||[r.bind(null,a,500)]}else{J.PREVIEW.actions=J.PREVIEW.actions||[s.bind(null,a,500)]}J.PREVIEW.classes=J.PREVIEW.classes||["top-bar-menu-item","top-bar-preview-icon",M(b,c),L(b)].join(" ");return{label:d?null:"TOPBAR_PREVIEW_TOOLTIP_TITLE",iconSymbol:d?"preview":null,actions:J.PREVIEW.actions,classes:J.PREVIEW.classes,progressStatus:a.props.previewingStatus,tooltipData:C("topBarPreviewTooltipID",false,"TOPBAR_PREVIEW_TOOLTIP_TITLE","TOPBAR_PREVIEW_TOOLTIP_BODY"),bi:J.PREVIEW.bi,ref:"topBarPreviewButton",measurePhase:function(b){J.PREVIEW.measuredWidth=y(a,"topBarPreviewButton",b)},hintProps:{id:"Preview"}}}},EDITOR_MODE_SWITCH:{compClass:h,getDropPanelProps:function(){var a={};return function(b,c,d,e){var f=(b?"mobile-":"desktop-")+(c?"optimized-":"non-optimized-")+d;var g=a[f];if(!g){g={overridePositionAdjustments:{type:m.uiConstants.TOOLTIP.ALIGNMENT.RIGHT,value:70},desktopModeSelected:!b,isMobileOptimized:c,editorAPI:e,dropPanelPromotion:{type:"rEditor.panels.topBar.promotionPanel",classes:"promotion editor-mode-switch-promotion",props:{menuKey:"editor-mode-switch",key:"editor-mode-switch",title:"TOPBAR_MOBILE_PROMOTION_TITLE",message:"TOPBAR_MOBILE_PROMOTION_BODY",image:d>=2?t("mobileDesktopIllustration@x2.png"):t("mobileDesktopIllustration.png"),classes:{graphics:"editor-mode-switch-graphics",title:"editor-mode-switch-title",message:"editor-mode-switch-message"}}},dropPanelClass:"editor-modes-panel-container"};a[f]=g}return g}}(),compProps:function(a,b,e,f){var g=d.browserUtil.getDevicePixelRatio();var h=a.props.isMobileEditor?"desktop":"mobile";var i=a.state.appearance>=a.APPEARANCE.SAVE_AND_MOBILE_CHANGE_ICONS;var j=A(a);var k=p.isOpen("oneClickEditorModeToggle");var m=a.getEditorAPI();return c.assign({},j,{iconSymbol:h,classes:[i?"mini-editor-mode-switch":"editor-mode-switch",M(b,e),L(b)].join(" "),actions:k?[H.bind(null,m)]:null,dropPanelContent:k?null:l,dropPanelProps:J.EDITOR_MODE_SWITCH.getDropPanelProps(a.props.isMobileEditor,a.props.isMobileOptimized,g,m),tooltipData:C("editorModeSwitchTooltipId-"+f,false,"TOPBAR_MOBILE_TOOLTIP_TITLE","TOPBAR_MOBILE_TOOLTIP_BODY"),bi:B("editor_view_mode"),hintProps:{id:"SwitchEditor"}})}},PUBLISH:{compClass:h,label:"TOPBAR_Site_Publish",measuredWidth:0,actions:null,bi:[B("publish"),{type:e.bi.events.publish.PUBLISH_CLICK,fields:{origin:"topbar"}}],classes:null,compProps:function(a,b){var c=a.getEditorAPI();if(c.wixStores.isSiteInWixStoreTestDrive()){return null}var d=c.generalInfo&&c.generalInfo.isSitePublished()||false;J.PUBLISH.actions=J.PUBLISH.actions||[function(){if(!a.areActionsLocked){o.saveAndPublish(c,"top_bar_publish")}}];var e=[L(b),"top-bar-item-margin","top-bar-textual-button"];var f=c.savePublish.canUserPublish();var g="publish-button-tooltip-id-"+(d?"published":"notPublished");if(!f){g="publish-disabled-button-tooltip-id"}e.push("top-bar-publish");var h=e.join(" ");var i=v(c);var j=o.isPublishInProgress()||o.isSaveInProgress()||!f;return{label:J.PUBLISH.label,right:false,classes:h,actions:J.PUBLISH.actions,isDisabled:j,progressStatus:a.props.publishingStatus,tooltipData:C(g,true,i.title,i.body,i.linkText,i.linkAction),bi:J.PUBLISH.bi,ref:"topBarPublishButton",measurePhase:function(b){J.PUBLISH.measuredWidth=y(a,"topBarPublishButton",b)},hintProps:{id:"Publish"}}}},SAVE:E(false),PREVIEW_SAVE:E(true),WIXSTORES_MIGRATION_UPGRADE_SITE:{compClass:h,compProps:function(a,b,c){var d=a.getEditorAPI();if(d.wixStores.isSiteInWixStoreTestDrive()){return{label:"TOPBAR_Site_Migration_Upgrade",classes:["top-bar-menu-item","top-bar-wixstores-migration-upgrade-button",L(b),M(b,c)].join(" "),actions:[function(){n.panelManager.openPanel("wixStore.migration.wixStoreSwitchPopup",{},true);d.bi.event(e.bi.events.wixstores.WIXSTORES_MIGRATION_UPGRADE_CLICKED,{origin:"top panel"})}],tooltipData:C("store-migration-tooltip",true,"TOPBAR_Site_Migration_Upgrade","TOPBAR_Site_Migration_Upgrade_Description",null,null),style:{borderRight:"1px #e3eaf6 solid"}}}return null}},WIXSTORES_MIGRATION_SAVE:{compClass:h,actions:null,compProps:function(a,b){var c=a.getEditorAPI();if(!c.wixStores.isSiteInWixStoreTestDrive()){return null}var d=a.state.appearance>=a.APPEARANCE.SAVE_AND_MOBILE_CHANGE_ICONS;var e=B("save");var f=u(c);var g=!f?"":"-notSaved";J.SAVE.actions=J.SAVE.actions||[o.save.bind(o,c,{origin:"top_bar"})];return{label:d?null:"TOPBAR_Site_Save",iconSymbol:d?"save":null,classes:[L(b),"top-bar-item-margin","top-bar-textual-button"].join(" "),actions:J.SAVE.actions,isDisabled:o.isPublishInProgress()||o.isSaveInProgress(),progressStatus:a.props.savingStatus,tooltipData:C("save-button-tooltip"+g,true,"TOPBAR_SAVE_TOOLTIP_TITLE","TOPBAR_SAVE_TOOLTIP_BODY",!f?"TOPBAR_SAVE_TOOLTIP_LINK":null,!f?function(){c.account.openRevisions()}:null),bi:e}}},MENU:{compClass:k,compProps:function(a){var b=a.getEditorAPI();var e=A(a);var f=a.getMenuBarItems(g);var h=c.assign({},e,{menuItems:f,viewTools:a.props.viewTools,classes:"top-bar-menu-item-left menu-bar",onMenuOpened:a.onMenuOpened,onMenuClosed:a.onMenuClosed,tooltipData:C("topBarMenuTooltipId",false,null,"TOPBAR_MENU_TOOLTIP_TITLE"),bi:B("menu")});if(p.isOpen("spanishUpgradeText")){var i=c.find(h.menuItems,{key:"SITE_BAR"});var j=c.find(i.children,{key:"UPGRADE_ITEM"}).rightPanel;j.props.title=d.translate("UPGRADE_FOR_SPAIN_ONLY");j.props.message=d.translate("TOPBAR_SITE_UPGRADE_PROMOTION_TEXT");j.props.shouldTranslate=false}if(!b.savePublish.canUserPublish()){var k=c.find(h.menuItems,{key:"SITE_BAR"});var l=c.find(k.children,{key:"PUBLISH"}).rightPanel;l.props.message="TOPBAR_PREPUBLISH_DISABLED_TOOLTIP_BODY"}if(p.isMultiValueExperimentOpen("editorHintsConfigs")){h.ref="topBarMenu"}return h}},BACK_TO_EDITOR:{compClass:h,actions:null,bi:{type:e.bi.events.topbar.top_bar_Preview_Page_Back_to_Editor_click,fields:{origin:"thumb"}},compProps:function(a,b){var c=a.getEditorAPI();J.BACK_TO_EDITOR.actions=J.BACK_TO_EDITOR.actions||[s.bind(null,a,500)];return{label:c.wixStores.isSiteInWixStoreTestDrive()?"TOPBAR_EDIT_SITE":"TOPBAR_BACK_TO_EDITOR",right:true,classes:[L(b),"top-bar-item-back-to-editor"].join(" "),actions:J.BACK_TO_EDITOR.actions,bi:J.BACK_TO_EDITOR.bi,ref:"topBarBackToEditorButton",patchPhase:z.bind(null,a),tooltipData:c.wixStores.isSiteInWixStoreTestDrive()?C("edit-site-tooltip",true,"TOPBAR_EDIT_SITE","TOPBAR_Edit_Site_Description",null,null):null}}},MOBILE_NON_OPTIMIZED_NOTIFICATION:{compClass:j,action:null,compProps:function(a,b){var c=J.MOBILE_NON_OPTIMIZED_NOTIFICATION;c.action=c.action||function(){var b=a.getEditorAPI();b.togglePreview();b.openMobileElementsPanel({mobileElementId:"mobileView"})};return{classes:[M(b),L(b)].join(" "),isShown:a.props.isMobileEditor&&!a.props.isMobileOptimized,message:d.translate("mobile_preview_notification_text1")+" <a>"+d.translate("mobile_preview_notification_link")+"</a> "+d.translate("mobile_preview_notification_text2"),action:c.action}}},PREVIEW_NOTIFICATION:{compClass:j,compProps:function(a,b,c,e){var f=a.props.isMobileEditor&&!a.props.isMobileOptimized;var g=e.toUpperCase()==="PREVIEW";return{classes:[M(b),L(b)].join(" "),isShown:g&&!f,message:d.translate("Topbar_PREVIEW_TITLE"),measurePhase:w.bind(null,a),patchPhase:x.bind(null,a)}}}};function K(a,b,d){var f={type:b,origin:"topbar"};if(!c.isEmpty(d)){c.forEach(d,function(a){c.assign(a,f)})}else{d=[f]}a.bi.reportBI(e.bi.events.editor.undo_redo_component_change,d)}function L(a){var b="top-bar-menu-item-";return a&&a===q.RIGHT?b+"right":b+"left"}function M(a,b){var c=[];if(a===q.LEFT&&b===0){c.push("top-bar-item-right-margin")}else if(a===q.RIGHT&&b===0){c.push("top-bar-item-left-margin")}else{c.push("top-bar-item-margin")}return c}return{ORIENTATION:q,TOP_BARS:f,widgetMapping:J}});define("rEditor/rootComps/topBar/util/campaignUtil",["lodash","core","util"],function(a,b,c){"use strict";function d(b){return a.chain(b).find({key:"SITE_BAR"}).get("children").find({key:"UPGRADE_ITEM"}).value()}function e(b){return a.find(b,{key:"UPGRADE"})}function f(b){var d=b.campaigns.personalSale.getAssetPath();var e=b.campaigns.personalSale.getDiscountValue();var f=[d,"menubarSitePanel_"+e+".svg"].join("/");var g=a.template(c.translate("TOPBAR_UPGRADE_POPUP_PERSONAL_SALE_LABEL_DYNAMIC"));return{symbol:"",image:c.media.getAssetUrl(f),message:g({discount:e}),title:c.translate("TOPBAR_SITE_UPGRADE_PROMOTION_TITLE"),shouldTranslate:false}}function g(a){var b=a.campaigns.personalSale.getAssetPath();var d=a.campaigns.personalSale.getDiscountValue();var e=[b,"menubarUpgradePanel_"+d+".svg"].join("/");return{symbol:"",image:c.media.getAssetUrl(e)}}function h(b,c){var h=d(c);var i=e(c);a.assign(h.rightPanel.props,f(b));a.assign(i.rightPanel.props,g(b))}return{updateMenuBarItemsAccordingToPersonalSaleCampaign:h}});define("rEditor/rootComps/topBar/menuBar/util/menuBarItemsUtil",["rEditor/rootComps/topBar/menuBar/menuBarItemsDefinitions"],function(a){"use strict";function b(b){var c=a[b];if(c){return!c.visibilityFunc||c.visibilityFunc()}return false}return{shouldBeVisible:b}});define("rEditor/rootComps/topBar/zoomModeBar.rt",["react","lodash","baseUI","symbols","uiAnimations","util","rEditor/rootComps/topBar/buttons/topBarButton/topBarButton"],function(a,b,c,d,e,f,g){"use strict";function h(){this.exitZoomMode()}return function(){return a.createElement(e.contentSlideCSS,{distance:"60px"},this.inZoomMode()?a.createElement("div",{className:"zoom-bar-wrapper",key:"zoomModeBarWrapper",ref:"zoomModeBarWrapper",style:{width:"calc("+(this.getSiteScale()*100+"% - "+this.getVerticalScrollWidth())+")",left:"calc("+("50% - "+this.getVerticalScrollWidth())+")"}},a.createElement("div",{className:b({"zoom-mode-bar":true}).transform(function(a,b,c){if(b){a.push(c)}},[]).join(" "),key:"zoom-mode-bar"},a.createElement("div",{className:"left-zoom-bar",onClick:h.bind(this)},a.createElement("span",{className:"zoom-bar-text"},f.translate("TOPBAR_Exit_ZoomOut")),a.createElement(g,{iconSymbol:"zoomClose",classes:"zoom-bar-symbol",actions:[this.exitZoomMode]})),a.createElement("div",{className:"right-zoom-bar"},a.createElement(g,{iconSymbol:"undo2",classes:"zoom-bar-btn-seperator top-bar-item-margin",actions:[this.callUndo],tooltipData:this.getTooltipData("topBarUndoTooltipID","TOPBAR_UNDO_TOOLTIP_TITLE")}),a.createElement(g,{iconSymbol:"redo2",classes:"zoom-bar-btn-seperator top-bar-item-margin",actions:[this.callRedo],tooltipData:this.getTooltipData("topBarRedoTooltipID","TOPBAR_REDO_TOOLTIP_TITLE")}),a.createElement(g,{iconSymbol:"zoomBarHelp",classes:"zoom-bar-btn",actions:[this.openHelp],tooltipData:this.getTooltipData("zoomBarHelpTooltipID","gfpp_tooltip_help")})))):null)}});define("rEditor/rootComps/topBar/zoomModeBar",["react","lodash","core","util","baseUI","panels","rEditor/rootComps/topBar/zoomModeBar.rt"],function(a,b,c,d,e,f,g){"use strict";return a.createClass({displayName:"zoomModeBar",mixins:[c.mixins.editorAPIMixin],exitZoomMode:function(){var a=this.getEditorAPI();this.getEditorAPI().zoomMode.exitZoomMode();a.bi.event(c.bi.events.topbar.zoombar.zoom_mode_bar_exit_zoom_mode,{editor_view_mode:a.getDeviceType()});setTimeout(function(){a.toolsControl.toggleHideTools(false,true)},300)},inZoomMode:function(){return this.getEditorAPI().zoomMode.isInZoomMode()},callUndo:function(){this.getEditorAPI().history.undo()},callRedo:function(){this.getEditorAPI().history.redo()},getSiteScale:function(){return this.getEditorAPI().getSiteScale()},openHelp:function(){var a=this.getEditorAPI().viewMode.get()==="DESKTOP"?"00d369ed-aedf-4fbd-b11c-3fcc51459cef":"65ff699a-dc0c-4c42-b2af-8df5e022d350";f.panelManager.openHelpCenter(a);
},getTooltipData:function(a,b){return{presenter:e.popoverTemplates.titleBodyAndLinkTooltip,id:a,props:{text:b}}},getVerticalScrollWidth:function(){return d.uiUtils.getScrollbarWidth()===0?"0px":"6px"},render:g})});define("rEditor/rootComps/topBar/dynamicPagesComboBox.rt",["react","lodash","baseUI","symbols","util"],function(a,b,c,d,e){"use strict";function f(a){this.startDrag(a,this.getDragLimits())}function g(a){this.endDrag()}function h(b,d){return a.createElement(c.dropDown.option,{shouldTranslate:false,key:b.url,value:b.url,searchText:b.title},a.createElement("div",{className:"inner-route-title"},b.title))}return function(){return this.shouldShowInnerRoutesDropDown()?a.createElement("div",{className:"dynamic-pages-combo-box",key:"dynamicPageComboBox"},a.createElement("div",{className:"dragable-area",onMouseDown:f.bind(this),onMouseUp:g.bind(this)},a.createElement(c.symbol,{name:"dragHandle",className:"symbol-dragIcon"})),a.createElement("div",{className:"combo-box-wrapper"},a.createElement.apply(this,[c.dropDown.combobox,{key:"innerRouteDropDown",className:"dynamic-pages-combobox",valueLink:this.linkToInnerRoute()},b.map(this.state.innerRoutes||[],h.bind(this))])),!this.state.previewMode?a.createElement(c.button,{key:"goToPreviewButton",className:"go-to-preview",label:"INNER_ROUTES_NAVIGATION_BOX_GO_TO_PREVIEW",onClick:this.goToPreviewAndNavigate}):null,this.state.previewMode?a.createElement("button",{key:"prevRouteNavButton",className:"prev-route nav-btn",onClick:this.prevRoute},a.createElement(d.symbol,{name:"arrowLeft"})):null,this.state.previewMode?a.createElement("button",{key:"nextRouteNavButton",className:"next-route nav-btn",onClick:this.nextRoute},a.createElement(d.symbol,{name:"arrowLeft"})):null,a.createElement("div",{className:"close-area",onClick:this.close},a.createElement("div",{className:"close-sign"}," X "))):null}});define("rEditor/rootComps/topBar/dynamicPagesComboBox",["react","lodash","core","panels","util","rEditor/rootComps/topBar/dynamicPagesComboBox.rt"],function(a,b,c,d,e,f){"use strict";function g(a,b){return i(a+1,b)}function h(a,b){return i(a-1,b)}function i(a,b){return(a%b+b)%b}return a.createClass({displayName:"daynamicPagesComboBox",render:f,mixins:[c.mixins.editorAPIMixin,e.draggableMixin],getInitialState:function(){return{innerRoutes:null,selectedInnerRoute:null,shouldShowNavigation:true,previewMode:this.props.previewMode}},getNavigationData:function(a){return{routerDefinition:this.routerData,innerRoute:a,pageAdditionalData:this.routerData.prefix+"/"+a}},componentWillReceiveProps:function(a){var b=this.getEditorAPI();if(a.previewMode!==this.state.previewMode){this.setState({previewMode:a.previewMode});if(a.previewMode){var c=b.routers.getCurrentInnerRoute();if(c.isDynamic){if(c.innerRoute){if(c.innerRoute!==this.state.selectedInnerRoute){b.pages.navigateTo(this.getNavigationData(this.state.selectedInnerRoute))}}else{b.pages.navigateTo(this.getNavigationData(this.state.selectedInnerRoute))}}}}if(this.props.editorIsInit&&b.pages.getPrimaryPageId()!==this.currentPageId){this.currentPageId=b.pages.getPrimaryPageId();this.routerData=b.routers.getRouterDataForPageIfExist(this.currentPageId);this.getRouterInnerRoutes()}var d=b.routers?b.routers.getCurrentInnerRoute():null;if(this.props.editorIsInit&&b.pages.getPrimaryPageId()===this.currentPageId&&d&&d.innerRoute!==this.currentInnerRoute){this.currentInnerRoute=d.innerRoute;this.setState({selectedInnerRoute:d.innerRoute})}},getRouterInnerRoutes:function(){var a=this.getEditorAPI();var c=a.routers.getRouterDataForPageIfExist(this.currentPageId);if(!c){this.setState({innerRoutes:[],selectedInnerRoute:null,shouldShowNavigation:true});this.routerData=null;return}a.routers.getRouterInnerRoutes(c.routerId,this.currentPageId,function(c){var d=null;var e=a.routers.getCurrentInnerRoute();if(e&&e.innerRoute){d=e.innerRoute}var f=d?this.findInnerRouteIndex(d,c):0;this.currentInnerRoute=e.innerRoute;this.setState({innerRoutes:c||[],shouldShowNavigation:true,selectedInnerRoute:!b.isEmpty(c)?c[f].url:null})}.bind(this))},shouldShowInnerRoutesDropDown:function(){var a=this.getEditorAPI();var d=a.pages.getFocusedPageId?a.developerMode.getContext():{};var e=d.type===c.constants.DEVELOPER_MODE.CONTEXT_TYPES.FILE||d.type===c.constants.DEVELOPER_MODE.CONTEXT_TYPES.COLLECTION;return this.state.shouldShowNavigation&&this.routerData&&!b.isEmpty(this.state.innerRoutes)&&!e},goToPreviewAndNavigate:function(){var a=this.getEditorAPI();if(this.state.previewMode){a.pages.navigateTo(this.getNavigationData(this.state.selectedInnerRoute))}else{a.togglePreview()}},linkToInnerRoute:function(){return{value:this.state.selectedInnerRoute,requestChange:function(a){this.navigateToRoute(a);this.setState({selectedInnerRoute:a})}.bind(this)}},close:function(){this.setState({shouldShowNavigation:false})},openHelpCenter:function(){var a="b853c294-8ff1-418f-b4d2-29d7b59a85c3";var b={origin:"display-combo-box",component:this.props.id,learn_more:false};d.panelManager.openHelpCenter(a,null,null,b)},findInnerRouteIndex:function(a,c){var d=b.findIndex(b.map(c,"url"),function(b){return b===a});return d===-1?0:d},prevRoute:function(){var a=this.findInnerRouteIndex(this.state.selectedInnerRoute,this.state.innerRoutes);var b=h(a,this.state.innerRoutes.length);this.moveToItem(b)},nextRoute:function(){var a=this.findInnerRouteIndex(this.state.selectedInnerRoute,this.state.innerRoutes);var b=g(a,this.state.innerRoutes.length);this.moveToItem(b)},moveToItem:function(a){var c=!b.isEmpty(this.state.innerRoutes)&&a<this.state.innerRoutes.length?this.state.innerRoutes[a].url:null;this.navigateToRoute(c);this.setState({selectedInnerRoute:c})},navigateToRoute:function(a){if(this.state.previewMode){this.currentInnerRoute=a;var b=this.getEditorAPI();b.pages.navigateTo(this.getNavigationData(a))}},getDragLimits:function(){var a=c.utils.stageUtils.getStageLayout();if(!a){a=window.document.body.getBoundingClientRect()}return{x:[a.left,a.right],y:[a.top,a.bottom]}}})});define("rEditor/rootComps/topBar/topBar.rt",["react","lodash","experiment","baseUI","symbols","rEditor/rootComps/topBar/zoomModeBar","rEditor/rootComps/topBar/dynamicPagesComboBox"],function(a,b,c,d,e,f,g){"use strict";function h(){this.toggleHideTools()}return function(){return a.createElement("div",{className:this.topBarClassName+" "+(c.isOpen("topBarB")?"top-bar-b":""),onClick:this.handleTopBarClick,onContextMenu:this.props.onContextMenu},a.createElement("div",{className:b({"top-bar-editor":true,"top-bar-preview-show":this.props.previewMode,"is-hidden":this.props.isHidden,"is-hidden-completely":this.hideForZoomMode()}).transform(function(a,b,c){if(b){a.push(c)}},[]).join(" "),style:{zIndex:this.state.zIndex}},this.props.previewMode?a.createElement("div",{"data-target":this.topBarClassName,key:"top-bar-preview",className:"top-bar-container top-bar-preview"},this.getTopBarByMode("PREVIEW")):null,!this.props.previewMode?a.createElement("div",{"data-target":this.topBarClassName,key:"top-bar-edit",className:"top-bar-container top-bar-edit"},this.getTopBarByMode("EDIT")):null,!this.props.isEnabled?a.createElement("div",{className:"top-bar-overlay",key:"overlay"}):null),a.createElement(f,{key:"zoomModeBar"}),c.isOpen("dpages")?a.createElement(g,{key:"dynamicPagesComboBox",previewMode:this.props.previewMode,editorIsInit:this.props.editorIsInit}):null,!this.props.previewMode&&!this.props.isMobileEditor?a.createElement(d.tooltip,{value:this.getHideToolsTooltip(),key:"hideAllTools"},a.createElement("div",{onClick:h.bind(this),style:{zIndex:this.state.zIndex},"data-hint-id":c.isMultiValueExperimentOpen("editorHintsConfigs")?"HideControls":null,className:b({"hide-tools-button":true,"tools-hidden":this.props.isHidden,"stand-out":this.props.shouldHideToolsBtnBlink}).transform(function(a,b,c){if(b){a.push(c)}},[]).join(" ")},a.createElement(e.symbol,{className:"hide-tools-symbol",name:"hideToolsArrow",hintId:c.isMultiValueExperimentOpen("editorHintsConfigs")?"HideControls_inner":null}))):null)}});define("rEditor/rootComps/topBar/topBar",["reactDOM","jquery","react","lodash","core","util","rEditor/rootComps/topBar/topBarWidgetsDefinitions","rEditor/rootComps/topBar/util/campaignUtil","rEditor/rootComps/topBar/menuBar/util/menuBarItemsUtil","experiment","editorHints","rEditor/rootComps/topBar/topBar.rt"],function(a,b,c,d,e,f,g,h,i,j,k,l){"use strict";function m(a){if(a>0){return 1}else if(a<0){return-1}return 0}var n=null;function o(a){return d.filter(a.children,function(a){return(!a.experiment||j.isOpen(a.experiment))&&(!a.experimentOff||!j.isOpen(a.experimentOff))})}function p(a,b,c){if(b==="EDIT"&&!a.savePublish.canUserPublish()){var e=d.findIndex(c,{comp:"PUBLISH"});if(c[e-1].comp!=="SEPARATOR"){c.splice(e,0,{comp:"SEPARATOR",orientation:"right"})}}}return c.createClass({displayName:"topBar",topBarClassName:"top-bar",mixins:[e.mixins.editorAPIMixin,f.outerClickMixin,f.singlePassDOMReadWriteMixin],propTypes:{height:c.PropTypes.number.isRequired,isEnabled:c.PropTypes.bool,isMobileEditor:c.PropTypes.bool.isRequired,isMobileOptimized:c.PropTypes.bool.isRequired,previewMode:c.PropTypes.bool.isRequired,viewTools:c.PropTypes.object.isRequired,previewingStatus:c.PropTypes.string.isRequired,savingStatus:c.PropTypes.string.isRequired,publishingStatus:c.PropTypes.string.isRequired,onTopBarClicked:c.PropTypes.func,isHidden:c.PropTypes.bool},TOP_BAR_REFS:{LEFT_SIDE:"topBarSideWrapperLeft",RIGHT_SIDE:"topBarSideWrapperRight",CENTER:"topBarSideWrapperCenter"},MIN_GAP_BETWEEN_LEFT_AND_RIGHT_CONTAINERS:30,APPEARANCE:{FULL:0,SAVE_AND_MOBILE_CHANGE_ICONS:1,PREVIEW_CHANGE_TO_ICON:2,HIDE_REDO:3,TRIM_PAGES_NAV_BUTTON:4,HIDE_UPGRADE_IN_MENU:5},MINIMAL_APPEARANCE_INDEX:5,areActionsLocked:false,getInitialState:function(){return{appearance:this.APPEARANCE.FULL,zIndex:""}},shouldComponentUpdate:function(a){return!a.performingMouseMoveAction},lockActions:function(){this.areActionsLocked=true},unlockActions:function(){this.areActionsLocked=false},measurePhase:function(){var a=this.didWindowSizeChange();n=b(window).width();return a},patchPhase:function(a){if(a!==0){this.updateTopBarWidth(a)}},componentDidUpdate:function(a,b){var c=m(b.appearance-this.state.appearance);if(c!==0){this.updateTopBarWidth(c)}},toggleHideTools:function(){var a=this.getEditorAPI(),b=a.toolsControl.toggleHideTools(),c=b?e.bi.events.editor.hide_tools.hide_controls:e.bi.events.editor.hide_tools.show_controls;a.bi.event(c,{origin:"handle"})},getHideToolsTooltip:function(){return this.props.isHidden?"Toolbars_show_hover_label":"Toolbars_hide_hover_label"},updateTopBarWidth:function(a){var b=this.state.appearance;if(a>0){b=this.APPEARANCE.FULL}var c=this.getNonOverlappingAppearanceIndex(b);if(c!==this.state.appearance){this.setState({appearance:c})}},didWindowSizeChange:function(){var a=b(window).width();return m(a-n)},getNonOverlappingAppearanceIndex:function(a){if(!this.props.previewMode){var b=this.getGapBetweenLeftAndRightContainers();var c=b<this.MIN_GAP_BETWEEN_LEFT_AND_RIGHT_CONTAINERS;if(c){a=Math.min(a+1,this.MINIMAL_APPEARANCE_INDEX)}}return a},getGapBetweenLeftAndRightContainers:function(){var c=b(a.findDOMNode(this.refs[this.TOP_BAR_REFS.LEFT_SIDE]));var d=b(a.findDOMNode(this.refs[this.TOP_BAR_REFS.RIGHT_SIDE]));var e=d.offset().left;var f=c.offset().left+c.width();return e-f},onOuterClick:function(){if(f.keyboardShortcuts.getContext()===f.keyboardShortcuts.CONTEXTS.TOP_BAR){var a=f.keyboardShortcuts.CONTEXTS;f.keyboardShortcuts.setContext(this.props.previewMode?a.PREVIEW:a.EDITOR)}},handleTopBarClick:function(a){this.getEditorAPI().imageCrop.toggleCropMode(false);if(this.isClickOnTopBarEmptySpace(a)){this.setTopBarKeyboardContext()}if(this.props.onTopBarClicked){this.props.onTopBarClicked()}},isClickOnTopBarEmptySpace:function(a){var b=a.target.dataset;return b&&b.target===this.topBarClassName},setTopBarKeyboardContext:function(){f.keyboardShortcuts.setContext(f.keyboardShortcuts.CONTEXTS.TOP_BAR)},getTopBarByMode:function(a){var b=g.TOP_BARS[a];p(this.getEditorAPI(),a,b);var c=this.sortTopBarItemsByOrientation(b);var d=this.createTopBarItems(c.left,this.createLeftTopBarItem,a,"left");var e=this.createTopBarItems(c.center,this.createLeftTopBarItem,a,"center");var f=this.createTopBarItems(c.right.reverse(),this.createRightTopBarItem,a,"right");return[].concat(e,d,f)},sortTopBarItemsByOrientation:function(a){var b={left:[],right:[],center:[]};d.forEach(a,function(a){var c=this.getWidgetDefinitionByKey(a);if(c){if(a.orientation===g.ORIENTATION.LEFT){b.left.push(c)}else if(a.orientation===g.ORIENTATION.RIGHT){b.right.push(c)}else{b.center.push(c)}}},this);return b},getWidgetDefinitionByKey:function(a){return g.widgetMapping[a.comp]},createTopBarItems:function(a,b,c,e){var f=d.map(a,function(a,d){return b(a,d,c)});return this.createElementsWrapper(f,c,e)},createElementsWrapper:function(a,b,d){var e="topbar-side-"+b+"-"+d;var f={displayName:"topBarSideWrapper",className:"top-bar-side-wrapper",key:e};if(d==="right"){f.style={right:0};f.ref=this.TOP_BAR_REFS.RIGHT_SIDE}else if(d==="left"){f.style={left:0};f.ref=this.TOP_BAR_REFS.LEFT_SIDE}else if(d==="center"){f.style={width:"100%",textAlign:"center"};f.ref=this.TOP_BAR_REFS.CENTER}return c.createElement("div",f,a)},createLeftTopBarItem:function(a,b,c){return this.createDynamicMenuItem(a,g.ORIENTATION.LEFT,b,c)},createRightTopBarItem:function(a,b,c){return this.createDynamicMenuItem(a,g.ORIENTATION.RIGHT,b,c)},createDynamicMenuItem:function(a,b,e,f){if(a&&a.compClass){b=b||g.ORIENTATION.LEFT;var h=a.compProps(this,b,e,f);if(h){var i=d.assign(h,{key:this.createTopBarWidgetKey(b,f,e)});return c.createElement(a.compClass,i)}}return null},createTopBarWidgetKey:function(a,b,c){return["topbar-w",a,b,c].join("-")},getMenuBarItems:function(a){var b=d.cloneDeep(a);var c=this.popUpgradePackagesEntry(b);var e=this.getEditorAPI();if(c&&this.isUpgradeShowing()){var f=c.upgradePanels.DEFAULT;if(f){b.push(f)}}if(e.campaigns.personalSale.isActiveCampaign()&&this.isUpgradeShowing()){h.updateMenuBarItemsAccordingToPersonalSaleCampaign(e,b)}d.forEach(b,function(a){a.children=o(a)});return b},isUpgradeShowing:function(){var a=this.isUserPermittedToUpgrade()&&!this.getEditorAPI().wixStores.isSiteInWixStoreTestDrive();if(!a){return false}return this.isUpgradeSupportedInAppearanceState()},isUserPermittedToUpgrade:function(){return this.getEditorAPI().account.isUserOwner()},isUpgradeSupportedInAppearanceState:function(){return this.state.appearance<this.APPEARANCE.HIDE_UPGRADE_IN_MENU},onMenuOpened:function(){this.setState({zIndex:1750})},onMenuClosed:function(){this.setState({zIndex:""})},popUpgradePackagesEntry:function(a){return d.first(d.remove(a,function(a){return a&&a.category==="UPGRADE"}))},hideForZoomMode:function(){return this.getEditorAPI().editor.state.hideToolsAndMaintainStagePosition},openDropDown:function(a,b){this.refs.topBarMenu.openDropDown(a,b)},enableClose:function(){this.refs.topBarMenu.enableClose()},disableDropDown:function(){this.refs.topBarMenu.disableDropDown()},enableDropDown:function(){this.refs.topBarMenu.enableDropDown()},shouldBeVisible:function(a){return i.shouldBeVisible(a)},render:function(){if(j.isMultiValueExperimentOpen("editorHintsConfigs")){return c.createElement(k.hintsNotify,{id:k.hintsContainers.TOP_BAR},l.call(this))}return l.call(this)}})});define("rEditor/rootComps/leftBar/leftBarButton/leftBarButton.rt",["react","lodash","symbols","experiment"],function(a,b,c,d){"use strict";return function(){return a.createElement("li",{className:this.getButtonClasses(),onClick:this.handleOnClick,"data-hint-id":d.isMultiValueExperimentOpen("editorHintsConfigs")&&this.props.hintProps?this.props.hintProps.id:null},this.shouldShowSelectedSvg()?a.createElement(c.symbol,b.assign({},{key:"selectedSvg"},this.getSelectedButtonSvgProps())):null,a.createElement(c.symbol,{name:this.props.symbolName,className:"icon",hintId:d.isMultiValueExperimentOpen("editorHintsConfigs")&&this.props.hintProps?this.props.hintProps.id+"_inner":null}),a.createElement("span",{className:"mask"}),a.createElement("span",{className:"text"},this.props.label),this.props.notificationCount>0?a.createElement("span",{key:"notificationCount",className:"notifications"},this.props.notificationCount):null)}});define("rEditor/rootComps/leftBar/leftBarButton/leftBarButton",["lodash","react","core","rEditor/rootComps/leftBar/leftBarButton/leftBarButton.rt","symbols"],function(a,b,c,d){"use strict";var e="/left_bar_button_clicked";return b.createClass({displayName:"leftBarButton",mixins:[c.mixins.editorAPIMixin],propTypes:{className:b.PropTypes.string.isRequired,symbolName:b.PropTypes.string.isRequired,label:b.PropTypes.string.isRequired,isSelected:b.PropTypes.bool.isRequired,isMobileEditor:b.PropTypes.bool.isRequired,onClick:b.PropTypes.func.isRequired,isMenuCollapsed:b.PropTypes.bool,notificationCount:b.PropTypes.number.isRequired,isFirstPanel:b.PropTypes.bool,collapseOnClick:b.PropTypes.bool,isButtonOpen:b.PropTypes.bool,hintProps:b.PropTypes.object},getInitialState:function(){return{wasButtonClicked:this.props.isMenuCollapsed&&this.props.isButtonOpen&&this.getEditorAPI().getUserPreferences().site.get(this.props.className+e)}},getButtonClasses:function(){var a=[];a.push("left-bar-item");a.push(this.props.className);if(this.props.isSelected){a.push("selected")}if(this.props.isFirstPanel){a.push("first-panel")}if(this.props.collapseOnClick&&!this.state.wasButtonClicked){a.push("wait-for-click")}return a.join(" ")},handleOnClick:function(){if(this.props.collapseOnClick){this.setState({wasButtonClicked:true});this.getEditorAPI().getUserPreferences().site.set(this.props.className+e,true)}if(this.props.onClick){this.props.onClick()}},getSelectedButtonSvgProps:function(){var a,b;if(this.props.isFirstPanel){a="leftBarButtonEarTop";b="ear-top"}else{a="leftBarButtonEarMiddle";b="ear-middle"}return{name:a,className:"ear "+b}},shouldShowSelectedSvg:function(){return this.props.isMenuCollapsed&&this.props.isSelected},render:d})});define("rEditor/rootComps/leftBar/leftBar.rt",["react","lodash","rEditor/rootComps/leftBar/leftBarButton/leftBarButton","util"],function(a,b,c,d){"use strict";function e(a){this.checkOverlap(b.clone(a))}function f(){this.resetQuickTip()}function g(a,b,c){this.handleOnClick(a.panelName,a.panelProps)}function h(b,e){return a.createElement(c,{key:b.panelName,label:d.translate(b.label),isMenuCollapsed:this.isMenuCollapsed(),className:b.className,symbolName:b.symbolName,isMobileEditor:this.props.isMobileEditor,isSelected:this.state.activePanelName===b.panelName,onClick:g.bind(this,b,e),isFirstPanel:e===0,collapseOnClick:b.collapseOnClick,isButtonOpen:b.isButtonOpen,notificationCount:this.getNotificationCount(b.panelName),hintProps:b.hintProps})}return function(){return a.createElement("div",{className:b({"left-bar":true,"is-hidden":this.props.isHidden,"half-opacity":this.props.halfOpacityTools,"menu-collapsed-wrapper":this.isMenuCollapsed()}).transform(function(a,b,c){if(b){a.push(c)}},[]).join(" "),style:{left:this.getLeftOffset()},onContextMenu:this.props.onContextMenu,onMouseMove:e.bind(this),onMouseEnter:f.bind(this),ref:"checkOverlapTarget"},a.createElement.apply(this,["ul",{ref:"buttons",className:b({"left-bar-items":true,"menu-collapsed":this.isMenuCollapsed(),"menu-opened":this.isMenuOpened()}).transform(function(a,b,c){if(b){a.push(c)}},[]).join(" ")},b.map(this.getMenuItems(),h.bind(this))]))}});define("rEditor/rootComps/leftBar/config/leftBarData",["util","constants"],function(a,b){"use strict";return{desktop:[{panelName:"rEditor.panels.backgroundPanel",panelProps:{},label:b.R_EDITOR.ROOT_COMPS.LEFTBAR.BACKGROUND_LABEL,className:"bg-panel",symbolName:"leftBarBackgroundPanel",hintProps:{id:"ChangeBackgrounds"}},{panelName:"addPanelInfra.addPanel",panelProps:{},label:"LEFTBAR_ADD_LABEL",className:"add-panel",symbolName:"leftBarAddPanel",hintProps:{id:"AddPanel"}},{panelName:"tpa.compPanels.appMarketPanel",panelProps:{urlParams:{openMarketOrigin:"market_button"},openPanelBiEvent:a.bi.events.OPEN_MARKET_CLICK,openPanelBiParams:{referral_info:"market_button"}},label:"app_market_button_text",className:"app-market-panel",symbolName:"leftBarAppMarketPanel",hintProps:{id:"AppMarket"}},{panelName:"rEditor.panels.myMediaPanel",panelProps:{},label:"LEFTBAR_MY_UPLOADS_LABEL",className:"my-uploads-panel",symbolName:"leftBarMyUploadsPanel"}],mobile:[{panelName:"rEditor.panels.backgroundPanel",panelProps:{},label:b.R_EDITOR.ROOT_COMPS.LEFTBAR.BACKGROUND_LABEL,className:"bg-panel",symbolName:"leftBarBackgroundPanel",hintProps:{id:"ChangeBackgrounds"}},{panelName:"mobileEditor.mobileElementsPanel",panelProps:{},label:"mobile_elements_panel_title",className:"mobile-elements-panel",symbolName:"mobileView"},{panelName:"mobileEditor.hiddenItemsPanel",panelProps:{},label:"mobile_hidden_items_panel_title",className:"hidden-items-panel",symbolName:"hiddenComp",hintProps:{id:"MobileEditorHiddenElements"}}]}});define("rEditor/rootComps/mixins/findOverlappedComponentMixin",["reactDOM","lodash","jquery","react","util","core","baseUI"],function(a,b,c,d,e,f,g){"use strict";var h=3e3,i=15e3,j=70;return{intersectionComp:null,hideQuickTipTimer:null,getComponentsLayoutByMouseEvent:function(a){var c=this.getEditorAPI();var d=c.components;var e=c.selection.getComponentsUnderClick(a);return b.map(e,function(a){return d.layout.getRelativeToScreenConsideringScroll(a).bounding})},calcOverlapPercentage:function(a,b){var c=e.math.getSquaresIntersection(b,{x:a.offsetLeft,y:a.offsetTop-this.getEditorAPI().editorConfig.previewPosition.top,width:a.offsetWidth,height:a.offsetHeight});if(!c){return 0}this.intersectionComp=b;return c.width*c.height/(b.height*b.width)*100},isOverlapping:function(b){var c=this.refs.checkOverlapTarget;if(!c){return false}var d=this.getComponentsLayoutByMouseEvent(b);var e=0;var f=a.findDOMNode(c);for(var g in d){if(d.hasOwnProperty(g)){e=this.calcOverlapPercentage(f,d[g]);if(e>j){return true}}}return false},hideQuickTip:function(){clearTimeout(this.hideQuickTipTimer);this.getEditorAPI().toolsControl.toggleHalfOpacityTools(false);this.getEditorAPI().hideFloatingBubble()},showQuickTip:function(a){var b=this.getEditorAPI();var e=c(window).width()/2;var h=a.pageX<e?2:-2;var j=d.createElement(g.popoverTemplates.quickTip,{text:"toolbars_hide_tooltip_text",linkActionText:"toolbars_hide_tooltip_link",linkAction:this.quickTipLinkAction,linkMouseEnter:this.quickTipLinkMouseEnter,linkMouseLeave:this.quickTipLinkMouseLeave,symbol:"idea-bulb",closeAction:this.quickTipCloseAction});var k={height:100,width:this.intersectionComp.width,top:a.pageY-b.ui.scroll.getScroll().scrollTop,left:this.intersectionComp.x+h};var l={noArrow:true,shake:true,behindPopUps:true,hideMethod:b.toolsControl.toggleHalfOpacityTools.bind(this,false),alignment:g.uiConstants.TOOLTIP.ALIGNMENT.RIGHT,timeoutForMouseOverBubble:i};var m=true;b.showFloatingBubble(j,k,l,m);b.bi.event(f.bi.events.editor.hide_tools.show_controls_tooltip_appearance)},moveQuickTip:function(){var a=this.getEditorAPI(),b=c(window).width()/2,e=284,f=d.createElement(g.popoverTemplates.quickTip,{text:"toolbars_show_tooltip_text",symbol:"idea-bulb",closeAction:this.quickTipCloseAction}),h={height:a.editorConfig.previewPosition.top+30,width:e,top:0,left:b-e/2},i={noArrow:true,behindPopUps:true,shouldHaveTransition:true},j=true;a.showFloatingBubble(f,h,i,j);a.toolsControl.toggleHideToolsBtnBlink(true)},quickTipCloseAction:function(){var a=this.getEditorAPI();this.hideQuickTip();a.bi.event(f.bi.events.editor.hide_tools.show_controls_tooltip_close);var b=a.userPreferences.session.get("hideToolsQuickTipShown")||0;a.userPreferences.session.set("hideToolsQuickTipShown",b+1)},quickTipLinkAction:function(){var a=this.getEditorAPI(),b=a.toolsControl;b.toggleHalfOpacityTools(false);b.toggleHideTools(true);a.bi.event(f.bi.events.editor.hide_tools.hide_controls,{origin:"tooltip"});this.moveQuickTip();a.userPreferences.site.set("hideToolsQuickTipShown",true)},quickTipLinkMouseEnter:function(){this.getEditorAPI().toolsControl.toggleHalfOpacityTools(true)},quickTipLinkMouseLeave:function(){this.getEditorAPI().toolsControl.toggleHalfOpacityTools(false)},resetQuickTip:function(){this.setState({quickTipAlreadyShown:false})},checkOverlap:function(a){var b=this.getEditorAPI();if(b.getPreviewMode()){return}var c=b.userPreferences.session,d=b.userPreferences.site,e=d.get("hideToolsQuickTipShown")||c.get("hideToolsQuickTipShown")>4;if(!e&&!this.state.quickTipAlreadyShown&&this.isOverlapping(a)){this.showQuickTip(a);this.setState({quickTipAlreadyShown:true})}},componentDidMount:function(){var a=this.getEditorAPI(),c={leading:false};if(!a.registeredHideBubbleOnPreview){a.registerToGoToPreview(this.hideQuickTip);a.registeredHideBubbleOnPreview=true}this.checkOverlap=b.throttle(this.checkOverlap,h,c)}}});define("rEditor/rootComps/leftBar/leftBar",["reactDOM","lodash","react","jquery","core","panels","baseUI","rEditor/rootComps/leftBar/leftBar.rt","rEditor/rootComps/leftBar/config/leftBarData","rEditor/rootComps/mixins/findOverlappedComponentMixin","experiment","editorHints","constants"],function(a,b,c,d,e,f,g,h,i,j,k,l,m){"use strict";var n={panelName:"rEditor.panels.myMediaPanel",panelProps:{},label:"LEFTBAR_MY_UPLOADS_LABEL",className:"my-uploads-panel",symbolName:"leftBarMyUploadsPanel"};function o(a,c){return b.reject(a,function(a){return b.includes(c,a.panelName)})}return c.createClass({displayName:"leftBar",mixins:[e.mixins.editorAPIMixin,j],propTypes:{leftBarState:c.PropTypes.object.isRequired,isMobileEditor:c.PropTypes.bool.isRequired,openPanels:c.PropTypes.array.isRequired,isEnabled:c.PropTypes.bool.isRequired,isHidden:c.PropTypes.bool,isPopupMode:c.PropTypes.bool},getInitialState:function(){return{activePanelName:undefined}},componentDidMount:function(){if(this.props.isHidden){d(a.findDOMNode(this)).css({left:this.getLeftOffset()})}},shouldComponentUpdate:function(a,c){return!b.isEqual(this.props,a)||!b.isEqual(this.state,c)},getMenuItems:function(){var a=[];var c=this.props.leftBarState.superApps;var d=[];if(k.isOpen("enableMyUploadsButton")){d.push(n)}if(this.props.isMobileEditor){a=i.mobile.concat(d,b.sortBy(c.mobile,"order"))}else{a=i.desktop.concat(d,b.sortBy(c.desktop,"order"))}if(k.isOpen("popups")&&this.props.isPopupMode){a=o(a,[m.R_EDITOR.ROOT_COMPS.LEFTBAR.BLOG_PANEL_NAME,m.R_EDITOR.ROOT_COMPS.LEFTBAR.BACKGROUND_PANEL_NAME])}a.forEach(function(a,b){a.panelProps=a.panelProps||{};a.panelProps.panelIndex=b});return b.compact(a)},getNotificationCount:function(a){return this.props.leftBarState.notifications[a]||0},componentWillReceiveProps:function(a){var c=b.find(a.openPanels,{frameType:"leftPanelFrame"});if(c){this.setState({activePanelName:c.name});if(!this.props.leftBarState.isCollapsed){this.getEditorAPI().leftBar.collapseMenu()}}else{this.setState({activePanelName:undefined})}},handleOnClick:function(a,b){var c=this.getEditorAPI();if(this.props.isEnabled&&a!==this.state.activePanelName){c.leftBar.collapseMenu();f.panelManager.openPanel(a,b);if(b.openPanelBiEvent){c.bi.event(b.openPanelBiEvent,b.openPanelBiParams)}}c.hideFloatingBubble()},isMenuCollapsed:function(){return this.props.leftBarState.isCollapsed},isMenuOpened:function(){return!!this.state.activePanelName},getButtonsBoundingRect:function(){if(this.isMenuCollapsed()){return g.uiConstants.LEFTBAR_BTN_WIDTH_COLLAPSED}return a.findDOMNode(this.refs.buttons).getBoundingClientRect()},getLeftOffset:function(){var b="-1000px";var c=8;if(this.props.isHidden){if(this.isMounted()){var d=a.findDOMNode(this).offsetWidth;return-(d+c)+"px"}return b}return""},render:function(){if(k.isMultiValueExperimentOpen("editorHintsConfigs")){return c.createElement(l.hintsNotify,{id:l.hintsContainers.LEFT_BAR},h.call(this))}return h.call(this)}})});define("rEditor/rootComps/mixins/hiddenableMixin",["reactDOM","jquery","lodash","util"],function(a,b,c,d){"use strict";var e=d.singlePassDOMReadWriteMixin;return{mixins:[e],componentWillMount:function(){this.lastCustomXPosition=null;this.shouldCompSlideRight=true},componentWillReceiveProps:function(c){if(!c.toolsHidden&&this.props.toolsHidden&&this.state.isCustomPosition){b(a.findDOMNode(this)).css({left:this.lastCustomXPosition})}},measurePhase:function(){this.shouldCompSlideRight=this.shouldSlideRight();return this.getComponentPosition(this.lastCustomXPosition)},patchPhase:function(c){b(a.findDOMNode(this)).css(c)},shouldSlideRight:function(){var c=b(a.findDOMNode(this));var d=c.offset().left;var e=c.width()/2;var f=b(window).width()/2;return d+e>f},updateLastCustomXPosition:function(a){this.lastCustomXPosition=a},getHiddenableClasses:function(){return{"hide-tools":this.props.toolsHidden,"show-tools":!this.props.toolsHidden,"slide-right":this.shouldCompSlideRight,"slide-left":!this.shouldCompSlideRight,"half-opacity":this.props.halfOpacityTools}}}});define("rEditor/rootComps/mixins/keepInViewportMixin",["reactDOM","lodash","util","core"],function(a,b,c,d){"use strict";return{fitPositionToScreen:function(b,d,e){var f=this.getDragLimits(d);var g=a.findDOMNode(this);var h=g.getBoundingClientRect();var i=h.top;var j=b||h.left;var k=f.x[1]-h.width-e+d;var l=c.math.ensureWithinLimits(j,f.x[0],k);var m=c.math.ensureWithinLimits(i,f.y[0],f.y[1]);return{left:l,top:m}},getDragLimits:function(b){var c=d.utils.stageUtils.getStageLayout();var e=d.constants.PANELS.PANEL_SIZE_TO_KEEP_IN_VIEW;var f=a.findDOMNode(this);var g=f.clientHeight;return{x:[c.left+b,c.right-b],y:[c.top+b,c.bottom+g-e]}}}});define("rEditor/rootComps/toolBar/toolSelector.rt",["react","lodash","baseUI"],function(a,b,c){"use strict";return function(){return a.createElement("div",{className:b(this.getClasses()).transform(function(a,b,c){if(b){a.push(c)}},[]).join(" "),style:{position:"relative"}},this.state.isMenuDisplayed?a.createElement("div",{className:b(this.getDropDownClasses()).transform(function(a,b,c){if(b){a.push(c)}},[]).join(" "),key:"menuDropDown",onMouseLeave:this.hideMenu},this.props.children):null,a.createElement(c.tooltip,{disabled:!this.props.tooltip,value:this.props.tooltip,className:this.props.tooltipClass,delay:"600"},a.createElement("span",{className:b({button:true,disabled:this.props.disabled}).transform(function(a,b,c){if(b){a.push(c)}},[]).join(" "),onClick:this.displayMenu},a.createElement(c.symbol,{name:this.props.symbol}))),this.props.children&&this.props.children.length>1?a.createElement("div",{key:"smallIndicator",className:"small-indicator"}):null)}});define("rEditor/rootComps/toolBar/toolSelector",["react","lodash","rEditor/rootComps/toolBar/toolSelector.rt"],function(a,b,c){"use strict";return a.createClass({displayName:"toolSelector",propTypes:{symbol:a.PropTypes.string.isRequired,columns:a.PropTypes.number,onShow:a.PropTypes.func,tooltipClass:a.PropTypes.string,disabled:a.PropTypes.bool},getInitialState:function(){return{isMenuDisplayed:false}},getDefaultProps:function(){return{columns:3,disable:false}},displayMenu:function(){if(!this.props.disabled){this.setState({isMenuDisplayed:true});if(b.isFunction(this.props.onShow)){this.props.onShow()}}},hideMenu:function(){var a=this;setTimeout(function(){a.setState({isMenuDisplayed:false})},300)},getDropDownClasses:function(){var a={"drop-down":true,disabled:this.props.disabled};a["grid-"+this.props.columns+"-col"]=true;return a},getClasses:function(){var a={"tool-selector":true};if(this.props.className){var c=this.props.className.split(" ");b.forEach(c,function(b){a[b]=true})}if(this.props.disabled){a.disabled=true}return a},render:c})});define("rEditor/rootComps/toolBar/toolbarTop.rt",["react","lodash","baseUI","rEditor/rootComps/keyboard/config/keyboardShortcutsActionMap","core","rEditor/rootComps/toolBar/toolSelector"],function(a,b,c,d,e,f){"use strict";function g(a,b,c){this.moveForward()}function h(a,b,c){this.moveBackward()}function i(a,b,c){this.moveToFront()}function j(a,b,c){this.moveToBack()}function k(a,b,c){this.align("left")}function l(a,b,c){this.align("center")}function m(a,b,c){this.align("right")}function n(a,b,c){
this.align("top")}function o(a,b,c){this.align("middle")}function p(a,b,c){this.align("bottom")}function q(a,b,c){this.distribute("horizontal")}function r(a,b,c){this.distribute("verticalAndHorizontal")}function s(a,b,c){this.distribute("vertical")}function t(a,b,c){this.matchSize("width")}function u(a,b,c){this.matchSize("heightAndWidth")}function v(a,b,c){this.matchSize("height")}function w(){var w=this.props.restrictions;var x=e.bi;var y=d.editor;return a.createElement("div",{},a.createElement("div",{className:"inner button-grid"},a.createElement(c.tooltip,{value:this.getShortcutTooltip("toolbar_tooltip_copy",y.COPY.label),styleType:c.uiConstants.TOOLTIP.STYLE_TYPE.SMALL,delay:"600"},a.createElement("span",{className:b({button:true,disabled:!w.duplicatable}).transform(function(a,b,c){if(b){a.push(c)}},[]).join(" "),onClick:this.handleCopy},a.createElement(c.symbol,{name:"toolbarCopy"}))),a.createElement(c.tooltip,{value:this.getShortcutTooltip("toolbar_tooltip_paste",y.PASTE.label),styleType:c.uiConstants.TOOLTIP.STYLE_TYPE.SMALL,delay:"600"},a.createElement("span",{className:b({button:true,disabled:!this.props.pasteEnabled}).transform(function(a,b,c){if(b){a.push(c)}},[]).join(" "),onClick:this.handlePaste},a.createElement(c.symbol,{name:"toolbarPaste"}))),a.createElement(c.tooltip,{value:this.getShortcutTooltip("toolbar_tooltip_duplicate",y.DUPLICATE.label),styleType:c.uiConstants.TOOLTIP.STYLE_TYPE.SMALL,delay:"600"},a.createElement("span",{className:b({button:true,disabled:!w.duplicatable}).transform(function(a,b,c){if(b){a.push(c)}},[]).join(" "),onClick:this.handleDuplicate},a.createElement(c.symbol,{name:"toolbarDuplicate"}))),a.createElement(c.tooltip,{value:this.getDeleteTooltipText(),styleType:c.uiConstants.TOOLTIP.STYLE_TYPE.SMALL,delay:"600"},a.createElement("span",{className:b({button:true,disabled:!w.removable}).transform(function(a,b,c){if(b){a.push(c)}},[]).join(" "),onClick:this.handleDelete},!this.isMobileEditor()?a.createElement(c.symbol,{key:"deleteSymbol",name:"toolbarDelete"}):null,this.isMobileEditor()?a.createElement(c.symbol,{key:"hideSymbol",name:"gfpp_hide"}):null))),a.createElement("div",{className:"seperator"}),a.createElement("div",{className:"inner button-grid"},a.createElement(f,{disabled:!(w.canMoveForward||w.canMoveBackward)||this.getEditorAPI().components.is.controlledByParent(this.props.selectedComponent),symbol:"toolbarMoveForward",columns:2,tooltip:this.getInfoTooltip("toolbar_tooltip_arrange","toolbar_tooltip_arrange_info"),tooltipClass:"control-tooltip-small"},a.createElement(c.tooltip,{value:this.getShortcutTooltip("toolbar_tooltip_arrange_move_forward",y.SEND_FORWARD.label),styleType:c.uiConstants.TOOLTIP.STYLE_TYPE.SMALL,delay:"600"},a.createElement("span",{className:b({button:true,disabled:!w.canMoveForward}).transform(function(a,b,c){if(b){a.push(c)}},[]).join(" "),onClick:g.bind(this,w,x,y)},a.createElement(c.symbol,{name:"toolbarMoveForward"}))),a.createElement(c.tooltip,{value:this.getShortcutTooltip("toolbar_tooltip_arrange_move_backward",y.SEND_BACKWARD.label),styleType:c.uiConstants.TOOLTIP.STYLE_TYPE.SMALL,delay:"600"},a.createElement("span",{className:b({button:true,disabled:!w.canMoveBackward}).transform(function(a,b,c){if(b){a.push(c)}},[]).join(" "),onClick:h.bind(this,w,x,y)},a.createElement(c.symbol,{name:"toolbarMoveBackward"}))),a.createElement(c.tooltip,{alignment:"bottom",value:this.getShortcutTooltip("toolbar_tooltip_arrange_bring_to_front",y.SEND_TO_FRONT.label),styleType:c.uiConstants.TOOLTIP.STYLE_TYPE.SMALL,delay:"600"},a.createElement("span",{className:b({button:true,disabled:!w.canMoveForward}).transform(function(a,b,c){if(b){a.push(c)}},[]).join(" "),onClick:i.bind(this,w,x,y)},a.createElement(c.symbol,{name:"toolbarMoveToFront"}))),a.createElement(c.tooltip,{alignment:"bottom",value:this.getShortcutTooltip("toolbar_tooltip_arrange_send_to_back",y.SEND_TO_BACK.label),styleType:c.uiConstants.TOOLTIP.STYLE_TYPE.SMALL,delay:"600"},a.createElement("span",{className:b({button:true,disabled:!w.canMoveBackward}).transform(function(a,b,c){if(b){a.push(c)}},[]).join(" "),onClick:j.bind(this,w,x,y)},a.createElement(c.symbol,{name:"toolbarMoveToBack"})))),a.createElement(f,{disabled:!this.isAlignEnabled(),symbol:"toolbarAlignRight",columns:3,onShow:this.reportBI.bind(this,x.events.toolbar.TOOL_BAR_ALIGNMENT_CLICK,{}),tooltip:this.getInfoTooltip("toolbar_tooltip_align","toolbar_tooltip_align_info"),tooltipClass:"control-tooltip-small"},a.createElement(c.tooltip,{value:this.getShortcutTooltip("toolbar_tooltip_align_left"),styleType:c.uiConstants.TOOLTIP.STYLE_TYPE.SMALL,delay:"600"},a.createElement("span",{className:"button",onClick:k.bind(this,w,x,y)},a.createElement(c.symbol,{name:"toolbarAlignLeft"}))),a.createElement(c.tooltip,{value:this.getShortcutTooltip("toolbar_tooltip_align_center"),styleType:c.uiConstants.TOOLTIP.STYLE_TYPE.SMALL,delay:"600"},a.createElement("span",{className:"button",onClick:l.bind(this,w,x,y)},a.createElement(c.symbol,{name:"toolbarAlignCenter"}))),a.createElement(c.tooltip,{value:this.getShortcutTooltip("toolbar_tooltip_align_right"),styleType:c.uiConstants.TOOLTIP.STYLE_TYPE.SMALL,delay:"600"},a.createElement("span",{className:"button",onClick:m.bind(this,w,x,y)},a.createElement(c.symbol,{name:"toolbarAlignRight"}))),a.createElement(c.tooltip,{alignment:"bottom",value:this.getShortcutTooltip("toolbar_tooltip_align_top"),styleType:c.uiConstants.TOOLTIP.STYLE_TYPE.SMALL,delay:"600"},a.createElement("span",{className:"button",onClick:n.bind(this,w,x,y)},a.createElement(c.symbol,{name:"toolbarAlignTop"}))),a.createElement(c.tooltip,{alignment:"bottom",value:this.getShortcutTooltip("toolbar_tooltip_align_middle"),styleType:c.uiConstants.TOOLTIP.STYLE_TYPE.SMALL,delay:"600"},a.createElement("span",{className:"button",onClick:o.bind(this,w,x,y)},a.createElement(c.symbol,{name:"toolbarAlignMiddle"}))),a.createElement(c.tooltip,{alignment:"bottom",value:this.getShortcutTooltip("toolbar_tooltip_align_bottom"),styleType:c.uiConstants.TOOLTIP.STYLE_TYPE.SMALL,delay:"600"},a.createElement("span",{className:"button",onClick:p.bind(this,w,x,y)},a.createElement(c.symbol,{name:"toolbarAlignBottom"})))),a.createElement(f,{key:"distributeButtons",disabled:!this.isDistributeEnabled(),symbol:"distribute-vertical-btn-bld",columns:3,onShow:this.reportBI.bind(this,x.events.toolbar.TOOL_BAR_DISTRIBUTION_CLICK,{}),tooltip:this.getInfoTooltip("toolbar_tooltip_distribute","toolbar_tooltip_distribute_info"),tooltipClass:"control-tooltip-small"},a.createElement(c.tooltip,{value:this.getShortcutTooltip("toolbar_tooltip_distribute_horizontally"),styleType:c.uiConstants.TOOLTIP.STYLE_TYPE.SMALL,delay:"600"},a.createElement("span",{className:"button",onClick:q.bind(this,w,x,y)},a.createElement(c.symbol,{name:"distribute-horizontal-btn-bld"}))),a.createElement(c.tooltip,{value:this.getShortcutTooltip("toolbar_tooltip_distribute_both"),styleType:c.uiConstants.TOOLTIP.STYLE_TYPE.SMALL,delay:"600"},a.createElement("span",{className:"button",onClick:r.bind(this,w,x,y)},a.createElement(c.symbol,{name:"distribute-hw-btn-bld"}))),a.createElement(c.tooltip,{value:this.getShortcutTooltip("toolbar_tooltip_distribute_vertically"),styleType:c.uiConstants.TOOLTIP.STYLE_TYPE.SMALL,delay:"600"},a.createElement("span",{className:"button",onClick:s.bind(this,w,x,y)},a.createElement(c.symbol,{name:"distribute-vertical-btn-bld"})))),a.createElement(f,{key:"matchSizeButtons",disabled:!this.isMatchSizeEnabled(),symbol:"mech-to-height-btn-bld",columns:3,onShow:this.reportBI.bind(this,x.events.toolbar.TOOL_BAR_MATCH_SIZE_CLICK,{}),tooltip:this.getInfoTooltip("toolbar_tooltip_match_size","toolbar_tooltip_match_size_info"),tooltipClass:"control-tooltip-small"},a.createElement(c.tooltip,{value:this.getShortcutTooltip("toolbar_tooltip_match_size_width"),styleType:c.uiConstants.TOOLTIP.STYLE_TYPE.SMALL,delay:"600"},a.createElement("span",{className:"button",onClick:t.bind(this,w,x,y)},a.createElement(c.symbol,{name:"mech-to-width-btn-bld"}))),a.createElement(c.tooltip,{value:this.getShortcutTooltip("toolbar_tooltip_match_size_both"),styleType:c.uiConstants.TOOLTIP.STYLE_TYPE.SMALL,delay:"600"},a.createElement("span",{className:"button",onClick:u.bind(this,w,x,y)},a.createElement(c.symbol,{name:"mech-hw-btn-bld"}))),a.createElement(c.tooltip,{value:this.getShortcutTooltip("toolbar_tooltip_match_size_height"),styleType:c.uiConstants.TOOLTIP.STYLE_TYPE.SMALL,delay:"600"},a.createElement("span",{className:"button",onClick:v.bind(this,w,x,y)},a.createElement(c.symbol,{name:"mech-to-height-btn-bld"}))))))}return function(){return w.apply(this,[])}});define("rEditor/rootComps/toolBar/toolbarTop",["react","lodash","baseUI","panels","core","util","rEditor/rootComps/toolBar/toolbarTop.rt"],function(a,b,c,d,e,f,g){"use strict";var h=e.bi;return a.createClass({displayName:"toolbarTop",mixins:[e.mixins.editorAPIMixin],propTypes:{restrictions:a.PropTypes.object,selectedComponent:a.PropTypes.arrayOf(a.PropTypes.object)},shouldComponentUpdate:function(a){return!b.isEqual(a,this.props)},getShortcutTooltip:function(b,d){return a.createElement(c.popoverTemplates.keyboardShortcutTooltip,{label:b,shortcut:d})},getDeleteTooltipText:function(){var a=this.isMobileEditor()?"toolbar_tooltip_hide":"toolbar_tooltip_delete";if(this.props.restrictions.removable){return this.getShortcutTooltip(a,f.translate("toolbar_tooltip_delete_shortcut"))}return this.getDisabledDeleteTooltipText(a,f.translate("toolbar_tooltip_delete_shortcut"))},getDisabledDeleteTooltipText:function(a,b){var c=this.getEditorAPI();var d=c.tooltipTextService.getComponentTooltipText(this.props.selectedComponent,"DELETE");return d?d:this.getShortcutTooltip(a,b)},getInfoTooltip:function(b,d){return a.createElement(c.popoverTemplates.titleBodyAndLinkTooltip,{title:b,text:d})},handleCopy:function(){if(this.props.restrictions.duplicatable){var a=this.getEditorAPI();var c=a.bi.getComponentsBIParams(this.props.selectedComponent);b.forEach(c,this.assignToolbarSpecificBI.bind(null,"origin"));a.bi.reportBI(h.events.rightClickMenu.COPY,c);this.getEditorAPI().components.copy(this.props.selectedComponent)}},handlePaste:function(){if(this.props.pasteEnabled){var a=this.getEditorAPI();var c=a.bi.getComponentsBIParams(this.props.selectedComponent);b.forEach(c,this.assignToolbarSpecificBI.bind(null,"origin"));a.components.paste();a.history.add("component - paste");a.bi.reportBI(h.events.rightClickMenu.PASTE,c)}},handleDuplicate:function(){if(this.props.restrictions.duplicatable){var a=this.getEditorAPI();var c=a.selection.getSelectedComponents();var d=a.bi.getComponentsBIParams(c);b.forEach(d,this.assignToolbarSpecificBI.bind(null,"origin"));a.components.duplicate(c);a.history.add("component - duplicate");a.bi.reportBI(h.events.rightClickMenu.DUPLICATE,d)}},handleDelete:function(){if(this.props.restrictions.removable){var a=this.getEditorAPI();var c=a.bi.getComponentsBIParams(this.props.selectedComponent);b.forEach(c,this.assignToolbarSpecificBI.bind(null,"removal_method"));a.components.remove(this.props.selectedComponent);a.history.add("component - remove");a.bi.reportBI(h.events.editor.component_removed,c)}},isMobileEditor:function(){return this.getEditorAPI().isMobileEditor()},moveToFront:function(){var a=this.getEditorAPI();a.components.arrangement.moveToFront(this.props.selectedComponent);a.bi.event(h.events.rightClickMenu.BRING_TO_FRONT,{origin:"toolbar"})},moveForward:function(){var a=this.getEditorAPI();a.components.arrangement.moveForward(this.props.selectedComponent);a.bi.event(h.events.rightClickMenu.MOVE_FORWARD,{origin:"toolbar"})},moveToBack:function(){var a=this.getEditorAPI();a.components.arrangement.moveToBack(this.props.selectedComponent);a.bi.event(h.events.rightClickMenu.SEND_TO_BACK,{origin:"toolbar"})},moveBackward:function(){var a=this.getEditorAPI();a.components.arrangement.moveBackward(this.props.selectedComponent);a.bi.event(h.events.rightClickMenu.MOVE_BACKWARDS,{origin:"toolbar"})},isAlignEnabled:function(){var a=this.getEditorAPI();if(a.components.is.controlledByParent(this.props.selectedComponent)){return false}return!!this.props.selectedComponent&&b.every(e.constants.COMP_ALIGNMENT_OPTIONS,a.components.alignment.canAlign.bind(this,this.props.selectedComponent))},align:function(a){var b=this.getEditorAPI();b.components.alignment.align(this.props.selectedComponent,a);b.bi.event(h.events.toolbar.TOOL_BAR_ALIGNMENT_MENU_CLICK,{category:a})},isDistributeEnabled:function(){var a=this.getEditorAPI();if(a.components.is.controlledByParent(this.props.selectedComponent)){return false}return!!this.props.selectedComponent&&b.every(e.constants.COMP_ALIGNMENT_OPTIONS,a.components.multiComponents.canDistribute.bind(this,this.props.selectedComponent))},distribute:function(a){var b=this.getEditorAPI();b.components.multiComponents.distribute(this.props.selectedComponent,a);b.bi.event(h.events.toolbar.TOOL_BAR_DISTRIBUTION_MENU_CLICK,{category:a})},isMatchSizeEnabled:function(){var a=this.getEditorAPI();if(a.components.is.controlledByParent(this.props.selectedComponent)){return false}return!!this.props.selectedComponent&&b.every(e.constants.COMP_MATCH_SIZE_OPTIONS,a.components.multiComponents.canMatchSize.bind(this,this.props.selectedComponent))},matchSize:function(a){var b=this.getEditorAPI();b.components.multiComponents.matchSize(this.props.selectedComponent,a);b.bi.event(h.events.toolbar.TOOL_BAR_MATCH_SIZE_MENU_CLICK,{category:a})},assignToolbarSpecificBI:function(a,c){var d={};d[a]="toolbar";b.assign(c,d)},reportBI:function(a,b){this.getEditorAPI().bi.event(a,b)},render:g})});define("rEditor/rootComps/toolBar/toolBar.rt",["react","lodash","baseUI","util","rEditor/rootComps/toolBar/toolbarTop","experiment"],function(a,b,c,d,e,f){"use strict";function g(a,c){this.checkOverlap(b.clone(c))}function h(a){this.resetQuickTip()}function i(a,b){this.startDrag(b,this.getDragLimits())}function j(a,b){this.rotateComponent("rotationInDegrees",b)}function k(a,b){this.resizeComponent("width",b)}function l(a,b){this.resizeComponent("height",b)}function m(a,b){this.moveComponent("x",b)}function n(a,b){this.moveComponent("y",b)}function o(){var o=this.compLayout;return a.createElement("div",{className:b(this.getClasses()).transform(function(a,b,c){if(b){a.push(c)}},[]).join(" "),onMouseMove:g.bind(this,o),onMouseEnter:h.bind(this,o),ref:"checkOverlapTarget",onContextMenu:this.props.onContextMenu},a.createElement("div",{className:"header"},a.createElement("div",{className:"drag-zone",onMouseDown:i.bind(this,o)},a.createElement("span",{className:"drag-handle"},a.createElement(c.symbol,{name:"toolbarDragHandle"}))),a.createElement("button",{className:"help",onClick:this.onHelp},"?"),a.createElement("span",{className:"close",onClick:this.onClose},a.createElement(c.symbol,{name:"toolbarClose"}))),a.createElement("div",{className:"header-seperator"}),a.createElement(e,{restrictions:this.restrictions,selectedComponent:this.props.selectedComponent,pasteEnabled:this.isPasteEnabled()}),a.createElement("div",{className:"seperator"}),a.createElement("div",{className:"inner form"},a.createElement("label",{"data-input-title":"input_rotation",className:"row"},a.createElement(c.tooltip,{value:"toolbar_tooltip_rotation",styleType:c.uiConstants.TOOLTIP.STYLE_TYPE.SMALL,delay:"600"},a.createElement("span",{},a.createElement(c.symbol,{name:"toolbarRotation"}))),a.createElement(c.stepper,{className:"small degrees",disabled:!this.restrictions.rotatable,min:-Infinity,max:Infinity,value:parseInt(o.rotationInDegrees,10),units:"°",onChange:j.bind(this,o)}))),a.createElement("div",{className:"seperator"}),a.createElement("div",{className:"inner form"},a.createElement("span",{className:"layout-title"},d.translate("toolbar_size")),a.createElement("label",{className:"row"},a.createElement(c.tooltip,{value:"toolbar_tooltip_width",styleType:c.uiConstants.TOOLTIP.STYLE_TYPE.SMALL,delay:"600"},a.createElement("span",{className:"label",style:{paddingRight:"4px"}},d.translate("toolbar_width")+":")),a.createElement(c.stepper,{disabled:!this.restrictions.horizontallyResizable,className:"small",value:parseInt(o.width,10),min:-Infinity,max:Infinity,onChange:k.bind(this,o)})),a.createElement("label",{className:"row"},a.createElement(c.tooltip,{value:"toolbar_tooltip_height",styleType:c.uiConstants.TOOLTIP.STYLE_TYPE.SMALL,delay:"600"},a.createElement("span",{className:"label"},d.translate("toolbar_height")+":")),a.createElement(c.stepper,{disabled:!this.restrictions.verticallyResizable,className:"small",min:-Infinity,max:Infinity,value:parseInt(o.height,10),onChange:l.bind(this,o)}))),a.createElement("div",{className:"seperator"}),a.createElement("div",{className:"inner form"},a.createElement("span",{className:"layout-title"},d.translate("toolbar_position")),a.createElement("label",{"data-input-title":"input_x",className:"row input_x","data-hint-id":f.isMultiValueExperimentOpen("editorHintsConfigs")?"XandY":null},a.createElement(c.tooltip,{value:"toolbar_tooltip_x_position",styleType:c.uiConstants.TOOLTIP.STYLE_TYPE.SMALL,delay:"600"},a.createElement("span",{className:"input_x_label label"},d.translate("toolbar_x")+":")),a.createElement(c.stepper,{disabled:!this.restrictions.horizontallyMovable,className:"small",min:-Infinity,max:Infinity,value:parseInt(o.bounding.x,10),onChange:m.bind(this,o)})),a.createElement("label",{"data-input-title":"input_y",className:"row"},a.createElement(c.tooltip,{value:"toolbar_tooltip_y_position",styleType:c.uiConstants.TOOLTIP.STYLE_TYPE.SMALL,delay:"600"},a.createElement("span",{className:"label"},d.translate("toolbar_y")+":")),a.createElement(c.stepper,{disabled:!this.restrictions.verticallyMovable,className:"small",min:-Infinity,max:Infinity,value:parseInt(o.bounding.y,10),onChange:n.bind(this,o)}))),a.createElement("div",{className:"seperator",key:"seperator-inner-form"}),a.createElement("div",{className:"inner form",key:"inner-form"},!this.shouldShowFreezePositionToggle()?a.createElement("div",{key:"containable"},a.createElement("span",{className:"layout-title show-on-all-pages-title"},d.translate("toolbar_show_on_all_pages")),a.createElement("label",{className:"row show-on-all-pages-row"},a.createElement(c.toggle,{name:"switch",className:"show-on-all-pages",key:"showOnAllPages",disabled:this.props.selectedComponent===null||!this.restrictions.canToggleShowOnAllPages,value:this.isShowOnAllPages(),onChange:this.handleShowOnAllPages,size:"medium"}))):null,this.shouldShowFreezePositionToggle()?a.createElement("div",{key:"canBeFixed"},a.createElement("span",{className:"layout-title show-on-all-pages-title"},d.translate("toolbar_fixed_position")),a.createElement("label",{className:"row show-on-all-pages-row"},a.createElement(c.toggle,{name:"switch",className:"show-on-all-pages",key:"fixedPosition",value:this.restrictions.fixed,onChange:this.handleFixed,size:"medium"}))):null))}return function(){return o.apply(this,[])}});define("rEditor/rootComps/toolBar/toolBar",["reactDOM","react","lodash","jquery","util","panels","core","baseUI","experiment","rEditor/rootComps/mixins/findOverlappedComponentMixin","rEditor/rootComps/mixins/hiddenableMixin","rEditor/rootComps/mixins/keepInViewportMixin","editorHints","rEditor/rootComps/toolBar/toolBar.rt"],function(a,b,c,d,e,f,g,h,i,j,k,l,m,n){"use strict";var o=g.bi;var p=84;var q=10;var r={rotationInDegrees:0,width:0,height:0,x:0,y:0,bounding:{x:0,y:0}};function s(a,b,c){return a[b]+c-a.bounding[b]}function t(a){var b=this.getEditorAPI();var c=b.components.layout.isHorizontallyStretchedToScreen(a);this.getLayout=c?b.components.layout.getRelativeToScreen:b.components.layout.getRelativeToStructure;this.updateLayout=c?b.components.layout.updateRelativeToScreen:b.components.layout.updateRelativeToStructure;this.updateLayoutProportionally=c?b.components.layout.updateRelativeToScreenAndPreserveProportions:b.components.layout.updateRelativeToStructureAndPreserveProportions}function u(a){var b=d(a).height();var c=(window.innerHeight-b)/2;return{right:p,top:c}}return b.createClass({displayName:"toolBar",mixins:[g.mixins.editorAPIMixin,e.draggableMixin,k,l,j],propTypes:{selectedComponent:b.PropTypes.arrayOf(b.PropTypes.object),toolsHidden:b.PropTypes.bool},getInitialState:function(){var a=this.getEditorAPI();if(!this.props.selectedComponent){this.updateNoSelectedComponent()}else{t.call(this,this.props.selectedComponent);this.restrictions=a.getCompRestrictions(this.props.selectedComponent);this.compLayout=this.getLayout(this.props.selectedComponent)}return{}},componentWillReceiveProps:function(a){var b=a.selectedComponent;var c=this.getEditorAPI();if(!b){this.updateNoSelectedComponent()}else{t.call(this,b);this.restrictions=c.getCompRestrictions(b);this.compLayout=this.getLayout(b)}},getComponentPosition:function(b){return this.state.isCustomPosition?this.fitPositionToScreen(b,q,p):u(a.findDOMNode(this))},onDragEnd:function(){this.updateLastCustomXPosition(this.draggable.nodePosition.x)},getClasses:function(){return c.assign({"rootcomp-toolbar":true,hidden:this.props.hidden},this.getHiddenableClasses())},updateNoSelectedComponent:function(){this.compLayout=r;this.restrictions={}},resizeComponent:function(a,b){this.getEditorAPI().bi.event(o.events.editBox.RESIZE,{origin:"toolbar"});this.setComponentLayoutChange(a,b)},moveComponent:function(a,b){this.setComponentLayoutChange(a,b)},rotateComponent:function(a,b){var c=parseInt(b,10);if(c===0){this.getEditorAPI().bi.event(o.events.editBox.CANCEL_ROTATE_COMPONENT)}else{this.getEditorAPI().bi.event(o.events.editBox.ROTATE_COMPONENT,{origin:"toolbar",value:c})}this.setComponentLayoutChange(a,b)},setComponentLayoutChange:function(a,b){var d=this.getEditorAPI();b=parseInt(b,10);if(isNaN(b)){this.forceUpdate();return}if(a==="y"||a==="x"){b=s(this.compLayout,a,b)}var e=d.multiselect.getComponentsWhichDontHaveAncestorsInTheArray(this.props.selectedComponent);var f=this.getLayout(e);if(f[a]===b){return}var g={};g[a]=b;var h;if(d.multiselect.isMultiselect(e)||d.components.is.group(e)){h=f.width/f.height;var i=d.components.layout.getProportionStructure(e);if(a==="height"){g.width=b*h}else if(a==="width"){g.height=b/h}g=c.mapValues(g,c.round);this.updateLayoutProportionally(e,g,i,true)}else{if(c.includes(["width","height"],a)&&this.restrictions.resizeOnlyProportionally){h=d.components.layout.getLimits(c.first(e)).aspectRatio;if(a==="width"){g.width=b;g.height=Math.round(b/h)}else{g.height=b;g.width=b*h}}this.updateLayout(e,g,true)}d.history.add("toolbar - set selected component layout - "+a)},onClose:function(){this.getEditorAPI().toolbar.toggleToolbar()},onHelp:function(){var a={origin:g.constants.BI.HELP.ORIGIN.TOOLBAR,component:this.getEditorAPI().selection.getSelectedComponentType(),learn_more:false};f.panelManager.openHelpCenter("4ab49cd7-2ea4-4873-904e-f65d17d2f1dd",null,a)},handleShowOnAllPages:function(){var a=this.getEditorAPI();if(this.props.selectedComponent&&this.restrictions.canShowOnAllPages){var b=a.components.toggleShowOnAllPages(this.props.selectedComponent);a.bi.event(o.events.rightClickMenu.SHOW_ON_ALL_PAGES,{new_status:b,origin:"toolbar"})}},isShowOnAllPages:function(){if(this.props.selectedComponent===null||this.props.selectedComponent===undefined){return false}var a=this.getEditorAPI();return a.components.isShowOnAllPages(this.props.selectedComponent)},handleFixed:function(){this.getEditorAPI().selectedComponent.toggleFixedPosition()},isPasteEnabled:function(){var a=this.getEditorAPI();return a.clipboardContainsComp()&&a.isDesktopEditor()&&!a.components.layout.isPinned(this.props.selectedComponent)},shouldShowFreezePositionToggle:function(){var a=this.getEditorAPI();var b=!a.documentServices.components.is.pinnable;return b?this.restrictions.showLegacyFixedPosition:this.restrictions.canBeFixed},render:function(){if(i.isMultiValueExperimentOpen("editorHintsConfigs")){return b.createElement(m.hintsNotify,{id:m.hintsContainers.TOOL_BAR},n.call(this))}return n.call(this)}})});define("rEditor/rootComps/rightClickMenu/util/rcmDataParser",["lodash","rEditor/rootComps/gfpp/gfppModel","experiment"],function(a,b,c){"use strict";var d;function e(){return{enabled:true}}function f(a,b){return d.components.is.duplicatable(a,b)&&!d.components.layout.isPinned(a)}function g(a){if(!f(a)){return null}return{enabled:true}}function h(a){if(!f(a)){return null}return{enabled:true}}function i(a){if(a){return null}var b=!!d.clipboard.getItem(d.clipboard.types.COMPONENT);return{enabled:b}}function j(a){if(!a&&d.components.canApplyModeFromClipboard()){return{enabled:true}}return null}function k(a){var b=d.components.getContainer(a);if(!f(a,b)){return null}return{enabled:true}}function l(a){var b=d.components.is.styleCanBeApplied(a);if(!b){return null}return{enabled:true}}function m(a){var b=d.hasExternalDesign(a);if(b){return null}return{enabled:true}}function n(a){var b=d.hasExternalDesign(a);if(b){return null}var c=!!d.clipboard.getItem(d.clipboard.types.COMPONENT_DESIGN);return{enabled:c}}var o=["wysiwyg.viewer.components.tpapps.TPAGluedWidget"];function p(b){if(d.components.is.controlledByParent(b)){return null}var c=d.getCompMoveRestrictions(b);var e=c.canMoveBackward||c.canMoveForward;var f=d.components.is.fixed(b)&&a.includes(o,d.components.getType(b));if(!e||f){return null}return{type:"subItems",enabled:true,subItems:q(b)}}function q(a){var b=d.getCompMoveRestrictions(a);return{moveToFront:{icon:{svgName:"bringToFront"},enabled:b.canMoveForward},moveToBack:{icon:{svgName:"sendToBack"},enabled:b.canMoveBackward},moveForward:{icon:{svgName:"moveForward"},enabled:b.canMoveForward},moveBackward:{icon:{svgName:"moveBackward"},enabled:b.canMoveBackward}}}function r(a,b){var c=s(b);if(c.length>1||c.length===1&&d.utils.isPage(a)){return{type:"subItems",shouldShowCount:true,enabled:true,subItems:c}}return null}function s(b){return a(b).reject(function(b){return a.includes(["SITE_PAGES","PAGES_CONTAINER"],b.id)||d.utils.isPage(b)}).map(function(a){return{component:a,key:"overlappingSubItem_"+a.id,icon:d.components.getIconInfo(a),label:d.components.getDisplayName(a),enabled:true}}).value()}function t(a){var b=d.tpa.isTpaByCompType(d.components.getType(a));var c=d.components.is.removable(a);if(b||c){return{enabled:c,operationKey:"DELETE"}}return null}function u(a){return{value:c.isOpen("boxSlideShow")?d.components.isShownOnAllStates(a):false,enabled:c.isOpen("boxSlideShow")?d.components.canBeShownOnAllStates(a):false,operationKey:"SHOW_ON_ALL_SLIDES"}}function v(a){var b=d.components.is.fixed(a);var c=d.tpa.isTpaByCompType(d.components.getType(a));var e=c&&b;if(!d.components.canToggleShowOnAllPages(a)&&!e){return null}return{value:e||d.components.isShowOnAllPages(a),enabled:!e,operationKey:"SHOW_ON_ALL_PAGES"}}function w(a){var b=d.documentServices.components.is.pinnable;if(b&&!d.components.layout.canBeFixedPosition(a)){return null}var c=d.components.is.showLegacyFixedPosition(a)&&d.components.layout.canBeFixedPosition(a);return c?{value:d.components.is.fixed(a),enabled:true}:null}function x(a,b){if(b||!d.components.is.pinnable(a)){return null}return{value:d.components.is.fixed(a),enabled:true}}function y(){if(!c.isOpen("layoutTractor")){return null}return{enabled:true}}function z(b){if(b){return null}var c=d.focusBox.getFocusedContainer();if(!c){return null}var e=d.components.modes.getModes(c);if(!e||a.isEmpty(e)){return null}var f=d.components.modes.isCompDefaultModeActive(c)?"RightClick_Menu_Apply_Regular_ToHover_Label":"RightClick_Menu_Apply_Hover_ToRegular_Label";return{enabled:true,label:f}}function A(c){var e=b.getData(d,c);var f=["settings","design","customizeDesign","layout","upgrade","crop","filters","animation","link","connect"];var g=(e.mainActions||[]).concat(a(e.presetActions).pick(f).toArray().value());return a.transform(g,function(b,e){if(e.onClick){b.push({shouldTranslate:a.isBoolean(e.shouldTranslate)?e.shouldTranslate:true,item:{enabled:!e.isDisabled,label:e.rightClickMenuLabel||e.label||e.tooltip},onClick:function(){e.onClick(d,c);d.closeRightClickMenu()}})}},[])}function B(b){if(c.isOpen("themeStyle")){var e=d.components.getType(b);var f=d.components.COMPONENT_DEFINITION_MAP[e];var g=f&&f.styles&&a.keys(f.styles);if(g){return{enabled:true,styleIds:g}}}return null}function C(a,b,c){if(!a){return{paste:i(c),undo:e()}}return{undo:e(),copy:h(a),paste:i(c),applyModeFromClipboard:j(c),cut:g(a),duplicate:k(a),copyDesign:m(a),pasteDesign:n(a),arrange:p(a),overlappingItems:r(a,b),remove:t(a),showOnAllPages:v(a),showOnAllStates:u(a),fixedPosition:w(a),gfppItems:A(a),styleCanBeApplied:l(a),pin:x(a,c),layoutTractor:y(),applyToAllModes:z(c),saveToTheme:B(a)}}var D={buildMenuItems:function(a,b,c){d=a;return C(c,b,d.isMobileEditor())},buildShowOnAllPagesItem:function(a,b){d=a;return v(b)},buildFixedPositionItem:function(a,b){d=a;return w(b)},buildArrangeMenu:function(a,b){d=b;return p(a)}};return D});define("rEditor/rootComps/rightClickMenu/customActions/stripColumnsContainer",["core"],function(a){"use strict";var b=[{label:function(a,b){var c=a.components.getChildren(b).length===1;if(c){return"STRIP_CONTAINER_LAYOUTS_ADD_COLUMNS"}return"STRIP_CONTAINER_LAYOUTS_ADD_EXTRA_COLUMNS"},enabled:function(a,b){return a.columns.canAdd(b)},onClick:function(b,c){var d={num_of_columns_before:b.components.getChildren(c).length,origin:"rcm"};b.columns.addColumn(c);b.bi.event(a.bi.events.columns.COLUMNS_ADD_COLUMN_CLICK,d);b.closeRightClickMenu()}}];return function(a){if(a.isMobileEditor()){return[]}return b}});define("rEditor/rootComps/rightClickMenu/customActions/column",["core"],function(a){"use strict";function b(a,b){return function(c){if(c.isMobileEditor()){return b}return a}}function c(b){var c=b.isDesktopEditor();var d=c?a.bi.events.columns.COLUMNS_MOVE_LEFT_RIGHT:a.bi.events.columns.COLUMNS_MOVE_UP_DOWN;b.bi.event(d,{origin:"rcm"})}return[{label:b("RightClick_Menu_Move_Column_Left_Label","RightClick_Menu_Mobile_Move_Column_Up_Label"),enabled:function(a,b){return a.components.arrangement.canMoveBackward(b)},onClick:function(a,b){a.columns.move.left(b);c(a);a.closeRightClickMenu()}},{label:b("RightClick_Menu_Move_Column_Right_Label","RightClick_Menu_Mobile_Move_Column_Down_Label"),enabled:function(a,b){return a.components.arrangement.canMoveForward(b)},onClick:function(a,b){a.columns.move.right(b);c(a);a.closeRightClickMenu()}}]});define("rEditor/rootComps/rightClickMenu/customActions",["rEditor/rootComps/rightClickMenu/customActions/stripColumnsContainer","rEditor/rootComps/rightClickMenu/customActions/column"],function(a,b){"use strict";return{"wysiwyg.viewer.components.StripColumnsContainer":a,"wysiwyg.viewer.components.Column":b}});define("rEditor/rootComps/rightClickMenu/menuItems/rcmItemBasic.rt",["react","lodash","baseUI"],function(a,b,c){"use strict";function d(){var d=this.isEnabled();return a.createElement("li",{className:b({"item-basic":true,disabled:!d,hoverable:d}).transform(function(a,b,c){if(b){a.push(c)}},[]).join(" "),onClick:d?this.props.onClick:function(){},onContextMenu:d?this.props.onClick:function(){},onMouseEnter:this.props.onMouseEnter||b.noop,onMouseLeave:this.props.onMouseLeave||b.noop},this.props.item.icon?a.createElement("span",{className:"icon",key:"icon"},this.props.item.icon.svgName?a.createElement(c.symbol,{name:this.props.item.icon.svgName,key:"svg"}):null,this.props.item.icon.css?a.createElement("span",{style:this.getImageIconStyle(),key:"style"}):null):null,a.createElement("span",{className:"label"},this.translateIfNeeded(this.props.label||this.props.item.label)))}return function(){return d.apply(this,[])}});define("rEditor/rootComps/rightClickMenu/menuItems/rcmItemBasic",["react","lodash","util","rEditor/rootComps/rightClickMenu/menuItems/rcmItemBasic.rt"],function(a,b,c,d){"use strict";return a.createClass({displayName:"rcmItemBasic",mixins:[c.translationMixin],getImageIconStyle:function(){return b.merge({},this.props.item.icon.css,{backgroundImage:"url("+this.props.item.icon.src+")"})},isEnabled:function(){if(b.isFunction(this.props.enabled)){return this.props.enabled();
}return this.props.item.enabled},render:d})});define("rEditor/rootComps/rightClickMenu/menuItems/rcmItemWithShortcut.rt",["react","lodash","baseUI"],function(a,b,c){"use strict";return function(){return a.createElement(c.tooltip,{value:this.getTooltipText(),alignment:"right",disabled:!this.getTooltipText()},a.createElement("li",{className:b({"item-shortcut":true,disabled:!this.props.item.enabled,hoverable:this.props.item.enabled}).transform(function(a,b,c){if(b){a.push(c)}},[]).join(" "),onClick:this.props.item.enabled?this.props.onClick:function(){},onContextMenu:this.props.item.enabled?this.props.onClick:function(){}},this.props.item.icon?a.createElement("span",{className:"icon",key:"icon"},this.props.item.icon.svgName?a.createElement(c.symbol,{name:this.props.item.icon.svgName,key:"svg"}):null):null,a.createElement("span",{className:"label label-shortcut"},this.translateIfNeeded(this.props.label)),a.createElement("span",{className:"action action-shortcut"},this.props.shortcut)))}});define("rEditor/rootComps/rightClickMenu/menuItems/rcmItemWithShortcut",["react","core","lodash","util","rEditor/rootComps/rightClickMenu/menuItems/rcmItemWithShortcut.rt"],function(a,b,c,d,e){"use strict";return a.createClass({displayName:"rcmItemWithShortcut",mixins:[d.translationMixin,b.mixins.editorAPIMixin],getTooltipText:function(){var a=this.getEditorAPI();var b=a.tooltipTextService.getSelectedComponentTooltipText(this.props.item.operationKey);return b},render:e})});define("rEditor/rootComps/rightClickMenu/menuItems/rcmItemWithSubItems.rt",["react","lodash","rEditor/rootComps/rightClickMenu/menuItems/rcmItemWithShortcut"],function(a,b,c){"use strict";return function(){return a.createElement("li",{className:b({disabled:!this.props.item.enabled,hoverable:this.props.item.enabled}).transform(function(a,b,c){if(b){a.push(c)}},[]).join(" ")},a.createElement("span",{className:"label label-sub-item"},a.createElement("span",{"data-hint-id":this.props.hintId},this.translateIfNeeded(this.props.label)),this.props.item.shouldShowCount?a.createElement("span",{key:"count"}," ("+a.Children.count(this.props.children)+")"):null),a.createElement("span",{className:"action action-expand"}),a.createElement("div",{className:"rightClickMenu subMenu"},a.createElement("ul",{},this.props.children)))}});define("rEditor/rootComps/rightClickMenu/menuItems/rcmItemWithSubItems",["react","lodash","util","rEditor/rootComps/rightClickMenu/menuItems/rcmItemWithSubItems.rt"],function(a,b,c,d){"use strict";return a.createClass({displayName:"rcmItemWithSubItems",mixins:[c.translationMixin],render:d})});define("rEditor/rootComps/rightClickMenu/menuItems/rcmItemWithSubItemsRecursive.rt",["react","lodash","rEditor/rootComps/rightClickMenu/menuItems/rcmItemWithShortcut"],function(a,b,c){"use strict";return function(){return a.createElement("li",{className:b({disabled:!this.props.item.enabled,hoverable:this.props.item.enabled}).transform(function(a,b,c){if(b){a.push(c)}},[]).join(" "),onClick:this.props.onClick},a.createElement("span",{className:"label label-sub-item"},a.createElement("span",{},this.translateIfNeeded(this.props.label)),this.props.item.shouldShowCount?a.createElement("span",{key:"count"}," ("+a.Children.count(this.props.children)+")"):null),a.createElement("span",{className:b({action:true,"action-expand":this.props.items.length>0}).transform(function(a,b,c){if(b){a.push(c)}},[]).join(" ")}),a.createElement("div",{className:"rightClickMenu subMenu"},a.createElement("ul",{},this.getChildren())))}});define("rEditor/rootComps/rightClickMenu/menuItems/rcmItemWithSubItemsRecursive",["react","lodash","util","rEditor/rootComps/rightClickMenu/menuItems/rcmItemWithSubItemsRecursive.rt"],function(a,b,c,d){"use strict";var e=a.createClass({displayName:"rcmItemWithSubItemsRecursive",mixins:[c.translationMixin],getChildren:function(){return b.map(this.props.items,function(b){return a.createElement(e,b)})},render:d});return e});define("rEditor/rootComps/rightClickMenu/menuItems/rcmItemWithToggle.rt",["react","lodash","baseUI"],function(a,b,c){"use strict";return function(){return a.createElement(c.tooltip,{value:this.getTooltipText(),alignment:"right",disabled:!this.getTooltipText()},a.createElement("li",{className:b({disabled:!this.props.item.enabled}).transform(function(a,b,c){if(b){a.push(c)}},[]).join(" ")},a.createElement("span",{className:"label label-toggle"},this.translateIfNeeded(this.props.label)),a.createElement(c.toggle,b.assign({},{className:this.props.className+" action",value:this.props.value,onChange:this.props.item.enabled?this.props.onChange:b.noop,size:this.props.size},{disabled:!this.props.item.enabled}))))}});define("rEditor/rootComps/rightClickMenu/menuItems/rcmItemWithToggle",["react","core","lodash","util","rEditor/rootComps/rightClickMenu/menuItems/rcmItemWithToggle.rt"],function(a,b,c,d,e){"use strict";return a.createClass({displayName:"rcmItemWithToggle",mixins:[d.translationMixin,b.mixins.editorAPIMixin],getTooltipText:function(){var a=this.getEditorAPI();var b=a.tooltipTextService.getSelectedComponentTooltipText(this.props.item.operationKey);return b},render:e})});define("rEditor/rootComps/rightClickMenu/rightClickMenu.rt",["react","lodash","rEditor/rootComps/rightClickMenu/menuItems/rcmItemBasic","rEditor/rootComps/rightClickMenu/menuItems/rcmItemWithShortcut","rEditor/rootComps/rightClickMenu/menuItems/rcmItemWithSubItems","rEditor/rootComps/rightClickMenu/menuItems/rcmItemWithSubItemsRecursive","rEditor/rootComps/rightClickMenu/menuItems/rcmItemWithToggle","rEditor/rootComps/keyboard/config/keyboardShortcutsActionMap","experiment"],function(a,b,c,d,e,f,g,h,i){"use strict";function j(b,d,e,f,g,h,i){return a.createElement(c,{shouldTranslate:h.shouldTranslate,item:h.item,label:h.item.label,key:h.item.label,onClick:h.onClick})}function k(d,e,f,g,h,i,j){return a.createElement(c,{key:"customAction_"+j,item:i,label:b.isFunction(i.label)?i.label(e,h):i.label,onClick:i.onClick.bind(null,e,h),enabled:b.isFunction(i.enabled)&&i.enabled.bind(null,e,h)})}function l(a,b,c,d,e,f,g){this.openApplyToDialog(f)}function m(b,d,e,f,g,h,i){return a.createElement(c,{key:"rcmApplyStyle",label:"RightClick_Menu_Copy_Design_Label",item:this.getApplyToInfoItem(),onClick:l.bind(this,b,d,e,f,g,h,i)})}function n(b,d,e,f,g,h,i){return a.createElement(c,{item:h,label:h.label,key:h.key,onClick:this.onOverlappingItemClick.bind(this,h),shouldTranslate:false,onMouseEnter:this.onOverlappingItemMouseEnter.bind(this,h),onMouseLeave:this.onOverlappingItemMouseLeave})}function o(a,b,c,d,e,f,g){this.saveStyleToTheme(this.props.selectedComponents[0],f)}function p(b,d,e,f,g,h,i){return a.createElement(c,{shouldTranslate:false,item:{label:h,enabled:true},key:this.props.selectedComponents[0]+"_themeStyle_"+h,onClick:o.bind(this,b,d,e,f,g,h,i)})}function q(b,c,d,e,g,h,i){return a.createElement(f,{shouldTranslate:false,key:h.id,label:c.components.getDisplayName(h)+" - "+h.id,item:{enabled:true},items:this.getDebugItems(h)})}function r(a,b,c,d,e,f,g){this.exportDebugInfo(f)}function s(b,d,e,f,g,h,i){return a.createElement(c,{shouldTranslate:false,item:this.getExportDebugInfoItem(h),key:h.id+".debugInfo",onClick:r.bind(this,b,d,e,f,g,h,i)})}function t(){var f=this.state.menuItems;var l=this.getEditorAPI();var o=h.editor;var r=this.getCustomActions();var t=b.first(this.props.selectedComponents);return a.createElement("div",{style:{top:this.state.position.y,left:this.state.position.x},className:b(this.getClasses()).transform(function(a,b,c){if(b){a.push(c)}},[]).join(" "),onContextMenu:this.onRightClick,key:"rcm",ref:"rcmRoot"},!this.props.selectedComponents?a.createElement("ul",{key:"noCompSelectedItems"},f.paste?a.createElement(d,{item:f.paste,label:"RightClick_Menu_Paste_Label",shortcut:o.PASTE.label,onClick:this.pasteComponent,key:"noCompSelectedPaste"}):null):null,this.props.selectedComponents?a.createElement("div",{key:"selectedCompItems"},f.applyToAllModes||f.applyModeFromClipboard?a.createElement("ul",{key:"rcmApplyGroup"},f.applyToAllModes?a.createElement(c,{item:f.applyToAllModes,key:"rcmApplyToAllModes",label:f.applyToAllModes.label,onClick:this.applyToAllModes}):null,f.applyModeFromClipboard?a.createElement(d,{item:f.applyModeFromClipboard,label:"RightClick_Menu_HB_Apply_From_Clipboard",shortcut:o.APPLY_MODE.label,onClick:this.applyModeFromClipboard,key:"rcmApplyModeFromClipboard"}):null):null,!b.isEmpty(f.gfppItems)?a.createElement.apply(this,["ul",{key:"gfppItems","data-section":"gfppItems"},b.map(f.gfppItems,j.bind(this,f,l,o,r,t))]):null,r.length?a.createElement.apply(this,["ul",{key:"customActions"},b.map(r,k.bind(this,f,l,o,r,t))]):null,a.createElement.apply(this,["ul",{},a.createElement(d,{item:f.undo,label:"TOPBAR_Edit_Undo",shortcut:o.UNDO.label,onClick:this.undo}),f.cut?a.createElement(d,{item:f.cut,label:"RightClick_Menu_Cut_Label",shortcut:o.CUT.label,onClick:this.cutComponent,key:"rcmCut"}):null,f.copy?a.createElement(d,{item:f.copy,label:"RightClick_Menu_Copy_Label",shortcut:o.COPY.label,onClick:this.copyComponent,key:"rcmCopy"}):null,f.styleCanBeApplied?b.map(this.props.selectedComponents,m.bind(this,f,l,o,r,t)):null,f.paste?a.createElement(d,{item:f.paste,label:"RightClick_Menu_Paste_Label",shortcut:o.PASTE.label,onClick:this.pasteComponent,key:"rcmPaste"}):null,f.duplicate?a.createElement(d,{item:f.duplicate,label:"RightClick_Menu_Duplicate_Label",shortcut:o.DUPLICATE.label,onClick:this.duplicateComponent,key:"rcmDuplicate"}):null]),f.arrange||f.overlappingItems?a.createElement("ul",{key:"rcmArrangeOverlapping"},f.overlappingItems?a.createElement.apply(this,[e,{ref:"overlappingItems",label:"RightClick_Menu_Overlapping_Items_Label",item:f.overlappingItems,hintId:i.isMultiValueExperimentOpen("editorHintsConfigs")?"OverlappingItems":null,key:"rcmOverlapping"},b.map(f.overlappingItems.subItems,n.bind(this,f,l,o,r,t))]):null,f.arrange?a.createElement(e,{item:f.arrange,label:"RightClick_Menu_Arrange_Label",key:"rcmArrange",hintId:i.isMultiValueExperimentOpen("editorHintsConfigs")?"ForwardOrBack":null,onMouseOver:this.onArrangeHover},a.createElement(d,{item:f.arrange.subItems.moveToFront,label:"RightClick_Menu_Bring_to_Front_Label",shortcut:o.SEND_TO_FRONT.label,onClick:this.moveToFront}),a.createElement(d,{item:f.arrange.subItems.moveToBack,label:"RightClick_Menu_Send_to_Back_Label",shortcut:o.SEND_TO_BACK.label,onClick:this.moveToBack}),a.createElement(d,{item:f.arrange.subItems.moveForward,label:"RightClick_Menu_Move_Forward_Label",shortcut:o.SEND_FORWARD.label,onClick:this.moveForward}),a.createElement(d,{item:f.arrange.subItems.moveBackward,label:"RightClick_Menu_Move_Backward_Label",shortcut:o.SEND_BACKWARD.label,onClick:this.moveBackward})):null):null,f.remove?a.createElement("ul",{key:"rcmRemove"},a.createElement(d,{item:f.remove,label:this.getEditorAPI().isMobileEditor()?"RightClick_Menu_Mobile_Hide_Label":"RightClick_Menu_Delete_Label",shortcut:"Del",onClick:this.removeComponent})):null,f.pin?a.createElement("ul",{key:"rcmPin"},f.pin?a.createElement(d,{item:f.pin,label:"RightClick_Menu_PinToScreen",value:f.pin.value,onClick:this.handlePinClick,key:"rcmPin"}):null):null,f.layoutTractor?a.createElement("ul",{key:"layoutTractor"},a.createElement(d,{item:f.layoutTractor,shouldTranslate:false,label:"Layout Tractor (UI)",onClick:this.openLayoutTractor})):null,f.saveToTheme&&this.props.selectedComponents.length===1?a.createElement("ul",{key:"themeStylesExperiment"},a.createElement.apply(this,[e,{item:{enabled:true},label:"Save to theme",shouldTranslate:false,key:"saveToTheme"},b.map(f.saveToTheme.styleIds,p.bind(this,f,l,o,r,t))])):null,f.showOnAllPages||f.fixedPosition||f.showOnAllStates.enabled?a.createElement("ul",{key:"rcmShowOnAllPagesFixPosition"},f.showOnAllPages?a.createElement(g,{size:"medium",item:f.showOnAllPages,className:"show-on-all-pages",label:"RightClick_Menu_Show_On_All_Pages_Label",value:f.showOnAllPages.value,onChange:this.toggleShowOnAllPages,key:"rcmShowOnAllPages"}):null,f.fixedPosition?a.createElement(g,{size:"medium",item:f.fixedPosition,label:"RightClick_Menu_Fixed_Position_Label",value:f.fixedPosition.value,onChange:this.toggleFixedPosition,key:"rcmFixPosition"}):null):null,i.isOpen("rightClickDebug")?a.createElement("ul",{key:"debug"},a.createElement.apply(this,[e,{item:{enabled:true},label:"Debug",shouldTranslate:false,key:"debug"},b.map(this.props.selectedComponents,q.bind(this,f,l,o,r,t)),b.map(this.props.selectedComponents,s.bind(this,f,l,o,r,t)),this.isSingleController()?a.createElement(c,{shouldTranslate:false,item:{label:"Inspect controller",enabled:true},key:"controllerInspector",onClick:this.controllerInspector}):null,this.isSingleController()?a.createElement(c,{shouldTranslate:false,item:{label:"Select connected components",enabled:true},key:"selectConnectedComponents",onClick:this.selectControllerConnectedComponents}):null,this.isSingleNonController()?a.createElement(c,{shouldTranslate:false,item:{label:"Inspect connections to controllers",enabled:true},key:"connectionInspector",onClick:this.connectionsInspector}):null,a.createElement(c,{shouldTranslate:false,item:{label:"Add controller",enabled:true},key:"add-controller",onClick:this.openAddController})])):null):null)}return function(){return this.state.menuItems?t.apply(this,[]):null}});define("rEditor/rootComps/rightClickMenu/rightClickMenu",["react","lodash","jquery","core","rEditor/rootComps/rightClickMenu/util/rcmDataParser","rEditor/rootComps/rightClickMenu/customActions","util","experiment","rEditor/rootComps/rightClickMenu/rightClickMenu.rt","pLoader!santa:utils","editorHints"],function(a,b,c,d,e,f,g,h,i,j,k){"use strict";var l;var m=d.bi;var n="rcm";function o(a,c){return b.findIndex(c,function(c){return b.isEqual(c,a)})>-1}function p(a,c){var d=l.selection.getComponentsByXY(a,c);var e=l.siteSegments.getSiteStructureId();if(h.isOpen("boxSlideShow")){return b.reject(d,function(a){var c=l.components.getContainer(a);var f=true;if(c){f=c.id!==e?b.includes(b.pluck(d,"id"),c.id):true}return!l.components.is.selectable(a)||!f})}return d}function q(a,c,d){return b.map(b.keys(c),function(e){var f=c[e];var g=d.concat(e);return{key:e,label:e,onClick:function(b){j.log.info(a,g.join("."),f);b.stopPropagation()},items:b.isString(f)||b.isNumber(f)?[]:q(a,f,g),item:{enabled:true}}})}function r(a,b,c){var d=c;var e=b.outerHeight();var f=d+e;if(f>a.bottomY){var g=d-e;if(g<a.y){return a.y}return g}return d}function s(a,b,c){var d=c;var e=b.outerWidth();var f=d+e;if(f-window.pageXOffset>a.rightX){var g=d-e;if(g<a.x){return d+a.x}return g}return d}function t(a,b){var c=d.utils.stageUtils.getViewPort();var e=s(c,a,b.x);var f=r(c,a,b.y);return{x:e,y:f}}function u(a,e){var f=d.utils.stageUtils.getViewPort();var g=a.find(".subMenu");if(g.length===0){return false}var h=c(b.max(g,function(a){return c(a).outerWidth()}));return e.x+a.outerWidth()+h.outerWidth()>f.rightX}function v(a){var b=this.state.menuItems;b.arrange=e.buildArrangeMenu(a,this.getEditorAPI());this.setState({menuItems:b})}function w(a,c,d){b.set(d,a,c)}return a.createClass({displayName:"rightClickMenu",mixins:[d.mixins.editorAPIMixin,g.outerClickMixin],compType:null,propTypes:{selectedComponents:a.PropTypes.array,editorMousePosition:a.PropTypes.object.isRequired,viewerMousePosition:a.PropTypes.object.isRequired},onOuterClick:function(){l.closeRightClickMenu()},getInitialState:function(){l=this.getEditorAPI();this.shouldMeasureRCMRelativeToViewPort=true;return{position:this.props.editorMousePosition,openSubMenuToLeft:false,menuItems:this.getAllMenuItems(this.props.selectedComponents,this.props.viewerMousePosition)}},componentDidMount:function(){this.compType=l.components.getType(this.props.selectedComponents);l.bi.event(m.events.rightClickMenu.RIGHT_CLICK_MENU_OPEN,{component:this.compType});this.updatePositionRelativeToViewPort()},getAllMenuItems:function(a,b){var c=p(b.x,b.y);return e.buildMenuItems(l,c,a)},rebuildItemsForSameComponent:function(a){var c=b.pick({showOnAllPages:e.buildShowOnAllPagesItem(l,a),fixedPosition:e.buildFixedPositionItem(l,a)},function a(c,d){return!b.isEqual(c,this.state.menuItems[d])},this);if(!b.isEmpty(c)){var d=b.assign({},this.state.menuItems,c);this.setState({menuItems:d})}},componentWillReceiveProps:function(a){if(a.selectedComponents){var c=b.isEqual(a.selectedComponents,this.props.selectedComponents);if(!c){this.shouldMeasureRCMRelativeToViewPort=true;this.setState({menuItems:this.getAllMenuItems(a.selectedComponents,a.viewerMousePosition)})}else{this.rebuildItemsForSameComponent(a.selectedComponents)}}},componentDidUpdate:function(){if(this.shouldMeasureRCMRelativeToViewPort){this.updatePositionRelativeToViewPort()}},componentWillUnmount:function(){l.bi.event(m.events.rightClickMenu.RIGHT_CLICK_MENU_CLOSE,{origin:n,component:this.compType})},updatePositionRelativeToViewPort:function(){var a=c(this.refs.rcmRoot);var b=t(a,this.state.position);var d=u(a,this.state.position);this.shouldMeasureRCMRelativeToViewPort=false;this.setState({position:b,openSubMenuToLeft:d})},onOverlappingItemMouseEnter:function(a){l.bi.event(m.events.rightClickMenu.OVERLAPPING_ITEMS_HOVER,{component:o(a.component,this.props.selectedComponents)?"selected":"other"});l.hoverBox.set(a.component,true)},onOverlappingItemMouseLeave:function(){l.hoverBox.clear()},getClasses:function(){return{rightClickMenu:true,"open-sub-menu-left":this.state.openSubMenuToLeft,"fixed-position":this.getEditorAPI().components.layout.isShowOnFixedPosition(this.props.selectedComponents)}},onRightClick:function(a){a.preventDefault()},undo:function(){this.getEditorAPI().history.undo();l.closeRightClickMenu()},cutComponent:function(){var a=l.bi.getComponentsBIParams(this.props.selectedComponents);b.forEach(a,b.partial(w,"origin",n));l.bi.reportBI(m.events.rightClickMenu.CUT,a);l.closeRightClickMenu(function(){l.selectedComponent.cut();l.history.add("cut component via rightClickMenu")})},copyComponent:function(){var a=l.bi.getComponentsBIParams(this.props.selectedComponents);b.forEach(a,b.partial(w,"origin",n));l.selectedComponent.copy();l.closeRightClickMenu();l.bi.reportBI(m.events.rightClickMenu.COPY,a)},pasteComponent:function(){var a=l.bi.getComponentsBIParams(this.props.selectedComponents);b.forEach(a,b.partial(w,"origin",n));var c=l.ui.scroll.getScroll();var d={x:this.props.editorMousePosition.x-l.site.getXPos()+c.scrollLeft,y:this.props.editorMousePosition.y-l.components.layout.get(l.siteSegments.getPagesContainer()).y+c.scrollTop};l.components.paste(d,true);l.closeRightClickMenu();l.history.add("paste component via rightClickMenu");l.bi.reportBI(m.events.rightClickMenu.PASTE,a)},applyModeFromClipboard:function(){var a=l.bi.getComponentsBIParams(this.props.selectedComponents);b.forEach(a,b.partial(w,"origin",n));l.components.applyModeFromClipboard();l.closeRightClickMenu();l.history.add("apply mode via rightClickMenu");l.bi.reportBI(m.events.rightClickMenu.APPLY_MODE_FROM_CLIPBOARD,a)},duplicateComponent:function(){var a=l.bi.getComponentsBIParams(this.props.selectedComponents);b.forEach(a,b.partial(w,"origin",n));l.selectedComponent.duplicate();l.closeRightClickMenu();if(l.selection.getSelectedComponentType()!=="Column"){l.history.add("duplicate component via rightClickMenu")}l.bi.reportBI(m.events.rightClickMenu.DUPLICATE,a)},copyDesign:function(){l.selectedComponent.copyStyle();l.bi.event(m.events.rightClickMenu.COPY_DESIGN,{category:"",component:""})},pasteDesign:function(){l.selectedComponent.pasteStyle();l.bi.event(m.events.rightClickMenu.PASTE_DESIGN,{category:"",component:""})},lockComponent:function(){l.selectedComponent.lock();l.closeRightClickMenu();l.bi.event(m.events.rightClickMenu.LOCK,{category:"",component:""})},removeComponent:function(){var a=l.bi.getComponentsBIParams(this.props.selectedComponents);b.forEach(a,b.partial(w,"removal_method",n));l.bi.reportBI(m.events.editor.component_removed,a);l.closeRightClickMenu(function(){l.history.add("removed component via rightClickMenu");l.selectedComponent.remove()})},toggleShowOnAllPages:function(){l.components.toggleShowOnAllPages(this.props.selectedComponents);l.waitForChangesApplied(function(){var a=l.components.isShowOnAllPages(this.props.selectedComponents);l.bi.event(m.events.rightClickMenu.SHOW_ON_ALL_PAGES,{new_status:a,origin:n})}.bind(this))},toggleShowOnAllStates:function(){l.components.toggleShowOnAllStates(this.props.selectedComponents);var a=this.state.menuItems;a.showOnAllStates.value=!a.showOnAllStates.value;this.setState({menuItems:a})},toggleFixedPosition:function(){l.selectedComponent.toggleFixedPosition();l.waitForChangesApplied(function(){var a=l.components.is.fixed(this.props.selectedComponents);var b=l.components.getType(this.props.selectedComponents[0]);l.bi.event(m.events.rightClickMenu.FIXED_POSITION,{origin:n,new_status:a,component:b})}.bind(this))},handlePinClick:function(){l.closeRightClickMenu();var a=l.components.layout.isPinned(this.props.selectedComponents);l.pinMode.open(a?"rcm_reopen":"rcm")},moveForward:function(){l.components.arrangement.moveForward(this.props.selectedComponents);v.call(this,this.props.selectedComponents);l.bi.event(m.events.rightClickMenu.MOVE_FORWARD,{origin:n})},moveBackward:function(){l.components.arrangement.moveBackward(this.props.selectedComponents);v.call(this,this.props.selectedComponents);l.bi.event(m.events.rightClickMenu.MOVE_BACKWARDS,{origin:n})},moveToFront:function(){l.components.arrangement.moveToFront(this.props.selectedComponents);v.call(this,this.props.selectedComponents);l.bi.event(m.events.rightClickMenu.BRING_TO_FRONT,{origin:n})},moveToBack:function(){l.components.arrangement.moveToBack(this.props.selectedComponents);v.call(this,this.props.selectedComponents);l.history.add("component - move to back");l.bi.event(m.events.rightClickMenu.SEND_TO_BACK,{origin:n})},onArrangeHover:function(){l.bi.event(m.events.rightClickMenu.ARRANGE_HOVER,{origin:n})},onOverlappingItemClick:function(a){l.selection.selectComponentByCompRef(a.component);l.selection.setIsHiddenComponentDraggedNext(true);l.bi.event(m.events.rightClickMenu.OVERLAPPING_ITEM_CLICK,{component:o(a.component,this.props.selectedComponents)?"selected":"other"})},getDebugItems:function(a){var b=l.components.serialize(a);return q(a.id,b,["structure"])},getExportDebugInfoItem:function(a){return{label:"Export ["+a.id+"] to console",enabled:true}},exportDebugInfo:function(a){var c=l.components.serialize(a);window.selectedComp=b.cloneDeep(c);j.log.info("Exported ["+a.id+"] to window.selectedComp");l.closeRightClickMenu()},controllerInspector:function(){j.log.info("Opening controller panel");l.panelManager.openComponentPanel("debugTools.platform.controllerInspectorPanel",{comp:this.props.selectedComponents[0]});l.closeRightClickMenu()},connectionsInspector:function(){j.log.info("Opening connections panel");l.panelManager.openComponentPanel("debugTools.platform.connectionsInspectorPanel",{comp:this.props.selectedComponents[0]});l.closeRightClickMenu()},isSingleController:function(){return this.props.selectedComponents.length===1&&this.getEditorAPI().components.getType(this.props.selectedComponents[0])==="platform.components.AppController"},isSingleNonController:function(){return this.props.selectedComponents.length===1&&this.getEditorAPI().components.getType(this.props.selectedComponents[0])!=="platform.components.AppController"},selectControllerConnectedComponents:function(){var a=this.props.selectedComponents[0];require(["debugTools"],function(b){b.platform.utils.selectControllerConnectedComponents(l,a)});l.closeRightClickMenu()},openAddController:function(){l.panelManager.openPanel("debugTools.platform.addControllerPanel",{});l.closeRightClickMenu()},getApplyToInfoItem:function(){return{label:"RightClick_Menu_Copy_Design_Label",enabled:true}},openApplyToDialog:function(a){l.bi.event(d.bi.events.applyStyle.COPY_STYLE_RCM_CLICK,{component_id:a.id,component_type:l.components.getType(a)});l.styles.openApplyStylePanel(a)},openLayoutTractor:function(){l.panelManager.openComponentPanel("compPanels.dynamicPanels.layoutTractor",{selectedComponents:this.props.selectedComponents});l.closeRightClickMenu()},applyToAllModes:function(){l.components.modes.applyCurrentToAllModes(l.selection.getSelectedComponents());l.closeRightClickMenu()},getCustomActions:function(){var a=f[l.components.getType(this.props.selectedComponents)]||[];if(b.isFunction(a)){return a(this.getEditorAPI())}return a},saveStyleToTheme:function(a,c){var d=l.theme.styles.get(c);var e=l.theme.styles.get(l.components.style.getId(a));var f=b.assign(e,b.pick(d,["id","type","styleType"]));l.theme.styles.update(c,f);l.components.style.setId(a,c)},render:function(){if(h.isMultiValueExperimentOpen("editorHintsConfigs")){return a.createElement(k.hintsNotify,{id:k.hintsContainers.RIGHT_CLICK_PANEL},i.call(this))}return i.call(this)}})});define("rEditor/rootComps/panels/openedPanels.rt",["react","lodash","core","uiAnimations","panels"],function(a,b,c,d,e){"use strict";function f(d,e){return a.createElement(c.lazyComponent,b.assign({},{moduleName:d.name,key:d.name,onLoad:this.forceUpdate.bind(this)},this.getPanelProps(d)))}return function(){return a.createElement("div",{className:"opened-panels"},a.createElement.apply(this,[d.panelsAnimation,{},this.props.withHelpPanel&&this.props.editorState.helpProps?a.createElement(e.frames.helpPanelFrame,b.assign({},{key:"helpPanel",isMobileEditor:this.props.editorState.isMobileEditor},this.props.editorState.helpProps)):null,b.map(this.props.openPanels,f.bind(this))]))}});define("rEditor/rootComps/panels/openedPanels",["react","core","lodash","rEditor/rootComps/panels/openedPanels.rt"],function(a,b,c,d){"use strict";function e(a){var c=a.key;if(b.lazyComponent.isLoaded(a.name)){c+="-loading"}return c}return a.createClass({displayName:"openedPanels",propTypes:{editorState:a.PropTypes.object.isRequired,openPanels:a.PropTypes.array,withHelpPanel:a.PropTypes.bool},getDefaultProps:function(){return{withHelpPanel:true}},getPanelProps:function(a){return c.assign({},a.props,{editorState:this.props.editorState,key:e(a.props)})},render:d})});define("rEditor/rootComps/portal/portal.rt",["react","lodash"],function(a,b){"use strict";return function(){return a.createElement("div",{id:"portal"},this.getChildren())}});define("rEditor/rootComps/portal/portal",["react","lodash","rEditor/rootComps/portal/portal.rt"],function(a,b,c){"use strict";function d(c,d){return b.map(c,function(c){return a.createElement(c.reactClass,b.assign(c.props,{origin:d}))})}return a.createClass({displayName:"Portal (AKA Comps Day-Care)",propTypes:{comps:a.PropTypes.object},getChildren:function(){return b.reduce(this.props.comps,function(a,b,c){return a.concat(d(b,c))},[])},render:c})});define("rEditor/utils/mouseMoveActions/mouseMoveActionTypes",[],function(){"use strict";return{DRAG:"DRAG",SPACER:"SPACER",ROTATE:"ROTATE",RESIZE:"RESIZE",SECTION_DRAG:"SECTION_DRAG",LASSO:"LASSO",DRAG_ATTEMPT:"DRAG_ATTEMPT"}});define("rEditor/rootComps/gfpp/gfppButton.rt",["react","lodash","baseUI"],function(a,b,c){"use strict";function d(){var b=this.translateIfNeeded;return a.createElement("li",{className:"gfpp-btn "+this.props.className,onClick:this.onClick},this.props.icon?a.createElement(c.symbol,{key:"gfppButtonIcon",name:this.props.icon}):null,this.props.label?a.createElement("span",{key:"gfppButtonLabel",className:"gfpp-label"},b(this.props.label)):null)}return function(){return a.createElement(c.tooltip,{value:this.props.tooltip,styleType:"small",disabled:!this.props.tooltip,shouldTranslate:this.props.shouldTranslate},d.apply(this,[]))}});define("rEditor/rootComps/gfpp/gfppButton",["react","lodash","core","util","rEditor/rootComps/gfpp/gfppButton.rt"],function(a,b,c,d,e){"use strict";return a.createClass({displayName:"GFPP Button",propTypes:{selectedComponent:a.PropTypes.arrayOf(a.PropTypes.object).isRequired},mixins:[c.mixins.editorAPIMixin],translateIfNeeded:function(a){if(b.isBoolean(this.props.shouldTranslate)&&!this.props.shouldTranslate){return a}return d.translate(a)},onClick:function(){if(!this.props.isDisabled){var a=this.getEditorAPI();var d=this.props.selectedComponent;if(!a.components.is.exist(d)){return}var e=(d.length?b.first(d):d).id;var f=a.components.getType(d);this.props.onClick(a,d,c.constants.USER_ACTIONS.ORIGIN.GFPP);a.bi.event(c.bi.events.gfpp.GFPP_BUTTON_CLICK,{action_name:this.props.label||this.props.tooltip,component_id:e,component_type:f,icon:this.props.tooltip,app_Id:this.props.appId})}},render:e})});define("rEditor/rootComps/gfpp/gfppCustomButton",["react"],function(a){"use strict";return a.createClass({displayName:"gfppCustomButton",render:function(){return a.createElement(this.props.template,this.props)}})});define("rEditor/rootComps/gfpp/gfppButtonGenerator",["react","lodash","rEditor/rootComps/gfpp/gfppButton","rEditor/rootComps/gfpp/gfppCustomButton"],function(a,b,c,d){"use strict";return a.createClass({displayName:"gfppButtonGenerator",render:function(){return a.createElement(this.props.template?d:c,b.assign({},this.props))}})});define("rEditor/rootComps/gfpp/gfpp.rt",["react","lodash","uiAnimations","baseUI","rEditor/rootComps/gfpp/gfppButtonGenerator"],function(a,b,c,d,e){"use strict";function f(c,d){return a.createElement(e,b.assign({},{key:c.icon||c.label||c.tooltip,className:b({selected:c.isSelected,disabled:c.isDisabled}).transform(function(a,b,c){if(b){a.push(c)}},[]).join(" ")},this.getButtonProps(c)))}return function(){return a.createElement(c.gfppAnimation,{},a.createElement.apply(this,["ul",b.assign({},{id:"gfpp",ref:"gfpp",className:b({gfpp:true}).transform(function(a,b,c){if(b){a.push(c)}},[]).join(" "),key:this.getKey(),onMouseDown:this.stopEventPropagation,onMouseUp:this.stopEventPropagation,onDoubleClick:this.stopEventPropagation,onContextMenu:this.stopEventPropagation,onMouseMove:this.stopEventPropagation,onClick:this.stopEventPropagation},this.getTopLevelProps()),b.map(this.state.mainButtons,f.bind(this))]))}});define("rEditor/rootComps/gfpp/gfpp",["reactDOM","lodash","react","core","panels","pLoader!santa:utils","rEditor/rootComps/gfpp/gfppModel","rEditor/rootComps/gfpp/gfpp.rt","experiment"],function(a,b,c,d,e,f,g,h,i){"use strict";var j=["settings","layout","design","customizeDesign","upgrade","crop","filters","animation","link","hide","stretch","stretchForColumns","applyToOtherView","help","connect","pinMode"];function k(){var a=j.slice(0);if(i.isOpen("switchLayoutDesignOrder")){l(a)}return a}function l(a){var c=b.indexOf(a,"layout");var d=b.indexOf(a,"design");var e=a[c];a[c]=a[d];a[d]=e}function m(a,c){var d=b.map(c,function(b){return a[b]});return b.compact(d)}function n(a,b){var c=g.getData(a,b);var d=c.mainActions||[];var e=c.extraActions||[];var f=m(c.presetActions,k());var h=d.concat(f).concat(e);return{mainButtons:h}}function o(a,c){return function(){var f=b.get(a.selection.getSelectedComponentData(),"appPartName");var g=a.selection.getSelectedComponentType();var h={component:f||g,origin:d.constants.BI.HELP.ORIGIN.GFPP,learn_more:false};e.panelManager.openHelpCenter(c,null,h)}}return c.createClass({displayName:"GFPP",mixins:[d.mixins.editorAPIMixin],propTypes:{selectedComponent:c.PropTypes.arrayOf(c.PropTypes.object).isRequired},getInitialState:function(){return n(this.getEditorAPI(),this.props.selectedComponent)},componentWillReceiveProps:function(a){this.setState(n(this.getEditorAPI(),a.selectedComponent))},getTopLevelProps:function(){return b.pick(this.props,["style"])},getButtonProps:function(a){if(a.isApplied){b.assign(a,{label:a.label_active||a.label,icon:a.icon_active||a.icon,tooltip:a.tooltip_active||a.tooltip})}if(a.helpId&&b.isUndefined(a.onClick)){a.onClick=o(this.getEditorAPI(),a.helpId)}a.selectedComponent=this.props.selectedComponent;return a},getSize:function(){if(this.refs.gfpp){var c=f.domMeasurements.getBoundingRect(a.findDOMNode(this.refs.gfpp));return b.pick(c,["width","height"])}},stopEventPropagation:function(a){a.stopPropagation()},getKey:function(){return b.first([].concat(this.props.selectedComponent)).id+"_"+b.size([].concat(this.props.selectedComponent));
},render:h})});define("rEditor/rootComps/selectionBox/selectionBoxCommons",["lodash","experiment"],function(a,b){"use strict";function c(b,c,e){var f=a.first(c);while(f&&!d(e,f)){f=b.components.getContainer(f)}return f}function d(b,c){return a.some(b,function(a){return a(c)})}function e(a,b){return b&&a.components.layout.isShowOnFixedPosition(b)?"fixed":"absolute"}function f(c,d,f,g){var h=0;var i=0;if(a.size(f)>1){h=2;i=h*2}var j=d.bounding;var k={position:e(c,f),top:d.bounding.y-g-h,left:d.bounding.x-g-h,width:j.width+i,height:j.height+i};if(b.isOpen("se_editBoxPerformance")){var l="translate3d("+(j.x-g-h)+"px,"+(j.y-g-h)+"px,0)";k.top=0;k.left=0;k.WebkitTransform=l;k.transform=l}return k}return{getPosition:e,getBoundingStyle:f,findFirstContainerMatchingConditions:c}});define("rEditor/rootComps/selectionBox/controllers/tab.rt",["react","lodash","util"],function(a,b,c){"use strict";function d(){this.props.onTabClick(this.props.tab)}return function(){return a.createElement("label",{className:"label-controller tab "+this.props.tabClass+" "+b({active:this.props.tab.active}).transform(function(a,b,c){if(b){a.push(c)}},[]).join(" "),onClick:d.bind(this)},a.createElement("div",{className:"label"},"\n        ",this.getTabLabel(),"\n    "),a.createElement("div",{className:"action",key:this.props.tabsAnimationText},"\n        ",c.translate(this.props.tabsAnimationText),"\n    "))}});define("rEditor/rootComps/selectionBox/controllers/tab",["lodash","react","util","rEditor/rootComps/selectionBox/controllers/tab.rt"],function(a,b,c,d){"use strict";return b.createClass({displayName:"selectionBoxTab",propTypes:{tab:b.PropTypes.shape({modeId:b.PropTypes.string.isRequired,label:b.PropTypes.string.isRequired,active:b.PropTypes.bool.isRequired}).isRequired,onTabClick:b.PropTypes.func.isRequired,translate:b.PropTypes.bool,tabClass:b.PropTypes.string.isRequired,tabsAnimationText:b.PropTypes.string},getTabLabel:function(){return this.props.translate?c.translate(this.props.tab.label):this.props.tab.label},render:d})});define("rEditor/rootComps/selectionBox/controllers/tabsController.rt",["react","lodash","rEditor/rootComps/selectionBox/controllers/tab","uiAnimations"],function(a,b,c,d){"use strict";function e(b,e){return a.createElement(d.tabIndicationAnimation,{selectors:{label:".label",action:".action"},key:e+"-"+b.id,direction:this.props.isPositionTop?1:-1,immediatePlay:this.state.tabsAnimationStatus[e]},a.createElement(c,{tab:b,tabClass:this.tabIndexClass(e),translate:this.props.translate,onTabClick:this.props.onTabClick,tabsAnimationText:this.state.tabsAnimationText}))}return function(){return a.createElement.apply(this,["div",{className:"tabs-controller "+(this.props.className||"")},b.map(this.props.tabs,e.bind(this))])}});define("rEditor/rootComps/selectionBox/controllers/tabsController",["lodash","react","core","rEditor/rootComps/selectionBox/controllers/tabsController.rt"],function(a,b,c,d){"use strict";function e(b){if(!b.tabIndicationState){return{tabsAnimationStatus:a.times(b.tabs.length,a.constant(false)),tabsAnimationText:""}}switch(b.tabIndicationState.indication){case"DELETE":return{tabsAnimationStatus:a.map(b.tabs,"active"),tabsAnimationText:"HOVER_BOX_NAVBAR_INDICATION_DELETED"};case"APPLY":return{tabsAnimationStatus:a(b.tabs).map("active").map(a.negate(a.identity)).value(),tabsAnimationText:"HOVER_BOX_NAVBAR_INDICATION_APPLIED"};case"ADD":if(b.tabIndicationState.defaultMode){return{tabsAnimationStatus:a.times(b.tabs.length,a.constant(true)),tabsAnimationText:"HOVER_BOX_NAVBAR_INDICATION_ATTACHED"}}return{tabsAnimationStatus:a.map(b.tabs,"active"),tabsAnimationText:"HOVER_BOX_NAVBAR_INDICATION_ATTACHED"};default:return{tabsAnimationStatus:a.times(b.tabs.length,a.constant(false))}}}return b.createClass({displayName:"tabsController",mixins:[c.mixins.editorAPIMixin],propTypes:{tabs:b.PropTypes.arrayOf(b.PropTypes.shape({modeId:b.PropTypes.string,label:b.PropTypes.string.isRequired,active:b.PropTypes.bool.isRequired})).isRequired,translate:b.PropTypes.bool,tabIndicationState:b.PropTypes.shape({indication:b.PropTypes.string.isRequired,defaultMode:b.PropTypes.bool}),onTabClick:b.PropTypes.func.isRequired,isPositionTop:b.PropTypes.bool.isRequired},getInitialState:function(){return e(this.props)},componentWillReceiveProps:function(a){this.setState(e(a))},getReversedTabs:function(){return a(this.props.tabs).cloneDeep().reverse()},tabIndexClass:function(a){if(this.props.tabs.length===1){return"left-most-tab right-most-tab"}else if(a===this.props.tabs.length-1){return"right-most-tab"}else if(a===0){return"left-most-tab"}return""},render:d})});define("rEditor/rootComps/selectionBox/controllers/paginationController.rt",["react","lodash"],function(a,b){"use strict";return function(){return a.createElement("div",{className:"pagination-controller "+(this.props.className||"")},a.createElement("span",{className:"arrow prev-arrow",onClick:this.onPrev}),a.createElement("span",{className:"middle-label",onClick:this.onLabelClick},this.getLabel()),a.createElement("span",{className:"arrow next-arrow",onClick:this.onNext}))}});define("rEditor/rootComps/selectionBox/controllers/paginationController",["react","lodash","core","util","rEditor/rootComps/selectionBox/controllers/paginationController.rt"],function(a,b,c,d,e){"use strict";return a.createClass({displayName:"paginationController",render:e,mixins:[c.mixins.editorAPIMixin,d.translationMixin],propTypes:{label:a.PropTypes.string.isRequired,labelParams:a.PropTypes.object.isRequired,onNext:a.PropTypes.func.isRequired,onPrev:a.PropTypes.func.isRequired,onLabelClick:a.PropTypes.func.isRequired},getLabel:function(){return this.translateTemplate(this.props.label,this.props.labelParams,this.getEditorAPI())},onNext:function(){this.props.onNext()},onPrev:function(){this.props.onPrev()},onLabelClick:function(){this.props.onLabelClick()}})});define("rEditor/rootComps/selectionBox/navControls.rt",["react","lodash","util","baseUI","rEditor/rootComps/selectionBox/controllers/tabsController","rEditor/rootComps/selectionBox/controllers/paginationController"],function(a,b,c,d,e,f){"use strict";function g(a,c){var d=b.assign({},a,c);if(a.hasOwnProperty("style")){d.style=b.defaults(d.style,a.style)}if(a.hasOwnProperty("className")&&c.hasOwnProperty("className")){d.className=c.className+" "+a.className}return d}return function(){return a.createElement("div",{onMouseDown:this.stopEventPropagation,onMouseUp:this.stopEventPropagation,onDoubleClick:this.stopEventPropagation,onContextMenu:this.stopEventPropagation,onMouseMove:this.stopEventPropagation,onMouseEnter:this.onMouseEnter,onMouseLeave:this.onMouseLeave,style:this.getCalculatedStyle(),className:"nav-controls "+this.getPositionClass()},this.props.navType===d.uiConstants.NAVIGATION_TYPES.TABS?a.createElement(e,g({key:"tabsController",className:this.getPositionClass(),isPositionTop:this.isPositionTop(),tabIndicationState:this.props.tabIndicationState},this.props.content)):null,this.props.navType===d.uiConstants.NAVIGATION_TYPES.PAGINATION?a.createElement(f,g({key:"paginationController",className:this.getPositionClass()},this.props.content)):null)}});define("rEditor/rootComps/selectionBox/navControls",["react","lodash","core","baseUI","uiConstants","rEditor/rootComps/selectionBox/navControls.rt"],function(a,b,c,d,e,f){"use strict";return a.createClass({displayName:"navControls",mixins:[c.mixins.editorAPIMixin],propTypes:{navType:a.PropTypes.oneOf(b.values(d.uiConstants.NAVIGATION_TYPES)),content:a.PropTypes.object.isRequired,style:a.PropTypes.object,onMouseEnterControls:a.PropTypes.func,onMouseLeaveControls:a.PropTypes.func},onMouseEnter:function(){if(b.isFunction(this.props.onMouseEnterControls)){this.props.onMouseEnterControls()}},onMouseLeave:function(){if(b.isFunction(this.props.onMouseLeaveControls)){this.props.onMouseLeaveControls()}},stopEventPropagation:function(a){a.stopPropagation()},getPositionClass:function(){return this.isPositionTop()?"comp-top":"comp-bottom"},isPositionTop:function(){return b.get(this.props,"style.top")!==e.NAVIGATION_CONTROLS_POS.BOTTOM},getCalculatedStyle:function(){var a={marginLeft:this.props.style&&this.props.style.left||0};return a},render:f})});define("rEditor/rootComps/selectionBox/focusBox.rt",["react","lodash","rEditor/rootComps/selectionBox/navControls"],function(a,b,c){"use strict";function d(){var b=this.getFocusedContainerLayout();var d=this.getNavControlsContent();return a.createElement("div",{className:"focusbox",style:this.getFocusBoxStyle()},a.createElement(c,{ref:"navControls",style:this.props.navControlsStyle,navType:this.getNavType(),content:d,onMouseEnterControls:this.onMouseEnterControls,onMouseLeaveControls:this.onMouseLeaveControls,tabIndicationState:this.props.tabIndicationState}),a.createElement("div",{className:"focus-frame"}))}return function(){return d.apply(this,[])}});define("rEditor/rootComps/selectionBox/focusBox",["react","reactDOM","lodash","core","panels","baseUI","pLoader!santa:utils","rEditor/rootComps/selectionBox/selectionBoxCommons","experiment","rEditor/rootComps/selectionBox/focusBox.rt"],function(a,b,c,d,e,f,g,h,i,j){"use strict";function k(a,b){if(i.isOpen("se_hoverBox")){return!c.isEmpty(a.components.modes.getModes(b))}return false}function l(a,b){var d=a.components.modes.getComponentActiveModeIds(b);var e=a.components.modes.getComponentModesAvailableInView(b);return c.map(e,c.partial(m,d))}function m(a,b){return c.assign({},b,{active:!!a[b.modeId],label:b.type==="DEFAULT"?"HOVER_BOX_STATE_REGULAR":"HOVER_BOX_STATE_HOVER"})}function n(a,b,d){var e=a.components.modes.getComponentActiveModeIds(b);if(e[d.modeId]){a.selection.selectComponentByCompRef(b)}else{a.components.modes.activateComponentMode(b,d.modeId);var f=c.first(a.components.modes.getModesByType(b,"DEFAULT"));if(f.modeId===d.modeId){o()}}}function o(){var a=["compPanels.dynamicPanels.animationPanel"];c.forEach(a,e.panelManager.closePanelByName)}function p(a,b){var c=l(a,b);return{tabs:c,translate:true,onTabClick:function(c){return n(a,b,c)}}}return a.createClass({displayName:"focusBox",mixins:[d.mixins.editorAPIMixin],PropTypes:{focusedContainer:a.PropTypes.object.isRequired,selectedComponents:a.PropTypes.oneOfType([a.PropTypes.object,a.PropTypes.arrayOf(a.PropTypes.object)]).isRequired},getInitialState:function(){return{mouseOverNavControls:false}},getFocusedContainerLayout:function(){var a=this.getEditorAPI();var b=a.components.layout.getRelativeToScreen(this.props.focusedContainer);return h.getBoundingStyle(a,b,[this.props.focusedContainer],0)},getFocusBoxStyle:function(){var a=this.getFocusedContainerLayout();if(a.position==="fixed"){a.top+=this.getEditorAPI().editorConfig.topBarHeight}return a},getNavControlsSize:function(){if(this.refs.navControls){var a=g.domMeasurements.getBoundingRect(b.findDOMNode(this.refs.navControls));return c.pick(a,["width","height"])}return false},onMouseEnterControls:function(){if(!this.state.mouseOverNavControls){this.setState({mouseOverNavControls:true})}},onMouseLeaveControls:function(){if(this.state.mouseOverNavControls){this.setState({mouseOverNavControls:false})}},getNavType:function(){var a=this.getEditorAPI();if(k(a,this.props.focusedContainer)){return f.uiConstants.NAVIGATION_TYPES.TABS}return a.components.is.focusBoxNavType(this.props.focusedContainer)},getNavControlsContent:function(){var a=this.getEditorAPI();var b=this.props.focusedContainer;if(k(a,b)){return p(a,b)}return a.components.is.focusBoxNavContent(b)},render:j})});define("rEditor/utils/mouseMoveActions/baseResize",["lodash","core","rEditor/utils/mouseMoveActions/mouseMoveActionTypes","util"],function(a,b,c,d){"use strict";var e=b.utils.SnapToHandler;var f=b.utils.layoutTransitionsUtil;var g,h,i,j,k,l,m;var n;var o;var p=b.utils.DragConstraintsHandler;var q=[];var r=["fill","fitWidth"];var s={"wysiwyg.viewer.components.WPhoto":function(b){var c=n.components.properties.get(b);return a.includes(r,c.displayMode)},"wysiwyg.viewer.components.SiteButton":true,"wysiwyg.viewer.components.inputs.Checkbox":true,"wysiwyg.common.components.imagebutton.viewer.ImageButton":true,"wysiwyg.viewer.components.ClipArt":true,"wysiwyg.viewer.components.svgshape.SvgShape":true,"wysiwyg.viewer.components.MatrixGallery":true,"tpa.viewer.components.Thumbnails":true,"wysiwyg.viewer.components.PaginatedGridGallery":true,"wysiwyg.viewer.components.SlideShowGallery":true,"wysiwyg.viewer.components.Video":true,"wysiwyg.viewer.components.mobile.TinyMenu":true,"wysiwyg.viewer.components.inputs.RadioButton":true};var t={"wysiwyg.viewer.components.PopupContainer":function(b){var c=n.components.properties.get(g);return a.assign({},b,{symmetry:{horizontal:c.horizontalAlignment==="center",vertical:c.verticalAlignment==="center"}})}};var u={right:{right:true},left:{left:true},top:{top:true},bottom:{bottom:true},topRight:{top:true,right:true},topLeft:{top:true,left:true},bottomRight:{bottom:true,right:true},bottomLeft:{bottom:true,left:true}};var v={right:{x:1,y:0},left:{x:-1,y:0},top:{x:0,y:-1},bottom:{x:0,y:1},topRight:{x:1,y:-1},topLeft:{x:-1,y:-1},bottomRight:{x:1,y:1},bottomLeft:{x:-1,y:1}};function w(a){return v[a]}function x(a){return u[a]}function y(a){return{x:a.pageX,y:a.pageY}}function z(b){var c=n.components.getType(b);var d=a.has(s,c);return d}function A(b){var c=n.components.getType(b);var d=s[c];var e=a.isFunction(d)?d(g):!!d;var f=a.pick(u,["topRight","topLeft","bottomRight","bottomLeft"]);var h=a.includes(f,l);return(n.getCompRestrictions(g).resizeOnlyProportionally||!i)&&h&&e}function B(){if(n.components.layout.isPinned(g)){return false}if(z(g)){return A(g)}return(i||n.components.is.group(g)||n.multiselect.isMultiselect(g))&&n.components.is.proportionallyResizable(g)}function C(b){return a.has(t,b)}function D(a,b){return t[b](a)}function E(a){var b=y(a);var c=w(j);var d=n.components.layout.getRelativeToScreen(g);var e=n.components.getType(g);m=B();if(C(e)){d=D(d,e)}h=new f.Resize(d,b,c,m);o=n.components.layout.getProportionStructure(g,c)}function F(a){var b=k.getClosestLayoutDistance(n,a,l);if(Math.abs(b.x)<5){if(l.right){if(B()&&a.height){a.height+=b.x}a.width+=b.x}else if(l.left){if(B()&&a.height){a.height-=b.x}a.x+=b.x;a.width-=b.x}}if(Math.abs(b.y)<5){if(l.top){if(B()&&a.width){a.width-=b.y}a.y+=b.y;a.height-=b.y}else if(l.bottom){if(B()&&a.width){a.width+=b.y}a.height+=b.y}}}function G(a){if(l.right){a.width-=a.width%5}else if(l.left){var b=a.x%5;a.x-=b;a.width+=b}if(l.top){var c=a.y%5;a.y-=c;a.height+=c}else if(l.bottom){a.height-=a.height%5}}function H(a){var b=k.getSnapData(a,l);n.snapData.set(b)}function I(b,c){n=b;g=n.multiselect.getComponentsWhichDontHaveAncestorsInTheArray(c.comps);var d=a.map(g,"id");n.renderPlugins.setCompsToShowOnTop(d);i=c.evt.shiftKey;j=c.directionName;k=new e(n,c.comps);l=x(c.directionName);q=a.map(g,function(a){return new p(n,a)});a.forEach(q,function(a){a.highlightDragConstraints()});E(c.evt)}function J(a){var c=y(a);if(i!==a.shiftKey){i=a.shiftKey;E(a)}var d=h.getLayout(c);if(n.getViewTools().snapToEnabled&&d.rotationInDegrees===0){F(d)}var e=n.components.layout.getRelativeToScreen(g);d=b.utils.updateLayoutUtil.getLayoutRelativeToScreenAfterConstraints(n,g[0],d,e);if(m){n.components.layout.updateRelativeToScreenAndPreserveProportions(g,d,o)}else{n.components.layout.updateRelativeToScreen(g,d,true)}n.waitForChangesApplied(function(){if(k){var b=n.components.layout.getRelativeToScreen(g);if(a.altKey){G(b)}else if(n.getViewTools().snapToEnabled&&b.rotationInDegrees===0){H(b)}}})}function K(){k=null;n.snapData.clear();n.renderPlugins.setCompsToShowOnTop(null);n.history.add("Resize component");a.forEach(q,function(a){a.removeHighlightDragConstraints()});q=[];if(n.components.layout.isPinned(g)){var b=n.components.layout.getDock(g);var c=d.pinModeUtils.getDockedDirection(b);var e=n.components.layout.get(g);if(d.pinModeUtils.checkSizeRestrictions(c,e)){n.openPinModeSizeRestrictionPanel({state:"on resize",title:"Notification_Box_PinToScreen_ElementTooLarge_postPin_Title",content:"Notification_Box_PinToScreen_ElementTooLarge_postPin_Message"})}}}return{start:I,on:J,end:K,type:c.RESIZE}});define("rEditor/utils/mouseMoveActions/pageResize",["lodash","core","rEditor/utils/mouseMoveActions/mouseMoveActionTypes","constants"],function(a,b,c,d){"use strict";var e,f,g,h,i,j,k;function l(a){return{x:a.pageX,y:a.pageY}}function m(a,b){e=a;var c=e.pages.getPrimaryPageId();f=l(b.evt);i=e.pages.getReference(c);k=e.pages.getPageBottomByComponents(i.id);g=e.components.layout.get(i).height}function n(b){var c=l(b);var d=c.y-f.y;h=Math.max(r(d),k);e.pages.properties.update(i,{minHeight:h});j=!a.isEqual(h,g)}function o(){e.pages.properties.update(i,{minHeight:null});q()}function p(){if(j){q();e.bi.event(b.bi.events.pageResize.PAGE_MIN_HEIGHT_RESIZE,{yCoordinate_new:h,yCoordinate_old:g});j=false}}function q(){e.history.add("Resize page")}function r(a){var b=g+a;var c=e.isMobileEditor()?d.CONSTRAINS.PAGE_MIN_HEIGHT.MOBILE:d.CONSTRAINS.PAGE_MIN_HEIGHT.DESKTOP;return Math.max(b,c)}return{start:m,on:n,end:p,reset:o,type:c.RESIZE}});define("rEditor/utils/mouseMoveActions/baseResizeAndPush",["lodash","core","experiment","rEditor/utils/mouseMoveActions/mouseMoveActionTypes"],function(a,b,c,d){"use strict";var e=b.utils.layoutTransitionsUtil;var f=b.utils.mouseCoordinatesHandler;var g;var h;var i;function j(a){var b=c.isOpen("fitEditorCoordinatesToViewer")?f.fitMouseCoordinatesToViewer(h,a):{pageX:a.pageX,pageY:a.pageY,clientX:a.clientX,clientY:a.clientY};return{x:b.pageX,y:b.pageY}}function k(b,c){h=b;g=c.comps;h.selection.setIsMouseUpSelectionEnabled(false);var d=a.map(g,"id");h.renderPlugins.setCompsToShowOnTop(d);var f=j(c.evt);var k=h.components.layout.getRelativeToScreen(g);i=new e.Resize(k,f,{x:0,y:1},false)}function l(b){var c=j(b);var d=i.getLayout(c);var e=h.components.layout.getMinDimensions(g);d.bounding=h.utils.getBoundingLayout(d);if(d.height>=e.height){h.components.layout.updateRelativeToScreenAndAdjustLayout(g,a.pick(d,["height","width"]),true)}}function m(){h.renderPlugins.setCompsToShowOnTop(null);h.history.add("Resize component")}return{start:k,on:l,end:m,type:d.RESIZE}});define("rEditor/utils/mouseMoveActions/baseRotate",["lodash","core","experiment","rEditor/utils/mouseMoveActions/mouseMoveActionTypes"],function(a,b,c,d){"use strict";var e=b.utils.layoutTransitionsUtil;var f=b.utils.mouseCoordinatesHandler;var g=false;var h;var i;var j;var k;var l=3;var m=90;var n=15;function o(a){p(a);k.components.layout.updateRelativeToScreen(j,a,true)}function p(a){if(a.rotationInDegrees<0){a.rotationInDegrees+=360}var b=a.rotationInDegrees%m;if(b<=l){a.rotationInDegrees-=b}else if(b>=m-l){a.rotationInDegrees+=m-b}}function q(a){var b=Math.floor(h<0?h+360:h);var c=Math.floor(a.rotationInDegrees<0?a.rotationInDegrees+360:a.rotationInDegrees);var d=c-b;var e=Math.floor(d/n);a.rotationInDegrees=h+e*n;k.components.layout.updateRelativeToScreen(j,a,true)}function r(b,d){j=d.comps;k=b;k.selection.setIsMouseUpSelectionEnabled(false);var g=a.map(j,"id");k.renderPlugins.setCompsToShowOnTop(g);var h=k.components.layout.getRelativeToScreen(j);var l=a.defaults({y:h.y+k.editorConfig.previewPosition.top,x:h.x+k.editorConfig.previewPosition.left},h);var m=c.isOpen("fitEditorCoordinatesToViewer")?f.fitMouseCoordinatesToViewer(k,d.evt):{pageX:d.evt.pageX,pageY:d.evt.pageY,clientX:d.evt.clientX,clientY:d.evt.clientY};var n={x:m.pageX,y:m.pageY};i=new e.Rotate(h,n,l)}function s(a){var b=c.isOpen("fitEditorCoordinatesToViewer")?f.fitMouseCoordinatesToViewer(k,a):{pageX:a.pageX,pageY:a.pageY,clientX:a.clientX,clientY:a.clientY};var d={x:b.pageX,y:b.pageY};var e=i.getLayout(d);if(a.shiftKey){if(!g){h=k.components.layout.getRelativeToScreen(j).rotationInDegrees}q(e)}else{o(e)}g=a.shiftKey}function t(){k.waitForChangesApplied(function(){var a=k.components.layout.get(j).rotationInDegrees;k.bi.event(b.bi.events.editBox.ROTATE_COMPONENT,{value:parseInt(a,10),origin:"editBox"})});k.renderPlugins.setCompsToShowOnTop(null);k.history.add("Rotate component")}return{start:r,on:s,end:t,type:d.ROTATE}});define("rEditor/utils/mouseMoveActions/baseDoubleClick",["lodash","core","gfppData"],function(a,b,c){"use strict";function d(d,e){var f=d.components.getType(e.comp);var g=d.pluginService.getPlugin(d.pluginService.pluginConstants.DOUBLE_CLICK,f);if(a.isFunction(g)){g(d,e)}else{var h=c.getComponentMainActionClick(d,e.comp);if(a.isFunction(h)){h(d,e.comp,b.constants.USER_ACTIONS.ORIGIN.DOUBLE_CLICK)}}}return{doubleClick:d}});define("rEditor/utils/mouseMoveActions/baseDragAndPush",["lodash","core","experiment","rEditor/utils/mouseMoveActions/mouseMoveActionTypes"],function(a,b,c,d){"use strict";var e=b.utils.layoutTransitionsUtil;var f=b.utils.mouseCoordinatesHandler;var g;var h;var i;var j;var k=0;var l;function m(a,b){var c=b.x+b.width<=a.x;var d=b.x>=a.x+a.width;var e=!(c||d);return e&&b.y+b.height<=a.y}function n(b){var c=i.components.getSiblings(h);var d=a(c).map(function(a){return i.components.layout.getRelativeToScreen(a)}).filter(function(a){return m(b,a)}).value();if(d.length===0){return 0}var e=a.max(d,function(a){return a.y+a.height});return e.y+e.height}function o(a){var b=i.components.getContainer(h);var c=i.components.layout.getRelativeToScreen(b);var d=n(a);return Math.max(d,c.y)}function p(b,d){i=b;h=d.comps;l=d.onDragAndPushEnd;var j=a.map(h,"id");i.renderPlugins.setCompsToShowOnTop(j);var m=a.omit(i.components.layout.getRelativeToScreen(h),"bounding");var n=a.map(h,function(b){return a.omit(i.components.layout.getRelativeToScreen(b),"bounding")});k=o(m);var p=c.isOpen("fitEditorCoordinatesToViewer")?f.fitMouseCoordinatesToViewer(i,d.evt):{pageX:d.evt.pageX,pageY:d.evt.pageY,clientX:d.evt.clientX,clientY:d.evt.clientY};var q={x:p.pageX,y:p.pageY};g=new e.Drag(m,q,n)}function q(b){var d=c.isOpen("fitEditorCoordinatesToViewer")?f.fitMouseCoordinatesToViewer(i,b):{pageX:b.pageX,pageY:b.pageY,clientX:b.clientX,clientY:b.clientY};var e={x:d.pageX,y:d.pageY};var l=g.getLayout(e);l.y=Math.max(l.y,k);j=g.getBoundComponentLayouts(l);for(var m=0;m<h.length;m++){i.components.layout.updateRelativeToScreenAndAdjustLayout(h[m],a.pick(j[m],"y"))}}function r(){if(j){for(var b=0;b<h.length;b++){i.components.layout.updateRelativeToScreen(h[b],a.pick(j[b],"y"))}j=null}i.waitForChangesApplied(function(){i.renderPlugins.setCompsToShowOnTop(null)});if(a.isFunction(l)){l()}}return{start:p,on:q,end:r,type:d.DRAG}});define("rEditor/rootComps/selectionBox/groupSelectionFrame.rt",["react","lodash"],function(a,b){"use strict";return function(){return a.createElement("div",{},this.ancestorToStyle?a.createElement("div",{key:"markContainer",className:b({layout:true,"secondary-component":true}).transform(function(a,b,c){if(b){a.push(c)}},[]).join(" "),style:this.boundingContainerStyle}):null)}});define("rEditor/rootComps/selectionBox/groupSelectionFrame",["react","lodash","core","rEditor/rootComps/selectionBox/selectionBoxCommons","rEditor/rootComps/selectionBox/groupSelectionFrame.rt"],function(a,b,c,d,e){"use strict";function f(a,b){var c=a.multiselect.isMultiselect(b);return!c&&a.components.is.groupedComponent(b)}function g(a,b){if(f(a,b)){return d.findFirstContainerMatchingConditions(a,b,[a.components.is.group])}return null}return a.createClass({displayName:"groupSelectionFrame",mixins:[c.mixins.editorAPIMixin],PropTypes:{selectedComponents:a.PropTypes.oneOfType([a.PropTypes.object,a.PropTypes.arrayOf(a.PropTypes.object)]).isRequired},componentWillUpdate:function(){var a=this.getEditorAPI();this.ancestorToStyle=g(a,this.props.selectedComponents);if(this.ancestorToStyle){var b=a.components.layout.getRelativeToScreen(this.ancestorToStyle);this.boundingContainerStyle=d.getBoundingStyle(a,b,this.props.selectedComponents,1)}},render:e})});define("rEditor/rootComps/selectionBox/componentLabels.rt",["react","lodash","baseUI","util"],function(a,b,c,d){"use strict";return function(){return a.createElement("span",{className:b(this.getContainerClasses()).transform(function(a,b,c){if(b){a.push(c)}},[]).join(" "),style:this.props.labelInlineStyles},this.props.isPinnedToPage?a.createElement("span",{key:"pinModeIndicator",className:b(this.getPinSymbolContainerClasses()).transform(function(a,b,c){if(b){a.push(c)}},[]).join(" ")},a.createElement(c.symbol,{name:"pinModeIndicator",className:"symbol-pinModeIndicator"})):null,this.props.showComponentType&&this.props.componentType?a.createElement("span",{key:"componentTypeLabel",className:b(this.getComponentTypeLabelClasses()).transform(function(a,b,c){if(b){a.push(c)}},[]).join(" ")},this.props.componentType):null,this.props.componentNickname?a.createElement("span",{className:"label-comp-nickname",key:"componentNicknameLabel"},this.props.componentNickname):null,this.props.isConnected?a.createElement("span",{className:"label-comp-connected",key:"connectedToDataLabel"},d.translate("connected_to_data")):null,this.props.infoText&&this.props.isConnected?a.createElement(c.infoIcon,{key:"infoIcon",className:"label-info-icon-container",text:this.props.infoText,symbolName:"connectedInfoIcon"}):null)}});define("rEditor/rootComps/selectionBox/componentLabels",["lodash","react","rEditor/rootComps/selectionBox/componentLabels.rt"],function(a,b,c){"use strict";return b.createClass({displayName:"componentLabels",propTypes:{showComponentType:b.PropTypes.bool,isConnected:b.PropTypes.bool,isLabelLarge:b.PropTypes.bool,isLabelBelowLine:b.PropTypes.bool,showOnAllPages:b.PropTypes.bool,isPinnedToPage:b.PropTypes.bool,componentType:b.PropTypes.string,componentNickname:b.PropTypes.string,labelInlineStyles:b.PropTypes.object},getContainerClasses:function(){return{"component-labels":true,"label-small":!this.props.isLabelLarge,"label-large":this.props.isLabelLarge,"label-above-line":!this.props.isLabelBelowLine}},getComponentTypeLabelClasses:function(){return{"label-comp-type":true,"show-on-all-pages":this.props.showOnAllPages}},getPinSymbolContainerClasses:function(){return{"symbol-container":true,"symbol-container-not-connected-comp":!this.props.isConnected,"symbol-container-connected-comp":this.props.isConnected,"show-on-all-pages":this.props.showOnAllPages&&!this.props.isConnected}},render:c})});define("rEditor/rootComps/selectionBox/editBox.rt",["react","lodash","core","baseUI","util","rEditor/rootComps/selectionBox/groupSelectionFrame","rEditor/rootComps/selectionBox/navControls","rEditor/rootComps/selectionBox/componentLabels","experiment"],function(a,b,c,d,e,f,g,h,i){"use strict";function j(c,d,e,f,g,h){return a.createElement("div",{className:b({layout:true,"secondary-component":e,"show-on-all-pages":this.isCompShowOnAllPages(g)}).transform(function(a,b,c){if(b){a.push(c)}},[]).join(" "),key:h,style:this.getSubComponentStyle(g)})}function k(b,c,d,e){var f=this.getPaddingStyle();return a.createElement("div",{className:"padding-wrapper",key:"paddingWrapper",style:f.wrapper},a.createElement("div",{className:"left-padding",style:f.left},a.createElement("div",{className:"min-indicator-margin",style:{top:this.getMarginLabelTop()}},this.possibleLayoutActionsMap.resizable&&this.isHorizontallyStretchedToScreen?a.createElement("span",{className:"indicator resizing",key:"resizeBoundingStyleLeft"},this.getMarginValue("left"),"\n                "):null)),a.createElement("div",{className:"right-padding",style:f.right},a.createElement("div",{className:"min-indicator-margin",style:this.layout.x<56?{right:0,position:"absolute",top:this.getMarginLabelTop()}:{top:this.getMarginLabelTop()}},this.possibleLayoutActionsMap.resizable&&this.isHorizontallyStretchedToScreen?a.createElement("span",{className:"indicator resizing",key:"resizeBoundingStyleRight"},this.getMarginValue("right"),"\n                "):null)))}function l(a,b,d,e,f){this.getEditorAPI().bi.event(c.bi.events.pageResize.PAGE_MIN_HEIGHT_TOOLTIP_APPEARED)}function m(c,e,f,g){var j=this.getComponentData(this.props.selectedComponents);return a.createElement(d.tooltip,{id:this.getLinkedToTooltipId(j),key:this.getLinkedToTooltipId(j),value:this.getLinkDescriptionFromData(j),alignment:"right",delay:"500",width:"260px",marginsFromElement:9,disabled:!this.shouldShowLinkedToTooltip(e,j),shouldTranslate:false,openTriggers:[d.uiConstants.TOOLTIP.TRIGGERS.IMMEDIATE,d.uiConstants.TOOLTIP.TRIGGERS.MOUSE_ENTER]},a.createElement("div",{className:b({layout:true,"secondary-component":e,"show-on-all-pages":this.isCompShowOnAllPages(this.props.selectedComponents)}).transform(function(a,b,c){if(b){a.push(c)}},[]).join(" "),style:e?this.getBoundingStyle():this.getLayoutStyle()},i.isOpen("se_newComponentLabels")&&this.props.selectedComponents&&this.props.selectedComponents.length===1?a.createElement(h,{key:"compLabels",isConnected:this.props.isConnected,infoText:"component_is_connected_tooltip_text"}):null,!this.isHorizontallyStretchedToScreen&&(c.top&&c.left||c.resizeOnlyProportionally)?a.createElement("span",{className:this.getResizeHandleCursorClass("TOP_LEFT")+" handle handle-resize-corner top left","data-direction-name":"topLeft",ref:"resizeTopLeft",onMouseDown:this.startResize,key:"resizeTopLeft"}):null,c.top?a.createElement("span",{className:this.getResizeHandleCursorClass("TOP")+" handle handle-resize-side top","data-direction-name":"top",onMouseDown:this.startResize,key:"resizeTopCenter"}):null,!this.isHorizontallyStretchedToScreen&&(c.top&&c.right||c.resizeOnlyProportionally)?a.createElement("span",{className:this.getResizeHandleCursorClass("TOP_RIGHT")+" handle handle-resize-corner top right","data-direction-name":"topRight",onMouseDown:this.startResize,key:"resizeTopRight"}):null,c.right?a.createElement("span",{className:this.getResizeHandleCursorClass("RIGHT")+" handle handle-resize-side right","data-direction-name":"right",onMouseDown:this.startResize,key:"resizeMiddleRight"}):null,!this.isHorizontallyStretchedToScreen&&(c.bottom&&c.right||c.resizeOnlyProportionally)?a.createElement("span",{className:this.getResizeHandleCursorClass("BOTTOM_RIGHT")+" handle handle-resize-corner bottom right","data-direction-name":"bottomRight",onMouseDown:this.startResize,key:"resizeBottomRight"}):null,c.bottom?a.createElement("span",{className:this.getResizeHandleCursorClass("BOTTOM")+" handle handle-resize-side bottom","data-direction-name":"bottom",onMouseDown:this.startResize,key:"resizeBottomCenter"}):null,c.bottomPage?a.createElement(d.tooltip,{id:"pageResizeKnobTooltip",key:"pageResizeKnobTooltip",value:"OnStage_PageMinHeightHandle_Tooltip",alignment:"top",delay:"500",openTriggers:[],closeTriggers:[],onOpen:l.bind(this,c,e,f,g,j)},a.createElement("span",{className:b({"footer-handle":this.isFooterContainerSelected()}).transform(function(a,b,c){if(b){a.push(c)}},[]).join(" ")+" "+"handle handle-push handle-resize-with-anchors",onMouseDown:this.startPageResize,onDoubleClick:this.resetPageSize,onMouseEnter:this.showPageResizeKnobTooltip,onMouseLeave:this.hidePageResizeKnobTooltip,key:"resizeBottomPage"},a.createElement(d.symbol,{name:"pageResizeHandle"}))):null,!this.isHorizontallyStretchedToScreen&&(c.bottom&&c.left||c.resizeOnlyProportionally)?a.createElement("span",{className:this.getResizeHandleCursorClass("BOTTOM_LEFT")+" handle handle-resize-corner bottom left","data-direction-name":"bottomLeft",onMouseDown:this.startResize,key:"resizeBottomLeft"}):null,c.left?a.createElement("span",{className:this.getResizeHandleCursorClass("LEFT")+" handle handle-resize-side left","data-direction-name":"left",onMouseDown:this.startResize,key:"resizeMiddleLeft"}):null,c.rotate?a.createElement("span",{className:"handle handle-rotate",onMouseDown:this.startRotate,key:"rotate",ref:"rotate"},a.createElement(d.symbol,{name:"rotate"})):null,c.rotate&&this.isComponentRotated()?a.createElement("span",{className:"handle handle-rotate-cancel",onMouseDown:this.cancelRotation,style:{transform:"rotate("+(360-this.layout.rotationInDegrees)+"deg) translate3d(0,0,0)"},key:"cancelRotate",ref:"cancelRotate"},a.createElement(d.symbol,{name:"rotateCancel"})):null,c.dragAndPush&&!this.isComponentRotated()?a.createElement(d.tooltip,{id:"dragWithAnchorsVerticalTooltip",
key:"dragWithAnchorsVerticalTooltip",value:"ONSTAGE_DragHandle_Tooltip",alignment:"top",openTriggers:[],closeTriggers:[]},a.createElement("span",{className:"handle handle-push handle-drag-with-anchors",onMouseEnter:this.showDragWithAnchorsKnobTooltip,onMouseLeave:this.hideDragWithAnchorsKnobTooltip,onMouseDown:this.startDragAndPush,key:"dragWithAnchorsVertical"},a.createElement(d.symbol,{name:"pushAndEnforceAnchors"}))):null,c.resizeAndPush&&!this.isComponentRotated()&&!f&&!c.resizeOnlyProportionally?a.createElement(d.tooltip,{id:"resizeWithAnchorsBottomTooltip",key:"resizeWithAnchorsBottomTooltip",value:"OnStage_StretchHandle_Tooltip",alignment:"bottom",openTriggers:[],closeTriggers:[]},a.createElement("span",{className:"handle handle-push handle-resize-with-anchors",onMouseEnter:this.showResizeWithAnchorsKnobTooltip,onMouseLeave:this.hideResizeWithAnchorsKnobTooltip,onMouseDown:this.startResizeAndPush,key:"resizeWithAnchorsBottom"},a.createElement(d.symbol,{name:"resizeAndEnforceAnchors"}))):null,this.possibleLayoutActionsMap.rotatable?a.createElement("span",{className:"indicator",style:{transform:"rotate("+(360-this.layout.rotationInDegrees)+"deg) translate3d(0,0,0)"},key:"rotationIndicator"},Math.floor(this.layout.rotationInDegrees),"°\n        "):null))}function n(){var c=this.getAllowedKnobsMap();var g=this.isMultiselect();var h=this.getEditorAPI().components.is.group(this.props.selectedComponents);var i=e.translate;return a.createElement.apply(this,["div",{className:b(this.getEditBoxClasses()).transform(function(a,b,c){if(b){a.push(c)}},[]).join(" "),onContextMenu:this.props.onContextMenu,onDoubleClick:this.onDoubleClick},this.hasSubComponents()?b.map(this.getSubComponents(),j.bind(this,c,g,h,i)):null,a.createElement(f,{selectedComponents:this.props.selectedComponents}),this.shouldShowPadding()?k.apply(this,[c,g,h,i]):null,a.createElement("div",{className:b({bounding:true,"show-on-all-pages":this.isCompShowOnAllPages(this.props.selectedComponents)}).transform(function(a,b,c){if(b){a.push(c)}},[]).join(" "),style:this.getBoundingStyle()},this.possibleLayoutActionsMap.movable?a.createElement("span",{className:"indicator dragging",key:"dragBoundingStyle"}," x: ",parseInt(this.relativeToStructureLayout.bounding.x,10),", y: ",parseInt(this.relativeToStructureLayout.bounding.y,10),"\n        "):null,(this.possibleLayoutActionsMap.resizable||this.possibleLayoutActionsMap.resizeOnlyProportionally)&&!this.isHorizontallyStretchedToScreen?a.createElement("span",{className:"indicator resizing",key:"resizeBoundingStyle"},"\n                 W: ",parseInt(this.relativeToStructureLayout.bounding.width,10),", H: ",parseInt(this.relativeToStructureLayout.bounding.height,10),"\n        "):null),m.apply(this,[c,g,h,i]),this.canBeMovedToFooter()?a.createElement("span",{className:"move-to-footer",key:"moveToFooter",style:this.getMoveToFooterStyle(),onMouseDown:this.moveToFooter},i("OnStage_MoveToFooter_Button"),"\n\n            ",a.createElement(d.symbol,{name:"moveToFooterArrow"})):null])}return function(){return n.apply(this,[])}});define("rEditor/rootComps/selectionBox/editBox",["reactDOM","react","lodash","core","baseUI","experiment","rEditor/utils/mouseMoveActions/baseResize","rEditor/utils/mouseMoveActions/pageResize","rEditor/utils/mouseMoveActions/baseResizeAndPush","rEditor/utils/mouseMoveActions/baseRotate","rEditor/utils/mouseMoveActions/baseDoubleClick","rEditor/utils/mouseMoveActions/baseDragAndPush","util","pLoader!santa:utils","rEditor/rootComps/selectionBox/selectionBoxCommons","rEditor/rootComps/selectionBox/editBox.rt","rEditor/utils/mouseMoveActions/mouseMoveActionTypes"],function(a,b,c,d,e,f,g,h,i,j,k,l,m,n,o,p){"use strict";var q=21;var r=["SITE_HEADER","SITE_FOOTE/**/R"];var s=800;var t={px:"px",pct:"%",vw:"%"};var u=["TOP_LEFT","TOP","TOP_RIGHT","RIGHT","BOTTOM_RIGHT","BOTTOM","BOTTOM_LEFT","LEFT"];var v=["top-left-resize-cursor","top-resize-cursor","top-right-resize-cursor","right-resize-cursor","bottom-right-resize-cursor","bottom-resize-cursor","bottom-left-resize-cursor","left-resize-cursor"];function w(a){return c.some(a,function(a){return c.includes(r,a.id)})}function x(a,b){return c.some(b,function(b){var c=a.components.getType(b);return c===n.constants.POPUP.POPUP_CONTAINER.COMPONENT_TYPE})}function y(a,b){return d.utils.mouseCoordinatesHandler.fitMouseCoordinatesToViewer(a,b)}function z(a,b){var c=a.components.layout.getRelativeToScreen(b);if(a.components.layout.isShowOnFixedPosition(b)){c.y+=a.editorConfig.previewPosition.top;c.bounding.y+=a.editorConfig.previewPosition.top;c.x+=a.editorConfig.previewPosition.left;c.bounding.x+=a.editorConfig.previewPosition.left}return c}function A(a,b,c,d){if(a.isMobileEditor()||a.isCurrentPageLandingPage()||a.components.layout.isShowOnFixedPosition(b)){return false}var e=a.siteSegments.getPagesContainer();var f=a.components.layout.getRelativeToScreen(e);var g=f.y+f.height-(c.bounding.y+c.bounding.height);var h=g>=0&&g<=q;return h&&!d&&a.components.canShowOnAllPages(b)&&!a.text.isEditingText()}function B(a,b){return a.getCompRestrictions(a.components.is.page(b)?a.siteSegments.getPagesContainer():b)}function C(a){if(!a||!c.isUndefined(a.left.px)&&a.left.px!==0){return false}return a.left.vw===0}return b.createClass({displayName:"editBox",mixins:[d.mixins.editorAPIMixin],propTypes:{selectedComponents:b.PropTypes.oneOfType([b.PropTypes.object,b.PropTypes.arrayOf(b.PropTypes.object)]).isRequired,focusedContainer:b.PropTypes.object,isPinMode:b.PropTypes.bool,isConnected:b.PropTypes.bool,isDim:b.PropTypes.bool,isResizing:b.PropTypes.bool,isDragging:b.PropTypes.bool,isRotating:b.PropTypes.bool},prepareData:function(a){var b=this.getEditorAPI();this.layout=z.call(this,b,a.selectedComponents);this.relativeToStructureLayout=b.components.layout.getRelativeToStructure(a.selectedComponents);this.isShowOnAllPages=b.components.isShowOnAllPages(a.selectedComponents);this.possibleLayoutActionsMap=B(b,a.selectedComponents);this.isHorizontallyStretchedToScreen=b.components.layout.isHorizontallyStretchedToScreen(a.selectedComponents)},componentWillMount:function(){this.prepareData(this.props)},getEditBoxClasses:function(){return{"edit-box":true,"edit-box-for-pin-mode":this.props.isPinMode,"edit-box-dim":this.props.isDim,movable:this.possibleLayoutActionsMap.horizontallyMovable||this.possibleLayoutActionsMap.verticallyMovable,"show-move-to-footer-button":this.shouldShowMoveToFooterButton,horizontallyStretched:this.isHorizontallyStretchedToScreen,"full-stretched":this.isHorizontallyStretchedToScreen&&C(this.layout.docked),dragging:this.props.isDragging,resizing:this.props.isResizing,rotating:this.props.isRotating,"small-width-component":this.layout.width<=50,"multi-select":this.isMultiselect()}},getLayoutStyle:function(a){a=a||this.layout;var b="rotate("+a.rotationInDegrees+"deg)";var c={position:o.getPosition(this.getEditorAPI(),this.props.selectedComponents),top:a.y-1,left:a.x-1,width:a.width,height:a.height,transform:b,WebkitTransform:b};if(this.isColumnsContainer()){c.boxSizing="border-box";c.height+=1}if(f.isOpen("se_editBoxPerformance")){var d="translate3d("+(a.x-1)+"px,"+(a.y-1)+"px,0) "+b;c.left=0;c.top=0;c.transform=d;c.WebkitTransform=d}return c},isComponentRotated:function(){return this.layout.rotationInDegrees!==0},getMoveToFooterStyle:function(a){a=a||this.layout;var b=a.bounding.y+a.bounding.height;var c=a.bounding.x+a.bounding.width/2;return{top:b-14,left:c}},getBoundingStyle:function(a){return o.getBoundingStyle(this.getEditorAPI(),a||this.layout,this.props.selectedComponents,1)},shouldShowPadding:function(){var a=f.isOpen("se_screenWidthEditBox");return a&&this.isHorizontallyStretchedToScreen},getPaddingStyle:function(){var a=this.getEditorAPI().components.layout.isShowOnFixedPosition(this.props.selectedComponents)?"fixed":"absolute";var b={top:this.layout.y-1,height:this.layout.height+2,position:a};var c={top:0,bottom:0,left:0,width:this.layout.x};var d={top:0,bottom:0,left:this.layout.x+this.layout.width,right:0};return{wrapper:b,left:c,right:d}},componentWillReceiveProps:function(a){this.prepareData(a);var b=this.getEditorAPI();if(this.props.isResizing||this.props.isRotating||this.props.isPinMode||!b.utils.isSameRef(this.props.selectedComponents,a.selectedComponents)){this.shouldShowMoveToFooterButton=false}else if(this.props.isDragging){this.shouldShowMoveToFooterButton=A(b,a.selectedComponents,this.layout,this.isShowOnAllPages)}},getResizeHandleCursorClass:function(a){var b=c.indexOf(u,a);var d=this.layout.rotationInDegrees+22.5;if(d>=360){d-=360}var e=Math.floor(d/45);var f=b+e;if(f>=v.length){f-=v.length}var g=v[f];return g},getAllowedKnobsMap:function(){var a=this.getEditorAPI();var b=this.props.selectedComponents;var d=this.possibleLayoutActionsMap;var e=a.components.layout.RESIZE_SIDES;var g=c.difference(d.resizeableSides,d.disabledKnobs);var h=false;if(f.isOpen("popups")){h=x(a,b)}return{top:c.includes(g,e.TOP)&&!w(b),bottom:c.includes(g,e.BOTTOM)&&!w(b),left:c.includes(g,e.LEFT),right:c.includes(g,e.RIGHT),dragAndPush:a.multiselect.containsSiblingsOnly(b)&&(d.verticallyMovable||d.canMoveUp)&&!a.components.layout.isPinned(b)&&d.anchorableFrom,resizeOnlyProportionally:d.resizeOnlyProportionally,resizeAndPush:!a.multiselect.isMultiselect(b)&&d.verticallyResizable&&!a.components.layout.isPinned(b)&&!h,rotate:d.rotatable&&!a.components.layout.isPinned(b),bottomPage:this.isPageContainerSelected()||this.isFooterContainerSelected()}},startPageResize:function(a){var b=this.getEditorAPI();if(!f.isOpen("fitEditorCoordinatesToViewer")){y(b,a)}b.registerMouseMoveAction(h,{evt:a,comps:this.props.selectedComponents});this.hidePageResizeKnobTooltip();a.stopPropagation()},resetPageSize:function(a){var b=this.getEditorAPI();h.reset();b.bi.event(d.bi.events.pageResize.PAGE_MIN_HEIGHT_RESET_MIN_HEIGHT);a.stopPropagation()},startResize:function(a){var b=this.getEditorAPI();if(!f.isOpen("fitEditorCoordinatesToViewer")){y(b,a)}var c=a.target.getAttribute("data-direction-name");b.registerMouseMoveAction(g,{evt:a,directionName:c,comps:this.props.selectedComponents});var e=b.multiselect.isMultiselect(this.props.selectedComponents)?"multiselect":b.getComponentType(this.props.selectedComponents);b.bi.event(d.bi.events.editBox.RESIZE,{origin:"editBox",handle_value:c,component_type:e});a.stopPropagation()},startRotate:function(a){var b=this.getEditorAPI();if(!f.isOpen("fitEditorCoordinatesToViewer")){y(b,a)}this.getEditorAPI().registerMouseMoveAction(j,{evt:a,comps:this.props.selectedComponents});a.stopPropagation()},cancelRotation:function(a){var b=this.getEditorAPI();b.selection.setIsMouseUpSelectionEnabled(false);b.components.layout.update(this.props.selectedComponents,{rotationInDegrees:0});b.bi.event(d.bi.events.editBox.CANCEL_ROTATE_COMPONENT);b.history.add("Rotation canceled");a.stopPropagation()},canBeMovedToFooter:function(){var a=this.getEditorAPI();var b=!a.components.is.groupedComponent(this.props.selectedComponents);var c=a.multiselect.areComponentsOfSamePage(this.props.selectedComponents);return b&&c},startDragAndPush:function(a){var b=this.getEditorAPI();if(!f.isOpen("fitEditorCoordinatesToViewer")){y(b,a)}var c=b.components.is.page(this.props.selectedComponents)?[b.siteSegments.getPagesContainer()]:b.multiselect.getComponentsWhichDontHaveAncestorsInTheArray(this.props.selectedComponents);b.registerMouseMoveAction(l,{evt:a,comps:c});b.bi.event(d.bi.events.editBox.DRAG_BY_HANDLE,{component_type:b.getComponentType(this.props.selectedComponents)});this.hideKnobTooltip("dragWithAnchorsVerticalTooltip");a.stopPropagation()},startResizeAndPush:function(a){var b=this.getEditorAPI();if(!f.isOpen("fitEditorCoordinatesToViewer")){y(b,a)}b.registerMouseMoveAction(i,{evt:a,comps:this.props.selectedComponents});b.bi.event(d.bi.events.editBox.RESIZE_BY_HANDLE,{component_type:b.getComponentType(this.props.selectedComponents)});this.hideKnobTooltip("resizeWithAnchorsBottomTooltip");a.stopPropagation()},onDoubleClick:function(a){var b=this.getEditorAPI();if(b.selection.isMultiSelectKeyPressed(a)){return}if(!f.isOpen("fitEditorCoordinatesToViewer")){y(b,a)}var c={evt:a,comp:this.props.selectedComponents};k.doubleClick(b,c)},showKnobTooltip:function(a){if(!this.props.isResizing&&!this.props.isDragging){this.showTooltipTimeout=setTimeout(function(){e.tooltipManager.show(a)},s)}},hideKnobTooltip:function(a){if(this.showTooltipTimeout){clearTimeout(this.showTooltipTimeout);this.showTooltipTimeout=null}e.tooltipManager.hide(a)},showDragWithAnchorsKnobTooltip:function(){this.showKnobTooltip("dragWithAnchorsVerticalTooltip")},showResizeWithAnchorsKnobTooltip:function(){this.showKnobTooltip("resizeWithAnchorsBottomTooltip")},showPageResizeKnobTooltip:function(){this.showKnobTooltip("pageResizeKnobTooltip")},hidePageResizeKnobTooltip:function(){this.hideKnobTooltip("pageResizeKnobTooltip")},hideDragWithAnchorsKnobTooltip:function(){this.hideKnobTooltip("dragWithAnchorsVerticalTooltip")},hideResizeWithAnchorsKnobTooltip:function(){this.hideKnobTooltip("resizeWithAnchorsBottomTooltip")},moveToFooter:function(a){var b=this.getEditorAPI();var c=b.multiselect.getComponentsWhichDontHaveAncestorsInTheArray(this.props.selectedComponents);b.components.moveToFooter(c);b.bi.event(d.bi.events.editBox.MOVE_TO_FOOTER,{component_type:b.getComponentType(this.props.selectedComponents)});this.shouldShowMoveToFooterButton=false;a.stopPropagation()},hasSubComponents:function(){return this.getEditorAPI().components.is.group(this.props.selectedComponents)||this.isColumnsContainer()||this.isMultiselect()},isColumnsContainer:function(){var a="wysiwyg.viewer.components.StripColumnsContainer";var b=this.props.selectedComponents;return this.getEditorAPI().components.getType(b)===a},getSubComponentStyle:function(a){var b=z.call(this,this.getEditorAPI(),a);return this.getLayoutStyle(b)},getSubComponents:function(){var a=this.getEditorAPI();if(this.isMultiselect()){return this.props.selectedComponents}return a.components.getChildren(this.props.selectedComponents)},isCompShowOnAllPages:function(a){return this.getEditorAPI().components.isShowOnAllPages(a)||f.isOpen("boxSlideShow")&&this.getEditorAPI().components.isShownOnAllStates(a)},isMultiselect:function(){return this.getEditorAPI().multiselect.isMultiselect(this.props.selectedComponents)},getRotateKnobRect:function(){if(this.layout.rotationInDegrees){return this.refs.cancelRotate&&a.findDOMNode(this.refs.cancelRotate).getBoundingClientRect()}return this.refs.rotate&&a.findDOMNode(this.refs.rotate).getBoundingClientRect()},doesAncestorHaveStates:function(){return!!this.getAncestorCompWithStates()},getAncestorCompWithModes:function(){if(this.isMultiselect()){return null}var a=this.getEditorAPI();var b=c.first([].concat(this.props.selectedComponents));while(b&&!a.components.modes.getModes(b)){b=a.components.getContainer(b)}return b},getMarginLabelTop:function(){return this.layout.height/2-30},getComponentData:function(a){var b=this.getEditorAPI();var d=c.first(a);return b.components.data.get(d)},getLinkedToTooltipId:function(a){if(!a){return"linkedTo"}return"linkedTo-"+a.id},getLinkDescriptionFromData:function(a){if(!a){return""}var c=m.translate("mobile_link_notification_tooltip");var d=m.link.getLinkValueAsString(this.getEditorAPI(),a.link);return b.createElement(e.popoverTemplates.iconAndText,{text:c+" "+d,icon:"mobileCompWithLink",shouldTranslate:false})},shouldShowLinkedToTooltip:function(a,b){var c=this.getEditorAPI();if(c.viewMode.get()!==c.viewMode.VIEW_MODES.MOBILE){return false}if(this.props.isDragging||this.props.isResizing||this.props.isRotating){return false}if(a){return false}if(!b){return false}if(!b.link){return false}return true},getMarginValue:function(a){var b=this.layout.docked&&this.layout.docked[a].px>=0?"px":"vw";return this.layout.docked&&this.layout.docked[a][b]+t[b]},isPageContainerSelected:function(){return this.getEditorAPI().getComponentType(this.props.selectedComponents)==="Page"},isFooterContainerSelected:function(){return this.getEditorAPI().getComponentType(this.props.selectedComponents)==="FooterContainer"},render:p})});define("rEditor/rootComps/compControls/compControls.rt",["react","lodash","rEditor/rootComps/gfpp/gfpp","rEditor/rootComps/selectionBox/focusBox","rEditor/rootComps/selectionBox/editBox","core","experiment"],function(a,b,c,d,e,f,g){"use strict";return function(){return a.createElement("div",{style:{visibility:this.props.siteScale===1?"visible":"hidden"},onMouseEnter:this.props.clearHoverBox},this.props.panel?a.createElement(f.lazyComponent,b.assign({},{ref:"compPanel",moduleName:this.props.panel.name,key:f.lazyComponent.isLoaded(this.props.panel.name)?this.props.panel.name:"loading",onLoad:this.forceUpdate.bind(this)},this.getPanelProps())):null,this.getColumnsContainer()?a.createElement(f.lazyComponent,b.assign({},{moduleName:"columnsControls",key:"columnsControls"},this.getColumnsControlsProps())):null,this.shouldShowFocusBox()?a.createElement(d,{key:"focusBox-"+this.props.focusedContainer.id,ref:"focusBox",navControlsStyle:this.state.navControlsStyle,focusedContainer:this.props.focusedContainer,selectedComponents:this.props.selectedComponents,tabIndicationState:this.props.tabIndicationState}):null,this.shouldShowAttachFocusBox()?a.createElement(d,{key:"attachFocusBox",navControlsStyle:this.state.attachCandidateNavControlsStyle,focusedContainer:this.props.attachCandidate,selectedComponents:this.props.selectedComponents}):null,this.shouldRenderEditBox()?a.createElement(e,{ref:"editBox",key:"editBox",isDragging:this.props.isDragging,isResizing:this.props.isResizing,isRotating:this.props.isRotating,isPinMode:this.props.isPinMode,isDim:this.isDesignPanelOpen(),isConnected:this.state.isSelectedComponentConnected,selectedComponents:this.props.selectedComponents,focusedContainer:this.props.focusedContainer,performingMouseMoveAction:this.props.performingMouseMoveAction,onContextMenu:this.props.onContextMenu}):null,this.shouldShowGfpp()?a.createElement(c,{key:"gfpp",ref:"gfpp",style:this.state.gfppStyle,selectedComponent:this.props.selectedComponents}):null)}});define("rEditor/rootComps/compControls/compControls",["reactDOM","react","lodash","core","jquery","uiConstants","pLoader!santa:utils","experiment","rEditor/rootComps/compControls/compControls.rt","editorEventRegistry"],function(a,b,c,d,e,f,g,h,i,j){"use strict";var k=d.utils.compControlsMeasurer;var l=j.constants.events.SELECTED_COMPONENT_CONNECTION_STATUS_CHANGED;var m=["wysiwyg.common.components.anchor.viewer.Anchor"];var n=["wysiwyg.viewer.components.WRichText","wysiwyg.viewer.components.HoverBox","wysiwyg.viewer.components.BoxSlideShow","wysiwyg.viewer.components.StripContainerSlideShow",g.constants.POPUP.POPUP_CONTAINER.COMPONENT_TYPE];var o=3;var p={top:0,bottom:0,left:0,right:0};function q(a,b,c){c=c||0;return Math.abs(a-b)<=c}function r(a,b){return Math.ceil(a-b+o)}function s(a,b){if(!b){return p}var c={top:r(a.y,b.top),bottom:r(b.bottom,a.y+a.height),left:r(a.x,b.left),right:r(b.right,a.x+a.width)};return c}function t(a){var b=a.siteSegments.getPagesContainer();return a.components.layout.getRelativeToScreen(b).x}function u(a,b){var d=!c.isEqual(a.hoveredComp,b.hoveredComp);var e=!c.isEqual(a.selectedComponents,b.selectedComponents);var f=!b.performingMouseMoveAction||a.performingMouseMoveAction!==b.performingMouseMoveAction;return f&&(!d||e)}function v(a,b,c,e,g){var h=!b.fixedPosition;var i=d.utils.stageUtils.getViewPort(h,c);if(g){i.y=h?d.utils.scrollUtils.getScroll().scrollTop+f.VIEWPORT_VERTICAL_MARGINS_NAV_CONTROLS:f.VIEWPORT_VERTICAL_MARGINS_NAV_CONTROLS}return i||{}}function w(a,b,d,e){var f=this.getEditorAPI();var g;var i=c.first(this.props.selectedComponents).id;var j={id:i,layout:a};if(h.isOpen("se_newComponentLabels")){var l=c.first(this.props.selectedComponents);var m=l&&f.platform.controllers.connections.get(l);j=!l?{}:{id:l.id,layout:a,hasLabels:!c.isEmpty(m)}}if(this.isCompRequiresCustomGfppPos(a,this.props.selectedComponents)){g=this.props.lastSelectionClickPos}var n=f.getLeftBarButtonsBoundingRect();var o=this.props.focusedContainer&&this.props.focusedContainer.id!==this.props.selectedComponents[0].id;var p=this.refs.focusBox?this.refs.focusBox.getNavControlsSize():null;var q=this.props.focusedContainer&&this.getBoundingLayoutRelativeToScreen(this.props.focusedContainer);var r=this.props.focusedContainer?{id:this.props.focusedContainer.id,layout:q}:null;var s=v(q,a,n,o,p);var u={gfppSize:d,viewPort:s,navControlsSize:p,pageXBoundary:t(f),rotateKnobMargins:e,alignToPageBoundaries:f.viewMode.get()===f.viewMode.VIEW_MODES.MOBILE};return k.getCompControlsPositions(r,b,j,u,g)}return b.createClass({displayName:"compControls",mixins:[d.mixins.editorAPIMixin],propTypes:{panel:b.PropTypes.shape({name:b.PropTypes.string,props:b.PropTypes.object}),isDragging:b.PropTypes.bool,isResizing:b.PropTypes.bool,isRotating:b.PropTypes.bool,isSectionDragging:b.PropTypes.bool,selectedComponents:b.PropTypes.arrayOf(b.PropTypes.object).isRequired,focusedContainer:b.PropTypes.object,hoveredComp:b.PropTypes.oneOfType([b.PropTypes.bool,b.PropTypes.object]),clearHoverBox:b.PropTypes.func,performingMouseMoveAction:b.PropTypes.bool,lastSelectionClickPos:b.PropTypes.object,onContextMenu:b.PropTypes.func,previewPosition:b.PropTypes.object.isRequired,attachCandidate:b.PropTypes.object},getInitialState:function(){this.panelReady=false;this.lastMeasuredPanelHeight=0;this.throttledSetCompsStyle=c.throttle(this.setCompsStyle,50,{leading:false,trailing:true});return{gfppStyle:{top:0,left:0,visibility:"hidden",position:"absolute"},compPanelStyle:{top:0,left:0,opacity:0,visibility:"hidden"},navControlsStyle:{top:0,left:0},isSelectedComponentConnected:false}},isCompsStyleSet:function(){return!this.props.panel||this.state.compPanelStyle.visibility!=="hidden"&&!!this.lastMeasuredPanelHeight&&this.state.compPanelStyle.left!==0&&this.state.compPanelStyle.top!==0},shouldShowGfpp:function(){return!this.props.isDragging&&!this.props.isResizing&&!this.props.isRotating},getBoundingLayoutRelativeToScreen:function(a){var b=this.getEditorAPI();var d=b.components.layout.getRelativeToScreen(a);return c.assign(d.bounding,{fixedPosition:b.components.layout.isShowOnFixedPosition(a),rotationInDegrees:d.rotationInDegrees})},getCompControlsStyles:function(a,b,d,e,f){var g=this.getEditorAPI();var h=this.props.panel&&(a||!this.isCompsStyleSet());var i=w.call(this,e,d,b,f);i.gfppStyle.visibility="inherit";i.gfppStyle.visibility="inherit";if(h){i.compPanelStyle.top+=this.props.previewPosition.top;if(c.has(i.compPanelStyle,"left")){i.compPanelStyle.left+=this.props.previewPosition.left}if(!e.fixedPosition){var j=g.ui.scroll.getScroll();i.compPanelStyle.top-=j.scrollTop}c.assign(i.compPanelStyle,this.getPanelStyle())}else{i=c.pick(i,"gfppStyle","navControlsStyle")}if(e.fixedPosition){i.gfppStyle.top+=this.props.previewPosition.top;if(c.has(i.gfppStyle,"left")){i.gfppStyle.left+=this.props.previewPosition.left}i.gfppStyle.position="fixed"}else{i.gfppStyle.position="absolute"}if(this.props.isPinMode){i.gfppStyle.visibility="hidden"}return i},getPanelStyle:function(){var a={};if(this.panelReady){a.visibility="inherit";a.opacity=1}else{a.visibility="hidden";a.opacity=0}return a},isCompRequiresCustomGfppPos:function(a){var b=this.getEditorAPI();var d=c.includes(n,b.components.getType(this.props.selectedComponents));if(d){return false}var e=f.CUSTOM_GFPP_POS.HEIGHT_TO_APPLY;return a.height>=e},getRotateKnobRect:function(){return this.refs.editBox&&this.refs.editBox.getRotateKnobRect()},isDesignPanelOpen:function(){var a=this.getEditorAPI().panelManager.getOpenPanels();return!!c.find(a,{name:d.constants.componentPanels.design})},getRotateKnobMargins:function(a){if(!a.rotationInDegrees){return p}var b=this.getRotateKnobRect();if(!b){return p}var c=this.getEditorAPI().ui.scroll.getScroll();var d=c.scrollTop-this.props.previewPosition.top;var e=c.scrollLeft-this.props.previewPosition.left;b={top:b.top+d,bottom:b.bottom+d,left:b.left+e,right:b.right+e};return s(a,b)},setCompsStyle:function(b){var d=this.refs.gfpp?this.refs.gfpp.getSize():null;if(this.props.isPinMode){d={width:0,height:0}}if(!d){return}var f=this.refs.compPanel?a.findDOMNode(this.refs.compPanel):null;this.lastMeasuredPanelHeight=f?e(f).height():0;var g=this.getBoundingLayoutRelativeToScreen(this.props.selectedComponents);var h=this.getRotateKnobMargins(g);var i=this.getCompControlsStyles(b,d,f,g,h);if(!this.lastMeasuredPanelHeight){i.compPanelStyle={top:0,left:0,opacity:0,visibility:"hidden"}}var j=c.pick(this.state,c.keys(i));var k=c.every(i,function(a,b){var d=j[b];return c.every(a,function(a,b){var e=d[b];if(c.isFinite(e)&&c.isFinite(a)){return q(e,a,2)}return c.isEqual(e,a)})});if(!k){this.setState(i)}},onWindowScroll:function(){this.setCompsStyle()},onWindowResize:function(){if(!this.debouncedSetCompsStyle){this.debouncedSetCompsStyle=c.debounce(this.setCompsStyle,200)}this.debouncedSetCompsStyle(true)},shouldShowFocusBox:function(){var a=c.first(this.props.selectedComponents);var b=c.get(this.props,"focusedContainer.id")===a.id;return this.props.focusedContainer&&(!(this.props.performingMouseMoveAction&&b)||h.isOpen("popups")&&c.isEqual(this.getEditorAPI().pages.popupPages.getPopupContainer(),a))},shouldShowAttachFocusBox:function(){return this.getEditorAPI().selection.getParentToFocus([this.props.attachCandidate])},shouldRenderEditBox:function(){if(!this.props.selectedComponents||this.props.isSectionDragging){return false}var a=this.getEditorAPI().components.getType(this.props.selectedComponents);return!c.includes(m,a)},componentDidMount:function(){this.throttledSetCompsStyle();var a=this.getEditorAPI();a.ui.scroll.addListener(this.onWindowScroll);window.addEventListener("resize",this.onWindowResize);j.register(l,this.updateSelectedComponentConnectionStatus);this.updateSelectedComponentConnectionStatus()},componentWillUnmount:function(){var a=this.getEditorAPI();a.ui.scroll.removeListener(this.onWindowScroll);window.removeEventListener("resize",this.onWindowResize);j.unregister(l,this.updateSelectedComponentConnectionStatus)},componentWillReceiveProps:function(a){var b={};var d=!c.get(a.panel,["props","useLastPanelPosition"]);if(!c.isEqual(this.props.panel,a.panel)&&d){b.compPanelStyle={top:0,left:0,opacity:0,visibility:"hidden"};if(!a.panel){this.panelReady=false}}var e=!this.getEditorAPI().utils.isSameRef(this.props.selectedComponents,a.selectedComponents);var f=!this.props.performingMouseMoveAction&&a.performingMouseMoveAction;if(e||f){b.gfppStyle={top:0,left:0,visibility:"hidden",position:"absolute"};b.compPanelStyle={top:0,left:0,opacity:0,visibility:"hidden"}}if(!c.isEmpty(b)){this.setState(b)}},setAttachCandidateNavControlsStyle:function(){var b=this.refs.compPanel?a.findDOMNode(this.refs.compPanel):null;var c=this.getBoundingLayoutRelativeToScreen(this.props.attachCandidate);var e=!c.fixedPosition;var f=this.getEditorAPI().getLeftBarButtonsBoundingRect();var g=d.utils.stageUtils.getViewPort(e,f);var h={id:this.props.attachCandidate.id,layout:c};var i=k.getCompControlsPositions(h,b,h,{viewPort:g});this.setState({attachCandidateNavControlsStyle:i.navControlsStyle})},componentDidUpdate:function(a){if(u(a,this.props)){this.throttledSetCompsStyle()}if(!c.isEqual(a.attachCandidate,this.props.attachCandidate)&&this.shouldShowAttachFocusBox()){this.setAttachCandidateNavControlsStyle()}},onPanelDragEnd:function(a){this.setState({compPanelStyle:a})},onCompPanelLoaded:function(){this.panelReady=true;this.throttledSetCompsStyle()},getPanelProps:function(){return c.assign({onDragEnd:this.onPanelDragEnd,onCompPanelLoaded:this.onCompPanelLoaded,style:this.state.compPanelStyle,selectedComponent:this.props.selectedComponents,compType:this.getEditorAPI().components.getType(this.props.selectedComponents)},this.props.panel.props)},isColumnsContainer:function(a){var b="wysiwyg.viewer.components.StripColumnsContainer";return this.getEditorAPI().components.getType(a)===b},getColumnsContainer:function(){var a=this.props.selectedComponents;if(this.isColumnsContainer(a)){return a}var b=this.getEditorAPI().utils.findAncestorMatchesCondition(a,this.isColumnsContainer);if(b){return this.getEditorAPI().components.asArray(b)}return null},getColumnsControlsProps:function(){return{selectedComponents:this.props.selectedComponents,columnsContainer:this.getColumnsContainer()}},updateSelectedComponentConnectionStatus:function(){var a=this.getEditorAPI();var b=a.platform.controllers.connections.get(c.first(this.props.selectedComponents));this.setState({isSelectedComponentConnected:c.get(b,"length")>0})},render:i})});define("rEditor/rootComps/attachHighlight/attachHighlight.rt",["react","lodash","experiment"],function(a,b,c){"use strict";return function(){return a.createElement("div",{},c.isOpen("attachImprovements")?a.createElement("div",{key:"attach-highlight",className:"attach-highlight"},a.createElement("div",{className:b({"highlight-container-exp":true,master:this.isShowOnAllPages(),box:this.isBoxContainer()}).transform(function(a,b,c){if(b){a.push(c)}},[]).join(" "),style:this.getBoxPosition()},a.createElement("label",{},this.translateIfNeeded(this.getAttachTranslationKey(this.state.compLabel)))),a.createElement("div",{style:this.getAttachOverlayLayoutStyle(),className:"attach-overlay"})):null,!c.isOpen("attachImprovements")?a.createElement("div",{key:"experiment.isOpen('attachImprovements')",className:b({"highlight-container":true,master:this.isShowOnAllPages()}).transform(function(a,b,c){if(b){a.push(c)}},[]).join(" "),style:this.getPosition()},a.createElement("label",{},this.translateIfNeeded(this.getAttachTranslationKey(this.state.compLabel)))):null)}});define("rEditor/rootComps/attachHighlight/attachHighlight",["react","core","lodash","rEditor/rootComps/attachHighlight/attachHighlight.rt","util","rEditor/rootComps/selectionBox/selectionBoxCommons","experiment"],function(a,b,c,d,e,f,g){"use strict";var h={HeaderContainer:"OnStage_AttachTo_Header",Page:"OnStage_AttachTo_Page",FooterContainer:"OnStage_AttachTo_Footer",Container:"OnStage_AttachTo_Box",HoverBox:"OnStage_AttachTo_Hover_Box",BoxSlideShowSlide:"OnStage_AttachTo_Slide",StripContainerSlideShowSlide:"OnStage_AttachTo_Slide",StripContainer:"OnStage_AttachTo_Strip",Column:"OnStage_AttachTo_Column",PopupContainer:"OnStage_AttachTo_PopUp"};function i(a,b){return a.components.layout.getRelativeToScreen(b)}function j(a){var b=a.selection.getSelectedComponents()[0];return i(a,b)}function k(a,b){var c=a.components.layout.getRelativeToScreen(b);if(a.components.layout.isShowOnFixedPosition(b)){c.y+=a.editorConfig.previewPosition.top;c.bounding.y+=a.editorConfig.previewPosition.top;c.x+=a.editorConfig.previewPosition.left;c.bounding.x+=a.editorConfig.previewPosition.left}return c}function l(a,b){var d=c(b).thru(a.components.getType).thru(function(a){return a.split(".")}).last();if(d==="Column"&&!a.components.getSiblings(b).length){return"StripContainer"}return d}var m={displayName:"attachHighlight",mixins:[b.mixins.editorAPIMixin,e.translationMixin],getInitialState:function(){var a=l(this.getEditorAPI(),this.props.comp);return{compLabel:this.props.comp&&h[a]}},componentWillReceiveProps:function(a){var b=l(this.getEditorAPI(),this.props.comp);this.setState({compLabel:a.comp&&h[b]})},isShowOnAllPages:function(){return this.getEditorAPI().components.isShowOnAllPages(this.props.comp)},getAttachTranslationKey:function(){var a=l(this.getEditorAPI(),this.props.comp);return h[a]},getPosition:function(){var a=this.getEditorAPI();var b=k(a,this.props.comp);var c=f.getPosition(a,this.props.comp);return{top:b.y-2,left:b.x-2,height:b.height,width:b.width,position:c}},render:d};if(g.isOpen("attachImprovements")){c.assign(m,{getBoxPosition:function(){var a=i(this.getEditorAPI(),this.props.comp);return{top:a.y,left:a.x,height:a.height,width:a.width}},getAttachOverlayLayoutStyle:function(){var a=j(this.getEditorAPI());return{top:a.y,left:a.x,width:a.width,height:a.height}},isBoxContainer:function(){return this.getEditorAPI().components.getType(this.props.comp)==="mobile.core.components.Container";
}})}return a.createClass(m)});define("rEditor/rootComps/constraintArea/constraintArea.rt",["react","lodash"],function(a,b){"use strict";return function(){return a.createElement("div",{className:"negative-constraint-indication constraint-area",style:this.getPosition()},a.createElement("div",{className:"box"},a.createElement("label",{},this.translateIfNeeded("mobilemenu_Settings_fixed_area_label"))))}});define("rEditor/rootComps/constraintArea/constraintArea",["react","core","lodash","util","rEditor/rootComps/constraintArea/constraintArea.rt"],function(a,b,c,d,e){"use strict";return a.createClass({displayName:"constraintArea",mixins:[b.mixins.editorAPIMixin,d.translationMixin],getPosition:function(){var a=this.props.area;return{top:a.top,left:a.left,height:a.height,width:a.width}},render:e})});define("rEditor/rootComps/snapLayer/snapLayer.rt",["react","lodash"],function(a,b){"use strict";function c(c,d){return a.createElement("rect",{className:b({"show-on-all-pages":c.isShowOnAllPages}).transform(function(a,b,c){if(b){a.push(c)}},[]).join(" "),x:c.x,y:c.y,height:c.height,width:c.width,key:"rectDrawData"+d})}function d(b,c){return a.createElement("line",{x1:b[0].x,y1:b[0].y,x2:b[1].x,y2:b[1].y,key:"snapLine"+c})}return function(){return this.props.snapData?a.createElement("div",{className:"snap-layer",key:"layer"},a.createElement.apply(this,["svg",{},b.map(this.getRectanglesDrawData(),c.bind(this)),b.map(this.getLines(),d.bind(this))])):null}});define("rEditor/rootComps/snapLayer/snapLayer",["react","lodash","rEditor/rootComps/snapLayer/snapLayer.rt"],function(a,b,c){"use strict";return a.createClass({displayName:"snapLayer",propTypes:{snapData:a.PropTypes.array},getRectanglesDrawData:function(){var a=b(this.props.snapData).pluck("rectanglesDrawData").flatten().value();return a},getLines:function(){return b.pluck(this.props.snapData,"line")},render:c})});define("rEditor/rootComps/anchor/anchor.rt",["react","lodash","baseUI"],function(a,b,c){"use strict";return function(){return a.createElement("div",{className:"anchorWrapper",style:{top:this.getTopPosition()}},a.createElement("div",{className:"anchor-line before"}),a.createElement("div",{className:"anchor "+(this.props.isSelected?"anchor-selected":"")},a.createElement("div",{className:"anchorContent",onMouseDown:this.onMouseDown,onContextMenu:this.props.onContextMenu,onDoubleClick:this.onDoubleClick},a.createElement(c.symbol,{className:"anchorIcon",name:"anchor"}),a.createElement("div",{className:"anchorName"},this.getAnchorName()),a.createElement(c.symbol,{className:"rightIcon",name:this.isLocked()?"anchorLock":"anchorDragHandle"}))),a.createElement("div",{className:"anchor-line after-with-sections-reorganize"}))}});define("rEditor/rootComps/anchor/anchor",["react","lodash","core","rEditor/utils/mouseMoveActions/baseDoubleClick","rEditor/rootComps/anchor/anchor.rt"],function(a,b,c,d,e){"use strict";return a.createClass({displayName:"anchor",propTypes:{compRef:a.PropTypes.object.isRequired,isSelected:a.PropTypes.bool.isRequired},mixins:[c.mixins.editorAPIMixin],getInitialState:function(){this.editorAPI=this.getEditorAPI();return{}},getAnchorName:function(){var a=this.editorAPI.components.data.get(this.props.compRef);return a.name},onDoubleClick:function(a){var b={evt:a,comp:[this.props.compRef]};d.doubleClick(this.getEditorAPI(),b)},getTopPosition:function(){return this.editorAPI.components.layout.getRelativeToStructure(this.props.compRef).y},isLocked:function(){return false},render:e})});define("rEditor/rootComps/anchor/anchorsContainer.rt",["react","lodash","rEditor/rootComps/anchor/anchor"],function(a,b,c){"use strict";function d(b,d){return a.createElement(c,{key:"anchor"+d,compRef:b,onContextMenu:this.props.onContextMenu,isSelected:this.isSelectedComp(b)})}return function(){return a.createElement.apply(this,["div",{className:b({"anchors-container":true,"mobile-editor":this.editorAPI.isMobileEditor()}).transform(function(a,b,c){if(b){a.push(c)}},[]).join(" ")},b.map(this.getAnchors(),d.bind(this))])}});define("rEditor/rootComps/anchor/anchorsContainer",["react","lodash","core","rEditor/rootComps/anchor/anchorsContainer.rt"],function(a,b,c,d){"use strict";var e="wysiwyg.common.components.anchor.viewer.Anchor";return a.createClass({displayName:"stageComps",mixins:[c.mixins.editorAPIMixin],getInitialState:function(){this.editorAPI=this.getEditorAPI();return{}},getAnchors:function(){var a=this.editorAPI.pages.getReference(this.editorAPI.pages.getFocusedPageId());return this.editorAPI.components.get.byType(e,a)},isSelectedComp:function(a){return this.editorAPI.selection.isComponentSelected(a)},render:d})});define("rEditor/rootComps/selectionBox/hoverBox.rt",["react","lodash","baseUI","rEditor/rootComps/selectionBox/componentLabels","experiment"],function(a,b,c,d,e){"use strict";return function(){return a.createElement("div",{style:this.getHoverBoxStyles(),className:b(this.getClasses()).transform(function(a,b,c){if(b){a.push(c)}},[]).join(" ")},e.isOpen("se_newComponentLabels")?a.createElement(d,{key:"newComponentLabel",showComponentType:this.shouldShowComponentType(),isConnected:this.isConnectedToData(),isLabelLarge:this.isRootComponent(this.getEditorAPI(),this.props.hoveredComp),isLabelBelowLine:this.isSiteHeaderHovered(this.getEditorAPI(),this.props.hoveredComp),componentType:this.getComponentType(),componentNickname:this.getComponentNickname(),labelInlineStyles:this.getHoverBoxLabelStyles(),showOnAllPages:this.isShownOnAllPages(),isPinnedToPage:this.isCompPinned()}):null,!e.isOpen("se_newComponentLabels")?a.createElement("span",{ref:"label",className:b(this.getLabelClasses()).transform(function(a,b,c){if(b){a.push(c)}},[]).join(" "),style:this.getHoverBoxLabelStyles(),key:"newComponentLabel"},this.isCompPinned()?a.createElement(c.symbol,{name:"pinModeIndicator",key:"pinModeIndicator",className:b(this.getIndicatorClasses()).transform(function(a,b,c){if(b){a.push(c)}},[]).join(" ")}):null,a.createElement("span",{className:"actual-label"},this.getComponentLabel())):null)}});define("rEditor/rootComps/selectionBox/hoverBox",["reactDOM","lodash","react","jquery","core","rEditor/rootComps/selectionBox/hoverBox.rt","util"],function(a,b,c,d,e,f,g){"use strict";function h(a,b){var c=a.components.layout.getRelativeToScreen(b);if(a.components.layout.isShowOnFixedPosition(b)){c.y+=a.editorConfig.previewPosition.top;c.bounding.y+=a.editorConfig.previewPosition.top;c.x+=a.editorConfig.previewPosition.left;c.bounding.x+=a.editorConfig.previewPosition.left}return c}function i(a,b){return a.outerWidth()/b.outerWidth()<2}function j(a,b){var c=e.utils.stageUtils.getViewPort();return a.offset().left-b.width()>c.x}function k(a,b){return b.id==="SITE_FOOTER"||b.id==="SITE_HEADER"||b.id===a.pages.getFocusedPageId()}function l(a,b){if(i(a,b)){if(j(a,b)){return m.LEFT}return m.RIGHT}return m.INNER}var m={INNER:"inner",LEFT:"left",RIGHT:"right"};var n=2;return c.createClass({displayName:"hoverBox",mixins:[e.mixins.editorAPIMixin],getInitialState:function(){return{labelPosition:m.INNER,shouldCalculateLabelPosition:true}},componentWillMount:function(){this.isMovable=this.getEditorAPI().components.is.verticallyMovable(this.props.hoveredComp)||this.getEditorAPI().components.is.horizontallyMovable(this.props.hoveredComp)},componentDidMount:function(){if(this.state.shouldCalculateLabelPosition){var b=d(a.findDOMNode(this));var c=d(a.findDOMNode(this.refs.label));this.setState({labelPosition:l(b,c),shouldCalculateLabelPosition:false})}},componentDidUpdate:function(){if(this.state.shouldCalculateLabelPosition){var b=d(a.findDOMNode(this));var c=d(a.findDOMNode(this.refs.label));this.setState({labelPosition:l(b,c),shouldCalculateLabelPosition:false})}},componentWillReceiveProps:function(a){if(a.hoveredComp.id!==this.props.hoveredComp.id){this.isMovable=this.getEditorAPI().components.is.verticallyMovable(a.hoveredComp)||this.getEditorAPI().components.is.horizontallyMovable(a.hoveredComp);this.setState({shouldCalculateLabelPosition:true})}},isRootComponent:function(a,b){return b.id==="SITE_FOOTER"||b.id==="SITE_HEADER"||b.id===a.pages.getFocusedPageId()},isSiteHeaderHovered:function(a,b){return b.id==="SITE_HEADER"},isConnectedToData:function(){var a=this.getEditorAPI();var b=a.platform.controllers.connections.get(this.props.hoveredComp);return b.length>0},isHoveredSelectedComp:function(){var a=this.getEditorAPI();var b=a.selection.getSelectedComponents();return a.utils.isSameRef(b,this.props.hoveredComp)},isConnectedToControllers:function(a){var b=a.platform.controllers.connections.get(this.props.hoveredComp);return b.length>0},getComponentLabel:function(){var a=this.getEditorAPI();var b=a.selection.getSelectedComponents();var c=a.utils.isSameRef(b,this.props.hoveredComp);var d=a.components.getDisplayName(this.props.hoveredComp);if(a.developerMode.isEnabled()){d+=" "+this.getComponentNickname()}return c?"":d},getComponentType:function(){return this.isHoveredSelectedComp()?"":this.getEditorAPI().components.getDisplayName(this.props.hoveredComp)},getComponentNickname:function(){return this.isHoveredSelectedComp()?"":"#"+this.getEditorAPI().components.getNickname(this.props.hoveredComp)},getComponentConnectedLabel:function(){return this.isHoveredSelectedComp()?"":g.translate("component_is_connected_label")},getHoverBoxStyles:function(){var a=h(this.getEditorAPI(),this.props.hoveredComp);var c={top:a.y-1,left:a.x-1,width:a.width,height:a.height};if(a.rotationInDegrees){var d="rotate("+a.rotationInDegrees+"deg)";b.assign(c,{transform:d,WebkitTransform:d})}var e=this.getEditorAPI().components.is.fullWidth(this.props.hoveredComp);if(e){b.assign(c,{borderLeft:0,borderRight:0})}return c},getClasses:function(){var a=this.getEditorAPI();var b=this.props.hoveredComp;var c={"hover-box":true,"show-on-all-pages":a.components.isShowOnAllPages(b),"fixed-position":a.components.layout.isShowOnFixedPosition(b),overlay:this.props.overlay};return c},isShownOnAllPages:function(){var a=this.getEditorAPI();return a.components.isShowOnAllPages(this.props.hoveredComp)},getHoverBoxLabelStyles:function(){var a=this.getEditorAPI();if(a.components.is.fullWidth(this.props.hoveredComp)){var b=a.isMobileEditor()?0:a.siteSegments.getPagesContainerAbsLayout().x+n;return{left:b}}},getLabelClasses:function(){var a=k(this.getEditorAPI(),this.props.hoveredComp);return{"comp-label":true,"label-large":a,"label-inner":!a&&this.state.labelPosition===m.INNER,"label-left":!a&&this.state.labelPosition===m.LEFT,"label-right":!a&&this.state.labelPosition===m.RIGHT}},getIndicatorClasses:function(){return{"show-on-all-pages":this.getEditorAPI().components.isShowOnAllPages(this.props.hoveredComp)}},shouldShowComponentType:function(){return this.props.hoveredComp&&!(this.getEditorAPI().developerMode.isEnabled()&&this.isConnectedToData())},isCompPinned:function(){return this.getEditorAPI().components.layout.isPinned(this.props.hoveredComp)&&!this.isHoveredSelectedComp()},render:f})});define("rEditor/rootComps/selectionBox/overlay.rt",["react","lodash"],function(a,b){"use strict";return function(){return a.createElement("div",{className:b({overlay:true,visible:this.state.shouldShowOverlay}).transform(function(a,b,c){if(b){a.push(c)}},[]).join(" "),style:this.getStyles()},"\n    ",this.getOverlay(),"\n")}});define("rEditor/rootComps/selectionBox/overlay",["react","lodash","core","rEditor/rootComps/selectionBox/overlay.rt"],function(a,b,c,d){"use strict";function e(a,b){if(a[b]){return{transitionDuration:(a[b].duration||0)+"ms",transitionDelay:(a[b].delay||0)+"ms"}}return{}}function f(){return this.leaveAnimationId?"leave":"enter"}return a.createClass({displayName:"overlay",mixins:[c.mixins.editorAPIMixin],getInitialState:function(){return{shouldShowOverlay:false}},overlayProps:{},getOverlay:function(){return this.getEditorAPI().components.is.getOverlay(this.state.hoveredComp)||""},getStyles:function(){this.overlayProps=this.getEditorAPI().components.is.getOverlayProperties(this.state.hoveredComp);return this.overlayProps?e(this.overlayProps,f.call(this)):{}},componentWillReceiveProps:function(a){var b=a.hoveredComp&&this.getEditorAPI().components.is.shouldBeOverlayed(a.hoveredComp);if(this.state.hoveredComp&&!this.getEditorAPI().components.is.exist(this.state.hoveredComp)){this.setState({shouldShowOverlay:false,hoveredComp:null});return}if(!this.getEditorAPI().overlay.shouldUpdate()){return}if(b){this.componentWillEnter(a.hoveredComp)}else if(this.state.shouldShowOverlay){this.componentWillLeave()}else{return}this.setState({shouldShowOverlay:b})},componentWillEnter:function(a){if(this.leaveAnimationId){this.leaveAnimationId=clearTimeout(this.leaveAnimationId)}this.setState({hoveredComp:a})},componentWillLeave:function(){this.leaveAnimationId=setTimeout(this.componentHasLeft,this.overlayProps.leave.duration)},componentHasLeft:function(){this.leaveAnimationId=null;this.setState({hoveredComp:null})},render:d})});define("rEditor/rootComps/lasso/lasso.rt",["react","lodash"],function(a,b){"use strict";function c(c,d){return a.createElement("rect",b.assign({},{className:b({"lasso-candidate":true,"show-on-all-pages":this.getEditorAPI().components.isShowOnAllPages(c.component)}).transform(function(a,b,c){if(b){a.push(c)}},[]).join(" "),key:d},c.layout.bounding))}return function(){return a.createElement("div",{className:"lasso-layer"},a.createElement.apply(this,["svg",{className:"lasso-highlights"},a.createElement("rect",b.assign({},{className:"lasso-rect"},this.props.lassoLayout)),b.map(this.props.candidates,c.bind(this))]))}});define("rEditor/rootComps/lasso/lasso",["react","lodash","core","rEditor/rootComps/lasso/lasso.rt"],function(a,b,c,d){"use strict";return a.createClass({displayName:"lasso",mixins:[c.mixins.editorAPIMixin],propTypes:{lassoLayout:a.PropTypes.shape({x:a.PropTypes.number,y:a.PropTypes.number,width:a.PropTypes.number,height:a.PropTypes.number}),candidates:a.PropTypes.arrayOf(a.PropTypes.shape({component:a.PropTypes.object,layout:a.PropTypes.object}))},render:d})});define("rEditor/rootComps/mouseCatcher.rt",["react","lodash","uiConstants","rEditor/rootComps/compControls/compControls","rEditor/rootComps/attachHighlight/attachHighlight","rEditor/rootComps/constraintArea/constraintArea","rEditor/rootComps/snapLayer/snapLayer","rEditor/rootComps/anchor/anchorsContainer","rEditor/rootComps/selectionBox/hoverBox","rEditor/rootComps/selectionBox/overlay","rEditor/rootComps/lasso/lasso"],function(a,b,c,d,e,f,g,h,i,j,k){"use strict";function l(){var b=this.getMarginsIndicatorStyles(this.getCompToShowMarginsIndicator());return a.createElement("div",{key:"marginsIndicator",className:"margins-indicator",style:b.indicator},b.marginLeft?a.createElement("div",{key:"leftMarginIndicator",className:"left",style:{width:b.marginLeft}}):null,b.marginRight?a.createElement("div",{key:"rightMarginIndicator",className:"right",style:{width:b.marginRight}}):null)}return function(){return a.createElement("div",{className:b({parentSizeAbs:true,mouseCatcher:true,draggable:this.isCompDraggable()}).transform(function(a,b,c){if(b){a.push(c)}},[]).join(" "),onMouseDown:this.onMouseDown,onMouseUp:this.onMouseUp,onDoubleClick:this.onDoubleClick,onContextMenu:this.props.onContextMenu,onMouseMove:this.onMouseMove,onMouseLeave:this.clearHoverBox},a.createElement(j,{hoveredComp:this.props.hoveredComp}),this.props.editorState.constraintArea?a.createElement(f,{key:"constraintArea",area:this.props.editorState.constraintArea}):null,this.props.editorState.attachCandidate?a.createElement(e,{key:"attachHighlight",comp:this.props.editorState.attachCandidate}):null,this.props.editorState.lassoLayout?a.createElement(k,{key:"lassoLayout",lassoLayout:this.props.editorState.lassoLayout,candidates:this.props.editorState.lassoCandidates}):null,this.props.editorState.siteScale===1&&this.props.hoveredComp&&this.getEditorAPI().components.is.exist(this.props.hoveredComp)&&!this.props.isPinMode?a.createElement(i,{overlay:this.props.hoverBoxOverlay,hoveredComp:this.props.hoveredComp,key:"hoverBox"}):null,this.props.editorState.siteScale===1&&this.props.selectedComponents?a.createElement(d,{key:"compControls",isDragging:this.props.isDragging,isResizing:this.props.isResizing,isRotating:this.props.isRotating,performingMouseMoveAction:this.props.performingMouseMoveAction,selectedComponents:this.props.selectedComponents,focusedContainer:this.props.focusedContainer,hoveredComp:this.props.hoveredComp,clearHoverBox:this.clearHoverBox,lastSelectionClickPos:this.props.editorState.lastSelectionClickPos,panel:this.props.compPanel,previewPosition:this.props.previewPosition,siteScale:this.props.siteScale,isPinMode:this.props.isPinMode,onContextMenu:this.props.onContextMenu,isSectionDragging:this.props.isSectionDragging,attachCandidate:this.props.editorState.attachCandidate,tabIndicationState:this.props.editorState.tabIndicationState}):null,a.createElement(g,{key:"snapLayer",snapData:this.props.editorState.snapData}),!this.props.editorState.previewMode&&this.props.editorIsInit&&!this.props.isPinMode?a.createElement(h,{key:"anchorsContainer",onContextMenu:this.props.onContextMenu}):null,this.showMarginsIndicator()?l.apply(this,[]):null)}});define("rEditor/utils/mouseMoveActions/baseDrag",["core","lodash","rEditor/utils/mouseMoveActions/mouseMoveActionTypes","experiment"],function(a,b,c,d){"use strict";var e=15;var f=a.utils.AttachHandler;var g=a.utils.AttachHandlerExperimentAttachImprovements;var h=a.utils.SnapToHandler;var i=a.utils.layoutTransitionsUtil;var j=a.utils.DragConstraintsHandler;var k;var l;var m;var n;var o;var p={top:true,right:true,bottom:true,left:true,centerX:true,centerY:true};var q=false;var r=false;var s=false;var t;var u,v,w,x,y,z;function A(a){q=s&&(q||(Math.abs(a.pageX-v.x)>2||Math.abs(a.pageY-v.y)>2));return q}function B(a){if(x){var b=x.getClosestLayoutDistance(u,a.bounding,p);if(Math.abs(b.x)<5){a.x+=b.x;a.bounding.x+=b.x}if(Math.abs(b.y)<5){a.y+=b.y;a.bounding.y+=b.y}}}function C(a){a.x-=a.x%5;a.y-=a.y%5}function D(a){if(x){var b=x.getSnapData(a.bounding,p);u.snapData.set(b)}}function E(a){var c=b.some(a,function(a){return u.components.is.groupedComponent(a)},this);return!c}function F(a){return b.map(a,function a(b){var c={component:b,attachUtil:new f(u,{comp:b,layout:u.components.layout.getRelativeToScreen(b)},f.TYPES.COMP)};return c})}function G(a){var b=w?w:v;return{x:Math.abs(b.x-a.x),y:Math.abs(b.y-a.y)}}function H(a){var b=G(a);return b.x>e||b.y>e}function I(){return m&&!u.multiselect.isMultiselect(l)}function J(){if(!m){return}var a=[];var c=b.map(o,function b(c){var d=c.attachUtil.getCurrentAttachCandidate();var e=c.component;if(d){var f=u.components.setContainer(e,d);a.push(d);return f}return e});u.selection.selectComponentByCompRef(c)}function K(a){if(!m){return}var b={x:a.clientX,y:a.clientY};var c=n.getCurrentAttachCandidate(null,b);if(c){var d=u.components.setContainer(l,c);u.selection.selectComponentByCompRef(d)}}function L(a,c){u=u||a;q=false;l=c.selectedComp;v=c.initMousePosition;w=null;y=u.components.is.horizontallyMovable(c.selectedComp);z=u.components.layout.getRelativeToScreen(l);if(!c.initMousePosition){s=false;return}s=true;var e=u.components.layout.getRelativeToScreen(l);var p=b.map(l,function(a){return u.components.layout.getRelativeToScreen(a)});m=E(l);if(u.multiselect.isMultiselect(l)){o=F(l)}else if(d.isOpen("attachImprovements")){n=new g(u,{layout:e,comp:l},f.TYPES.COMP)}else{n=new f(u,{layout:e,comp:l},f.TYPES.COMP)}t=new j(u,l);x=new h(u,l);k=new i.Drag(z,v,p)}function M(c){var e=d.isOpen("fitEditorCoordinatesToViewer")?a.utils.mouseCoordinatesHandler.fitMouseCoordinatesToViewer(u,c):{pageX:c.pageX,pageY:c.pageY,clientX:c.clientX,clientY:c.clientY};var f={x:e.pageX,y:e.pageY,isShiftPressed:c.shiftKey};if(A(e)){u.selection.setIsMouseUpSelectionEnabled(false);if(!r){var g=b.map(l,"id");u.renderPlugins.setCompsToShowOnTop(g);r=true}var h=k.getLayout(f);if(u.multiselect.isMultiselect(l)){h=a.utils.updateLayoutUtil.getLayoutRelativeToScreenAfterConstraints(u,l,h,z)}if(!y){h.x=z.x}if(c.altKey){C(h)}else if(u.getViewTools().snapToEnabled){if(H(f)){u.snapData.clear()}else{h.bounding=u.utils.getBoundingLayout(h);B(h);D(h)}}if(I()){var i=n.getCurrentAttachCandidate(null,{x:e.clientX,y:e.clientY});n.highlightAttachCandidate(i);t.highlightDragConstraints()}var j=k.getBoundComponentLayouts(h);for(var m=0;m<l.length;m++){u.components.layout.updateRelativeToScreen(l[m],j[m],true)}}w=f}function N(b){var c=d.isOpen("fitEditorCoordinatesToViewer")?a.utils.mouseCoordinatesHandler.fitMouseCoordinatesToViewer(u,b):{pageX:b.pageX,pageY:b.pageY,clientX:b.clientX,clientY:b.clientY};if(A(c)){if(u.multiselect.isMultiselect(l)){J()}else{K(c);n.clearHighlightAttachCandidate()}t.removeHighlightDragConstraints();x=null;u.snapData.clear();u.waitForChangesApplied(function(){u.history.add("Dragged component")});u.openCompOutOfGridPanelIfNeeded(l)}u.renderPlugins.setCompsToShowOnTop(null);r=false;v=null}return{start:L,on:M,end:N,type:c.DRAG}});define("rEditor/utils/mouseMoveActions/dragAttempt",["lodash","core","rEditor/utils/mouseMoveActions/mouseMoveActionTypes"],function(a,b,c){"use strict";var d,e,f,g;var h=5;function i(a,b){return a>=h||b>=h}function j(a,b){g=a;d=false;e=b.initMousePosition;f=b.selectedComp}function k(a){var b=Math.abs(a.pageX-e.x);var c=Math.abs(a.pageY-e.y);d=d||i(b,c);if(d){g.selection.setIsMouseUpSelectionEnabled(false)}}function l(){if(d&&g.components.layout.isPinned(f)&&!g.pinMode.isOpened()){g.pinMode.open("on_drag");g.bi.event(b.bi.events.pinToScreen.DRAG_ATTEMPT,{component_type:g.getComponentType(f)})}}return{start:j,on:k,end:l,type:c.DRAG_ATTEMPT}});define("rEditor/utils/lassoMouseMoveActions/lassoDrag",["core","lodash","util","rEditor/utils/mouseMoveActions/mouseMoveActionTypes","experiment"],function(a,b,c,d,e){"use strict";var f=["SITE_PAGES","PAGES_CONTAINER","SITE_HEADER","SITE_FOOTER"];var g=4;var h;var i;var j;var k;var l;var m;var n;var o;var p;var q;var r=a.utils.mouseCoordinatesHandler;function s(a){if(l){return true}var b=e.isOpen("fitEditorCoordinatesToViewer")?r.fitMouseCoordinatesToViewer(m,a):{pageX:a.pageX,pageY:a.pageY,clientX:a.clientX,clientY:a.clientY};var c=b.pageY;var d=b.pageX;if(!e.isOpen("fitEditorCoordinatesToViewer")){c-=m.editorConfig.previewPosition.top;d-=m.editorConfig.previewPosition.left}var f=Math.abs(d-k.x);var h=Math.abs(c-k.y);l=f>g&&h>g;return l}function t(a){var b=e.isOpen("fitEditorCoordinatesToViewer")?r.fitMouseCoordinatesToViewer(m,a):{pageX:a.pageX,pageY:a.pageY,clientX:a.clientX,clientY:a.clientY};if(!e.isOpen("fitEditorCoordinatesToViewer")){b.pageY-=m.editorConfig.previewPosition.top;b.pageX-=m.editorConfig.previewPosition.left}var c=Math.min(b.pageX,k.x);var d=Math.min(b.pageY,k.y);var f=Math.max(b.pageX,k.x);var g=Math.max(b.pageY,k.y);return{x:c,y:d,width:f-c,height:g-d}}function u(a){var b=m.components.layout.getRelativeToScreen(a);if(m.components.getType(a)==="wysiwyg.viewer.components.WRichText"){v(a,b)}return{component:a,layout:b}}function v(a,b){var c=m.components.layout.getEffectiveTextDimensions(a);if(c){b.width=c.width;b.height=c.height;b.bounding.width=c.width;b.bounding.height=c.height;b.x+=c.dx;b.y+=c.dy;b.bounding.x+=c.dx;b.bounding.y+=c.dy}return b}function w(a){if(m.components.is.fullWidth(a.component)||m.components.layout.isHorizontallyStretchedToScreen(a.component)){return"fullWidth"}return"standard"}function x(a,b){return b.y<=a.bounding.y&&b.y+b.height>=a.bounding.y+a.bounding.height}function y(a,c){m=a;var d=m.pages.getFocusedPageId();o=c.selectedComponents;var g=f.concat(b.pluck(o,"id"));var r=m.components.getAllComponents(d,function a(c){return!b.includes(g,c.id)&&!m.components.is.page(c)});n=c.prevSelectedComps;p=n!==o&&c.initMousePosition.isSpecialKeyPressed;q=m.selection.isSingleSelectionComponent(o);k=b.clone(c.initMousePosition);if(!e.isOpen("fitEditorCoordinatesToViewer")){k.y-=m.editorConfig.previewPosition.top;k.x-=m.editorConfig.previewPosition.left}l=false;i=[];j=b.pick(k,["x","y"]);h=b(r).map(u).groupBy(w).value()}function z(a){if(s(a)){if(q){m.selection.deselectComponents();q=false}if(p){m.selection.selectComponentByCompRef(n);p=false}j=t(a);i=b.filter(h.standard,function a(b){return c.layoutUtils.isLayoutContainedWithinRect(b.layout.bounding,j)},this);var d=b.filter(h.fullWidth,function(a){return x(a.layout,j)},this);i=i.concat(d);m.lasso.setCandidates(i);m.lasso.setLayout(j)}}function A(d){var e=c.browserUtil.isSpecialKeyPressed(d);if(!b.isEmpty(i)){var f=b.map(i,"component");if(f.length>1){f=b.reject(f,m.selection.isSingleSelectionComponent)}if(f.length>1||f.length===1&&n&&n.length>0){m.bi.event(a.bi.events.selection.MULTISELECT,{num_of_elements_selected:f.length,selection_method:"lasso"})}m.closeCompPanelIfExists();if(e){m.selection.addComponentToSelectionByRef(f)}else{m.selection.selectComponentByCompRef(f)}}m.lasso.clear()}return{start:y,on:z,end:A,type:d.LASSO}});define("rEditor/rootComps/mouseCatcher",["reactDOM","react","jquery","lodash","rEditor/rootComps/mouseCatcher.rt","core","panels","util","rEditor/utils/mouseMoveActions/baseDrag","rEditor/utils/mouseMoveActions/dragAttempt","rEditor/utils/lassoMouseMoveActions/lassoDrag","experiment"],function(a,b,c,d,e,f,g,h,i,j,k,l){"use strict";var m=["wysiwyg.viewer.components.PagesContainer","wysiwyg.viewer.components.PageGroup","wysiwyg.common.components.anchor.viewer.Anchor"];var n=f.utils.mouseCoordinatesHandler;function o(a,b){if(!r(a,b)){return j}return i}var p=1;function q(a,b){if(a.selection.isHiddenComponentDraggedNext()){return false}if(a.components.is.siteSegment(b)||a.components.is.page(b)){return true}return a.components.is.container(b)&&(!a.selection.isComponentSelected(b)||!a.components.is.movable(b))}function r(a,b){var c=a.getCompDragRestrictions(b);return c.horizontallyMovable||c.verticallyMovable}function s(a,b){var c=a.selection.getComponentUnderClickToBeSelected(b.clientX,b.clientY);return a.selection.isComponentSelected(c)}function t(a,b){var c=a.selection.getSelectedComponents();if(a.selection.isSelectedCompUnderCursorAndBeneathSiteSegment(c,b)){return false}var d=a.selection.getComponentUnderClickToBeSelected(b);var e=h.browserUtil.isSpecialKeyPressed(b);return e||q(a,d)}function u(a,b){var c=a.selection.getSelectedComponents();var e=a.components.getType(b);return(!a.selection.isComponentSelected(b)||a.multiselect.isMultiselect(c))&&!d.includes(m,e)}function v(a){return!!a.editor.state.lassoLayout}function w(a,b){var c=a.components.is.controlledByParent;return d(b).map(function(b){return c(b)?a.utils.findAncestorMatchesCondition(b,d.negate(c)):b}).thru(a.multiselect.getComponentsWhichDontHaveAncestorsInTheArray).value()}return b.createClass({displayName:"mouseCatcher",mixins:[f.mixins.editorAPIMixin],propTypes:{selectedComponents:b.PropTypes.oneOfType([b.PropTypes.object,b.PropTypes.arrayOf(b.PropTypes.object)]),focusedContainer:b.PropTypes.object,config:b.PropTypes.object,onContextMenu:b.PropTypes.func,performingMouseMoveAction:b.PropTypes.bool,hoveredComp:b.PropTypes.object,isDragging:b.PropTypes.bool,isResizing:b.PropTypes.bool,isRotating:b.PropTypes.bool,isPinMode:b.PropTypes.bool,compPanel:b.PropTypes.object,editingAreaLayout:b.PropTypes.object,editorState:b.PropTypes.object.isRequired,previewPosition:b.PropTypes.object},componentWillMount:function(){this.compsBeforeSelection=null;this.shouldStartDragging=false;this.shouldStartLasso=false;this.initMousePosition=null},componentDidMount:function(){c(a.findDOMNode(this)).on("mouseenter",this.onMouseEnter)},componentWillUnmount:function(){c(a.findDOMNode(this)).off("mouseenter",this.onMouseEnter)},componentWillReceiveProps:function(a){var b=this.getEditorAPI();var c=o(b,a.selectedComponents);if(this.shouldStartDragging&&c){var d=w(b,a.selectedComponents);b.registerMouseMoveAction(c,{initMousePosition:this.initMousePosition,selectedComp:d})}else if(this.shouldStartLasso){b.registerMouseMoveAction(k,{initMousePosition:this.initMousePosition,prevSelectedComps:this.compsBeforeSelection,selectedComponents:a.selectedComponents})}this.shouldStartDragging=false;this.shouldStartLasso=false},onMouseDown:function(a){var b=this.getEditorAPI();h.keyboardShortcuts.enable();if(!l.isOpen("fitEditorCoordinatesToViewer")){n.fitMouseCoordinatesToViewer(b,a)}var c=l.isOpen("fitEditorCoordinatesToViewer")?n.fitMouseCoordinatesToViewer(b,a):{pageX:a.pageX,pageY:a.pageY,clientX:a.clientX,clientY:a.clientY};this.initMousePosition={x:c.pageX,y:c.pageY,isShiftPressed:a.shiftKey,isSpecialKeyPressed:h.browserUtil.isSpecialKeyPressed(a),isAltKeyPressed:a.altKey};this.shouldStartLasso=t(b,a);this.shouldStartDragging=!this.shouldStartLasso&&(!b.selection.isMultiSelectKeyPressed(a)||s(b,a));if(b.selection.isHiddenComponentDraggedNext()){b.selection.setIsHiddenComponentDraggedNext(false)}else if(!v(b)){this.compsBeforeSelection=this.props.selectedComponents;b.selection.selectComponentByClick(a);this.shouldStartDragging=this.shouldStartDragging&&b.selection.isComponentExplicitlySelected()}b.closeRightClickMenu();g.panelManager.notifyMouseDown(a)},onMouseUp:function(a){var b=this.getEditorAPI();if(!l.isOpen("fitEditorCoordinatesToViewer")){n.fitMouseCoordinatesToViewer(b,a)}var c=a.button===2;if(!c){this.deselectClickedCompIfNeeded(a);if(b.selection.getIsMouseUpSelectionEnabled()&&!v(b)){b.selection.selectNonGroupCompUnderCursor(a,this.props.siteScale)}}b.selection.setIsMouseUpSelectionEnabled(false);this.initMousePosition=null;this.shouldStartDragging=false;this.shouldStartLasso=false},onMouseMove:function(a){var b=this.getEditorAPI();var c=l.isOpen("fitEditorCoordinatesToViewer")?n.fitMouseCoordinatesToViewer(b,a):{pageX:a.pageX,pageY:a.pageY,clientX:a.clientX,clientY:a.clientY};if(!this.props.registeredMouseMoveAction){this.updateHoverBox(a)}this.props.mouseMoveCallback(c.pageX,c.pageY)},onMouseEnter:function(a){if(a.which!==p){this.getEditorAPI().endMouseMoveActionIfNeeded(d.clone(a))}},updateHoverBox:function(a){var b=this.getEditorAPI();if(!l.isOpen("fitEditorCoordinatesToViewer")){f.utils.mouseCoordinatesHandler.fitMouseCoordinatesToViewer(b,a)}b.waitForChangesApplied(function(){var c=b.selection.getComponentToBeMarkedByHoverBox(a);var d=this.props.hoverBoxOverlay;if(!this.props.hoveredComp&&c){if(u(b,c)){this.props.setHoverBox(c,d)}}else if(this.props.hoveredComp&&!c){this.props.clearHoverBox()}else if(this.props.hoveredComp&&c){if(!u(b,c)){this.props.clearHoverBox()}else if(this.props.hoveredComp.id!==c.id){this.props.setHoverBox(c,d)}}}.bind(this))},clearHoverBox:function(){this.props.clearHoverBox()},deselectClickedCompIfNeeded:function(a){var b=this.getEditorAPI();if(b.selection.isMultiSelectKeyPressed(a)&&this.initMousePosition){var c=b.selection.getComponentUnderClickToBeSelected(a);var e=!!d.find(this.compsBeforeSelection,c);var f=l.isOpen("fitEditorCoordinatesToViewer")?n.fitMouseCoordinatesToViewer(b,a):{pageX:a.pageX,pageY:a.pageY,clientX:a.clientX,clientY:a.clientY};var g=!this.isPointsDistanceBiggerThan(this.initMousePosition,{x:f.pageX,y:f.pageY},2);if(e&&g){b.selection.setIsMouseUpSelectionEnabled(false);b.selection.deselectComponents(c)}}},isPointsDistanceBiggerThan:function(a,b,c){var d=Math.pow(b.x-a.x,2)+Math.pow(b.y-a.y,2);return Math.sqrt(d)>c},isComponentSelected:function(){return this.getEditorAPI().selection.isComponentSelected()},getComponentLabel:function(){return this.getEditorAPI().getComponentType(this.props.selectedComponents)},isCompDraggable:function(){var a=this.getEditorAPI();var b=this.props.hoveredComp;if(b){return u(a,b)&&a.components.is.draggable(b)}return false},getCompToShowMarginsIndicator:function(){var a=this.getEditorAPI();if(this.props.editorState.attachCandidate){return this.props.editorState.attachCandidate}if(this.props.isDragging){return a.components.getContainer(this.getEditorAPI().selection.getSelectedComponents())}return null},showMarginsIndicator:function(){var a=this.getEditorAPI();var b=this.getCompToShowMarginsIndicator();return b&&a.components.is.showMarginsIndicator(b)},getMarginsIndicatorStyles:function(a){
var b=this.getEditorAPI();var c=b.components.layout.getRelativeToScreen(a);var e=b.components.layout.getCompMargin(a);return{indicator:{top:c.y,left:c.x,width:c.width,height:c.height},marginLeft:Math.max(0,e.left),marginRight:Math.max(0,e.right),inlineWidth:c.width-d.sum(e)}},render:e})});define("rEditor/rootComps/textEditor.rt",["react","lodash","textControls"],function(a,b,c){"use strict";return function(){return a.createElement(c.richTextInput,{ref:"richTextInput",valueLink:{value:this.state.textData,requestChange:this.handleTextChange},themeColors:this.getThemeColors(),themeFonts:this.getThemeFonts(),documentType:this.getDocumentType(),languages:this.getLanguages(),layout:this.getTextEditorLayout(),onHeightChange:this.handleTextHeightChange,fonts:this.getCurrentSelectableFontsWithParams(),hideToolbar:true,className:"text-editor",onShow:this.handleShowTextEditor,openLinkDialog:this.openLinkDialog,openColorPicker:this.openTextColorPicker,selectAllOnInit:true,isResizing:this.props.isResizing,panelManager:this.getPanelManager(),shouldLimitTextLength:true})}});define("rEditor/rootComps/textEditor",["react","lodash","rEditor/rootComps/textEditor.rt","core","textControls","panelUtils"],function(a,b,c,d,e,f){"use strict";return a.createClass({displayName:"textEditor",render:c,mixins:[d.mixins.editorAPIMixin,f.linkColorPickerMixin],getComponentData:function(){return this.getEditorAPI().components.data.get(this._textComponent)},setComponentData:function(a){var c=this.getComponentData();b.forOwn(a,function(a,b){c[b]=a});this.getEditorAPI().components.data.update(this._textComponent,c,true)},setComponentLayout:function(a){this.getEditorAPI().components.layout.updateRelativeToScreenAndAdjustLayout(this._textComponent,a)},_cacheSelectedComponent:function(){this._textComponent=this.getEditorAPI().text.getTextCompForEdit()},getInitialState:function(){this._cacheSelectedComponent();return{textData:{text:this.getComponentData().text.replace(/\n/g,""),linkList:this.getComponentData().linkList}}},getThemeColors:function(){return this.getEditorAPI().theme.colors.getAll()},getThemeFonts:function(){return this.getEditorAPI().theme.fonts.getAll()},getDocumentType:function(){return this.getEditorAPI().generalInfo.getDocumentType()},getLanguages:function(){return this.getEditorAPI().theme.fonts.getCharacterSet()},getTextEditorLayout:function(){var a=this.getEditorAPI();var b=a.components.layout.getRelativeToScreen(this._textComponent);var c=a.components.layout.isShowOnFixedPosition(this._textComponent);var d={top:b.y,left:b.x,width:b.width,height:b.height,position:c?"fixed":"absolute"};if(c){d.top+=a.editorConfig.previewPosition.top;d.left+=a.editorConfig.previewPosition.left}return d},takeSnapshot:function(){if(this.snapshotTimeoutHandle){clearTimeout(this.snapshotTimeoutHandle)}var a=this;this.snapshotTimeoutHandle=setTimeout(function(){a.getEditorAPI().history.add("RT:Change");delete a.snapshotTimeoutHandle},1e3)},handleTextChange:function(a){var b=this.getEditorAPI();this.setComponentData(a);b.waitForChangesApplied(this.takeSnapshot);this.setState({textData:a})},handleTextHeightChange:function(a){this.setComponentLayout({height:a})},getCurrentSelectableFontsWithParams:function(){return e.fontUtils.getCurrentSelectableFontsWithParams(this.getEditorAPI())},handleShowTextEditor:function(a){this._cacheSelectedComponent();var c=this.getEditorAPI();var d=this._textComponent;var e=b.now();c.waitForChangesApplied(function(){setTimeout(function(){var e=b.first(c.selection.getSelectedComponents());if(e===d){c.renderPlugins.setHideTextComponent(d.id);if(a){a()}c.openComponentPanel("textSettingsPanel")}else{c.text.stopEditing()}},Math.max(250-b.now()+e,0))})},componentDidMount:function(){this.getEditorAPI().text.setCurrentTextEditor(this.refs.richTextInput)},componentWillUnmount:function(){clearTimeout(this.panelTimeout);if(this.snapshotTimeoutHandle){clearTimeout(this.snapshotTimeoutHandle);this.getEditorAPI().history.add("RT:Change")}this.getEditorAPI().text.setCurrentTextEditor(null)},openLinkDialog:function(a,b){var c=this.getEditorAPI();c.openLinkPanel({link:a,callback:b})},openTextColorPicker:function(a,b,c,d){this.openColorPicker(b,a,true,c,d)},getPanelManager:function(){return this.getEditorAPI().panelManager}})});define("rEditor/rootComps/funTextEditor.rt",["react","lodash","textControls"],function(a,b,c){"use strict";return function(){return this.isReady()?a.createElement(c.richTextInput,b.assign({},{key:"richTextInput",ref:"richTextInput",valueLink:{value:this.getValue(),requestChange:this.handleTextChange},themeColors:this.getThemeColors(),themeFonts:this.getThemeFonts(),documentType:this.getDocumentType(),languages:this.getLanguages(),layout:this.getTextEditorLayout(),fonts:this.getCurrentSelectableFontsWithParams(),hideToolbar:true,className:"text-editor",openLinkDialog:this.openLinkDialog,openColorPicker:this.openTextColorPicker,isResizing:this.props.isResizing,panelManager:this.getPanelManager(),shouldLimitTextLength:true,isFocusOnInit:false,isTextEditorOpen:this.state.isTextEditorOpen},this.getRichTextProps())):null}});define("rEditor/rootComps/funTextEditor",["react","lodash","rEditor/rootComps/funTextEditor.rt","textControls","core","panels","panelUtils","experiment"],function(a,b,c,d,e,f,g,h){"use strict";var i=false;return a.createClass({displayName:"funTextEditor",render:c,mixins:[e.mixins.editorAPIMixin,g.linkColorPickerMixin],getThemeColors:function(){return this.getEditorAPI().theme.colors.getAll()},getThemeFonts:function(){return this.getEditorAPI().theme.fonts.getAll()},getDocumentType:function(){return this.getEditorAPI().generalInfo.getDocumentType()},getLanguages:function(){return this.getEditorAPI().theme.fonts.getCharacterSet()},getTextEditorLayout:function(){var a={};if(this.props.selectedTextComp){var b=this.getEditorAPI();var c=this.getTextComponentFromProps();var d=b.components.layout.getRelativeToScreen(c);var e=b.components.layout.isShowOnFixedPosition(c);a={top:d.y,left:d.x,width:d.width,height:d.height,position:e?"fixed":"absolute"};if(e){a.top+=b.editorConfig.previewPosition.top;a.left+=b.editorConfig.previewPosition.left}}if(!this.props.isOpenTextEditor){a.visibility="hidden"}return a},getCurrentSelectableFontsWithParams:function(){return d.fontUtils.getCurrentSelectableFontsWithParams(this.getEditorAPI())},openLinkDialog:function(a,b){var c=this.getEditorAPI();c.openLinkPanel({link:a,callback:b})},openTextColorPicker:function(a,b,c,d){this.openColorPicker(b,a,true,c,d)},isReady:function(){return this.getEditorAPI().isPreviewReady()&&b.get(window,"CKEDITOR.WIX.status")==="ready"},getComponentDataFromProps:function(a){return this.getEditorAPI().components.data.get(this.getTextComponentFromProps(a))},getTextComponentFromProps:function(a){a=a||this.props;return a.selectedTextComp},getValue:function(){if(this.props.selectedTextComp){var a=this.getComponentDataFromProps();return{text:a.text,linkList:a.linkList}}return{text:"",linkList:[]}},getPanelManager:function(){return this.getEditorAPI().panelManager},renderWhenReady:function(){if(this.isReady()&&this.refs.richTextInput){this.getEditorAPI().text.setCurrentTextEditor(this.refs.richTextInput);this.forceUpdate()}else{setTimeout(this.renderWhenReady,100)}},deleteTextEditorComponentIfEmpty:function(a){var b=this.getEditorAPI().components.data.get(a);if(b){var c=b.text;if(d.dataUtils.isEmptyHtmlText(c)){this.getEditorAPI().components.remove(a)}}},getInitialState:function(){return{isTextEditorOpen:false}},componentWillReceiveProps:function(a){if(this.props.isOpenTextEditor!==a.isOpenTextEditor){this.setState({isTextEditorOpen:a.isOpenTextEditor})}},componentWillUpdate:function(a){if(this.props.selectedTextComp&&!b.isEqual(this.props.selectedTextComp,a.selectedTextComp)||this.props.isOpenTextEditor&&!a.isOpenTextEditor){this.stopTextEditing()}},componentDidUpdate:function(a){if(!a.isOpenTextEditor&&this.props.isOpenTextEditor){this.getEditorAPI().renderPlugins.setHideTextComponent(this.getTextComponentFromProps().id);this.refs.richTextInput.focus();this.refs.richTextInput.selectAll();this.refs.richTextInput.resetUndo();this.getEditorAPI().openComponentPanel("textSettingsPanel")}},componentDidMount:function(){this.renderWhenReady()},componentWillUnmount:function(){this.stopTextEditing()},stopTextEditing:function(){if(i){return}i=true;var a=this.getEditorAPI();var b=this;this.stopRichTextInput();this.getEditorAPI().renderPlugins.setHideTextComponent(null);var c=this.getTextComponentFromProps();a.waitForChangesApplied(function a(){b.deleteTextEditorComponentIfEmpty(c);i=false});this.getEditorAPI().text.stopEditing()},stopRichTextInput:function(){var a=this.refs.richTextInput;if(a){a.handleDataChange();a.clearUnusedLinks()}},handleTextChange:function(a){var b=this.getEditorAPI();this.setComponentData(a);b.waitForChangesApplied(this.takeSnapshot)},setComponentData:function(a){var c=this.getComponentDataFromProps();b.forOwn(a,function(a,b){c[b]=a});this.getEditorAPI().components.data.update(this.getTextComponentFromProps(),c,true)},takeSnapshot:function(){if(this.snapshotTimeoutHandle){clearTimeout(this.snapshotTimeoutHandle)}var a=this;this.snapshotTimeoutHandle=setTimeout(function(){a.getEditorAPI().history.add("RT:Change");delete a.snapshotTimeoutHandle},1e3)},getRichTextProps:function(){var a=this.getEditorAPI();var c={};if(h.isOpen("se_fontsRefactor")){b.merge(c,{fontsUrls:a.fonts.css.getUrls(),themeFontsCss:a.theme.fonts.getThemeStyles(),themeColorsCss:a.theme.colors.getCss()})}return c}})});define("rEditor/rootComps/gridLines/gridLines.rt",["react","lodash"],function(a,b){"use strict";function c(b,c){return a.createElement("line",{key:c+"backLine",x1:b.x1,y1:b.y1,x2:b.x2,y2:b.y2,className:"backLine"})}function d(b,c){return a.createElement("line",{key:c+"frontLine",x1:b.x1,y1:b.y1,x2:b.x2,y2:b.y2,className:"frontLine"})}return function(){return a.createElement.apply(this,["svg",{className:"gridLines"+" "+b({fade:this.props.fade}).transform(function(a,b,c){if(b){a.push(c)}},[]).join(" ")},b.map(this.props.gridLines,c.bind(this)),b.map(this.props.gridLines,d.bind(this))])}});define("rEditor/rootComps/gridLines/gridLines",["react","lodash","core","rEditor/rootComps/gridLines/gridLines.rt"],function(a,b,c,d){"use strict";return a.createClass({displayName:"gridLines",mixins:[c.mixins.editorAPIMixin],propTypes:{gridLines:a.PropTypes.arrayOf(a.PropTypes.object),fade:a.PropTypes.bool},getDefaultProps:function(){return{fade:false}},render:d})});define("rEditor/rootComps/rulers/guide.rt",["react","lodash","core","baseUI","uiConstants","symbols"],function(a,b,c,d,e,f){"use strict";function g(a){this.onContainerMouseDown(a)}return function(){return a.createElement("div",{className:this.props.rulerDirection+"-guide-container",style:this.getGuideContainerStyle()},a.createElement("div",{className:this.props.rulerDirection+"-guide",style:this.getGuideStyle()}),a.createElement("div",{ref:"guide",className:this.props.rulerDirection+"-guide-catcher",onClick:this.handleGuideClick,onMouseDown:g.bind(this),onMouseEnter:this.onMouseEnter,onMouseLeave:this.onMouseLeave},a.createElement("div",{className:this.props.rulerDirection+"-guide-handler"},this.shouldShowSelectedGuide()?a.createElement(f.symbol,{key:"selected",name:"guidesHandler_selected"}):null,!this.shouldShowSelectedGuide()?a.createElement(f.symbol,{key:"regular",name:"guidesHandler_regular"}):null)),this.getBubbleMode()?a.createElement(d.bubble,b.assign({},{ref:"bubble",key:"hoverBubble"},this.getBubbleProps())):null)}});define("rEditor/rootComps/rulers/rulersComputations",["lodash","jquery"],function(a,b){"use strict";var c=22;function d(a,b,c,d){var e=0;var f=a==="vertical"?Math.floor(c.width/100):Math.round((c.height+c.y)/100);if(b&&a==="horizontal"){f=Math.floor(d.previewHeight+d.previewPosition.top)/100}if(!b&&a==="horizontal"){e=Math.floor(c.y/100)+1}return[e,f]}function e(a,b,c,e){var f=d(e,a,b,c);var g=f[0];var h=f[1];var i=[];for(var j=g;j<=h;j++){i.push(j*100)}return i}function f(a,b,d,e){var f,g,h,i;f=a?0:-b.x;g=a?b.width:e-b.x;h=a?0:c;i=d.maxBottomY+d.marginBottom;var j=a?d.scrollTop:d.scrollTop+c;return{vertical:{min:f,max:g,minInView:f},horizontal:{min:h,max:i,minInView:j}}}function g(a,b,c,d,e,g){var h=f(a,b,c,d);h=e==="vertical"?h.vertical:h.horizontal;return g<h.min||g>h.max}function h(a,b,c,d,e,g){var h=f(a,b,c,d);h=e==="vertical"?h.vertical:h.horizontal;return g<h.minInView||g>h.max}function i(a,b){if(a){return b?b.maxBottomY+b.marginBottom:0}return"calc(100% - "+c+"px)"}function j(a,b){return a?b.width:"calc(100% - "+c+"px)"}function k(a,b,c){var d;if(b==="vertical"){d=c.pageX-a.editorConfig.previewPosition.left-a.siteSegments.getPagesContainerAbsLayout().x}else{d=c.pageY-a.editorConfig.previewPosition.top+a.site.getScroll().y}return d}function l(a,b){var c=a.siteSegments.getPagesContainerAbsLayout();return a.isMobileEditor()?b:b+c.x}function m(a,c){var d=b(c).offset().top-parseInt(b(c).css("top"),10);return a-d}return{getRulerNumbers:e,isGuideOutOfLimits:g,isGuideOutOfViewLimits:h,getHorizontalTicksHeight:i,calcNewGuidePosition:k,calcHorizontalDraggingPosition:m,getVerticalTicksWidth:j,getVerticalGuidePosition:l}});define("rEditor/rootComps/rulers/guide",["reactDOM","react","lodash","baseUI","core","panels","util","uiConstants","rEditor/rootComps/rulers/guide.rt","rEditor/rootComps/rulers/rulersComputations"],function(a,b,c,d,e,f,g,h,i,j){"use strict";var k="guideToolTipTrash";var l="smallVApproval";var m=700;var n=900;var o=10;var p=20;var q=3;var r=6;var s=-5;var t=5;var u=600;var v=500;return b.createClass({displayName:"guide",mixins:[e.mixins.editorAPIMixin,g.draggableMixin],propTypes:{rulerDirection:b.PropTypes.string.isRequired,guidePosition:b.PropTypes.number.isRequired,guideId:b.PropTypes.string.isRequired,isSelected:b.PropTypes.bool,isGuideOutOfLimitsFunc:b.PropTypes.func.isRequired,isMouseOverRulers:b.PropTypes.bool,toolsHidden:b.PropTypes.bool,disableInteraction:b.PropTypes.bool,previewSize:b.PropTypes.object.isRequired},getInitialState:function(){this.preventClickAfterDragEnd=false;return{isHoverBubble:false,mouseOverGuide:false,guidePosition:this.props.guidePosition,stepperSymbol:k,stepperValueInvalid:false,selectedDueToHoverBubbleClick:false,isFirstRender:true}},componentWillReceiveProps:function(a){if(!this.isBeingDragged){this.setState({stepperValueInvalid:false,guidePosition:a.guidePosition})}},componentWillUpdate:function(a,b){if(!this.props.toolsHidden&&a.toolsHidden&&a.isSelected){this.getEditorAPI().rulers.deselectGuide()}if(!this.state.isHoverBubble&&b.isHoverBubble){this.getEditorAPI().rulers.sendBIEvent("GUIDE_TOOLTIP_APPEAR",{})}},setGuideSelected:function(a){if(this.state.isFirstRender){this.setState({isFirstRender:false})}this.getEditorAPI().rulers.selectGuide(this.props.guideId,a);this.setState({stepperValueInvalid:false,stepperSymbol:k})},shouldShowSelectedGuide:function(){return this.isBeingDragged||this.state.mouseOverGuide||this.props.isSelected},getGuideContainerStyle:function(){return this.props.rulerDirection==="horizontal"?{top:this.state.guidePosition}:{left:j.getVerticalGuidePosition(this.getEditorAPI(),this.state.guidePosition)}},getGuideStyle:function(){var a=this.getEditorAPI();var b=this.props.previewSize;if(this.props.rulerDirection==="horizontal"){var c=b.width;return{left:-c,width:c}}var d=a.isMobileEditor()?b.height+h.MOBILE_PREVIEW_TOP:b.height;return{height:d}},removeGuide:function(){var a=this.getEditorAPI();a.rulers.removeGuideById(this.props.guideId)},onDragStart:function(){this.getEditorAPI().rulers.updateEditorRulersState("isDragging",true);this.setState({stepperValueInvalid:false,stepperSymbol:k})},getDragPosition:function(a){var c=b.findDOMNode(this);return this.props.rulerDirection==="horizontal"?j.calcHorizontalDraggingPosition(a.top,c):a.left-this.getEditorAPI().siteSegments.getPagesContainerAbsLayout().x},whileDrag:function(a){var b=this.getDragPosition(a);if(this.props.isGuideOutOfLimitsFunc(b)){this.endDrag()}else{this.setState({guidePosition:b})}},onDragEnd:function(a){var b=this.getEditorAPI();b.rulers.updateStateOnDragEnd(this.props.isMouseOverRulers);var c=this.getDragPosition(a);if(this.props.isGuideOutOfLimitsFunc(c)){b.rulers.sendBIEvent("GUIDE_DELETED",{origin:"drag_outside"});this.removeGuide()}else{this.sendDragBIEvent(this.props.guidePosition,c);this.preventClickAfterDragEnd=true;b.rulers.changeGuidePosition(this.props.rulerDirection,this.props.guideId,c)}},getDragLimits:function(){return this.props.rulerDirection==="horizontal"?{lockedX:true}:{lockedY:true}},sendDragBIEvent:function(a,b){var c={xCoordinate_new:0,xCoordinate_old:0,yCoordinate_new:0,yCoordinate_old:0};if(this.props.rulerDirection==="vertical"){c.xCoordinate_new=b;c.xCoordinate_old=a}else{c.yCoordinate_new=b;c.yCoordinate_old=a}this.getEditorAPI().rulers.sendBIEvent("GUIDE_DRAGGED",c)},closeHoverBubble:function(){this.setState({isHoverBubble:false})},deselectGuide:function(){if(!this.isBeingDragged){this.getEditorAPI().rulers.deselectGuide()}},onStepperValueChangeApproval:function(a){if(!this.props.isGuideOutOfLimitsFunc(c.parseInt(a))){var b=this.getEditorAPI();b.rulers.changeGuidePosition(this.props.rulerDirection,this.props.guideId,c.parseInt(a));this.setState({stepperSymbol:l});setTimeout(this.deselectGuide.bind(this),m)}},onStepperSteppingValueChange:function(a){var b=c.parseInt(a);var d=!this.props.isGuideOutOfLimitsFunc(b);var e=this.props.guidePosition===a;this.sendStepperValueChangeBIEvent(a,d,e);this.setState({stepperValueInvalid:!d});if(!d){setTimeout(function(){this.setState({stepperValueInvalid:false})}.bind(this),n)}else{var f=this.getEditorAPI();f.rulers.changeGuidePosition(this.props.rulerDirection,this.props.guideId,b)}},sendStepperValueChangeBIEvent:function(a,b,c){var d;if(c){d="no_change"}else{d=b?"accepted":"denied"}var e={type:this.props.rulerDirection,value:a,valid_value:d};this.getEditorAPI().rulers.sendBIEvent("VALUE_CHANGE_IN_GUIDE_TOOLTIP",e)},stepperSymbolClickFunc:function(){if(this.state.stepperSymbol===k){this.getEditorAPI().rulers.sendBIEvent("GUIDE_DELETED",{origin:"trash_icon"});this.removeGuide()}},stepperClick:function(){if(this.state.isHoverBubble){this.setState({isHoverBubble:false,stepperValueInvalid:false,stepperSymbol:k,selectedDueToHoverBubbleClick:true});this.setGuideSelected("click_on_tooltip")}else{this.setState({stepperValueInvalid:false,stepperSymbol:k})}},getStepperWithSVGProps:function(){return{showSymbol:this.props.isSelected&&!this.state.isFirstRender,stepperClickFunc:this.stepperClick,symbolClickFunc:this.stepperSymbolClickFunc,symbolName:this.state.stepperSymbol,stepperProps:{min:-99999,max:99999,step:1,selectedUnits:"px",units:"px",afterBlur:this.onStepperValueChangeApproval,isInvalidValue:this.state.stepperValueInvalid,valueLink:{value:this.state.guidePosition,requestChange:this.onStepperSteppingValueChange},dynamicInputSize:{characterWidth:o,minWidth:p},inputInFocus:this.state.selectedDueToHoverBubbleClick}}},getOverridePositionAdjustments:function(a){if(this.props.rulerDirection==="horizontal"){return undefined}return{type:h.TOOLTIP.ALIGNMENT.TOP,value:a==="hover"?q:r}},getBubbleMode:function(){if(this.props.isSelected&&!this.state.isFirstRender){return"selected"}return this.state.isHoverBubble&&!this.props.toolsHidden?"hover":null},getHoverBubbleProps:function(){return{closeTrigger:[],hideMethod:this.closeHoverBubble,timeoutForMouseOverBubble:u,mouseLeftTargetNode:!this.isBeingDragged&&!this.state.mouseOverGuide,className:"hover-bubble"}},getSelectedBubbleProps:function(){return{closeTrigger:[h.TOOLTIP.TRIGGERS.OUTER_CLICK],hideMethod:this.deselectGuide,timeoutForMouseOverBubble:0,mouseLeftTargetNode:null,className:"selected-bubble"}},getBubbleProps:function(){var b=this.getBubbleMode();var c=b==="hover"?this.getHoverBubbleProps():this.getSelectedBubbleProps();var d=this.getOverridePositionAdjustments(b);var e=this.props.rulerDirection==="horizontal"?t:s;var f=this.props.rulerDirection==="horizontal"?h.TOOLTIP.ALIGNMENT.LEFT:h.TOOLTIP.ALIGNMENT.RIGHT;return{value:{classPath:"baseUI.stepperWithSVG",props:this.getStepperWithSVGProps()},styleType:h.TOOLTIP.STYLE_TYPE.NORMAL,alignment:f,noArrow:true,targetNode:a.findDOMNode(this.refs.guide),closeTriggers:c.closeTrigger,hideMethod:c.hideMethod,marginsFromWindow:0,mouseLeftTargetNode:c.mouseLeftTargetNode,marginsFromElement:e,timeoutForMouseOverBubble:c.timeoutForMouseOverBubble,overridePositionAdjustments:d,customClasses:[c.className]}},onContainerMouseDown:function(a){a.stopPropagation();if(!this.props.toolsHidden){this.startDrag(a,this.getDragLimits())}},onMouseLeave:function(){this.setState({mouseOverGuide:false})},activateHoverBubble:function(){if(this.state.mouseOverGuide){this.setState({isHoverBubble:true,selectedDueToHoverBubbleClick:false})}},onMouseEnter:function(){var a=!this.props.disableInteraction&&(!this.props.isSelected&&!this.props.toolsHidden||this.props.isSelected&&this.state.isFirstRender);if(a){this.setState({mouseOverGuide:true});setTimeout(this.activateHoverBubble,v)}},handleGuideClick:function(a){a.stopPropagation();if(this.props.disableInteraction||this.props.toolsHidden){return}if(this.state.isHoverBubble){this.setState({isHoverBubble:false})}if(this.preventClickAfterDragEnd){this.preventClickAfterDragEnd=false;return}this.setGuideSelected("click_on_guide")},render:i})});define("rEditor/rootComps/rulers/rulers.rt",["react","lodash","core","util","rEditor/rootComps/rulers/guide"],function(a,b,c,d,e){"use strict";function f(a){a.preventDefault()}function g(b,c){return a.createElement("div",{key:"number-"+b,className:"ruler-number"},b)}function h(b,c){return a.createElement(e,{key:b.guideId,rulerDirection:this.props.rulerDirection,guidePosition:b.guidePosition,guideId:b.guideId,isSelected:this.props.selectedGuide===b.guideId,isGuideOutOfLimitsFunc:this.isGuideOutOfLimits,isMouseOverRulers:this.isMouseOver,toolsHidden:this.props.toolsHidden,disableInteraction:this.props.isDragging,previewSize:this.props.previewSize})}return function(){return a.createElement.apply(this,["div",{className:b({rulers:true,"mobile-editor-rulers":this.getEditorAPI().isMobileEditor(),"vertical-ruler":this.props.rulerDirection==="vertical","horizontal-ruler":this.props.rulerDirection==="horizontal"}).transform(function(a,b,c){if(b){a.push(c)}},[]).join(" "),ref:"rulerContainer",style:this.getRulersStyle(),onMouseDown:this.handleMouseDown,onMouseEnter:this.handleMouseEnter,onMouseLeave:this.handleMouseLeave,onContextMenu:f.bind(this)},!this.props.toolsHidden?a.createElement("div",{className:this.props.rulerDirection+"-ticks",key:this.props.rulerDirection+"-ruler"},!this.getEditorAPI().isMobileEditor()&&this.props.rulerDirection==="vertical"?a.createElement("div",{className:"rulers-separator-blocker",key:"rulers-separator-blocker"}):null,!this.getEditorAPI().isMobileEditor()&&this.props.rulerDirection==="horizontal"?a.createElement("div",{className:"rulers-separator"+" "+b({"rulers-separator-hover":this.props.isHovered}).transform(function(a,b,c){if(b){a.push(c)}},[]).join(" "),key:"rulers-separator"}):null,a.createElement("div",{className:"rulers-background"+" "+b({"rulers-background-hover":this.props.isHovered,"rulers-background-mobile":this.getEditorAPI().isMobileEditor()}).transform(function(a,b,c){if(b){a.push(c)}},[]).join(" ")},a.createElement("div",{className:"rulers-"+this.props.rulerDirection+"-ticks",style:this.getTicksPositionInBackgroundStyle()}),a.createElement.apply(this,["div",{className:"ruler-numbers-container",style:this.getRulersNumbersStyle()},b.map(this.getRulerNumbers(),g.bind(this))]))):null,b.map(this.props.guidesInRuler,h.bind(this))])}});define("rEditor/rootComps/rulers/rulers",["reactDOM","jquery","react","lodash","baseUI","core","util","rEditor/rootComps/rulers/rulers.rt","rEditor/rootComps/rulers/rulersComputations"],function(a,b,c,d,e,f,g,h,i){"use strict";var j=4;var k="5px -21px";var l="5px 0";return c.createClass({displayName:"rulers",mixins:[f.mixins.editorAPIMixin],propTypes:{rulerDirection:c.PropTypes.string.isRequired,guidesInRuler:c.PropTypes.array.isRequired,selectedGuide:c.PropTypes.string,isHovered:c.PropTypes.bool,previewHeight:c.PropTypes.number,toolsHidden:c.PropTypes.bool,selectedComponents:c.PropTypes.array,isDragging:c.PropTypes.bool,previewSize:c.PropTypes.object.isRequired},getInitialState:function(){this.isMouseOver=false;this.viewPort=f.utils.stageUtils.getViewPort(true);this.verticalRulersComponentWidth=null;return{}},componentWillMount:function(){var a=g.keyboardShortcuts.extendContext(g.keyboardShortcuts.CONTEXTS.EDITOR,this.getRulersKeyboardShortcuts());g.keyboardShortcuts.registerContext(g.keyboardShortcuts.CONTEXTS.RULERS,a);this.horizontalTicksHeight=i.getHorizontalTicksHeight(this.getEditorAPI().isMobileEditor(),this.viewPort)},componentDidMount:function(){if(this.props.rulerDirection==="vertical"){this.verticalRulersComponentWidth=this.getVerticalRulerWidth()}},shouldComponentUpdate:function(a){if(!this.props.isHovered&&a.isHovered&&this.props.rulerDirection==="vertical"){this.getEditorAPI().rulers.sendBIEvent("RULERS_HOVER",{})}var b=this.viewPort;this.viewPort=f.utils.stageUtils.getViewPort(true);return this.props.previewHeight!==a.previewHeight||b!==this.viewPort||!d.isEqual(a,this.props)},componentWillUpdate:function(){this.horizontalTicksHeight=i.getHorizontalTicksHeight(this.getEditorAPI().isMobileEditor(),this.viewPort)},componentDidUpdate:function(a){if(d.isEmpty(a.selectedComponents)&&!d.isEmpty(this.props.selectedComponents)&&this.props.selectedGuide){this.getEditorAPI().rulers.deselectGuide()}if(this.props.rulerDirection==="vertical"){this.verticalRulersComponentWidth=this.getVerticalRulerWidth()}},componentWillUnmount:function(){g.keyboardShortcuts.unregisterContext(g.keyboardShortcuts.CONTEXTS.RULERS)},getRulersKeyboardShortcuts:function(){return{"del,backspace":this.getEditorAPI().rulers.removeGuideViaDelBtn,"shift + right":d.partial(this.changeGuidePositionViaKeyboard,"vertical",10),"shift + left":d.partial(this.changeGuidePositionViaKeyboard,"vertical",-10),"shift + up":d.partial(this.changeGuidePositionViaKeyboard,"horizontal",-10),"shift + down":d.partial(this.changeGuidePositionViaKeyboard,"horizontal",10),left:d.partial(this.changeGuidePositionViaKeyboard,"vertical",-1),right:d.partial(this.changeGuidePositionViaKeyboard,"vertical",1),up:d.partial(this.changeGuidePositionViaKeyboard,"horizontal",-1),down:d.partial(this.changeGuidePositionViaKeyboard,"horizontal",1)}},changeGuidePositionViaKeyboard:function(a,b){var c=this.getEditorAPI();var d=c.rulers.getSelectedGuideData();if(!this.isGuideOutOfLimits(d.guidePosition+b,false,a)){c.rulers.changeGuidePositionByPixels(a,b)}},getVerticalRulerWidth:function(){return this.refs.rulerContainer&&a.findDOMNode(this.refs.rulerContainer)&&a.findDOMNode(this.refs.rulerContainer).getBoundingClientRect()&&a.findDOMNode(this.refs.rulerContainer).getBoundingClientRect().width||0},getRulerNumbers:function(){var a=this.getEditorAPI();var b=a.siteSegments.getPagesContainerAbsLayout();return i.getRulerNumbers(a.isMobileEditor(),b,a.editorConfig,this.props.rulerDirection)},getRulersNumbersStyle:function(){var a=this.getEditorAPI();var b=a.siteSegments.getPagesContainerAbsLayout();if(this.props.rulerDirection==="vertical"){return{left:a.isMobileEditor()?j:b.x+j}}return{top:a.isMobileEditor()?1:Math.floor(b.y/100)*100+80+1}},getRulersStyle:function(){if(this.props.rulerDirection==="vertical"){var a=this.getEditorAPI();var b=a.siteSegments.getPagesContainerAbsLayout();var c={width:i.getVerticalTicksWidth(a.isMobileEditor(),b)};if(a.isMobileEditor()){c.left=b.x}return c}return{height:this.horizontalTicksHeight}},getTicksPositionInBackgroundStyle:function(){var a=this.getEditorAPI();if(this.props.rulerDirection==="vertical"){var b=a.siteSegments.getPagesContainerAbsLayout();return{backgroundPosition:a.isMobileEditor()?0:b.x+1}}return a.isMobileEditor()?{backgroundPosition:l}:{backgroundPosition:k}},isGuideOutOfLimits:function(a,b,c){var d=this.getEditorAPI();var e=d.siteSegments.getPagesContainerAbsLayout();c=c||this.props.rulerDirection;if(b){return i.isGuideOutOfViewLimits(d.isMobileEditor(),e,this.viewPort,this.verticalRulersComponentWidth,c,a,b)}return i.isGuideOutOfLimits(d.isMobileEditor(),e,this.viewPort,this.verticalRulersComponentWidth,c,a,b)},handleMouseEnter:function(a){if(b(a.target).hasClass("vertical-guide")||b(a.target).hasClass("horizontal-guide")){return}this.isMouseOver=true;var c=this.getEditorAPI();c.rulers.updateEditorRulersState("isHovered",true)},handleMouseLeave:function(){this.isMouseOver=false;if(!this.props.isDragging){var a=this.getEditorAPI();a.rulers.updateEditorRulersState("isHovered",false)}},handleMouseDown:function(a){if(d.includes(["rulers-vertical-ticks","rulers-horizontal-ticks","ruler-number","ruler-numbers-container"],a.target.className)){var b=i.calcNewGuidePosition(this.getEditorAPI(),this.props.rulerDirection,a);if(!this.isGuideOutOfLimits(b,true)){this.setNewGuide(b)}}},setNewGuide:function(a){var b=this.getEditorAPI();var c={};if(this.props.rulerDirection==="vertical"){b.rulers.setVerticalGuide(a);c={xCoordinate:a,yCoordinate:0}}else{b.rulers.setHorizontalGuide(a);c={xCoordinate:0,yCoordinate:a}}this.getEditorAPI().rulers.sendBIEvent("RULERS_CLICKED",c)},render:h})});define("rEditor/rootComps/mobileFrame/mobileFrame.rt",["react","lodash"],function(a,b){"use strict";return function(){return a.createElement("div",{className:b({"mobile-frame":true,previewMode:this.props.previewMode}).transform(function(a,b,c){if(b){a.push(c)}},[]).join(" "),style:this.getFrameStyle()},a.createElement("div",{className:"block-layer bottom"}),a.createElement("div",{className:"mobile-frame-top"}),a.createElement("div",{className:"site-shadow",key:"mobile-site-shadow"}),a.createElement("div",{className:"mobile-frame-bottom"}))}});define("rEditor/rootComps/mobileFrame/mobileFrame",["react","core","rEditor/rootComps/mobileFrame/mobileFrame.rt"],function(a,b,c){"use strict";return a.createClass({displayName:"mobileFrame",propTypes:{displayShadow:a.PropTypes.bool,siteScale:a.PropTypes.number,previewMode:a.PropTypes.bool.isRequired},mixins:[b.mixins.editorAPIMixin],getMobilePreviewLeft:function(){return this.getEditorAPI().site.getXPos()},getFrameStyle:function(){var a={left:this.getMobilePreviewLeft()};if(!this.props.previewMode&&this.props.siteScale!==1){a.height=Math.round(100/this.props.siteScale)+"%";a.transform="scale("+this.props.siteScale+")"}return a},render:c})});define("rEditor/utils/mouseMoveActions/baseSpace",["lodash","core","rEditor/utils/mouseMoveActions/mouseMoveActionTypes"],function(a,b,c){"use strict";var d=b.utils.layoutTransitionsUtil;var e;var f;var g;var h;var i;var j;var k;var l;function m(b,c){h=b;f=c.compsToPush;g=c.snapThreshold||0;var i=a.pluck(f,"id");h.renderPlugins.setCompsToShowOnTop(i);var m=a.omit(h.components.layout.getRelativeToScreen(f),"bounding");var n=a.map(f,function(b){return a.omit(h.components.layout.getRelativeToScreen(b),"bounding")});j=c.minY;k=c.onSpaceEnd;l=c.onSpace;var o={x:c.evt.pageX,y:c.evt.pageY};e=new d.Drag(m,o,n)}function n(b){var c={x:b.pageX,y:b.pageY};var d=e.getLayout(c);d.y=Math.max(d.y,j);if(d.y-g<=j){d.y=j}i=e.getBoundComponentLayouts(d);for(var k=0;k<f.length;k++){h.components.layout.updateRelativeToScreenAndAdjustLayout(f[k],a.pick(i[k],"y"))}if(a.isFunction(l)){l(c.x,c.y)}}function o(){if(i){for(var b=0;b<f.length;b++){h.components.layout.updateRelativeToScreen(f[b],a.pick(i[b],"y"))}i=null}h.renderPlugins.setCompsToShowOnTop(null);if(a.isFunction(k)){k()}}return{start:m,on:n,end:o,type:c.SPACER}});define("rEditor/rootComps/sectionsReorganize/sectionControlsButton.rt",["react","lodash","baseUI"],function(a,b,c){"use strict";function d(){this.onClick()}return function(){return a.createElement(c.tooltip,{value:this.props.tooltip,styleType:"small",disabled:!this.props.tooltip},a.createElement("div",{className:"section-controls-button "+(this.props.label?"with-label":"")+" "+(this.props.isDisabled?"disabled":""),
onClick:d.bind(this),onMouseEnter:this.props.onMouseEnter,onMouseLeave:this.props.onMouseLeave},a.createElement(c.symbol,{name:this.props.symbol}),a.createElement("span",{},this.props.label)))}});define("rEditor/rootComps/sectionsReorganize/sectionControlsButton",["react","lodash","rEditor/rootComps/sectionsReorganize/sectionControlsButton.rt"],function(a,b,c){"use strict";return a.createClass({displayName:"sectionControlsButton",propTypes:{onClick:a.PropTypes.func,tooltip:a.PropTypes.string,symbol:a.PropTypes.string.isRequired,isDisabled:a.PropTypes.bool},onClick:function(){if(!this.isDisabled){this.props.onClick()}},render:c})});define("rEditor/rootComps/sectionsReorganize/sectionControls.rt",["react","lodash","uiConstants","baseUI","util","rEditor/rootComps/sectionsReorganize/sectionControlsButton"],function(a,b,c,d,e,f){"use strict";function g(){var g=this.getSectionStyle();return a.createElement("div",{className:b(this.getSectionControlsClasses()).transform(function(a,b,c){if(b){a.push(c)}},[]).join(" "),style:g},a.createElement("div",{className:"highlight "+(this.props.isDragging?"with-shadow":""),style:this.getHighlightStyle(),onMouseDown:this.props.onDragHandleMouseDown}),!(this.props.isHeader||this.props.isFooter||this.props.isGap||this.props.isDragging)?a.createElement("div",{key:"reorder-buttons",className:"section-buttons-wrapper",style:this.getButtonsWrapperStyle()},a.createElement("div",{className:"section-buttons"},a.createElement(f,b.assign({},{onClick:this.props.onUpClicked,tooltip:"ZoomOut_Section_Tooltip_Move_Up",symbol:"sectionMoveUp",",":true,isDisabled:this.props.isFirstSection},this.getControlButtonProps())),a.createElement(f,b.assign({},{onClick:this.props.onDownClicked,tooltip:"ZoomOut_Section_Tooltip_Move_Down",symbol:"sectionMoveDown",isDisabled:this.props.isLastSection,",":true},this.getControlButtonProps())),!this.props.isMobileEditor?a.createElement(f,b.assign({},{key:"duplicate_btn",onClick:this.props.onDuplicateClicked,tooltip:"ZoomOut_Section_Tooltip_Copy_Section",symbol:"sectionDuplicate"},this.getControlButtonProps())):null,a.createElement(f,b.assign({},{onClick:this.props.onDeleteClicked,tooltip:this.props.isMobileEditor?"ZoomOut_Section_Tooltip_Hide_Section":"ZoomOut_Section_Tooltip_Delete_Section",symbol:this.props.isMobileEditor?"sectionMobileHide":"sectionDelete"},this.getControlButtonProps())))):null,this.props.isGap?a.createElement("div",{key:"gap-delete",className:"section-buttons-wrapper",style:this.getButtonsWrapperStyle()},a.createElement("div",{className:"section-buttons"},a.createElement(f,b.assign({},{onClick:this.props.onDeleteClicked,symbol:"sectionDelete",label:e.translate("ZoomOut_Delete_Space_Tooltip")},this.getControlButtonProps())))):null,this.props.isHeader||this.props.isFooter?a.createElement("div",{key:"header-footer-info",className:"section-buttons-wrapper",style:this.getButtonsWrapperStyle()},a.createElement("div",{className:"section-buttons"},this.showHeader()?a.createElement(d.tooltip,{key:"header-info",value:"ZoomOut_Header_Tooltip",styleType:"small",alignment:c.TOOLTIP.ALIGNMENT.BOTTOM},a.createElement("div",{className:"header-footer-info",onMouseEnter:this.onHeaderOver},a.createElement(d.symbol,{name:"infoIcon",className:"info-icon"}),a.createElement("span",{className:"info-text"},e.translate("ZoomOut_Header")))):null,this.showFooter()?a.createElement(d.tooltip,{key:"footer-info",value:"ZoomOut_Footer_Tooltip",styleType:"small",alignment:c.TOOLTIP.ALIGNMENT.TOP},a.createElement("div",{className:"header-footer-info",onMouseEnter:this.onFooterOver},a.createElement(d.symbol,{name:"infoIcon",className:"info-icon"}),a.createElement("span",{className:"info-text"},e.translate("ZoomOut_Footer")))):null)):null)}return function(){return g.apply(this,[])}});define("rEditor/rootComps/sectionsReorganize/sectionControls",["react","lodash","core","rEditor/rootComps/sectionsReorganize/sectionControls.rt"],function(a,b,c,d){"use strict";return a.createClass({displayName:"sectionControls",propTypes:{isMobileEditor:a.PropTypes.bool,layout:a.PropTypes.object.isRequired,siteScale:a.PropTypes.number.isRequired,showDragHighlight:a.PropTypes.bool,isDragging:a.PropTypes.bool,isSpacing:a.PropTypes.bool,isHeader:a.PropTypes.bool,isFooter:a.PropTypes.bool,onDragHandleMouseDown:a.PropTypes.func,onUpClicked:a.PropTypes.func,onDownClicked:a.PropTypes.func,onDuplicateClicked:a.PropTypes.func,onDeleteClicked:a.PropTypes.func},getDefaultProps:function(){return{isMobileEditor:false,showDragHighlight:false}},getInitialState:function(){return{isHoveringControlButton:false}},componentWillMount:function(){this._setControlButtonHoverState=b.debounce(this.setControlButtonHoverState,100);this.throttledBi=b.throttle(this.bi,50,{leading:false,trailing:true})},getSectionControlsClasses:function(){return{"section-controls":true,"show-highlight":this.props.showDragHighlight||this.state.isHoveringControlButton,"no-drag-handle":this.state.isHoveringControlButton||this.props.isSpacing,"header-footer-blocker":this.props.isHeader||this.props.isFooter}},getSectionStyle:function(){return{top:this.props.layout.y*this.props.siteScale,height:this.props.layout.height*this.props.siteScale}},getHighlightStyle:function(){var a=this.props.isMobileEditor?"320px":"100%";var b={width:"calc("+a+" * "+this.props.siteScale+" + 2px)"};if(this.props.siteScale===1){b.pointerEvents="none"}return b},setControlButtonHoverState:function(a){if(this.state.isHoveringControlButton!==a){this.setState({isHoveringControlButton:a})}},getControlButtonProps:function(){var a=this;return{onMouseEnter:function(){a._setControlButtonHoverState(true)},onMouseLeave:function(){a._setControlButtonHoverState(false)}}},getButtonsWrapperStyle:function(){var a="calc(25% + 100% * "+this.props.siteScale+" + 36px)";if(this.props.isMobileEditor){a="calc(50% + 320px / 2 * "+this.props.siteScale+" + 36px)"}return{height:this.props.layout.height*this.props.siteScale,left:a}},bi:function(a){this.props.editorAPI.bi.event(a,{editor_view_mode:this.props.editorAPI.getDeviceType()})},showHeader:function(){if(this.props.isHeader){this.throttledBi(c.bi.events.sectionReorganize.header_label_appear);return true}return false},showFooter:function(){if(this.props.isFooter){this.throttledBi(c.bi.events.sectionReorganize.footer_label_appear);return true}return false},onHeaderOver:function(){this.throttledBi(c.bi.events.sectionReorganize.header_tooltip_hover)},onFooterOver:function(){this.throttledBi(c.bi.events.sectionReorganize.footer_tooltip_hover)},render:d})});define("rEditor/rootComps/sectionsReorganize/sectionsReorganize.rt",["react","lodash","baseUI","rEditor/rootComps/sectionsReorganize/sectionControls"],function(a,b,c,d){"use strict";function e(b,c,d,e,f){return a.createElement("line",{key:"separator-"+f,className:"section-separator",x1:e.x1,x2:e.x2,y1:e.y,y2:e.y})}function f(){var f=this.getSections();var g=this.getSpacerProps(f);var h=this.getSectionControlsProps(f,g);return a.createElement("div",{className:"sections-reorganize-exp"},a.createElement.apply(this,["svg",{className:"section-separators"},b.map(this.getSeparatorLines(f),e.bind(this,f,g,h))]),h&&!this.state.isSpacing?a.createElement(d,b.assign({},{key:h.layout.y+"_"+h.layout.height,isMobileEditor:this.props.isMobileEditor},h)):null,g&&(!this.props.isMobileEditor||this.props.siteScale!==1)?a.createElement(c.tooltip,{key:"spacer_tooltip",id:"zoom_mode_spacer_id",value:"ZoomOut_Change_Space_Tooltip",alignment:c.uiConstants.TOOLTIP.ALIGNMENT.CENTER,delay:"0",disabled:this.state.isSpacing},a.createElement("div",{key:"spacer",className:"spacer-handle",style:g.style,onMouseDown:g.onMouseDown},a.createElement(c.symbol,{name:"spacerHandleDots"}))):null)}return function(){return f.apply(this,[])}});define("rEditor/rootComps/sectionsReorganize/sectionsReorganize",["lodash","react","core","util","baseUI","experiment","rEditor/utils/mouseMoveActions/baseSpace","rEditor/rootComps/sectionsReorganize/sectionsReorganize.rt"],function(a,b,c,d,e,f,g,h){"use strict";var i=30;var j=c.bi.events.sectionReorganize;var k=234;var l=5;function m(a){return a.siteSegments.getPagesContainerAbsLayout().y}function n(a,b,c){return b>=a.left&&b<=a.right&&c>=a.top&&c<=a.bottom}function o(a,b,d){var e;if(d){e=320*b}else{var f=c.utils.stageUtils.getStageRect();e=(f.right-f.left)*b}var g=a.x*b;return g>=e}function p(a,b,d){var e;if(d){e=320*b}else{var f=c.utils.stageUtils.getStageRect();e=(f.right-f.left)*b}var g=a.x*b;return g<=e}function q(a,b,c,d){var e=b.left;if(d){e=b.left+(b.width-320)/2}return{x:a.clientX-e,y:a.clientY+c-b.top}}function r(b){if(this.props.selectedSection){return a.find(b,function(b){return a.isEqual(b.comps,this.props.selectedSection.comps)},this)}var c=this.state.stageMousePosition;if(c){for(var d=0;d<b.length;d++){if(c.y>=b[d].position.top&&c.y<=b[d].position.bottom){return b[d]}}}return null}function s(a){if(this.props.selectedSection){return-1}var b=this.state.stageMousePosition;if(b){for(var c=0;c<a.length-1;c++){if(b.y>a[c].position.bottom&&b.y<a[c+1].position.top){return c}}}return-1}function t(b){return this.props.selectedSection&&a.isEqual(b.comps,this.props.selectedSection.comps)}function u(a){if(!this.state.stageMousePosition){return false}var b=this.state.stageMousePosition.y;return b>=a.position.top&&b<=a.position.bottom}function v(a){var b=u.call(this,a);return b&&o(this.state.stageMousePosition,this.props.siteScale,this.props.isMobileEditor)}function w(b,c){if(this.state.isSpacing&&this.props.selectedSection){return a.findIndex(b,t,this)}for(var d=0;d<b.length;d++){var e=d>0?b[d-1]:null;if(c.y<=b[d].position.top+i&&(!e||c.y>e.position.top+i)){return d}}return-1}function x(a){return!(a.isCurrentPageLandingPage()||f.isOpen("popups")&&a.pages.popupPages.isPopupOpened())}function y(b,d){var e=a.clone(b);var f=[];if(x(d)){var g=c.utils.sectionsReorganizeUtil.getHeaderSection(d);e.unshift(g)}for(var h=0;h<e.length;h++){var i=e[h];var j=h>0?e[h-1]:null;if(j&&j.position.bottom<i.position.top){f.push(i.position.top)}f.push(i.position.bottom)}return f}function z(b,d){if(!b||d&&d.isSpacerHovered){return null}var e=r.call(this,b);if(!e){return null}var f=a.findIndex(b,e);var g=t.call(this,e);var h=this.props.siteScale!==1;var i=this;return{section:e,siteScale:this.props.siteScale,layout:this.getSectionLayout(e),showDragHighlight:!this.props.isMobileEditor||h,isDragging:g,isSpacing:this.state.isSpacing,tooltipId:"reorganize-section-tooltip",isFirstSection:f===0,isLastSection:f===b.length-1,onDragHandleMouseDown:function(a){i.startSectionDrag(a,b,e)},onDuplicateClicked:function(){c.utils.sectionsReorganizeUtil.duplicateSection(i.getEditorAPI(),b,a.findIndex(b,e));var d=i.getEditorAPI();d.bi.event(c.bi.events.sectionReorganize.reorder_panel_clicked,{editor_view_mode:d.getDeviceType(),action_clicked:"duplicate"})},onDeleteClicked:function(){c.utils.sectionsReorganizeUtil.deleteSection(i.getEditorAPI(),b,a.findIndex(b,e));i.getEditorAPI().history.add("Delete Section");var d=i.getEditorAPI();d.bi.event(c.bi.events.sectionReorganize.reorder_panel_clicked,{editor_view_mode:d.getDeviceType(),action_clicked:"delete"})},onUpClicked:function(){i.shiftSection(b,e,-1);var a=i.getEditorAPI();a.bi.event(c.bi.events.sectionReorganize.reorder_panel_clicked,{editor_view_mode:a.getDeviceType(),action_clicked:"up"})},onDownClicked:function(){i.shiftSection(b,e,1);var a=i.getEditorAPI();a.bi.event(c.bi.events.sectionReorganize.reorder_panel_clicked,{editor_view_mode:a.getDeviceType(),action_clicked:"down"})}}}function A(a,b){return b.y>=a.y&&b.y<=a.y+a.height}function B(a,b){var d=c.utils.sectionsReorganizeUtil.getHeaderSection(a);b.unshift(d);return b}function C(b){if(!b){return null}var c=a.clone(b);c=B(this.getEditorAPI(),c);var d=s.call(this,c);if(d===-1){return null}var e={y:c[d].position.bottom,height:c[d+1].position.top-c[d].position.bottom};var f=this;return{isGap:true,layout:e,siteScale:this.props.siteScale,onDeleteClicked:function(){f.closeGapBetweenSections(c,d)}}}function D(){var b=this.state.stageMousePosition;if(!b){return null}var c=this.getEditorAPI();if(!x(c)){return null}var d=c.components.layout.getRelativeToScreen(c.siteSegments.getHeader());var e=c.components.layout.getRelativeToScreen(c.siteSegments.getFooter());var f;if(A(d,b)){f={layout:d,isHeader:true,editorAPI:c}}else if(A(e,b)){f={layout:e,isFooter:true,editorAPI:c}}if(!f){return null}return a.assign(f,{siteScale:this.props.siteScale})}return b.createClass({displayName:"sectionsReorganize",propTypes:{isMobileEditor:b.PropTypes.bool.isRequired,sections:b.PropTypes.array.isRequired,selectedSection:b.PropTypes.object,isSectionDragging:b.PropTypes.bool,isCompDragging:b.PropTypes.bool,stageLayout:b.PropTypes.object.isRequired,siteScale:b.PropTypes.number.isRequired},mixins:[c.mixins.editorAPIMixin],getInitialState:function(){return{isSpacing:false,stageMousePosition:null}},componentDidMount:function(){this._throttledUpdateMousePosition=a.throttle(this.updateMousePosition,100);window.addEventListener("mousemove",this._throttledUpdateMousePosition)},componentWillUnmount:function(){window.removeEventListener("mousemove",this._throttledUpdateMousePosition)},updateMousePosition:function(b){var d=c.utils.stageUtils.getStageLayout();if(!n(d,b.clientX,b.clientY)){if(this.state.stageMousePosition){this.setState({stageMousePosition:null})}}else{var e=this.getEditorAPI();var g;if(f.isOpen("fitEditorCoordinatesToViewer")){b=a.pick(b,["clientX","clientY","pageX","pageY"]);var h=c.utils.mouseCoordinatesHandler.fitMouseCoordinatesToViewer(e,b);g={x:h.pageX,y:h.pageY}}else{b=a.pick(b,["clientX","clientY"]);c.utils.mouseCoordinatesHandler.fitMouseCoordinatesToViewer(e,b);var i=e.ui.scroll.getScroll().scrollTop;var j=i/this.props.siteScale;g=q(b,d,j,this.props.isMobileEditor)}this.setState({stageMousePosition:g})}},getSections:function(){if(this.props.sections){return this.props.sections}return c.utils.sectionsReorganizeUtil.getPageSections(this.getEditorAPI())},getSectionControlsProps:function(a,b){return D.call(this)||C.call(this,a)||z.call(this,a,b)},getSpacerProps:function(b){if((this.props.isCompDragging||this.props.isSectionDragging)&&!this.state.isSpacing){return null}var c=this.state.stageMousePosition;if(!b||!c){return null}var d=w.call(this,b,c);var f=p(this.state.stageMousePosition,this.props.siteScale,this.props.isMobileEditor);var g=r.call(this,b);var h=a.findIndex(b,g);var i=g?v.call(this,g):false;if(d===-1||!f||i){return null}var j=this;var k=this.props.isMobileEditor?"320px":"100%";return{style:{top:this.getSectionLayout(b[d]).y*this.props.siteScale,width:"calc("+k+" * "+this.props.siteScale+" + 2px)"},onMouseDown:function(a){e.tooltipManager.hide("zoom_mode_spacer_id");j.startSpacing(a,b,d)},isSpacerHovered:d===h}},getSeparatorLines:function(b){var c=y(b,this.getEditorAPI());var e=this.props.stageLayout;var f=d.uiUtils.getScrollbarWidth();var g=(e.width-f)*this.props.siteScale;if(this.props.isMobileEditor){g=320*this.props.siteScale}var h=(e.width-f-g)/2;return a(c).map(function(a){a*=this.props.siteScale;return[{x1:h-k,x2:h,y:a},{x1:h+g,x2:h+g+k,y:a}]},this).flatten().value()},closeGapBetweenSections:function(a,b){var d=a[b+1].position.top-a[b].position.bottom;for(var e=b+1;e<a.length;e++){c.utils.sectionsReorganizeUtil.shiftSection(this.getEditorAPI(),a[e],-1*d)}this.getEditorAPI().history.add("Delete Space")},shiftSection:function(b,d,e){var f=a.findIndex(b,d);var g=f+e;if(g<0||g>=b.length){return}var h=d;var i=b[g];if(e===-1){h=b[g];i=d}c.utils.sectionsReorganizeUtil.switchSections(this.getEditorAPI(),b,h,i);this.getEditorAPI().history.add("Move Section")},startSectionDrag:function(b,d,e){var g=this.getEditorAPI();if(!f.isOpen("fitEditorCoordinatesToViewer")){c.utils.mouseCoordinatesHandler.fitMouseCoordinatesToViewer(g,b);b=a.clone(b)}g.setPageSections(d,e);g.registerMouseMoveAction(c.utils.sectionDrag,{sections:d,evt:b,minY:m(g),draggedSection:e,onDragEnd:this.onSectionDragEnd.bind(this,e,e.position.top)},true)},onSectionDragEnd:function(a,b){a=this.props.selectedSection||a;this.reportBI(j.REORDER_SECTION,{position_before:b,position_after:a.position.top,section_size:c.utils.sectionsReorganizeUtil.getSectionSizeForBI(a.position.bottom-a.position.top)});this.getEditorAPI().clearPageSections()},startSpacing:function(b,d,e){var h=this.getEditorAPI();if(!f.isOpen("fitEditorCoordinatesToViewer")){c.utils.mouseCoordinatesHandler.fitMouseCoordinatesToViewer(h,b);b=a.clone(b)}var i=[];for(var j=e;j<d.length;j++){i=i.concat(d[j].comps)}if(a.isEmpty(i)){return}var k=e===0?0:d[e-1].position.bottom;h.registerMouseMoveAction(g,{evt:b,minY:k,snapThreshold:Math.round(l/this.props.siteScale),compsToPush:i,onSpaceEnd:this.onSpaceEnd});this.setState({isSpacing:true});h.setPageSections(d,d[e]);h.bi.event(c.bi.events.sectionReorganize.zoom_mode_spacer_drag)},onSpaceEnd:function(){this.getEditorAPI().clearPageSections();this.setState({isSpacing:false});this.getEditorAPI().history.add("Change Sections Space")},getSectionLayout:function(b){if(b.layout){return b.layout}if((this.props.isSectionDragging||this.state.isSpacing)&&!a.isEmpty(b.comps)){var c=this.getEditorAPI().components.layout.getRelativeToScreen(b.comps);return c.bounding||c}return{y:b.position.top,height:b.position.bottom-b.position.top}},reportBI:function(b,c){var d=this.getEditorAPI();c=a.assign({page_id:d.pages.getFocusedPageId()},c);d.bi.event(b,c)},render:h})});define("rEditor/rootComps/pinMode/pinMode.rt",["react","lodash"],function(a,b){"use strict";return function(){return a.createElement("div",{className:"pin-mode"},a.createElement("div",{className:"preview-rect",style:this.props.style}),a.createElement("div",{className:"blocking-layer",onClick:this.exitPinMode}))}});define("rEditor/rootComps/pinMode/pinMode",["react","core","lodash","rEditor/rootComps/pinMode/pinMode.rt"],function(a,b,c,d){"use strict";return a.createClass({displayName:"pinMode",mixins:[b.mixins.editorAPIMixin],render:d,exitPinMode:function(){this.getEditorAPI().pinMode.closeAndCheckSizeRestrictions()}})});define("rEditor/rootComps/stage/editorStage.rt",["react","lodash","rEditor/rootComps/mouseCatcher","rEditor/rootComps/textEditor","rEditor/rootComps/funTextEditor","core","util","experiment","uiAnimations","rEditor/rootComps/gridLines/gridLines","rEditor/rootComps/rulers/rulers","rEditor/rootComps/mobileFrame/mobileFrame","rEditor/rootComps/sectionsReorganize/sectionsReorganize","rEditor/rootComps/pinMode/pinMode"],function(a,b,c,d,e,f,g,h,i,j,k,l,m,n){"use strict";function o(b,c){var d=g.translate;return a.createElement("div",{key:"teaser",className:"mobile-optimized-teaser"},a.createElement("h1",{},d("mobile_view_notification_title")),"\n                        ",d("mobile_view_notification_text"),"\n                        ",a.createElement("a",{onClick:this.openEditorModePanel},d("mobile_view_notification_text_link")),"\n                        ",d("mobile_view_notification_text2"),"\n                    ")}function p(){var d=this.getGuides();var p=this.getEditorAPI();return a.createElement("div",{className:b({"editor-stage":true,"tools-hidden":this.props.isReorganizeHidden}).transform(function(a,b,c){if(b){a.push(c)}},[]).join(" "),id:this.props.id},p.isMobileEditor()?a.createElement(l,{key:"mobileFrame",siteScale:this.props.siteScale,displayShadow:!this.isSectionDragging(),previewMode:p.getPreviewMode()}):null,a.createElement("div",{className:"scrollable-editor-stage "+(this.isSiteScrollingEnabled()?"":"scrolling-disabled"),ref:"scrollableEditorStage",id:"scrollableEditorStage",onScroll:this._handleScroll},a.createElement("div",{ref:"siteCover",className:"site-cover",style:{height:this.getStageHeight()}},this.isGridLinesVisible()?a.createElement("div",{className:"gridLines",key:"gridLines"},a.createElement(j,{key:"pageGridLines",gridLines:this.getPageGridLines(),fade:this.shouldFadeGridLines()}),p.components.is.showMarginsIndicator(this.props.editorState.focusedContainer)?a.createElement(j,{key:"containerGridLines",gridLines:this.getContainerGridLines()}):null):null,a.createElement("div",{className:"scalable",style:this.getScalableAreaStyle()},!this.props.editorState.previewMode&&this.props.editorIsInit&&!this.props.editorState.imageCrop.isOn?a.createElement(c,{ref:"mouseCatcher",key:"mouseCatcher",config:this.props.config,editorState:this.props.editorState,onContextMenu:this.props.onContextMenu,editorIsInit:this.props.editorIsInit,isSectionDragging:this.isSectionDragging(),isDragging:this.isDragging(),isResizing:this.isResizing(),isRotating:this.isRotating(),isPinMode:this.props.isPinMode,performingMouseMoveAction:this.props.performingMouseMoveAction,registeredMouseMoveAction:this.props.registeredMouseMoveAction,hoveredComp:this.state.hoveredComp,hoverBoxOverlay:this.state.hoverBoxOverlay||this.props.hoverBoxOverlay,setHoverBox:this.setHoverBox,clearHoverBox:this.clearHoverBox,selectedComponents:this.props.selectedComponents,focusedContainer:this.props.editorState.focusedContainer,mouseMoveCallback:this.props.mouseMoveCallback,compPanel:this.props.panel,previewPosition:this.props.previewPosition,siteScale:this.props.siteScale}):null,this.props.editorState.imageCrop.isOn?a.createElement(f.lazyComponent,b.assign({},{moduleName:"imageCrop.layer",key:"imageCrop"},{imageCropData:this.props.editorState.imageCrop,imageComponent:this.getImageComponent()})):null,a.createElement(e,{key:"funTextEditor",isOpenTextEditor:this.props.editorState.isOpenTextEditor,selectedTextComp:this.getSelectedTextComp(),isResizing:this.isResizing()}),this.props.editorState.viewTools.rulersEnabled&&h.isOpen("rulers")&&!(this.props.siteScale!==1)&&p.isPreviewReady()?a.createElement(k,{key:"rulers",rulerDirection:"horizontal",previewHeight:this.getStageHeight(),guidesInRuler:d.horizontalGuides,selectedGuide:this.props.editorState.viewTools.rulers.selectedGuide,isHovered:this.props.editorState.viewTools.rulers.isHovered,toolsHidden:this.props.editorState.hideTools,selectedComponents:this.props.editorState.selectedComponents,isDragging:this.props.editorState.viewTools.rulers.isDragging,previewSize:this.props.previewPosition}):null),a.createElement("div",{className:"non-scalable"},this.props.siteScale!==1?a.createElement("div",{className:"block-layer",key:"block-layer"},a.createElement("div",{className:"side left transition",style:this.getSideBlockLayerStyle()}),a.createElement("div",{className:"side right transition",style:this.getSideBlockLayerStyle()}),!p.isMobileEditor()?a.createElement("div",{key:"block-layer-bottom",className:"side bottom",style:{height:"calc(100% - "+this.getSideBlockLayerHeight()+"px)"}}):null,!this.isSectionDragging()&&!p.isMobileEditor()?a.createElement("div",{key:"scaled-site-shadow",className:"shadow",style:this.getBlockShadowStyle()}):null):null,this.props.editorIsInit&&!this.props.isPinMode&&!this.props.isPopupMode&&(p.isMobileEditor()||this.props.siteScale!==1)?a.createElement(m,{key:"sectionsReorganize",ref:"sectionsReorganize",isMobileEditor:p.isMobileEditor(),sections:this.props.pageSections.sections,selectedSection:this.props.pageSections.selectedSection,isSectionDragging:this.isSectionDragging(),isCompDragging:this.isDragging(),siteScale:this.props.siteScale,isHidden:this.props.isReorganizeHidden,halfOpacityTools:this.props.halfOpacityTools,stageLayout:p.ui.stage.getEditingAreaLayout()}):null))),a.createElement("div",{className:"fixed-editor-stage",style:{width:"calc(100% - "+g.uiUtils.getScrollbarWidth()+"px)"}},a.createElement("div",{className:"fixed-editor-stage-contents-wrapper "+(this.props.siteScale!==1?"no-pointer-events":"")},a.createElement("div",{className:"scalable",style:this.getScalableAreaStyle()},this.props.isPinMode?a.createElement(n,{ref:"pinMode",key:"pinMode",style:this.props.editorState.pinPreviewRectStyle}):null,this.props.editorState.viewTools.rulersEnabled&&h.isOpen("rulers")&&!(this.props.siteScale!==1)?a.createElement(k,{key:"rulers",rulerDirection:"vertical",guidesInRuler:d.verticalGuides,selectedGuide:this.props.editorState.viewTools.rulers.selectedGuide,isHovered:this.props.editorState.viewTools.rulers.isHovered,toolsHidden:this.props.editorState.hideTools,isDragging:this.props.editorState.viewTools.rulers.isDragging,previewSize:this.props.previewPosition}):null),a.createElement("div",{className:"non-scalable"},p.isMobileEditor()?a.createElement("div",{key:"mobileOpacityLayer",className:"mobile-frame-opacity-layer"}):null,a.createElement(i.panelsAnimation,{},this.shouldDisplayMobileOptimizedTeaser()&!p.zoomMode.isInZoomMode()?o.apply(this,[d,p]):null)))))}return function(){return p.apply(this,[])}});define("rEditor/rootComps/stage/editorStage",["reactDOM","lodash","react","core","uiAnimations","rEditor/utils/mouseMoveActions/mouseMoveActionTypes","rEditor/rootComps/stage/editorStage.rt","experiment"],function(a,b,c,d,e,f,g,h){"use strict";function i(a,b){if(!b){return false}if(b.length!==1){return false}var c=b[0];var d=a.components.data.get(c);var e=d&&d.type;return e==="StyledText"}function j(a,b){if(b&&b.length===1){var c=b[0];var d=a.components.data.get(c).type;if(d==="Image"){return c}}return null}return c.createClass({displayName:"EditorStage",mixins:[d.mixins.editorAPIMixin],propTypes:{guidesState:c.PropTypes.object,onStageScroll:c.PropTypes.func,previewPosition:c.PropTypes.object,isPinMode:c.PropTypes.bool},getInitialState:function(){return{hoveredComp:null,hoverBoxOverlay:false}},componentWillReceiveProps:function(){if(this.state.hoveredComp&&!this.getEditorAPI().components.is.exist(this.state.hoveredComp)){this.clearHoverBox()}},setHoverBox:function(a,c){var d=this.getEditorAPI();var e=d.utils.getParentIfCompCanBeSelected(a);var f=h.isOpen("boxSlideShow")&&e?e:a;if(!b.isEqual(this.state.hoveredComp,f)){this.setState({hoveredComp:f,hoverBoxOverlay:!!c})}},clearHoverBox:function(){if(this.state.hoveredComp){this.setState({hoveredComp:null,hoverBoxOverlay:false})}},shouldDisplayMobileOptimizedTeaser:function(){var a=this.getEditorAPI();return a.isMobileEditor()&&!a.getPreviewMode()&&!a.isMobileOptimizedSite()},openEditorModePanel:function(){this.getEditorAPI().openMobileElementsPanel({mobileElementId:"mobileView"})},getStageHeight:function(){if(!this.getEditorAPI().isPreviewReady()){return"100%"}return this.props.siteHeight*this.props.siteScale},isLandingPage:function(){return this.getEditorAPI().isCurrentPageLandingPage()},isPopupPage:function(){return h.isOpen("popups")&&Boolean(this.getEditorAPI().pages.popupPages.getCurrentPopupId())},isSectionDragging:function(){return this.props.registeredMouseMoveAction&&this.props.registeredMouseMoveAction.type===f.SECTION_DRAG&&this.props.performingMouseMoveAction||false},isDragging:function(){return this.props.registeredMouseMoveAction&&this.props.registeredMouseMoveAction.type===f.DRAG&&this.props.performingMouseMoveAction},isResizing:function(){return this.props.registeredMouseMoveAction&&this.props.registeredMouseMoveAction.type===f.RESIZE},isRotating:function(){return this.props.registeredMouseMoveAction&&this.props.registeredMouseMoveAction.type===f.ROTATE},getScalableAreaStyle:function(){var a=this.props.siteScale;if(a!==1){return{height:this.props.siteHeight,transform:"scale("+a+")",transformOrigin:"center 0"}}},getSideBlockLayerStyle:function(){if(this.getEditorAPI().isMobileEditor()){return{width:"calc((100% - 320px * "+this.props.siteScale+") / 2)"}}return{width:100*(1-this.props.siteScale)/2+"%"}},getSideBlockLayerHeight:function(){return Math.max(0,this.props.siteHeight*this.props.siteScale)},getBlockShadowStyle:function(){var a=100*(1-this.props.siteScale)/2;return{left:a+"%",right:a+"%",height:this.getSideBlockLayerHeight()+"px"}},getImageComponent:function(){return j(this.getEditorAPI(),this.props.selectedComponents)},getScroll:function(){var b=a.findDOMNode(this.refs.scrollableEditorStage);return{scrollTop:b.scrollTop,scrollLeft:b.scrollLeft}},setScroll:function(c){var d=a.findDOMNode(this.refs.scrollableEditorStage);if(!b.isUndefined(c.scrollTop)){d.scrollTop=c.scrollTop}if(!b.isUndefined(c.scrollLeft)){d.scrollLeft=c.scrollLeft}},animateScroll:function(b,c,d){var f=a.findDOMNode(this.refs.scrollableEditorStage);e.scrollTo(b,c,0,f,d)},getGuides:function(){var a=this.getEditorAPI();var c=a.isMobileEditor()?"mobile.":"desktop.";var d=b.get(this.props.editorState.viewTools.rulers.guidesState,c);return d?{verticalGuides:d.verticalGuides,horizontalGuides:d.horizontalGuides}:{verticalGuides:[],horizontalGuides:[]}},syncPreviewScroll:function(){var a=this.getScroll();this.getEditorAPI().site.setScroll(a.scrollLeft,a.scrollTop)},_handleScroll:function(a){this.syncPreviewScroll(a);if(this.props.onStageScroll){this.props.onStageScroll(a)}},isSiteScrollingEnabled:function(){var a=b.get(this.getEditorAPI(),["site","isScrollingEnabled"],true);return!b.isFunction(a)||a()},getSiteCoverSizes:function(){var b=a.findDOMNode(this.refs.siteCover);return{width:b.clientWidth,height:b.clientHeight}},getPageGridLines:function(){var a=this.getEditorAPI();var b=this.isLandingPage()||this.isPopupPage();return d.utils.gridLinesUtil.getPageGridLines(a,b)},getContainerGridLines:function(){var a=this.getEditorAPI();var b=this.props.editorState.focusedContainer;return d.utils.gridLinesUtil.getContainerGridLines(a,b)},shouldFadeGridLines:function(){var a=this.getEditorAPI();var b=this.props.editorState.focusedContainer;var c=a.selection.getSelectedComponents();var d="wysiwyg.viewer.components.StripColumnsContainer";return!!(a.components.is.showMarginsIndicator(b)||a.components.getType(c)===d&&a.components.getChildren(c).length>1)},isGridLinesVisible:function(){var a=this.getEditorAPI();var b=true;if(h.isOpen("popups")&&a.isPreviewReady()&&a.pages.popupPages.isPopupOpened()){b=a.components.is.gridLinesVisible(a.pages.popupPages.getPopupContainer())}return a.isDesktopEditor()&&this.props.editorState.viewTools.guidelinesEnabled&&!this.props.isPinMode&&b},getSelectedTextComp:function(){if(i(this.getEditorAPI(),this.props.selectedComponents)){return this.props.selectedComponents[0]}return null},render:g})});define("rEditor/rootComps/prefetch/prefetch.rt",["react","lodash"],function(a,b){"use strict";return function(){return a.createElement("link",{rel:"prefetch prerender",href:this.getHref()})}});define("rEditor/rootComps/prefetch/prefetch",["react","rEditor/rootComps/prefetch/prefetch.rt"],function(a,b){"use strict";return a.createClass({displayName:"prefetch",render:b,getHref:function(){if(this.props.base){return this.props.base.replace(/\/$/,"")+"/"+this.props.href.replace(/^\//,"")}return this.props.href}})});define("rEditor/rootComps/editor.rt",["react","lodash","rEditor/rootComps/topBar/topBar","rEditor/rootComps/leftBar/leftBar","rEditor/rootComps/toolBar/toolBar","rEditor/rootComps/rightClickMenu/rightClickMenu","rEditor/rootComps/panels/openedPanels","rEditor/rootComps/portal/portal","baseUI","core","uiAnimations","rEditor/rootComps/stage/editorStage","rEditor/rootComps/mobileFrame/mobileFrame","textControls","rEditor/rootComps/prefetch/prefetch","experiment"],function(a,b,c,d,e,f,g,h,i,j,k,l,m,n,o,p){"use strict";function q(a,c){var d=b.assign({},a,c);if(a.hasOwnProperty("style")){d.style=b.defaults(d.style,a.style)}if(a.hasOwnProperty("className")&&c.hasOwnProperty("className")){d.className=c.className+" "+a.className}return d}function r(){var c=this.editorAPI.getPreviewMode()?"consolePane":"idePane";return a.createElement(i.splitter,{className:"ide-splitter",layout:"horizontal",splitPosition:this.editorAPI.developerMode.ui[c].getSplitPosition(),onDividerClick:this.editorAPI.getPreviewMode()?null:this.editorAPI.developerMode.ui.idePane.toggleMinimize,statefulResize:true,onResize:this.editorAPI.developerMode.ui[c].setSplitPosition},a.createElement(i.splitter.Pane,{},a.createElement("div",{ref:"editingArea",id:"editingArea",className:b({"editing-area":true,"mobile-editor":this.editorAPI.isMobileEditor(),"preview-mode":this.editorAPI.getPreviewMode()}).transform(function(a,b,c){if(b){a.push(c)}},[]).join(" ")},a.createElement("div",{
className:"preview-frame-cover"},this.editorAPI.isMobileEditor()&&this.editorAPI.getPreviewMode()?a.createElement(m,{key:"mobileFrame",previewMode:this.editorAPI.getPreviewMode()}):null,a.createElement("div",{className:"preview-container"},a.createElement("iframe",{ref:"preview",id:"preview",src:this.getPreviewSource()})),!this.state.previewMode?a.createElement(l,{id:"stageContainer",ref:"editorStage",key:"editorStage",siteHeight:this.state.config.previewHeight,config:this.state.config,editorState:this.state,editorIsInit:this.state.editorIsInit,onContextMenu:this.onContextMenu,registeredMouseMoveAction:this.state.registeredMouseMoveAction,performingMouseMoveAction:this.state.performingMouseMoveAction,selectedComponents:this.state.selectedComponents,panel:this.getCompPanel(),previewPosition:this.state.config.previewPosition,mouseMoveCallback:this.updateMousePosition,siteScale:this.state.siteScale,setSiteScale:this.setSiteScale,portalComps:this.state.portalComps,pageSections:this.state.pageSections,halfOpacityTools:this.state.halfOpacityTools,isReorganizeHidden:this.isReorganizeHidden(),isPopupMode:this.isPopUpMode(),isPinMode:this.editorAPI.pinMode.isOpened(),onStageScroll:this._handleStageScroll}):null),a.createElement(g,{openPanels:this.getNonCompPanels(),editorState:this.state}),a.createElement(k.leftBarAnimation,{},!this.state.previewMode&&!this.editorAPI.pinMode.isOpened()&&!this.state.imageCrop.isOn?a.createElement(d,{leftBarState:this.state.leftBar,ref:"leftBar",openPanels:this.state.openPanels,isPopupMode:this.isPopUpMode(),isMobileEditor:this.state.isMobileEditor,isEnabled:this.state.editorIsInit,key:"leftBar",onContextMenu:this.onContextMenuPreventDefault,halfOpacityTools:this.state.halfOpacityTools,isHidden:this.state.hideTools}):null),!b.isEmpty(this.state.portalComps)?a.createElement(h,{key:"portalComps",comps:this.state.portalComps}):null)),this.state.wixCodeLoaded&&this.editorAPI.developerMode.isEnabled()?a.createElement(i.splitter.Pane,{className:"wix-code-ide-pane",key:"wix-code-ide-pane",minSize:this.editorAPI.developerMode.ui.topbarHeight,onClick:this.onIdeClick},!this.state.previewMode?a.createElement(j.lazyComponent,{moduleName:"wixCode.components.IDE",key:"wix-code-ide",id:"wix-code-ide",currentPageId:this.editorAPI.pages.getFocusedPageId(),context:this.editorAPI.developerMode.getContext(),containerState:this.editorAPI.developerMode.ui.idePane.getState(),isTreePaneOpen:this.editorAPI.developerMode.ui.treePane.isOpen()}):null,this.state.previewMode?a.createElement(j.lazyComponent,{moduleName:"wixCode.components.console",key:"wix-code-console",containerState:this.editorAPI.developerMode.ui.consolePane.getState(),id:"wix-code-console"}):null):null)}return function(){return a.createElement("div",q({className:"editor-animation-manager-wrapper",id:"editor",tabIndex:"0"},this.getAnimationsEventListeners()),a.createElement("div",{className:b({"editor-wrapper":true,"zoom-mode":this.state.siteScale!==1}).transform(function(a,b,c){if(b){a.push(c)}},[]).join(" "),onMouseMove:this.state.registeredMouseMoveAction&&!this.state.isUsingWindowMouseEvents?this.onMouseMove:b.noop,onMouseUp:this.state.registeredMouseMoveAction&&!this.state.isUsingWindowMouseEvents?this.onMouseUp:b.noop,onMouseDownCapture:this.onMouseDownCapture},this.isPreloaderVisible()?a.createElement("div",{key:"init",className:"preloader"}):null,this.editorAPI.developerMode.isEnabled()?a.createElement(j.lazyComponent,{moduleName:"wixCode.components.wixCodeLoader",key:"wix-code-loader",id:"wix-code-loader",wixCodeLoaded:this.state.wixCodeLoaded}):null,a.createElement("div",{className:b({"editor-content-wrapper":true,"tools-hidden":this.state.hideTools&&!this.state.hideToolsAndMaintainStagePosition}).transform(function(a,b,c){if(b){a.push(c)}},[]).join(" ")},a.createElement(i.splitter,{className:"file-pane-splitter",layout:"vertical",splitPosition:this.editorAPI.developerMode.ui.treePane.getSplitPosition(),statefulResize:true,onResize:this.editorAPI.developerMode.ui.treePane.setSplitPosition},this.shouldShowDevModePanels()?a.createElement(i.splitter.Pane,{key:"left-panel-pane",maxSize:"296px"},this.state.wixCodeLoaded?a.createElement(j.lazyComponent,{moduleName:"wixCode.components.Tree",key:"wix-code-tree",id:"wix-code-tree",context:this.editorAPI.developerMode.getContext()}):null):null,a.createElement(i.splitter.Pane,{},r.apply(this,[]),a.createElement(g,{openPanels:b.compact([p.isOpen("se_platform1")&&this.getFullStagePanel()]),editorState:this.state,withHelpPanel:false})))),a.createElement("div",{className:"editor-controls"},a.createElement(c,{ref:"topbar",previewMode:this.state.previewMode,editorIsInit:this.state.editorIsInit,isMobileEditor:this.state.isMobileEditor,isMobileOptimized:this.editorAPI.isMobileOptimizedSite(),viewTools:this.state.viewTools,previewingStatus:this.state.previewingStatus,savingStatus:this.state.savingStatus,publishingStatus:this.state.publishingStatus,performingMouseMoveAction:this.state.performingMouseMoveAction,isEnabled:this.state.editorIsInit,height:this.state.config.topBarHeight,onTopBarClicked:this.editorAPI.onTopBarClicked,onContextMenu:this.onContextMenuPreventDefault,isHidden:this.state.hideTools,shouldHideToolsBtnBlink:this.state.shouldHideToolsBtnBlink}),this.state.viewTools.toolbarEnabled&&!this.state.previewMode?a.createElement(e,{hidden:this.editorAPI.pinMode.isOpened()||this.state.imageCrop.isOn,toolsHidden:this.state.hideTools,halfOpacityTools:this.state.halfOpacityTools,key:"toolBar",selectedComponent:this.state.selectedComponents,isEnabled:this.state.editorIsInit,onContextMenu:this.onContextMenuPreventDefault}):null,this.state.viewTools.developerToolBarEnabled&&!this.state.previewMode?a.createElement(j.lazyComponent,{moduleName:"wixCode.components.developerToolBar",key:"developerToolbar",toolsHidden:this.state.hideTools,editedComponents:this.state.selectedComponents,isEnabled:this.state.editorIsInit,isReadOnly:this.state.isMobileEditor,onContextMenu:this.onContextMenuPreventDefault,wixCodeLoaded:this.state.wixCodeLoaded}):null,a.createElement(i.tooltipsRenderer,{key:"tooltipsRenderer",shouldDisplayTooltips:!p.isMultiValueExperimentOpen("editorHintsConfigs")||!this.state.isTooltipsDisabled}),a.createElement(i.floatingBubble,{ref:"floatingBubble",pinMode:this.editorAPI.pinMode.isOpened()}),a.createElement(i.dropDown.options,{}),p.isMultiValueExperimentOpen("editorHintsConfigs")&&this.state.editorIsInit?a.createElement(j.lazyComponent,{moduleName:"editorHints.hintPresenter",key:"hintPresenterLayer"}):null),!this.state.editorIsInit?a.createElement("div",{className:"preloader-overlap",key:"preloader-overlap"}):null,a.createElement(k.rightClickAppearance,{direction:"top",key:"rightClick"},this.state.contextMenu?a.createElement(f,{key:this.state.contextMenu.editorMousePosition.x+""+this.state.contextMenu.editorMousePosition.y,clipboard:this.state.clipboard,editorMousePosition:this.state.contextMenu.editorMousePosition,viewerMousePosition:this.state.contextMenu.viewerPosition,previewPosition:this.state.config.previewPosition,selectedComponents:this.state.selectedComponents}):null),this.getLanguages()?a.createElement(n.themeFontsLoader,{key:"theme-font-loader",themeFonts:this.getThemeFonts(),documentType:this.getDocumentType(),languages:this.getLanguages()}):null,a.createElement(o,{href:"app/external/OrganizeImagesV2/index.html",base:this.getEditorBase()})))}});define("rEditor/rootComps/editor",["reactDOM","lodash","core","panels","react","jquery","util","baseUI","rEditor/app/EditorAPI","rEditor/rootComps/keyboard/config/shortcutsConfig","uiAnimations","tpa","blog","shoutOut","wixStore","wixBookings","rEditor/rootComps/editor.rt","rEditor/utils/openPanelByURL","compPanels","experiment","pLoader!santa:utils"],function(a,b,c,d,e,f,g,h,i,j,k,l,m,n,o,p,q,r,s,t,u){"use strict";var v=.5;var w=c.utils.mouseCoordinatesHandler;if(window.bi){window.bi.event(c.bi.events.editor.EDITOR_LOADED.evid,{prefetch:window.afterEditorPrefetch})}g.newrelic.addPageAction("editor loaded");g.performance.mark("editor loaded");g.performance.measure("main-r started","domLoading","main-r loaded");g.performance.measure("addPanelData loaded","main-r loaded","addPanelData loaded");g.performance.measure("editor loaded","addPanelData loaded","editor loaded");var x=true;var y=g.serviceTopology.editorServerRoot||"http://editor.wix.com/html/editor/web";var z=y+"/renderer/render/";var A=z+"document/";var B=z+"template/";var C=y+"/renderer/new?";var D=[["editorIsInit"],["previewMode"],["devModeContext","type"],["renderIndex"],["registeredMouseMoveAction"],["isUsingWindowMouseEvents"],["performingMouseMoveAction"],["selectedComponents"]];var E;function F(){(new window.Image).src="http://fast.fonts.com/t/1.css?apiType=css&projectid=33bd0973-5b82-45be-bb77-837225874dfe"}var G=/\/([a-zA-Z0-9]{8}-[a-zA-Z0-9]{4}-[a-zA-Z0-9]{4}-[a-zA-Z0-9]{4}-[a-zA-Z0-9]{12})/;function H(a){var b=a.match(G);return b&&b.length&&b[1]}function I(a){var c=["DisableNewRelicScripts","DisableNewRelicScriptsSantaEditor","FallbackToSantaTopologyValues"];return a.petri_ovr&&b(c).map(function(a){return"specs."+a+":true"}).filter(function(c){return b.includes(a.petri_ovr,c)}).join(";")}function J(a){var c=K(a.href)?B:A;var d=g.url.parseUrl(a.href).query;var e=I(d);var f=b(d).keys().find(function(a){return a.toLowerCase()==="showmobileview"});var h=new g.UrlBuilder(c+(d.siteId||H(a.href))).param("isEdited","true").param("isSantaEditor","true").param("dsOrigin","Editor1.4").ifParam(e,"petri_ovr",e).ifParam(t.isOpen("wixstaff"),"iswixsite","true").ifParam(f||r.shouldLoadMobileEditor(d),"showMobileView","true").param("lang",g.editorModel.languageCode).paramsObj(b.pick(d,["metaSiteId","ReactSource","SantaVersions","baseVersion","isqa","debug","editorSessionId","experiments","experimentsoff","suppressbi","WixCodeRuntimeSource","sampleratio","sdkSource","hot","dsQTrace"].concat(t.isOpen("se_platform1")?["editorPlatformAppSources","viewerPlatformAppSources"]:[])));return h.url()}function K(a){return a.indexOf(C)===0}function L(a){var b=g.translate("GENERAL_Close_Warning_Message");(a||window.event).returnValue=b;return b}function M(a){var b=g.url.parseUrlParams(window.location);return a.ctrlKey&&b.debug==="all"}function N(){return b(g.editorModel.runningExperiments).pick(function(a){return a==="new"}).keys().sortBy().join(",")}function O(){var a=f(window);this.editorAPI.bi.event(c.bi.events.editor.EDITOR_READY,{is_premium:this.editorAPI.site.isPremium(),is_template:this.editorAPI.documentServices.generalInfo.isFirstSave(),window_width:a.width(),window_height:a.height(),screen_width:window.screen.width,screen_height:window.screen.height,avail_width:window.screen.availWidth,avail_height:window.screen.availHeight,prefetch:window.afterEditorPrefetch,request_from_adi:this.editorAPI.generalInfo.isSiteFromOnBoarding(),experiments:N()})}function P(a){return b.pick(a,b.negate(b.isUndefined))}function Q(){var a=this.setState;var c={};var d=[];var e=false;function f(a){return function(){b.forEach(a,function(a){a()})}}function h(){if(e){g.animationFrameUtils.cancel(e)}e=false;var h=b.assign(c,{renderIndex:this.state.renderIndex+1});var i=f(d);d=[];c={};a.call(this,h,i)}this.setState=function(f,i){if(!e){e=g.animationFrameUtils.request(h.bind(this))}b.assign(c,f);d.push(i||b.noop);if(this.shouldComponentUpdate(this.props,b.defaults({},c,this.state))){h.call(this)}else{a.call(this,c)}}.bind(this)}return e.createClass({displayName:"editor",mixins:[k.animationManager,g.componentUpdatesMixin],propTypes:{isLeavePagePopUpDisabled:e.PropTypes.bool,editorAPIGetter:e.PropTypes.func},_resetEventListeners:function(){this._scrollListeners=[]},_handleStageScroll:function(a){b.invoke(this._scrollListeners,b.call,null,a)},getInitialState:function(){this.editorAPI=b.isFunction(this.props.editorAPIGetter)?this.props.editorAPIGetter(this):new i(this);this.notifyEditorInit();var a={editorIsInit:false,config:this.editorAPI.editorConfig,wixCodeLoaded:false,devModeContext:this.editorAPI.developerMode.createContext(c.constants.DEVELOPER_MODE.CONTEXT_TYPES.PAGE),contextMenu:null,registeredMouseMoveAction:null,performingMouseMoveAction:false,selectedComponents:null,focusedContainer:null,lastSelectionClickPos:null,previewMode:false,isMobileEditor:false,snapData:null,lassoLayout:null,candidates:null,clipboard:{},site:{premiumPackage:undefined},viewTools:{toolbarEnabled:undefined,developerToolBarEnabled:undefined,guidelinesEnabled:undefined,sectionsHandlesEnabled:undefined,snapToEnabled:undefined,rulersEnabled:undefined,rulers:{guidesState:undefined,selectedGuide:undefined,isHovered:undefined,isDragging:null}},helpProps:null,attachCandidate:null,constraintArea:null,openPanels:[],previewingStatus:c.constants.PROGRESS_STATUS.IDLE,savingStatus:c.constants.PROGRESS_STATUS.IDLE,publishingStatus:c.constants.PROGRESS_STATUS.IDLE,portalComps:{},leftBar:{isCollapsed:false,notifications:{},superApps:{desktop:[],mobile:[]}},pageSections:{sections:null,selectedSection:null},siteScale:1,pinPreviewRectStyle:{opacity:0},hideTools:false,hideToolsAndMaintainStagePosition:false,shouldHideToolsBtnBlink:false,halfOpacityTools:false,unreadComments:0,isOpenTextEditor:false,imageCrop:{isOn:false,cropArea:null,cropOriginArea:null},renderIndex:0,shouldOverlayUpdate:true,tabIndicationState:{indication:"INACTIVE",defaultMode:undefined}};if(t.isMultiValueExperimentOpen("editorHintsConfigs")){a.isTooltipsDisabled=false}return a},childContextTypes:{editorAPI:e.PropTypes.object,mediaServices:e.PropTypes.object,bi:e.PropTypes.object,translateFromContext:e.PropTypes.func},getChildContext:function(){return{editorAPI:this.editorAPI,mediaServices:this.editorAPI.mediaServices,bi:window.bi,translateFromContext:g.translate}},notifyEditorInit:function(){this.editorAPI.initPanelManager();l.initEditor(this.editorAPI);j.init(this.editorAPI)},notifyPreviewReady:function(a){this.editorAPI.onPreviewReady(a);l.onPreviewReady(this.editorAPI);m.onPreviewReady(this.editorAPI);s.onPreviewReady(this.editorAPI);o.onPreviewReady(this.editorAPI);g.automationUtil.onPreviewReady(this.editorAPI);g.translate.init(this.editorAPI);var b=a.viewMode.get()===a.viewMode.VIEW_MODES.MOBILE;this.editorAPI.setEditorMode(b,true);this.setState({editorIsInit:true});if(x){x=false;g.newrelic.addPageAction("editor ready");O.call(this);g.newrelic.finished()}n.onPreviewReady(this.editorAPI);p.onPreviewReady(this.editorAPI);F();this.editorAPI.concurrentUsers.checkForConcurrentUsers(true);g.performance.mark("editor ready");g.performance.measure("editor ready","editor loaded","editor ready")},getPreviewSize:function(){var b=a.findDOMNode(this.refs.preview);return{width:b.clientWidth,height:b.clientHeight}},getPreviewSource:function(){E=E||J(window.document.location);return E},componentWillMount:function(){this._resetEventListeners()},componentWillUnmount:function(){this._resetEventListeners()},componentDidMount:function(){Q.call(this);this.updateKeyboardShortcutContext();var b=a.findDOMNode(this.refs.preview);try{if(b.contentWindow&&b.contentWindow.documentServices){this.notifyPreviewReady(b.contentWindow.documentServices)}}catch(a){u.log.error("can not access preview iframe")}window.addEventListener("message",this.previewMessageHandler);if(!this.props.isLeavePagePopUpDisabled){window.onbeforeunload=L}if(window.history){window.history.replaceState({preview:false},"edit mode");window.onpopstate=this.onHistoryPopState}this.editorAPI.refreshPreviewPosition()},shouldComponentUpdate:function(a,c){var d=b.pick(c,D);var e=b.pick(this.state,D);return!b.isEqual(d,e)},componentDidUpdate:function(a,b){if(!b.editorIsInit&&this.state.editorIsInit){var c=window.document.getElementById("video-preloader");if(c){c.parentNode.removeChild(c)}}if(b.previewMode!==this.state.previewMode){if(window.history.state&&this.state.previewMode&&!window.history.state.preview){this.onEnterPreview()}else if(window.history.state&&!this.state.previewMode&&window.history.state.preview){this.onExitPreview()}this.updateKeyboardShortcutContext();f(window.document.body).toggleClass("previewMode",this.state.previewMode)}this.editorAPI.refreshPreviewPosition()},onExitPreview:function(){window.history.replaceState({preview:false},"edit mode")},onEnterPreview:function(){window.history.pushState({preview:true},"site preview")},onHistoryPopState:function(a){if(!a.state){return}var b=a.state.preview&&!this.state.previewMode;var c=!a.state.preview&&this.state.previewMode;if(b||c){this.editorAPI.togglePreview()}},updateKeyboardShortcutContext:function(){var a=g.keyboardShortcuts.CONTEXTS;g.keyboardShortcuts.setContext(this.state.previewMode?a.PREVIEW:a.EDITOR)},previewMessageHandler:function(b){if(this.getPreviewSource().indexOf(b.origin)===0&&b.data==="documentServicesLoaded"){var c=a.findDOMNode(this.refs.preview);this.notifyPreviewReady(c.contentWindow.documentServices)}},getCompPanel:function(){return b.find(this.state.openPanels,{frameType:c.constants.PANEL_TYPES.COMP})},getNonCompPanels:function(){return b.reject(this.state.openPanels,function(a){return a.frameType===c.constants.PANEL_TYPES.COMP||a.frameType===c.constants.PANEL_TYPES.FULL_STAGE})},getFullStagePanel:function(){return b.find(this.state.openPanels,{frameType:c.constants.PANEL_TYPES.FULL_STAGE})},registerMouseMoveAction:function(a,c,d){if(b.isFunction(a.start)){a.start(this.editorAPI,c)}if(d){f(window).on("mousemove",this.onMouseMove);f(window).on("mouseup",this.onMouseUp)}this.setState({registeredMouseMoveAction:a,isUsingWindowMouseEvents:!!d})},onMouseMove:function(a){if(!t.isOpen("fitEditorCoordinatesToViewer")){w.fitMouseCoordinatesToViewer(this.editorAPI,a)}var c=!this.state.performingMouseMoveAction;if(c){g.keyboardShortcuts.disable();this.setState({performingMouseMoveAction:true,lastSelectionClickPos:null})}if(this.state.registeredMouseMoveAction&&b.isFunction(this.state.registeredMouseMoveAction.on)){this.state.registeredMouseMoveAction.on(a)}},turnOffMouseEvents:function(){f(window).off("mousemove",this.onMouseMove);f(window).off("mouseup",this.onMouseUp)},getCancelMouseHandlerStateParams:function(){return{registeredMouseMoveAction:null,isUsingWindowMouseEvents:false,performingMouseMoveAction:false}},onMouseUp:function(a){if(!t.isOpen("fitEditorCoordinatesToViewer")){w.fitMouseCoordinatesToViewer(this.editorAPI,a)}this.turnOffMouseEvents();if(this.state.registeredMouseMoveAction&&b.isFunction(this.state.registeredMouseMoveAction.end)){this.state.registeredMouseMoveAction.end(a)}g.keyboardShortcuts.enable();if(t.isMultiValueExperimentOpen("editorHintsConfigs")){var c=this.state.registeredMouseMoveAction?this.state.registeredMouseMoveAction.type:null;this.editorAPI.pluginService.getPlugin("mouseMoveEndPlugin","*")(c,this.state.performingMouseMoveAction)}var d=this.getCancelMouseHandlerStateParams();if(!b.isEqual(d,b.pick(this.state,b.keys(d)))){this.setState(d)}},onMouseDownCapture:function(a){if(a.button===2){a.stopPropagation()}},onContextMenu:function(a){if(M(a)){return}a.preventDefault();d.panelManager.closeAllPanels();this.editorAPI.selection.selectComponentByClick(a);var b=t.isOpen("fitEditorCoordinatesToViewer")?w.fitMouseCoordinatesToViewer(this.editorAPI,a):a;this.editorAPI.openRightClickMenu(a.clientX,a.clientY,b.clientX,b.clientY)},onContextMenuPreventDefault:function(a){if(!M(a)){a.preventDefault()}},onIdeClick:function(){d.panelManager.closeAllPanels()},getDocumentType:function(){return this.editorAPI.generalInfo&&this.editorAPI.generalInfo.getDocumentType()},getLanguages:function(){return this.editorAPI.theme&&this.editorAPI.theme.fonts&&this.editorAPI.theme.fonts.getCharacterSet()},getThemeFonts:function(){return this.editorAPI.theme.fonts&&this.editorAPI.theme.fonts.getAll()},getEditorBase:function(){return g.editorModel.editorBase},isPreloaderVisible:function(){var a=window.document.getElementById("video-preloader");return!a&&!this.state.editorIsInit},showFloatingBubble:function(a,b,c,d){this.refs.floatingBubble.showFloatingBubble(a,b,c,d)},hideFloatingBubble:function(){this.refs.floatingBubble.hideFloatingBubble()},updateMousePosition:function(a,b){var c={x:a,y:b};this.editorAPI.cursor.set(c)},setSiteScale:function(a,b,c){var d=a;if(d!==this.state.siteScale){this.setState({siteScale:d})}this.editorAPI.documentServices.site.setScrollAndScale(0,b,d,v);this.editorAPI.ui.scroll.animateScroll({x:0,y:b},v,c)},isPerformingMouseMoveAction:function(){return this.state.performingMouseMoveAction},getEditingAreaLayout:function(){return P(a.findDOMNode(this.refs.editingArea).getBoundingClientRect())},getPreviewPosition:function(){return P(this.refs.preview.getBoundingClientRect())},getScroll:function(){return this.refs.editorStage.getScroll()},setScroll:function(a){return this.refs.editorStage.setScroll(a)},getSiteScale:function(){return this.state.siteScale},setHoverBox:function(a,b){this.refs.editorStage.setHoverBox(a,b)},clearHoverBox:function(){this.refs.editorStage.clearHoverBox()},animateScroll:function(a,b,c){return this.refs.editorStage.animateScroll(a,b,c)},addScrollListener:function(a){this._scrollListeners.push(a)},removeScrollListener:function(a){this._scrollListeners=b.without(this._scrollListeners,a)},setFocus:function(){a.findDOMNode(this).focus()},shouldShowDevModePanels:function(){return!this.state.previewMode&&this.editorAPI.developerMode.isEnabled()},isPopUpMode:function(){if(!t.isOpen("popups")){return false}return Boolean(this.editorAPI.isPreviewReady()&&this.editorAPI.pages.popupPages.getCurrentPopupId())},isReorganizeHidden:function(){return this.state.hideTools||this.isPopUpMode()},render:q})});define("rEditor/rootComps/editorMain",["reactDOM","util","react","rEditor/rootComps/editor","editorEventRegistry","rEditor/rootComps/gfpp/gfppModel","experiment","lodash"],function(a,b,c,d,e,f,g,h){"use strict";function i(a){if(a.debugTools){window.testApi=h.assign({},window.testApi,{domSelectors:a.qaAutomation.getDomSelectors(a.react,a.reactDOM),helpers:a.debugTools.helpers,clientSelectors:a.debugTools.clientSelectors})}if(a.qaAutomation){a.qaAutomation.init(window)}if(a.tpaIntegrationEditor){a.tpaIntegrationEditor.init(window,a.tpa,a.util,a.savePublish,a.panels)}if(a.wixckeditor){a.wixckeditor.init()}if(a.platformIntegrationEditor){a.platformIntegrationEditor.init(window,a.platform)}}function j(){var a=b.url.getParameterByName("leavePagePopUp");return{isLeavePagePopUpDisabled:a==="false"}}function k(e){window.document.title=b.translate("EDITOR_BROWSER_TAB_NAME");i(e);l();b.polyfills.register();if(g.isOpen("qualaroo")){b.qualaroo.start()}if(g.isOpen("fullstory")){b.fullStory.start();b.fullStory.identify()}var f=window.document.getElementById("root");var h=c.createElement(d,j());window.rendered=a.render(h,f)}function l(){function a(a){var b="viewtools.developerModeEnabled";if(a.userPreferences.site.get(b)){require(["platform"],function(b){b.init(a,f.registerGfppActions)})}}if(g.isOpen("se_platform1")){e.register(e.constants.events.USER_PREFERENCES_LOADED,a)}}return{start:k}});define("rEditor/rootComps/panels/popup/overlaySettingsPanel/overlaySettingsPanel.rt",["react","lodash","baseUILib","baseUI","util","core","compPanels"],function(a,b,c,d,e,f,g){"use strict";function h(a,c){var d=b.assign({},a,c);if(a.hasOwnProperty("style")){d.style=b.defaults(d.style,a.style)}if(a.hasOwnProperty("className")&&c.hasOwnProperty("className")){d.className=c.className+" "+a.className}return d}function i(){var b=this.getPopupProps()||{};return a.createElement(g.compPanelFrame,h({title:"Popups_OverlaySettings_Panel_Header",className:"popup-overlay-settings-panel",contentClass:"settings-panel",helpId:this.getHelpId()},this.getFrameProps()),a.createElement(d.firstTimeInfoBox,{biLearnMore:this.getEditorAPI().bi.event.bind(null,f.bi.events.commonControls.FIRST_TIME_INFO_BOX.LEARN_MORE),biClose:this.getEditorAPI().bi.event.bind(null,f.bi.events.commonControls.FIRST_TIME_INFO_BOX.CLOSE),context:"settings",id:"Popup_Overlay_Settings_Teaser",text:"Popups_OverlaySettings_FirstTime_Text",linkText:"add_category_teaser_link",learnMore:this.openHelpPanelFrame,userPrefs:this.getEditorAPI().getUserPreferences()}),a.createElement(c.divider,{long:false}),a.createElement(d.toggle,{key:"clickClosesOverlay",label:"Popups_OverlaySettings_ClickCloses_Toggle",valueLink:this.linkPopupPropsValue(b,"closeOnOverlayClick")}))}return function(){return i.apply(this,[])}});define("rEditor/rootComps/panels/popup/overlaySettingsPanel/overlaySettingsPanel",["react","lodash","core","compPanels","helpIds","rEditor/rootComps/panels/popup/overlaySettingsPanel/overlaySettingsPanel.rt"],function(a,b,c,d,e,f){"use strict";return a.createClass({displayName:"overlaySettingsPanel",mixins:[d.compPanelMixin],render:f,componentDidMount:function(){this.getEditorAPI().bi.event(c.bi.events.popups.setup_overlay_clicked,{})},getHelpId:function(){return e.UTILS.getSettingsHelpId(e.COMP_TYPES.POPUP_OVERLAY,this.getEditorAPI().isMobileEditor())},getPage:function(){return this.getEditorAPI().pages.popupPages.getCurrentPopup()},getPopupProps:function(){return b.get(this.getEditorAPI().pages.properties.get(this.getPage()),"popup",{})},openHelpPanelFrame:function(){this.openHelpCenter(this.getHelpId(),true)},linkPopupPropsValue:function(a,c){return{value:a&&a[c],requestChange:function(a){var d=this.getEditorAPI();var e=d.pages.properties.get(this.getPage());b.set(e,["popup",c],a);d.pages.properties.update(this.getPage(),e);d.history.add("toggle close popup by click on overlay")}.bind(this)}}})});define("rEditor/rootComps/panels/pagesPanelMixin",["core","lodash","baseUI","pagesMenu","blog","tpa"],function(a,b,c,d,e,f){"use strict";function g(a,b){return d.specialPages.menuLogic.isSubPageMenuItem(a,b)}function h(){return this.getEditorAPI().viewMode.get()===this.getEditorAPI().viewMode.VIEW_MODES.MOBILE}function i(){var a=this.getEditorAPI();var b=this.state.menuItemSectionNowOpened&&this.state.menuItemSectionNowOpened.pageData||d.specialPages.menuLogic.getSectionPageDataBySpecialPage(a,this.getCurrentPagePageData());if(b&&b.id){a.pages.navigateTo(b.id)}this.setState({menuItemToShowSettingsFor:null,isSubPagesMenuOpenedByButton:false,menuItemSectionNowOpened:null})}return{mixins:[a.mixins.editorAPIMixin],getInitialState:function(){return{isSubPagesMenuOpenedByButton:null,menuItemSectionNowOpened:null,menuItemToShowSettingsFor:null}},isSubPagesMenuActive:function(a){return this.state.isSubPagesMenuOpenedByButton||g(this.getEditorAPI(),a)},closeSettingsPanel:function(b){this.setState({menuItemToShowSettingsFor:null});this.getEditorAPI().bi.event(a.bi.events.topbar.pages.top_bar_PAGES_settings_close,{origin:b})},openSettingsPanel:function(a,b){this.setState({menuItemToShowSettingsFor:a},function(){if(b){this.refs.pageSettingsPanel.setSettingsTab(b)}}.bind(this))},openSubPagesMenu:function(b){this.setState({isSubPagesMenuOpenedByButton:true,menuItemSectionNowOpened:b},function(){this.closeSettingsPanel.call(this,"openSpecialPages");if(this.props.subpagesOpened){this.props.subpagesOpened()}}.bind(this));var c=a.utils.tpaTypeUtils.isTPA(b.pageData)?"tpa":"blog";this.getEditorAPI().bi.event(a.bi.events.topbar.pages.top_bar_PAGES_special_pages_icon_click,{type:c})},selectedMenuItemChanged:function(a){if(this.state.menuItemToShowSettingsFor){this.setState({menuItemToShowSettingsFor:this.hasSettingsPanel(a)?a:null})}},hasSettingsPanel:function(a){return h.call(this)||a.type.isPage},closeSubPagesMenu:function(){i.call(this);this.getEditorAPI().bi.event(a.bi.events.topbar.pages.top_bar_PAGES_special_pages_back_click)},openBlogManager:function(){e.openBlogManagerFrame(this.getEditorAPI(),"allPosts")},openStoreManager:function(){f.superApps.openDashboardUrl(f.superApps.superAppsConstants.ECOM_APP_DEF_ID,"90%","100%");this.getEditorAPI().bi.event(a.bi.events.topbar.pages.top_bar_PAGES_store_pages_store_manager_click)},getCurrentPagePageData:function(){var a=this.getEditorAPI();var b=a.pages.getPrimaryPageId();return a.pages.data.get(b)},getCurrentTitle:function(b,c){var d=this.getEditorAPI();if(b){if(a.utils.blogTypeUtils.isBlog(d,c)){return"SiteApp_Blog_PagesPanel_Panel_PanelHeader"}else if(a.utils.wixStoreTypeUtils.isWixStore(d,c)){return"SiteApp_WixStores_PagesPanel_Panel_PanelHeader"}}else{return"Pages_Menu_Title_Title"}},getHomePageData:function(){var a=this.getEditorAPI();var c=a.homePage.get();var d=a.mainMenu.getMenuItemsTreeForPagesFixed();var e=b.pluck(d,"pageData");var f=b.findIndex(e,{id:c});return d[f]}}});define("rEditor/pagesMenu/pageNode/pageInfoTextHelper",["core"],function(a){"use strict";var b=a.utils.tpaTypeUtils;var c=a.utils.blogTypeUtils;var d=a.utils.wixStoreTypeUtils;return{getInfoTextForSpecialPage:function(a,e){if(c.isBlog(a,e)){return"Pages_Blog_Post_Info_WhatisText"}else if(b.isTPA(e)){if(d.isWixStore(a,e)){if(d.isWixStoreProductPage(e)){return"Pages_Store_Product_Info_WhatisText"}else if(d.isWixStoreCartPage(e)){return"Pages_Store_Cart_Info_WhatisText"}else if(d.isWixStoreThankYouPage(e)){return"Pages_Store_Thankyou_Info_WhatisText"}}else{return"TPA pages"}}},getInfoTextForSectionPage:function(a,e){if(c.isBlog(a,e)){return"Pages_Menu_Blog_Tooltip"}else if(b.isTPA(e)){if(d.isWixStore(a,e)){return"Pages_Store_Panel_Title"}return"TPA pages"}},getInfoTextForNonPage:function(a){if(a.type.isLink){return"Pages_Menu_Link_Tooltip"}else if(a.type.isDropdown){return"Pages_Menu_Dropdown_Tooltip"}}}});define("rEditor/pagesMenu/pageNode/mobile/nodeContentMobileShell.rt",["react","lodash","pagesMenu","baseUI","core","symbols","util","rEditor/pagesMenu/pageNode/pageInfoTextHelper"],function(a,b,c,d,e,f,g,h){"use strict";return function(){return a.createElement(c.nodeContentCommon,b.assign({},{isVisible:this.props.isVisible===undefined?this.props.dataSource.isVisibleMobile:this.props.isVisible},this.props),a.createElement("a",{href:"javascript://settings",className:"action-button action-settings",onClick:this.onClick},a.createElement(f.symbol,{name:"quickActionsSettings"})),"\n\n    ",this.props.children,"\n")}});define("rEditor/pagesMenu/pageNode/mobile/nodeContentMobileShell",["react","rEditor/pagesMenu/pageNode/mobile/nodeContentMobileShell.rt"],function(a,b){"use strict";return a.createClass({displayName:"nodeContentMobileShell",onClick:function(){this.props.actions.openSettingsPanel(this.props.dataSource)},render:b})});define("rEditor/pagesMenu/pageNode/mobile/nodeContentMobileSimplePage.rt",["react","lodash","rEditor/pagesMenu/pageNode/mobile/nodeContentMobileShell"],function(a,b,c){"use strict";return function(){return a.createElement(c,this.props)}});define("rEditor/pagesMenu/pageNode/mobile/nodeContentMobileNotPage.rt",["react","lodash","baseUI","symbols","rEditor/pagesMenu/pageNode/mobile/nodeContentMobileShell","rEditor/pagesMenu/pageNode/pageInfoTextHelper"],function(a,b,c,d,e,f){"use strict";function g(){var b=f.getInfoTextForNonPage(this.props.dataSource);return a.createElement(e,this.getNotPageProps(),a.createElement("a",{href:"#",key:"action-button-info-subpage",className:"action-button"},a.createElement(c.infoIcon,{symbolName:"actionButtonInfo",text:b,ref:"infoIcon"})))}return function(){return g.apply(this,[])}});define("rEditor/pagesMenu/pageNode/mobile/nodeContentMobileSectionPage.rt",["react","lodash","pagesMenu","baseUI","core","symbols","util","rEditor/pagesMenu/pageNode/pageInfoTextHelper","rEditor/pagesMenu/pageNode/mobile/nodeContentMobileShell"],function(a,b,c,d,e,f,g,h,i){"use strict";function j(a){this.props.actions.openSubPagesMenu(this.props.dataSource)}function k(){var b=h.getInfoTextForSectionPage(this.getEditorAPI(),this.props.dataSource.pageData);return a.createElement(i,this.props,a.createElement("a",{className:"action-button action-button-special-pages-mobile",onClick:j.bind(this,b)},a.createElement(d.infoIcon,{symbolName:"actionButtonSpecialPages",propagate:true,text:b})))}return function(){return k.apply(this,[])}});define("rEditor/pagesMenu/pageNode/common/nodeContentSubPage.rt",["react","lodash","baseUI","rEditor/pagesMenu/pageNode/pageInfoTextHelper","pagesMenu","symbols"],function(a,b,c,d,e,f){
"use strict";function g(a){this.props.actions.openSettingsPanel(this.props.dataSource)}function h(){var h=d.getInfoTextForSpecialPage(this.props.editorAPI,this.props.dataSource.pageData);return a.createElement(e.nodeContentCommon,b.assign({},{isVisible:true},this.props),a.createElement("a",{href:"javascript://settings",className:"action-button action-settings",onClick:g.bind(this,h)},a.createElement(f.symbol,{name:"quickActionsSettings"})),a.createElement("a",{href:"#",className:"action-button"},a.createElement(c.infoIcon,{symbolName:"actionButtonInfo",text:h})))}return function(){return h.apply(this,[])}});define("rEditor/pagesMenu/pageNode/desktop/nodeContentDesktopCommon.rt",["react","lodash","pagesMenu"],function(a,b,c){"use strict";return function(){return a.createElement(c.nodeContentCommon,b.assign({},{isVisible:this.props.isVisible===undefined?this.props.dataSource.isVisible:this.props.isVisible},this.props),"\n\n    ",this.props.children,"\n\n")}});define("rEditor/pagesMenu/pageNode/desktop/nodeContentDesktopCommon",["react","rEditor/pagesMenu/pageNode/desktop/nodeContentDesktopCommon.rt"],function(a,b){"use strict";return a.createClass({displayName:"nodeContentDesktopCommon",render:b})});define("rEditor/pagesMenu/pageNode/desktop/quickActionsMenu/quickActionsMenuCommon.rt",["react","lodash","baseUI","symbols","util","pagesMenu","experiment"],function(a,b,c,d,e,f,g){"use strict";function h(){var b=this.props.dataSource;var h=e.translate;var i=f.pageMenuItemHelpers;var j=this.props.editorAPI;return a.createElement(c.dropDown.contextMenu,{shouldTranslate:false,icon:"moreRegular",className:"quick-actions action-button",shrink:this.props.shrink,onClick:this.handleClick,onNotificationClick:this.props.onNotificationClick,notificationCount:this.props.notificationCount,onChange:this.actionSelectedHandler,"data-hint-id":g.isMultiValueExperimentOpen("editorHintsConfigs")?this.props.pageMoreHintId:null},"\n\n    ",this.props.children,"\n\n\n        ",a.createElement(c.dropDown.option,{value:"rename",key:"quick-actions-rename"},a.createElement("div",{className:"svg-container"},a.createElement(d.symbol,{name:"quickActionsRename"})),a.createElement("span",{className:"qa-label"},h("Pages_Actions_Page_Rename"))),i.canDuplicate(j,b)?a.createElement(c.dropDown.option,{key:"quick-actions-duplicate",value:"duplicate"},a.createElement("div",{className:"svg-container"},a.createElement(d.symbol,{name:"qaDuplicate"})),a.createElement("span",{className:"qa-label"},h("Pages_Actions_Page_Duplicate"))):null,i.canUnhide(j,b)?a.createElement(c.dropDown.option,{key:"quick-actions-unhide",value:"unhide"},a.createElement("div",{className:"svg-container"},a.createElement(d.symbol,{name:"quickActionsShow"})),a.createElement("span",{className:"qa-label"},h("Pages_Actions_Page_Unhide"))):null,i.canHide(j,b)?a.createElement(c.dropDown.option,{key:"quick-actions-hide",value:"hide"},a.createElement("div",{className:"svg-container"},a.createElement(d.symbol,{name:"quickActionsHide"})),a.createElement("span",{className:"qa-label"},h("Pages_Actions_Page_Hide"))):null,this.isSubpageActive(b)?a.createElement(c.dropDown.option,{key:"quick-actions-subpage",value:"subpage"},a.createElement("div",{className:"svg-container"},a.createElement(d.symbol,{name:"quickActionsSubpage"})),a.createElement("span",{className:"qa-label"},h("Pages_Actions_Page_Subpage"))):null,this.isMoveUpActive(b)?a.createElement(c.dropDown.option,{key:"quick-actions-moveup",value:"moveup"},a.createElement("div",{className:"svg-container"},a.createElement(d.symbol,{name:"quickActionsMainPage"})),a.createElement("span",{className:"qa-label"},h("Pages_Actions_Page_MoveUp"))):null,i.canRemoveMenuItem(j,b)?a.createElement(c.dropDown.option,{key:"quick-actions-remove",value:"remove"},a.createElement("div",{className:"svg-container"},a.createElement(d.symbol,{name:"qaDelete"})),a.createElement("span",{className:"qa-label"},h("Pages_Actions_Page_Delete"))):null)}return function(){return h.apply(this,[])}});define("rEditor/pagesMenu/pageNode/desktop/quickActionsMenu/quickActionsMenuCommon",["react","core","pagesMenu","rEditor/pagesMenu/pageNode/desktop/quickActionsMenu/quickActionsMenuCommon.rt","experiment"],function(a,b,c,d,e){"use strict";return a.createClass({displayName:"quickActionsMenuCommon",mixins:[c.mixins.quickActionRenameMixin],propTypes:{dataSource:a.PropTypes.object.isRequired,editorAPI:a.PropTypes.object.isRequired,editedPageIdLink:a.PropTypes.object.isRequired,onActionSelected:a.PropTypes.func.isRequired},isSubpageActive:function(a){var b=c.pageMenuItemHelpers,d=b.canSubpage(a);if(e.isOpen("popups")){d=d&&this.props.structureType==="tree"}return d},isMoveUpActive:function(a){var b=c.pageMenuItemHelpers,d=b.canMoveUp(a);if(e.isOpen("popups")){d=d&&this.props.structureType==="tree"}return d},handleClick:function(){this.props.setSelected();if(e.isOpen("pagesFirstTimeSteps")){var a=this.props.dataSource.pageData;var c={page_on_top:this.props.dataSource.position===0,page_ind:a?a.id:"non-page"};this.props.editorAPI.bi.event(b.bi.events.topbar.pages.pages_panel_page_settings_click,c)}},render:d})});define("rEditor/pagesMenu/pageNode/desktop/quickActionsMenu/quickActionsMenuPage.rt",["react","lodash","baseUILib","baseUI","symbols","rEditor/pagesMenu/pageNode/desktop/quickActionsMenu/quickActionsMenuCommon","experiment","util"],function(a,b,c,d,e,f,g,h){"use strict";function i(){var g=h.translate;return a.createElement(f,b.assign({},{onNotificationClick:this.getOnNotificationClick(),notificationCount:1},this.props),a.createElement(d.dropDown.option,{key:"quick-action-tab-page-info",value:"tabPageInfo",className:"primary psp-qa"},a.createElement(e.symbol,{name:"quickActionsLinkArrow",style:{position:"relative",margin:"0 7px 0 5px"}}),a.createElement("span",{className:"qa-label"},g("Pages_Actions_Page_Info"))),a.createElement(d.dropDown.option,{key:"quick-action-tab-layout",value:"tabLayout",className:"primary psp-qa"},a.createElement(e.symbol,{name:"quickActionsLinkArrow",style:{position:"relative",margin:"0 7px 0 5px"}}),a.createElement("span",{className:"qa-label"},g("Pages_Actions_Page_Layouts"))),a.createElement(d.dropDown.option,{key:"quick-action-tab-permissions",value:"tabPermissions",className:"primary psp-qa"},a.createElement(e.symbol,{name:"quickActionsLinkArrow",style:{position:"relative",margin:"0 7px 0 5px"}}),a.createElement("span",{className:"qa-label"},g("Pages_Actions_Page_Permissions"))),a.createElement(d.dropDown.option,{key:"quick-action-tab-seo",value:"tabSEO",className:"primary psp-qa"},a.createElement(e.symbol,{name:"quickActionsLinkArrow",style:{position:"relative",margin:"0 7px 0 5px"}}),a.createElement("span",{className:"qa-label"},g("Pages_Actions_Page_SEO"))),a.createElement(d.dropDown.option,{key:"quick-action-separator",className:"separator"},a.createElement(c.divider,{long:true})),a.createElement(d.dropDown.option,{key:"quick-action-settings",value:"settings",className:"primary"},a.createElement(e.symbol,{name:"quickActionsSettings",style:{position:"relative",top:"4px",left:"-1px"}}),a.createElement("span",{className:"qa-label"},g("Pages_Actions_Page_Settings"))))}return function(){return i.apply(this,[])}});define("rEditor/pagesMenu/pageNode/desktop/quickActionsMenu/quickActionsMenuPage",["react","pagesMenu","rEditor/pagesMenu/pageNode/desktop/quickActionsMenu/quickActionsMenuPage.rt"],function(a,b,c){"use strict";return a.createClass({displayName:"quickActionsMenuPage",getOnNotificationClick:function(){var a=this.props.actions.openSettingsPanel;var c=this.props.dataSource;if(b.utils.quickActions.hasNotification(this.props.editorAPI,this.props.dataSource.pageData.id)){return function(){a(c,"page")}}},render:c})});define("rEditor/pagesMenu/pageNode/desktop/nodeContentDesktopSimplePage.rt",["react","lodash","rEditor/pagesMenu/pageNode/desktop/nodeContentDesktopCommon","rEditor/pagesMenu/pageNode/desktop/quickActionsMenu/quickActionsMenuPage"],function(a,b,c,d){"use strict";return function(){return a.createElement(c,this.props,a.createElement(d,this.props))}});define("rEditor/pagesMenu/pageNode/desktop/nodeContentDesktopSectionPage.rt",["react","lodash","rEditor/pagesMenu/pageNode/desktop/nodeContentDesktopCommon","rEditor/pagesMenu/pageNode/desktop/quickActionsMenu/quickActionsMenuPage","rEditor/pagesMenu/pageNode/pageInfoTextHelper","baseUI"],function(a,b,c,d,e,f){"use strict";function g(a,b){this.props.actions.openSubPagesMenu(a)}function h(){var b=this.props.dataSource;var h=e.getInfoTextForSectionPage(this.getEditorAPI(),this.props.dataSource.pageData);return a.createElement(c,this.props,a.createElement(d,this.props),a.createElement("a",{href:"#",className:"action-button",onClick:g.bind(this,b,h)},a.createElement(f.infoIcon,{symbolName:"actionButtonSpecialPages",propagate:true,text:h})))}return function(){return h.apply(this,[])}});define("rEditor/pagesMenu/pageNode/desktop/quickActionsMenu/quickActionsMenuNotPage.rt",["react","lodash","baseUI","symbols","rEditor/pagesMenu/pageNode/desktop/quickActionsMenu/quickActionsMenuCommon","rEditor/pagesMenu/pageNode/pageInfoTextHelper","util"],function(a,b,c,d,e,f,g){"use strict";function h(){var b=this.props.dataSource;var f=g.translate;return a.createElement(e,this.props,b.type.isLink?a.createElement(c.dropDown.option,{key:"quick-actions-rename-link",value:"changeLink"},a.createElement(d.symbol,{name:"quickActionsLink"}),a.createElement("span",{className:"qa-label"},f("Pages_Actions_Link_Change"))):null)}return function(){return h.apply(this,[])}});define("rEditor/pagesMenu/pageNode/desktop/quickActionsMenu/quickActionsMenuNotPage",["react","rEditor/pagesMenu/pageNode/desktop/quickActionsMenu/quickActionsMenuNotPage.rt"],function(a,b){"use strict";return a.createClass({displayName:"quickActionsMenuNotPage",render:b})});define("rEditor/pagesMenu/pageNode/desktop/nodeContentDesktopNotPage.rt",["react","lodash","baseUI","rEditor/pagesMenu/pageNode/pageInfoTextHelper","rEditor/pagesMenu/pageNode/desktop/nodeContentDesktopCommon","rEditor/pagesMenu/pageNode/desktop/quickActionsMenu/quickActionsMenuNotPage"],function(a,b,c,d,e,f){"use strict";function g(){var b=d.getInfoTextForNonPage(this.props.dataSource);return a.createElement(e,this.getNotPageProps(),a.createElement(f,this.props),a.createElement("a",{href:"#",key:"action-button-info-subpage",className:"action-button"},a.createElement(c.infoIcon,{symbolName:"actionButtonInfo",text:b,ref:"infoIcon"})))}return function(){return g.apply(this,[])}});define("rEditor/pagesMenu/pageNodeRenderers",["rEditor/pagesMenu/pageNode/mobile/nodeContentMobileSimplePage.rt","rEditor/pagesMenu/pageNode/mobile/nodeContentMobileNotPage.rt","rEditor/pagesMenu/pageNode/mobile/nodeContentMobileSectionPage.rt","rEditor/pagesMenu/pageNode/common/nodeContentSubPage.rt","rEditor/pagesMenu/pageNode/desktop/nodeContentDesktopSimplePage.rt","rEditor/pagesMenu/pageNode/desktop/nodeContentDesktopSectionPage.rt","rEditor/pagesMenu/pageNode/desktop/nodeContentDesktopNotPage.rt"],function(a,b,c,d,e,f,g){"use strict";function h(d,e){if(d.type.isPage){if(e){return c}return a}if(d.type.isLink||d.type.isDropdown){return b}}function i(a,b){if(a.type.isPage){if(b){return f}return e}if(a.type.isLink||a.type.isDropdown){return g}}return{mobile:{mainMenu:h},desktop:{mainMenu:i},common:{subPages:function(){return d}}}});define("rEditor/pagesMenu/pageNode/common/nodeContentSubPage",["react","rEditor/pagesMenu/pageNodeRenderers"],function(a,b){"use strict";return a.createClass({displayName:"nodeContentMobileSubPage",render:function(){return b.common.subPages(this.props.dataSource).call(this)}})});define("rEditor/pagesMenu/subPages/subPages.rt",["react","lodash","baseUI","baseUILib","core","symbols","util","rEditor/pagesMenu/pageNode/common/nodeContentSubPage"],function(a,b,c,d,e,f,g,h){"use strict";function i(a){a.preventDefault();this.props.closeSubPagesMenu()}return function(){return a.createElement("div",{className:"pages-tree-container pages-menu"},a.createElement("div",{className:"pages-tree-controls"},a.createElement("a",{href:"#",className:"panel-header-close",onClick:i.bind(this)},a.createElement("button",{className:"button-control back-to-pages"},a.createElement(f.symbol,{name:"arrowLeft"})),a.createElement("span",{},g.translate("pages_blog_panel_back")))),e.utils.blogTypeUtils.isBlog(this.getEditorAPI(),this._curPageData)?a.createElement(c.firstTimeInfoBox,{key:"subpages-firsttime-for-blog",id:"blog-pages-menu",icon:"firstTimeBlogPages",title:"Pages_Blog_Firsttime_Title",text:"Pages_Blog_Firsttime_Text",hide:false,userPrefs:this.props.userPrefs,biLearnMore:this.getEditorAPI().bi.event.bind(null,e.bi.events.commonControls.FIRST_TIME_INFO_BOX.LEARN_MORE),biClose:this.getEditorAPI().bi.event.bind(null,e.bi.events.commonControls.FIRST_TIME_INFO_BOX.CLOSE)}):null,e.utils.tpaTypeUtils.isTPA(this._curPageData)?a.createElement(c.firstTimeInfoBox,{key:"subpages-firsttime-for-tpa",id:"store-pages-menu",icon:"firstTimeStorePages",title:"Pages_Store_Firsttime_Title",text:"Pages_Store_Firsttime_Text",hide:false,userPrefs:this.props.userPrefs,biLearnMore:this.getEditorAPI().bi.event.bind(null,e.bi.events.commonControls.FIRST_TIME_INFO_BOX.LEARN_MORE),biClose:this.getEditorAPI().bi.event.bind(null,e.bi.events.commonControls.FIRST_TIME_INFO_BOX.CLOSE)}):null,a.createElement(d.customScroll,{},a.createElement(c.treeView,{className:"pages-tree ",dataSource:this._pagesList,nodeContent:h,equalityComparer:this.equalityComparer,editorAPI:this.getEditorAPI(),actions:{openSettingsPanel:this.props.openSettingsPanel,closeSettingsPanel:this.props.closeSettingsPanel},valueLink:this.linkPage(this._curPageData.id),isRoot:true})))}});define("rEditor/pagesMenu/subPages/subPages",["react","core","pagesMenu","rEditor/pagesMenu/subPages/subPages.rt"],function(a,b,c,d){"use strict";return a.createClass({displayName:"subPages",mixins:[a.addons.LinkedStateMixin,b.mixins.editorAPIMixin],propTypes:{userPrefs:a.PropTypes.object,sectionMenuItem:a.PropTypes.object,openSettingsPanel:a.PropTypes.func.isRequired,closeSubPagesMenu:a.PropTypes.func.isRequired,selectedMenuItemChanged:a.PropTypes.func.isRequired},linkPage:function(a){return{value:a,requestChange:function(a){this.props.selectedMenuItemChanged(a);if(a&&a.pageData){this.getEditorAPI().pages.navigateTo(a.pageData.id)}}.bind(this)}},getCurrentPagePageData:function(){var a=this.getEditorAPI();return a.pages.data.get(a.pages.getPrimaryPageId())},equalityComparer:function(a,b){return a.pageData&&a.pageData.id===b},render:function(){var a=this.getEditorAPI();var b;this._curPageData=this.getCurrentPagePageData();b=c.specialPages.menuLogic.getSpecialPagesListBySectionPageOrBySibling(a,this.props.sectionMenuItem&&this.props.sectionMenuItem.pageData||this._curPageData);this._pagesList=a.mainMenu.convertPagesDataListToMenuItemsList(b);return d.call(this)}})});define("rEditor/pagesMenu/mainMenuTreeState",["lodash"],function(a){"use strict";var b={};function c(a,c){b[a]=Boolean(c)}function d(a,c){if(b.hasOwnProperty(a)){return b[a]}return c||false}function e(b){a.forEach(b,function(a){a.isCollapsed=d(a.id);if(a.items.length>0){e(a.items)}else if(a.isCollapsed){a.isCollapsed=false;c(a.id,false)}})}function f(a,b){a.isCollapsed=d(a.id,b);if(a.items.length<=0&&a.isCollapsed){a.isCollapsed=false;c(a.id,false)}return a}return{setMenuItemCollapsed:c,reflectStateToMenuTree:e,reflectStateToMenuItem:f}});define("rEditor/pagesMenu/addPageMenuPanel/addPageMenuPanel.rt",["react","lodash","symbols","baseUI","util"],function(a,b,c,d,e){"use strict";function f(){var b=e.translate;return a.createElement("ul",{className:"tooltip-pages-add-menu"},a.createElement("li",{},a.createElement("div",{onClick:this.props.addPage},a.createElement("span",{className:"icon"},a.createElement(c.symbol,{name:"addPagePanelPage"})),a.createElement("div",{},a.createElement("span",{className:"title"},b("Pages_Menu_Add_Page_Title")),a.createElement("span",{className:"description"},b("Pages_Menu_Add_Page_Text")))),a.createElement("li",{},a.createElement("div",{onClick:this.props.addLink},a.createElement("span",{className:"icon"},a.createElement(c.symbol,{name:"addPagePanelLink"})),a.createElement("div",{},a.createElement("span",{className:"title"},"\n                    ",b("Pages_Menu_Add_Link_Title"),"\n                    ",a.createElement(d.tooltip,{value:"Pages_Menu_Add_Link_Tooltip",width:"228",alignment:d.uiConstants.TOOLTIP.ALIGNMENT.TOP},a.createElement("div",{className:"title-help-icon"},a.createElement(c.symbol,{name:"infoSmall"})))),a.createElement("span",{className:"description"},b("Pages_Menu_Add_Link_Text"))))),a.createElement("li",{},a.createElement("div",{onClick:this.props.addDropdown},a.createElement("span",{className:"icon"},a.createElement(c.symbol,{name:"addPagePanelDropDown"})),a.createElement("div",{},a.createElement("span",{className:"title"},"\n                    ",b("Pages_Menu_Add_Dropdown_Title"),"\n                    ",a.createElement(d.tooltip,{value:this.getTooltipValue(),width:"240px",alignment:d.uiConstants.TOOLTIP.ALIGNMENT.TOP},a.createElement("div",{className:"title-help-icon"},a.createElement(c.symbol,{name:"infoSmall"})))),a.createElement("span",{className:"description"},b("Pages_Menu_Add_Dropdown_Text")))))))}return function(){return f.apply(this,[])}});define("rEditor/pagesMenu/addPageMenuPanel/addPageMenuPanel",["react","lodash","baseUI","rEditor/pagesMenu/addPageMenuPanel/addPageMenuPanel.rt"],function(a,b,c,d){"use strict";return a.createClass({displayName:"addPageMenuPanel",mixins:[],propTypes:{addPage:a.PropTypes.func,addLink:a.PropTypes.func,addDropdown:a.PropTypes.func},getTooltipValue:function(){return{classPath:"baseUI.popoverTemplates.imageAndTextTooltip",props:{image:"addDropDownHint",imageContainerStyle:{backgroundColor:"#17a8a4"},text:"Pages_Menu_Add_Dropdown_Tooltip"}}},render:d})});define("rEditor/pagesMenu/pageTransitionsPanel/pageTransitionsUtils",["util"],function(a){"use strict";var b={none:"Pages_Menu_Transitions_None",swipeHorizontalFullScreen:"Pages_Menu_Transitions_SwipeH_Selected",swipeVerticalFullScreen:"Pages_Menu_Transitions_SwipeV_Popup",crossfade:"Pages_Menu_Transitions_CrossFade",outIn:"Pages_Menu_Transitions_OutIn"};var c={outIn:"outIn",crossfade:"crossfade",shrinkfade:"crossfade",swipeHorizontal:"swipeHorizontalFullScreen",swipeHorizontalFullScreen:"swipeHorizontalFullScreen",swipeVertical:"swipeVerticalFullScreen",swipeVerticalFullScreen:"swipeVerticalFullScreen",none:"none"};return{calcNewIdFromLegacy:function(a){return c[a]?c[a]:c.none},getTransitionLabelKey:function(a){var c=this.calcNewIdFromLegacy(a);return b[c]},getTransitionLabelTranslated:function(b){return a.translate(this.getTransitionLabelKey(b))}}});define("rEditor/pagesMenu/pageTransitionsPanel/pageTransitionsPanel.rt",["react","lodash","baseUI","core","symbols","util","rEditor/pagesMenu/pageTransitionsPanel/pageTransitionsUtils"],function(a,b,c,d,e,f,g){"use strict";return function(){return a.createElement("section",{className:"page-transitions",tabIndex:"0"},a.createElement("header",{className:"panel-header dark"},a.createElement("h1",{},f.translate("Pages_Menu_Transitions_Title")),a.createElement("div",{className:"buttons"},a.createElement("button",{className:"help",onClick:this.helpClicked},"?"),a.createElement("button",{className:"close",onClick:this.close},a.createElement(e.symbol,{name:"headerCloseButton"})))),a.createElement("div",{className:"content"},a.createElement(c.firstTimeInfoBox,{id:"page-transitions-panel",icon:"pageTransitions",title:"Pages_Menu_Transitions_FirstTime_Title",text:"Pages_Menu_Transitions_FirstTime_Text",hide:true,userPrefs:this.props.userPrefs,biLearnMore:this.props.biEvent.bind(null,d.bi.events.commonControls.FIRST_TIME_INFO_BOX.LEARN_MORE),biClose:this.props.biEvent.bind(null,d.bi.events.commonControls.FIRST_TIME_INFO_BOX.CLOSE)}),a.createElement(c.thumbnails,{className:"with-labels",maxThumbsPerRow:"3",options:this.props.transitionsToShow,value:g.calcNewIdFromLegacy(this.getEditorAPI().pages.transitions.get()),onChange:this.onTransitionChange})),a.createElement("i",{className:"triangle"}))}});define("rEditor/pagesMenu/pageTransitionsPanel/pageTransitionsPanel",["reactDOM","react","lodash","panels","baseUI","rEditor/pagesMenu/pageTransitionsPanel/pageTransitionsPanel.rt","rEditor/pagesMenu/pageTransitionsPanel/pageTransitionsUtils","core","util"],function(a,b,c,d,e,f,g,h,i){"use strict";var j=e.tooltipManager;var k=[{id:"none",symbolName:"transition-none"},{id:"swipeHorizontalFullScreen",symbolName:"transition-pages-horizontal"},{id:"swipeVerticalFullScreen",symbolName:"transition-pages-vertical"},{id:"crossfade",symbolName:"transition-pages-crossfade"},{id:"outIn",symbolName:"transition-pages-inout"}];return b.createClass({displayName:"pageTransitionsPanel",mixins:[h.mixins.editorAPIMixin,i.outerClickMixin],render:f,propTypes:{onClose:b.PropTypes.func},getDefaultProps:function(){return{transitionsToShow:c.map(k,function(a){return{value:a.id,label:g.getTransitionLabelKey(a.id),symbolName:a.symbolName}})}},componentDidMount:function(){a.findDOMNode(this).focus()},onTransitionChange:function(a){this.getEditorAPI().pages.transitions.set(a);this.getEditorAPI().bi.event(h.bi.events.topbar.pages.top_bar_PAGES_page_transition_selected_click,{category:a});this.performAnimationSimulation()},flattenMenuData:function(a){var b=[];c.forEach(a.mainMenu.getMenu(true),function(a){b.push(a);b=b.concat(a.items||[])});return b},performAnimationSimulation:function(){var a=this.getEditorAPI();var b=a.pages.getPrimaryPageId();var d=c.filter(this.flattenMenuData(a),function(a){return a.link?a.link.type==="PageLink":false});var e=c.pluck(c.pluck(d,"link"),"pageId");var f=e.indexOf("#"+b);var g=f+1;if(f===e.length-1){g=0}if(g!==f){a.pages.navigateTo(e[g].slice(1))}},helpClicked:function(){var a={panel_name:this.props.id,origin:h.constants.BI.HELP.ORIGIN.PAGES,learn_more:false};d.panelManager.openHelpCenter("dfc95824-954a-4d20-aad2-7971d3fbdb98",null,a);j.hide(this.props.id)},close:function(){if(this.props.onClose){this.props.onClose()}j.hide(this.props.id)},onOuterClick:function(){this.close()}})});define("rEditor/pagesMenu/mainMenuPages/mainMenuPageMixin",["react","lodash","core","pagesMenu","rEditor/pagesMenu/mainMenuTreeState","rEditor/utils/menuItemsRepository","experiment"],function(a,b,c,d,e,f,g){"use strict";var h=40;var i=17;function j(a){return b.reduce(a||[],function(a,b){if(!b.isCollapsed){a+=j(b.items)}return a+1},0)}function k(a,b){return b?f.filterItems(a,b):a}function l(a,c){return c.type.isPage&&b.includes(a,b.get(c.pageData,"id"))}function m(a,c){b.forEach(a,function(a,b){if(a.items&&a.items.length){a.items=m(a.items,c)}for(var d=0;d<c.length;d+=1){a=c[d](a,b)}});return a}function n(a,b){a.position=b;return a}return{mixins:[c.mixins.editorAPIMixin],propTypes:{filter:a.PropTypes.any,selectedMenuItemChanged:a.PropTypes.func.isRequired},getInitialState:function(){return{selectedItemInfo:{isPage:true,pageId:this.getEditorAPI().pages.getFocusedPageId(),menuItemId:null}}},componentWillReceiveProps:function(){var a=this.getEditorAPI().pages.getFocusedPageId();if(this.state.selectedItemInfo.isPage&&this.state.selectedItemInfo.pageId!==a){this.setState({selectedItemInfo:{isPage:true,pageId:a,menuItemId:null}})}},onPageToggled:function(a,b){var c=a.props.dataSource.id;e.setMenuItemCollapsed(c,b);this.forceUpdate()},linkPage:function(){return{value:this.state.selectedItemInfo,requestChange:function(a){this.setState({selectedItemInfo:{isPage:a.type.isPage,menuItemId:a.id,pageId:a.type.isPage?b.get(a.pageData,"id"):null}});this.props.selectedMenuItemChanged(a);if(a.type.isPage){this.navigateToPageById(b.get(a.pageData,"id"))}else if(a.type.isLink&&a.type.raw==="AnchorLink"){this.scrollToAnchor(a.link)}}.bind(this)}},closePanel:function(){this.props.onClose()},navigateToPageById:function(a,b){var d=this.getEditorAPI();var e=d.pages.getFocusedPageId();if(e!==a||b){d.pages.navigateToAndScroll(a,b,d.applyPreviewScrollToEditorScroll);d.bi.event(c.bi.events.topbar.pages.top_bar_PAGES_navigate_to_page,{page_id:a})}},scrollToAnchor:function(a){var b=a.pageId&&a.pageId.replace("#","");this.navigateToPageById(b,a.anchorDataId)},shouldShrinkMenu:function(){return j(this._menuTree)>i},equalityComparer:function(a,b){return b.isPage&&a.pageData&&a.pageData.id===b.pageId||b.menuItemId===a.id},getTreeDockerScrollTop:function(){return this.refs.pagesTree.getScrollTop()},renderTemplate:function(a){var c=this.getEditorAPI();var f=c.pages.getPagesData();var i=c.mainMenu.getMenuItemsTreeForMainMenu(f);var j;var o=g.isOpen("pagesPanelOpenCollapsed")?f.length>h:false;i=m(i,[function(a){return e.reflectStateToMenuItem(a,o)},n]);j=k(i,this.props.filter);var p=d.specialPages.menuLogic.getSectionPagesIds(c,f);this._menuTree=j;this._isSectionPage=b.partial(l,p);if(g.isOpen("pagesFirstTimeSteps")&&!g.isMultiValueExperimentOpen("editorHintsConfigs")&&this._menuTree[0]){this._menuTree[0].additionalClasses=["pages-first-item"]}return a.call(this)}}});define("rEditor/pagesMenu/pagePanelContextMenu/pagePanelContextMenuMixin",[],function(){"use strict";var a="inner-container";return{mouseDownHandler:function(){this.refs.pagesMenuContextMenu.closeContextMenu()},rightClickHandler:function(b){var c;if(b.target.className===a){b.preventDefault();c=b.target.getBoundingClientRect();this.refs.pagesMenuContextMenu.closeContextMenu();this.refs.pagesMenuContextMenu.show({x:b.clientX-c.left,y:b.clientY-c.top})}}}});define("rEditor/pagesMenu/pagesTree/pagesTree.rt",["react","lodash","baseUI","baseUILib","experiment"],function(a,b,c,d,e){"use strict";return function(){return a.createElement(d.customScroll,{ref:"customScroll"},a.createElement(c.treeView,b.assign({},{className:this.getTreeViewClasses(),dataSource:this.props.pagesList,collapsedSelector:"isCollapsed",editorAPI:this.getEditorAPI(),isRoot:true},this.filteredProps())),e.isOpen("dpages")?a.createElement(c.treeView,b.assign({},{key:"dynamicPagesTree",className:"test",dataSource:this.getDynamicPagesDataSource(),collapsedSelector:"isCollapsed",editorAPI:this.getEditorAPI(),isRoot:true},this.filteredProps())):null)}});define("rEditor/pagesMenu/pagesTree/pagesTree",["reactDOM","lodash","react","core","rEditor/pagesMenu/pagesTree/pagesTree.rt"],function(a,b,c,d,e){"use strict";return c.createClass({displayName:"pagesTree",mixins:[d.mixins.editorAPIMixin],propTypes:{pagesList:c.PropTypes.any.isRequired},filteredProps:function(){return b.omit(this.props,["pagesList","dataSource","className","nodeTemplate","collapsedSelector","editorAPI"])},getScrollTop:function(){return this.refs.customScroll.getScrollTop()},scrollToSelectedNode:function(){this._scrollToSelectedNode=true},componentDidUpdate:function(){var b,c,d,e,f=NaN;if(!this._scrollToSelectedNode){return}this._scrollToSelectedNode=false;b=a.findDOMNode(this);c=b.querySelector(".pages-tree-item.selected");if(c){d=b.getBoundingClientRect();e=c.getBoundingClientRect();if(e.top<d.top){f=this.getScrollTop()+(e.top-d.top)}else if(e.bottom>d.bottom){f=this.getScrollTop()+(e.bottom-d.bottom)}if(!isNaN(f)){this.refs.customScroll.updateScrollPosition(Math.max(0,f))}}},getTreeViewClasses:function(){return"pages-tree "},getDynamicPagesDataSource:function(){return this.getEditorAPI().pages.dynamicPages.getMenuItems()},render:e})});define("rEditor/pagesMenu/pageNode/common/nodeContentNotPageMixin",["lodash"],function(a){"use strict";return{showTooltip:function(){if(this.refs.infoIcon){this.refs.infoIcon.showTooltip()}},hideTooltip:function(){if(this.refs.infoIcon){this.refs.infoIcon.hideTooltip()}},getNotPageProps:function(){return a.assign({},this.props,{onClick:this.showTooltip,onMouseLeave:this.hideTooltip})}}});define("rEditor/pagesMenu/pageNode/desktop/nodeContentDesktopMainMenu",["react","core","rEditor/pagesMenu/pageNode/common/nodeContentNotPageMixin","rEditor/pagesMenu/pageNodeRenderers"],function(a,b,c,d){"use strict";return a.createClass({displayName:"nodeContentDesktopMainMenu",mixins:[b.mixins.editorAPIMixin,c],render:function(){var a=this.props.dataSource;return d.desktop.mainMenu(a,this.props.isSectionPage(a)).call(this)}})});define("rEditor/pagesMenu/pagesMenuContextMenu/pagesMenuContextMenu.rt",["react","lodash","rEditor/rootComps/rightClickMenu/menuItems/rcmItemBasic","util"],function(a,b,c,d){"use strict";function e(){var e=d.translate;return a.createElement("div",{key:"pagesMenuContextMenuContainer",style:{position:"absolute",top:this.state.position.y,left:this.state.position.x},className:b({rightClickMenu:true}).transform(function(a,b,c){if(b){a.push(c)}},[]).join(" ")},a.createElement("ul",{},a.createElement(c,{className:b({"item-basic":true,hoverable:true,rightClickItemPageMenu:true}).transform(function(a,b,c){if(b){a.push(c)}},[]).join(" "),key:"pagesMenuContextMenuAddPage",label:e(this.addPageItem.label),shouldTranslate:false,item:this.addPageItem,onClick:this.addPageClickHandler}),a.createElement(c,{className:b({"item-basic":true,hoverable:true,rightClickItemPageMenu:true}).transform(function(a,b,c){if(b){a.push(c)}},[]).join(" "),key:"pagesMenuContextMenuAddLink",label:e(this.addLinkItem.label),shouldTranslate:false,item:this.addLinkItem,onClick:this.addLinkClickHandler}),a.createElement(c,{className:b({"item-basic":true,hoverable:true,rightClickItemPageMenu:true}).transform(function(a,b,c){if(b){a.push(c)}},[]).join(" "),key:"pagesMenuContextMenuAddDropdown",label:e(this.addDropdownItem.label),shouldTranslate:false,item:this.addDropdownItem,onClick:this.addDropdownClickHandler})),a.createElement("ul",{},a.createElement(c,{className:b({"item-basic":true,hoverable:true,rightClickItemPageMenu:true}).transform(function(a,b,c){if(b){a.push(c)}},[]).join(" "),key:"pagesMenuContextMenuChangeTransition",label:e(this.changeTransitionItem.label),shouldTranslate:false,item:this.changeTransitionItem,onClick:this.changeTransitionClickHandler})))}return function(){return this.state.isContextMenuOpen?e.apply(this,[]):null}});define("rEditor/pagesMenu/pagesMenuContextMenu/pagesMenuContextMenu",["react","core","lodash","baseUI","rEditor/pagesMenu/pagesMenuContextMenu/pagesMenuContextMenu.rt"],function(a,b,c,d,e){"use strict";var f=d.tooltipManager;return a.createClass({displayName:"pagesMenuContextMenu",mixins:[b.mixins.editorAPIMixin],propTypes:{addPage:a.PropTypes.func,addLink:a.PropTypes.func,addDropdown:a.PropTypes.func,transitionPanelId:a.PropTypes.string},addPageItem:{label:"Pages_Menu_Context_Menu_Add_Page",enabled:true},addLinkItem:{label:"Pages_Menu_Context_Menu_Add_Link",enabled:true},addDropdownItem:{label:"Pages_Menu_Context_Menu_Add_Dropdown",enabled:true},changeTransitionItem:{label:"Pages_Menu_Context_Menu_Change_Transition",enabled:true},closeContextMenu:function(){this.setState({isContextMenuOpen:false})},getInitialState:function(){return{isContextMenuOpen:false,position:null}},show:function(a){this.setState({isContextMenuOpen:true,position:a});var c={origin:"right_click"};this.getEditorAPI().bi.event(b.bi.events.topbar.pages.top_bar_PAGES_Add_pages_click,c)},addPageClickHandler:function(){this.closeContextMenu();var a={origin:"right_click"};this.props.addPage(undefined,a)},addLinkClickHandler:function(){this.closeContextMenu();var a={origin:"right_click"};this.props.addLink(undefined,a)},addDropdownClickHandler:function(){this.closeContextMenu();var a={origin:"right_click"};this.props.addDropdown(undefined,a)},changeTransitionClickHandler:function(){this.closeContextMenu();f.show(this.props.transitionPanelId);var a={origin:"right_click"};this.getEditorAPI().bi.event(b.bi.events.topbar.pages.top_bar_PAGES_page_transition_click,a)},render:e})});define("rEditor/pagesMenu/mainMenuPages/mainMenuPagesDesktop.rt",["react","lodash","baseUI","core","symbols","util","rEditor/pagesMenu/pageNode/common/nodeContentSubPage","rEditor/pagesMenu/pagesTree/pagesTree","rEditor/pagesMenu/pageTransitionsPanel/pageTransitionsUtils","rEditor/pagesMenu/pageNode/desktop/nodeContentDesktopMainMenu","rEditor/pagesMenu/pagesMenuContextMenu/pagesMenuContextMenu"],function(a,b,c,d,e,f,g,h,i,j,k){
"use strict";function l(a,b,c){this.movePage(c,this._menuTree)}function m(){var d=this.getEditorAPI();var g=f.translate;return a.createElement("div",{className:b({"pages-menu":true,"pages-panel-settings-opened":!!this.state.menuItemIdToShowSettingsFor}).transform(function(a,b,c){if(b){a.push(c)}},[]).join(" ")},a.createElement("div",{className:b({"pages-tree-container":true,"disable-drag":this.hasEditedPages()}).transform(function(a,b,c){if(b){a.push(c)}},[]).join(" "),onMouseDown:this.mouseDownHandler,onContextMenu:this.rightClickHandler},this._menuTree.length>0?a.createElement(c.treeDocker,{className:b({"pages-tree-docker":true,"pages-tree-shrinked":this.shouldShrinkMenu()}).transform(function(a,b,c){if(b){a.push(c)}},[]).join(" "),key:"pages-tree-docker",onNodeMoved:l.bind(this,d,g),treeClass:"pages-tree",",":true,treeNodeClass:"pages-tree-node",treeNodeLabelClass:"pages-tree-item",draggedClass:"rotated",previewClass:"shadow",cantBeChildClass:"cant-be-child",isDragAvailable:!this.hasEditedPages(),scrollTopGetter:this.getTreeDockerScrollTop,collapsedClass:"tree-collapsed"},a.createElement(h,{ref:"pagesTree",nodeContent:j,pagesList:this._menuTree,equalityComparer:this.equalityComparer,onNodeToggled:this.onPageToggled,isSectionPage:this._isSectionPage,actions:{openSettingsPanel:this.props.openSettingsPanel,openSubPagesMenu:this.props.openSubPagesMenu},onActionSelected:this.onActionSelected,editedPageIdLink:this.props.editedMenuItemIdLink,valueLink:this.linkPage(),shrink:this.shouldShrinkMenu()})):null,this._menuTree.length===0?a.createElement("div",{key:"noPagesFoundSymbolContainer",className:"no-pages"},a.createElement(e.symbol,{name:"noPagesFound"}),a.createElement("div",{},g("Pages_Menu_Empty_Title")),a.createElement("div",{},g("Pages_Menu_Empty_Text"))):null),a.createElement("footer",{},a.createElement(c.tooltip,{value:this.getAddPageMenu(),alignment:"right",width:"296",marginsFromWindow:"75",openTriggers:[c.uiConstants.TOOLTIP.TRIGGERS.CLICK],closeTriggers:[c.uiConstants.TOOLTIP.TRIGGERS.OUTER_CLICK],onClose:this.onAddPageMenuClose,id:"addPageMenuPopoverId",className:"popover-add-page-menu"},a.createElement(c.button,{label:"Pages_Menu_Add_Button",icon:"addPage",onClick:this.reportClick("add"),hintId:"Pages_NewPage"})),a.createElement(c.tooltip,{value:this.getPageTransitionsPanel(),alignment:"right",width:"296",marginsFromWindow:"0",openTriggers:[c.uiConstants.TOOLTIP.TRIGGERS.CLICK],closeTriggers:[c.uiConstants.TOOLTIP.TRIGGERS.OUTER_CLICK],id:this.getPageTransitionsPanelId()},a.createElement("div",{className:"page-transition",onClick:this.reportClick("transition")},a.createElement("div",{className:"icon"},a.createElement(e.symbol,{name:"truck"})),a.createElement("div",{},a.createElement("span",{},g("Pages_Menu_Transitions_Caption")),a.createElement(c.button,{className:"btn-text",label:i.getTransitionLabelKey(d.pages.transitions.get())}))))),a.createElement(k,{addPage:this.addPage,addLink:this.addLink,addDropdown:this.addDropdown,transitionPanelId:this.getPageTransitionsPanelId(),ref:"pagesMenuContextMenu"}))}return function(){return m.apply(this,[])}});define("rEditor/pagesMenu/mainMenuPages/mainMenuPagesDesktop",["react","core","lodash","baseUI","util","pagesMenu","panels","rEditor/pagesMenu/mainMenuTreeState","rEditor/pagesMenu/addPageMenuPanel/addPageMenuPanel","rEditor/pagesMenu/pageTransitionsPanel/pageTransitionsPanel","rEditor/pagesMenu/mainMenuPages/mainMenuPageMixin","rEditor/pagesMenu/pagePanelContextMenu/pagePanelContextMenuMixin","rEditor/pagesMenu/mainMenuPages/mainMenuPagesDesktop.rt"],function(a,b,c,d,e,f,g,h,i,j,k,l,m){"use strict";var n=f.pageMenuItemHelpers;var o="Pages_Menu_Add_New_Page";var p="Pages_Menu_Add_New_Link";var q="Pages_Menu_Add_New_Category";function r(a,b,c,d){var e=a.viewMode.get();if(e===a.viewMode.VIEW_MODES.DESKTOP){n.setHidden(a,b,d)}if(e===a.viewMode.VIEW_MODES.MOBILE){n.setHidden(a,b,undefined,d)}}var s={settings:function(a,b,c){this.props.openSettingsPanel(b,c)},rename:function(a,b,c){if(b.pageData){n.renamePage(a,b.pageData,c)}else{n.renameMenuItem(a,b,c)}},duplicate:function(a,b){n.duplicateMenuItem(a,b,function(a){this.props.closeSettingsPanel();this.renameMenuItemById(a)}.bind(this))},unhide:c.partialRight(r,false),hide:c.partialRight(r,true),subpage:n.subpage,moveup:n.moveUp,remove:function(a,b){this.props.closeSettingsPanel();n.removeMenuItem(a,b)},changeLink:function(a,b){var d=function(d){var e=a.data.createItem(d.type);c.assign(e,c.omit(d,["type"]));n.updateLink(a,b.id,e)};t(a,d,a.data.getById(b.id).link)}};function t(a,b,d){a.openLinkPanel({visibleSections:{NoLink:false},hidePageLinks:true,link:d,pageTabTitle:"LINK_PANEL_TAB_ANCHOR",pageTabPageDropDownTitle:"LINK_PANEL_PAGE_DROP_DOWN_PAGELINK_LABEL",title:"What do you want to link to?",callback:c.once(b)})}return a.createClass({displayName:"mainMenuPagesDesktop",mixins:[k,l],propTypes:{pageAdded:a.PropTypes.func},biData:{page:{category:"page"},link:{category:"link"},dropdown:{category:"dropdown_menu"}},getInitialState:function(){return{isPageTransitionPanelOpened:false,isSubPagesMenuOpenedByButton:null}},movePage:function(a,c){var d={items:c},e=a.from.findIn(d,"items"),f=e.id,g=a.to.parent().findIn(d,"items").id||null,i=a.to.findIn(d,"items"),j=i?i.position:a.to.atRight(),k=this.getEditorAPI();if(f){if(g){h.setMenuItemCollapsed(g,false)}k.mainMenu.moveItem(f,g,j);k.history.add("moving a page");k.waitForChangesApplied(function(a){if(g){this.refs.pagesTree.scrollToSelectedNode()}this.refs.pagesTree.props.valueLink.requestChange(a)}.bind(this,e));k.bi.event(b.bi.events.topbar.pages.top_bar_PAGES_menu_drag);if(g&&a.from.length()===1){k.bi.event(b.bi.events.topbar.pages.top_bar_PAGES_menu_sub_page_created,{category:"drag"})}else if(!g&&a.from.length()>1){k.bi.event(b.bi.events.topbar.pages.top_bar_PAGES_menu_user_reverted_to_main_page,{category:"drag"})}}},onActionSelected:function(a,c,d){switch(a){case"tabPageInfo":a="settings";d="page";break;case"tabLayout":a="settings";d="layout";break;case"tabPermissions":a="settings";d="privacy";break;case"tabSEO":a="settings";d="seo";break}if(s[a]){s[a].call(this,this.getEditorAPI(),c,d)}this.getEditorAPI().bi.event(b.bi.events.topbar.pages.top_bar_PAGES_quick_actions_menu_select_click,{category:a})},closePageTransitionsPanel:function(){this.setState({isPageTransitionPanelOpened:false})},_onAddPageMenuCloseHandler:c.noop,onAddPageMenuClose:function(){this._onAddPageMenuCloseHandler(this.props.pageAdded||c.noop);this._onAddPageMenuCloseHandler=c.noop},addPage:function(a,d){var g=this.getEditorAPI();var h=e.translate(o);var i=n.addPage(g,h,null,this.state.selectedItemInfo.menuItemId||g.mainMenu.getMenuItemIdForCurrentPage(),function(b,c){this.renameMenuItemById(c);this.setState({selectedItemInfo:{isPage:true,pageId:b,menuItemId:c}},a)}.bind(this));var j=(g.generalInfo.urlFormat.isSlash()?g.pages.data.pageUriSEO:f.utils).convertPageNameToUrl(h);g.pages.data.update(i.id,{pageUriSEO:j});var k={};c.assign(k,this.biData.page,d);g.bi.event(b.bi.events.topbar.pages.top_bar_PAGES_Add_pages_expand_menu_selection_click,k)},addLink:function(a,d){var f=this.getEditorAPI(),g=function(b){var d=f.data.createItem(b.type);c.assign(d,c.omit(b,["type"]));n.addLink(f,d,e.translate(p),this.state.selectedItemInfo.menuItemId||f.mainMenu.getMenuItemIdForCurrentPage(),function(b){this.renameMenuItemById(b);this.setState({selectedItemInfo:{isPage:false,menuItemId:b,pageId:null}},a)}.bind(this))}.bind(this);t(f,g);var h={};c.assign(h,this.biData.link,d);f.bi.event(b.bi.events.topbar.pages.top_bar_PAGES_Add_pages_expand_menu_selection_click,h)},addDropdown:function(a,d){var f=this.getEditorAPI();n.addDropdown(f,e.translate(q),this.state.selectedItemInfo.menuItemId||f.mainMenu.getMenuItemIdForCurrentPage(),function(b){this.renameMenuItemById(b);this.setState({selectedItemInfo:{isPage:false,menuItemId:b,pageId:null}},a)}.bind(this));var g={};c.assign(g,this.biData.dropdown,d);f.bi.event(b.bi.events.topbar.pages.top_bar_PAGES_Add_pages_expand_menu_selection_click,g)},_setAddPageHandlerAndHideTooltip:function(){this._onAddPageMenuCloseHandler=this.addPage;d.tooltipManager.hide("addPageMenuPopoverId",true)},_setAddLinkHandlerAndHideTooltip:function(){this._onAddPageMenuCloseHandler=this.addLink;d.tooltipManager.hide("addPageMenuPopoverId",true)},_setAddDropdownHandlerAndHideTooltip:function(){this._onAddPageMenuCloseHandler=this.addDropdown;d.tooltipManager.hide("addPageMenuPopoverId",true)},getAddPageMenu:function(){return a.createElement(i,{addPage:this._setAddPageHandlerAndHideTooltip,addLink:this._setAddLinkHandlerAndHideTooltip,addDropdown:this._setAddDropdownHandlerAndHideTooltip})},getPageTransitionsPanel:function(){var b=this.getEditorAPI();return a.createElement(j,{biEvent:b.bi.event,userPrefs:b.getUserPreferences(),id:this.getPageTransitionsPanelId()})},getPageTransitionsPanelId:function(){return"getPageTransitionsPanelId"},hasEditedPages:function(){return Boolean(this.props.editedMenuItemIdLink.value)},renameMenuItemById:function(a){this.props.editedMenuItemIdLink.requestChange(a)},reportClick:function(a){var c=this.getEditorAPI();switch(a){case"add":return function(){c.bi.event(b.bi.events.topbar.pages.top_bar_PAGES_Add_pages_click)};case"transition":return function(){c.bi.event(b.bi.events.topbar.pages.top_bar_PAGES_page_transition_click)}}},render:function(){return this.renderTemplate(m)}})});define("rEditor/rootComps/panels/pagesPanel.rt",["react","lodash","rEditor/pagesMenu/subPages/subPages","rEditor/pagesMenu/mainMenuPages/mainMenuPagesDesktop","panels","util","pagesMenu","baseUI","experiment","core"],function(a,b,c,d,e,f,g,h,i,j){"use strict";function k(){var k=this.getEditorAPI().getUserPreferences();var l=this._popupsDataList.length===0||this.state.selectedTab==="pages";var m=this._popupsDataList.length>0&&this.state.selectedTab==="popups";return a.createElement(e.frames.pagesPanelFrame,{ref:"frame",rootClassNames:{"in-transition":this.state.isPageTransitionPanelOpened,"special-pages":this._isSubPagesMenuActive,"pages-panel-settings-opened":!!this.state.menuItemToShowSettingsFor,"popups-are-shown":this._popupsDataList.length>0},panelName:this.props.panelName,title:f.translate(this._currentTitle),helpId:"280e7ca3-cf44-452f-a2a6-6709aa42dcb6"},a.createElement("div",{className:"pages-panel-shadow"}),i.isOpen("pagesFirstTimeSteps")&&!i.isMultiValueExperimentOpen("editorHintsConfigs")?a.createElement(j.lazyComponent,{key:"pagesPanelController",moduleName:"firstTimeExperience.pagesPanelController",target:this.state.firstPageItemNode}):null,!this._isSubPagesMenuActive&&this.state.menuItemToShowSettingsFor?a.createElement(g.settingsPanels.desktop.mainMenu,{key:"page-settings-panel",ref:"pageSettingsPanel",menuItem:this.state.menuItemToShowSettingsFor,helpId:"2f65df85-2eba-4b41-a9bf-2a841a5e5a53",closeSettingsPanel:this.closeSettingsPanel,actions:{duplicate:this.duplicate,closeSettingsPanel:this.closeSettingsPanel}}):null,this._isSubPagesMenuActive&&this.state.menuItemToShowSettingsFor?a.createElement(g.settingsPanels.desktop.subpage,{key:"page-settings-panel-subpages",ref:"pageSettingsPanelSubpages",menuItem:this.state.menuItemToShowSettingsFor,closeSettingsPanel:this.closeSettingsPanel,actions:{openBlogManager:this.openBlogManager,openStoreManager:this.openStoreManager}}):null,i.isOpen("popups")&&this._popupsDataList.length>0?a.createElement(h.horizontalTabs,{key:"tabs",options:this.getTabs(),valueLink:this.linkState("selectedTab"),className:"arrowed tabs-pages-and-popups"}):null,!this._isSubPagesMenuActive&&l?a.createElement(d,b.assign({},{key:"main-menu-pages-desktop",editedMenuItemIdLink:this.linkState("editedMenuItemId"),openSettingsPanel:this.openSettingsPanel,closeSettingsPanel:this.closeSettingsPanel,openSubPagesMenu:this.openSubPagesMenu,selectedMenuItemChanged:this.selectedMenuItemChanged},this.props)):null,this._isSubPagesMenuActive&&l?a.createElement(c,{key:"subpages-menu",userPrefs:k,sectionMenuItem:this.state.menuItemSectionNowOpened,openSettingsPanel:this.openSettingsPanel,closeSubPagesMenu:this.closeSubPagesMenu,selectedMenuItemChanged:this.selectedMenuItemChanged}):null)}return function(){return k.apply(this,[])}});define("rEditor/rootComps/panels/pagesPanel",["reactDOM","lodash","react","core","pagesMenu","rEditor/rootComps/panels/pagesPanelMixin","rEditor/rootComps/panels/pagesPanel.rt","experiment","editorHints"],function(a,b,c,d,e,f,g,h,i){"use strict";var j=[{label:"POPUPS_SiteStructure_Panel_Pages",value:"pages"},{label:"POPUPS_SiteStructure_Panel_Popups",value:"popups"}];var k="POPUPS_SiteStructure_Panel_Title";return c.createClass({displayName:"pagesPanel",mixins:[f,c.addons.LinkedStateMixin],propTypes:{pageAdded:c.PropTypes.func,filter:c.PropTypes.any,tabForSettingsPanel:c.PropTypes.string},getInitialState:function(){var a={editedMenuItemId:null};if(h.isOpen("popups")){var c=this.getEditorAPI();var d={selectedTab:c.pages.popupPages.isPopupOpened()?"popups":"pages",selectedPopupId:null,popupIdBeingRenamed:null};b.assign(a,d)}if(h.isOpen("pagesFirstTimeSteps")){b.assign(a,{firstPageItemNode:null})}return a},componentDidMount:function(){this.updateFirstPageItemNodeIfNeeded();if(this.props.tabForSettingsPanel){this.openSettingsPanel(this.getHomePageData(),this.props.tabForSettingsPanel)}},componentDidUpdate:function(){this.updateFirstPageItemNodeIfNeeded()},updateFirstPageItemNodeIfNeeded:function(){if(h.isOpen("pagesFirstTimeSteps")){var b=a.findDOMNode(this).querySelector(".pages-first-item");if(b!==this.state.firstPageItemNode){this.setState({firstPageItemNode:b})}}},duplicate:function(a){e.pageMenuItemHelpers.duplicateMenuItem(this.getEditorAPI(),a,function(a){this.setState({editedMenuItemId:a,menuItemToShowSettingsFor:null})}.bind(this))},getTabs:function(){return j},render:function(){var a=this.getCurrentPagePageData();this._isSubPagesMenuActive=this.isSubPagesMenuActive(a);if(this.state.menuItemToShowSettingsFor){this.state.menuItemToShowSettingsFor.pageData=this.getEditorAPI().pages.data.get(this.state.menuItemToShowSettingsFor.pageData.id)}if(h.isOpen("popups")){this._popupsDataList=this.getEditorAPI().pages.popupPages.getDataListOrdered();this._currentTitle=this._popupsDataList.length>0?k:this.getCurrentTitle(this._isSubPagesMenuActive,a)}else{this._popupsDataList=[];this._currentTitle=this.getCurrentTitle(this._isSubPagesMenuActive,a)}if(h.isMultiValueExperimentOpen("editorHintsConfigs")){return c.createElement(i.hintsNotify,{id:i.hintsContainers.PAGES_PANEL},g.call(this))}return g.call(this)}})});define("rEditor/pagesMenu/pageNode/mobile/nodeContentMobileMainMenu",["react","core","rEditor/pagesMenu/pageNode/common/nodeContentNotPageMixin","rEditor/pagesMenu/pageNodeRenderers"],function(a,b,c,d){"use strict";return a.createClass({displayName:"nodeContentMobileMainMenu",mixins:[b.mixins.editorAPIMixin,c],render:function(){var a=this.props.dataSource;return d.mobile.mainMenu(a,this.props.isSectionPage(a)).call(this)}})});define("rEditor/pagesMenu/mainMenuPages/mainMenuPagesMobile.rt",["react","lodash","baseUI","core","symbols","util","rEditor/pagesMenu/pagesTree/pagesTree","rEditor/pagesMenu/pageNode/mobile/nodeContentMobileMainMenu"],function(a,b,c,d,e,f,g,h){"use strict";return function(){return a.createElement("div",{className:"pages-menu"},a.createElement("div",{className:b({"pages-tree-container":true,"pages-tree-shrinked":this.shouldShrinkMenu()}).transform(function(a,b,c){if(b){a.push(c)}},[]).join(" ")},a.createElement(c.firstTimeInfoBox,{context:"pages-panel",id:"pages-menu-mobile-view",title:"MobilePages_teaser_title",text:"MobilePages_teaser_text",hide:false,userPrefs:this.getEditorAPI().getUserPreferences(),biLearnMore:this.getEditorAPI().bi.event.bind(null,d.bi.events.commonControls.FIRST_TIME_INFO_BOX.LEARN_MORE),biClose:this.getEditorAPI().bi.event.bind(null,d.bi.events.commonControls.FIRST_TIME_INFO_BOX.CLOSE)}),a.createElement(g,{ref:"pagesTree",nodeContent:h,pagesList:this._menuTree,equalityComparer:this.equalityComparer,onNodeToggled:this.onPageToggled,isSectionPage:this._isSectionPage,actions:{openSettingsPanel:this.props.openSettingsPanel,openSubPagesMenu:this.props.openSubPagesMenu},valueLink:this.linkPage()}),this._menuTree.length===0?a.createElement("div",{key:"noPagesFoundSymbolContainer",className:"no-pages"},a.createElement(e.symbol,{name:"noPagesFound"}),a.createElement("div",{},f.translate("Pages_Menu_Empty_Title")),a.createElement("div",{},f.translate("Pages_Menu_Empty_Text"))):null))}});define("rEditor/pagesMenu/mainMenuPages/mainMenuPagesMobile",["react","rEditor/pagesMenu/mainMenuPages/mainMenuPageMixin","rEditor/pagesMenu/mainMenuPages/mainMenuPagesMobile.rt"],function(a,b,c){"use strict";return a.createClass({displayName:"mainMenuPagesMobile",mixins:[b],render:function(){return this.renderTemplate(c)}})});define("rEditor/rootComps/panels/pagesPanelMobile.rt",["react","lodash","pagesMenu","panels","core","util","rEditor/pagesMenu/subPages/subPages","rEditor/pagesMenu/mainMenuPages/mainMenuPagesMobile"],function(a,b,c,d,e,f,g,h){"use strict";function i(){var e=this.getEditorAPI().getUserPreferences();return a.createElement(d.frames.pagesPanelFrame,{className:b({"pages-panel-frame":true,"pages-panel-mobile":true,"pages-panel-settings-opened":!!this.state.menuItemToShowSettingsFor,"special-pages":this._isSubPagesMenuActive}).transform(function(a,b,c){if(b){a.push(c)}},[]).join(" "),panelName:this.props.panelName,title:f.translate("Pages_Mobile_Menu_Title"),helpId:"24b83680-5690-488d-b382-ac051e329c23"},a.createElement("div",{className:"pages-panel-shadow"}),!this._isSubPagesMenuActive&&this.state.menuItemToShowSettingsFor?a.createElement(c.settingsPanels.mobile.mainMenu,{key:"page-settings-panel",menuItem:this.getCurrentPageMenuItem(),closeSettingsPanel:this.closeSettingsPanel}):null,this._isSubPagesMenuActive&&this.state.menuItemToShowSettingsFor?a.createElement(c.settingsPanels.mobile.subpage,{key:"page-settings-panel-mobile",menuItem:this.state.menuItemToShowSettingsFor,closeSettingsPanel:this.closeSettingsPanel,actions:{openBlogManager:this.openBlogManager,openStoreManager:this.openStoreManager}}):null,!this._isSubPagesMenuActive?a.createElement(h,b.assign({},{key:"main-menu-pages-mobile",openSettingsPanel:this.openSettingsPanel,openSubPagesMenu:this.openSubPagesMenu,selectedMenuItemChanged:this.selectedMenuItemChanged},this.props)):null,this._isSubPagesMenuActive?a.createElement(g,{key:"subpages-menu",userPrefs:e,sectionMenuItem:this.state.menuItemSectionNowOpened,openSettingsPanel:this.openSettingsPanel,closeSubPagesMenu:this.closeSubPagesMenu,selectedMenuItemChanged:this.selectedMenuItemChanged}):null)}return function(){return i.apply(this,[])}});define("rEditor/rootComps/panels/pagesPanelMobile",["react","core","lodash","rEditor/rootComps/panels/pagesPanelMixin","rEditor/rootComps/panels/pagesPanelMobile.rt"],function(a,b,c,d,e){"use strict";function f(a){return c.flatten(c.reduce(a,function(a,b){a.push([b].concat(b.items));return a},[]))}return a.createClass({displayName:"pagesPanelMobile",mixins:[d],getCurrentPageMenuItem:function(){var a=this.getEditorAPI();var b=a.pages.getPagesData();var d=f(a.mainMenu.getMenuItemsTreeForMainMenu(b));var e=this.state.menuItemToShowSettingsFor;if(e){return c.find(d,"id",e.id)}},render:function(){var a=this.getCurrentPagePageData();this._isSubPagesMenuActive=this.isSubPagesMenuActive(a);return e.call(this)}})});define("rEditor/pagesMenu/specialPagesMenuMixin",["core"],function(a){"use strict";return{mixins:[a.mixins.editorAPIMixin],getInitialState:function(){return{selectedSectionPage:null}},openSpecialPagesMenu:function(a){this.setState({selectedSectionPage:a})},closeSpecialPagesMenu:function(){this.setState({selectedSectionPage:null});this.props.closeSpecialPageMenu();this.getEditorAPI().bi.event(a.bi.events.topbar.pages.top_bar_PAGES_special_pages_back_click)},isSpecialPagesPanelOpen:function(){return Boolean(this.state.selectedSectionPage)}}});define("rEditor/pagesMenu/emptyPagesAndPopups/emptyPagesAndPopups.rt",["react","lodash","util","symbols"],function(a,b,c,d){"use strict";return function(){return a.createElement("div",{className:"empty-pages-and-popups"},a.createElement("figure",{className:"empty-figure"},a.createElement(d.symbol,{name:"noSearchResultStructureSite"})),a.createElement("div",{className:"main-message"},c.translate("POPUPS_SiteStructure_EmptySearch_Title")),a.createElement("div",{className:"try-again-message"},c.translate("POPUPS_SiteStructure_EmptySearch_Text")))}});define("rEditor/pagesMenu/emptyPagesAndPopups/emptyPagesAndPopups",["react","rEditor/pagesMenu/emptyPagesAndPopups/emptyPagesAndPopups.rt"],function(a,b){"use strict";return a.createClass({displayName:"emptyPagesAndPopups",render:b})});define("rEditor/pagesMenu/popups/quickActions/popupQuickActions.rt",["react","lodash","baseUI","symbols","util"],function(a,b,c,d,e){"use strict";function f(a){this.props.actionSelected(this.props.popupData,a)}return function(){return a.createElement(c.dropDown.contextMenu,{shouldTranslate:false,icon:"moreRegular",className:"quick-actions action-button",onClick:this.props.onClick,onChange:f.bind(this)},a.createElement(c.dropDown.option,{value:"settings"},a.createElement(d.symbol,{name:"qaPopupSettings"}),a.createElement("span",{className:"qa-label"},e.translate("Pages_Actions_Popups_Settings"))),a.createElement(c.dropDown.option,{value:"startRename"},a.createElement(d.symbol,{name:"quickActionsRename"}),a.createElement("span",{className:"qa-label"},e.translate("Pages_Actions_Page_Rename"))),a.createElement(c.dropDown.option,{value:"duplicate"},a.createElement(d.symbol,{name:"qaDuplicate"}),a.createElement("span",{className:"qa-label"},e.translate("Pages_Actions_Page_Duplicate"))),a.createElement(c.dropDown.option,{value:"remove"},a.createElement(d.symbol,{name:"qaDelete"}),a.createElement("span",{className:"qa-label"},e.translate("Pages_Actions_Page_Delete"))))}});define("rEditor/pagesMenu/popups/quickActions/popupQuickActions",["lodash","react","rEditor/pagesMenu/popups/quickActions/popupQuickActions.rt"],function(a,b,c){"use strict";return b.createClass({displayName:"popupQuickActions",propTypes:{popupData:b.PropTypes.object.isRequired},render:c})});define("rEditor/pagesMenu/pageNode/common/nodeContentForList",["react","core","rEditor/pagesMenu/pageNode/common/nodeContentNotPageMixin","rEditor/pagesMenu/pageNodeRenderers"],function(a,b,c,d){"use strict";return a.createClass({displayName:"nodeContentForList",mixins:[b.mixins.editorAPIMixin,c],getDefaultProps:function(){return{structureType:"list"}},render:function(){var a=this.getEditorAPI().isDesktopEditor()?"desktop":"mobile";return d[a].mainMenu(this.props.dataSource,this.props.isSectionPage).call(this)}})});define("rEditor/pagesMenu/pagesAndPopUpsList/pagesAndPopUpsList.rt",["react","lodash","pagesMenu","rEditor/pagesMenu/popups/quickActions/popupQuickActions","rEditor/pagesMenu/pageNode/common/nodeContentForList","baseUI","baseUILib","util"],function(a,b,c,d,e,f,g,h){"use strict";function i(b,c){return a.createElement("li",{className:"item",key:b.id},a.createElement(e,this.getMenuItemProps(b)))}function j(b,e){return a.createElement("li",{className:"item",key:b.id},a.createElement(c.pageItem,this.getPopupItemProps(b),this.isShowPopupQuickActions()?a.createElement(d,{key:"popup-quick-actions",popupData:b,actionSelected:this.onActionPopUpSelected}):null))}return function(){return a.createElement("div",{className:"pages-and-popups-list"},a.createElement(g.customScroll,{ref:"customScroll",heightRelativeToParent:"100%"},this.isPagesVisible()?a.createElement("section",{className:"list list-of-pages",key:"list-of-pages"},a.createElement("h1",{className:"list-label"},h.translate("POPUPS_SiteStructure_Panel_Pages")),a.createElement.apply(this,["ul",{className:"popups-list"},b.map(this.props.menuItemsList,i.bind(this))])):null,this.isPopUpsVisible()?a.createElement("section",{className:"list list-of-pop-ups",key:"list-of-popups"},a.createElement("h1",{className:"list-label"},h.translate("POPUPS_SiteStructure_Panel_Popups")),a.createElement.apply(this,["ul",{className:"pages-list"},b.map(this.props.popupsList,j.bind(this))])):null))}});define("rEditor/pagesMenu/quickActionsMenuItemsMixin",["lodash","pagesMenu","core"],function(a,b,c){"use strict";var d,e=b.pageMenuItemHelpers;function f(a,b,c,d){var f=a.viewMode.get();if(f===a.viewMode.VIEW_MODES.DESKTOP){e.setHidden(a,b,d)}if(f===a.viewMode.VIEW_MODES.MOBILE){e.setHidden(a,b,undefined,d)}}function g(a,b,c){this.props.openSettingsPanel(b,c)}function h(a){return function(b,c){g.call(this,b,c,a)}}function i(b,c,d){b.openLinkPanel({visibleSections:{NoLink:false},hidePageLinks:true,includeAllPopups:true,link:d,pageTabTitle:"LINK_PANEL_TAB_ANCHOR",pageTabPageDropDownTitle:"LINK_PANEL_PAGE_DROP_DOWN_PAGELINK_LABEL",title:"What do you want to link to?",callback:a.once(c)})}d={tabPageInfo:h("page"),tabLayout:h("layout"),tabPermissions:h("privacy"),tabSEO:h("seo"),settings:g,rename:function(a,b,c){if(b.pageData){e.renamePage(a,b.pageData,c)}else{e.renameMenuItem(a,b,c)}},duplicate:function(a,b){e.duplicateMenuItem(a,b,function(a){this.props.closeSettingsPanel();this.props.editedItemIdLink.requestChange(a)}.bind(this))},unhide:a.partialRight(f,false),hide:a.partialRight(f,true),subpage:e.subpage,moveup:e.moveUp,remove:function(a,b){this.props.closeSettingsPanel();e.removeMenuItem(a,b);if(b.pageData){a.bi.event(c.bi.events.topbar.pages.page_or_pop_up_deleted,{page_or_popup:"page",page_popup_string_id:b.pageData.id,page_popup_name:b.pageData.title})}},changeLink:function(b,c){var d=function(d){var f=b.data.createItem(d.type);a.assign(f,a.omit(d,["type"]));e.updateLink(b,c.id,f)};i(b,d,b.data.getById(c.id).link)}};function j(b,d){var e=["tabPageInfo","tabLayout","tabPermissions","tabSEO"];var f=a.includes(e,d)?"settings":d;b.bi.event(c.bi.events.topbar.pages.top_bar_PAGES_quick_actions_menu_select_click,{category:f})}return{onActionMenuItemsSelected:function(b,c,e){if(a.isFunction(d[b])){d[b].call(this,this.getEditorAPI(),c,e)}j(this.getEditorAPI(),b)}}});define("rEditor/pagesMenu/quickActionsPopupsMixin",["lodash","core","pagesMenu"],function(a,b,c){"use strict";var d=c.pageMenuItemHelpers,e;e={settings:function(){var a=this.getEditorAPI(),b=a.pages.popupPages.getPopupContainer();a.selection.selectComponentByCompRef(b,function(){a.openComponentPanel("settingsPanel",{initiatorName:"quickActions"})})},startRename:function(a,b){this.props.editedItemIdLink.requestChange(b.id)},rename:function(a,b,c){d.renamePage(a,b,c);this.props.editedItemIdLink.requestChange(null)},duplicate:function(a,b){d.duplicatePopup(a,b,function(a){this.props.closeSettingsPanel();this.props.editedItemIdLink.requestChange(a)}.bind(this))},remove:function(a,c){d.removePopup(a,c.id);a.bi.event(b.bi.events.topbar.pages.page_or_pop_up_deleted,{page_or_popup:"pop up",page_popup_string_id:c.id,page_popup_name:c.title})}};return{onActionPopUpSelected:function(b,c,d){if(a.isFunction(e[c])){e[c].call(this,this.getEditorAPI(),b,d)}}}});define("rEditor/pagesMenu/navigateToMixin",["core"],function(a){"use strict";return{navigateToPageById:function(b,c){var d=this.getEditorAPI(),e=d.pages.getFocusedPageId();if(e!==b||c){d.pages.navigateToAndScroll(b,c,d.applyPreviewScrollToEditorScroll);d.bi.event(a.bi.events.topbar.pages.top_bar_PAGES_navigate_to_page,{page_id:b})}},scrollToAnchor:function(a){var b=a.pageId&&a.pageId.replace("#","");this.navigateToPageById(b,a.anchorDataId)}}});define("rEditor/pagesMenu/pagesAndPopUpsList/pagesAndPopUpsList",["react","lodash","core","rEditor/pagesMenu/pagesAndPopUpsList/pagesAndPopUpsList.rt","rEditor/pagesMenu/quickActionsMenuItemsMixin","rEditor/pagesMenu/quickActionsPopupsMixin","rEditor/pagesMenu/navigateToMixin"],function(a,b,c,d,e,f,g){"use strict";return a.createClass({displayName:"pagesAndPopUpsList",mixins:[c.mixins.editorAPIMixin,e,f,g],propTypes:{popupsList:a.PropTypes.array.isRequired,menuItemsList:a.PropTypes.array.isRequired,openSettingsPanel:a.PropTypes.func.isRequired,closeSettingsPanel:a.PropTypes.func.isRequired,openSpecialPageMenu:a.PropTypes.func.isRequired,closeSpecialPageMenu:a.PropTypes.func.isRequired,isSectionPage:a.PropTypes.func.isRequired,editedItemIdLink:a.PropTypes.object.isRequired,selectedItemInfoLink:a.PropTypes.object.isRequired,changeSelectedMenuItem:a.PropTypes.func.isRequired,openSectionPageMenu:a.PropTypes.func.isRequired},onRenameDone:function(a,b){this.onActionPopUpSelected(a,"rename",b)},isShowPopupQuickActions:function(){return this.getEditorAPI().isDesktopEditor()},isPagesVisible:function(){return this.props.menuItemsList.length},isPopUpsVisible:function(){return this.props.popupsList.length},setSelectedPage:function(a){if(a.type.isPage){this.navigateToPageById(a.pageData.id)}else if(a.type.isLink&&a.type.raw==="AnchorLink"){this.scrollToAnchor(a.link)}this.props.changeSelectedMenuItem(a);this.props.selectedItemInfoLink.requestChange({id:a.id,isPageOrPopup:a.isPage})},getPopupItemProps:function(a){return{value:a.title,label:a.title,onChange:b.partial(this.onRenameDone,a),isVisible:true,isSelected:this.props.selectedItemInfoLink.value.id===a.id,editModeLink:this.linkEditMode(a.id),onClick:b.partial(this.onPopUpClick,a),onContextMenu:this.props.setSelected}},getMenuItemProps:function(a){return{editorAPI:this.getEditorAPI(),dataSource:a,editedPageIdLink:this.props.editedItemIdLink,isSelected:this.props.selectedItemInfoLink.value.id===a.id,onActionSelected:this.onActionMenuItemsSelected,setSelected:this.setSelectedPage.bind(this,a),isSectionPage:this.props.isSectionPage(a),actions:{openSettingsPanel:this.props.openSettingsPanel,closeSettingsPanel:this.props.closeSettingsPanel,openSubPagesMenu:this.props.openSectionPageMenu}}},onPopUpClick:function(a,b){b.stopPropagation();this.getEditorAPI().pages.popupPages.open(a.id);this.props.closeSettingsPanel();this.props.selectedItemInfoLink.requestChange({id:a.id,isPageOrPopUp:true})},linkEditMode:function(a){return{value:a===this.props.editedItemIdLink.value,requestChange:function(b){this.props.editedItemIdLink.requestChange(b?a:null)}.bind(this)}},render:d})});define("rEditor/pagesMenu/filterPagesAndPopups/filterPagesAndPopups.rt",["react","lodash","rEditor/pagesMenu/subPages/subPages","rEditor/pagesMenu/emptyPagesAndPopups/emptyPagesAndPopups","rEditor/pagesMenu/pagesAndPopUpsList/pagesAndPopUpsList"],function(a,b,c,d,e){"use strict";function f(){var f=this.getEditorAPI().getUserPreferences();return a.createElement("div",{className:"filtered-pages-and-popups"},!this.isSpecialPagesPanelOpen()?a.createElement("div",{className:"without-special-page",key:"list-of-filtered-pages-and-popups"},this.isHasSomeItems()?a.createElement(e,b.assign({},{key:"filtered-pages-and-popups-not-empty"},this.getProps())):null,!this.isHasSomeItems()?a.createElement(d,{key:"filtered-pages-and-popups-empty"}):null):null,this.isSpecialPagesPanelOpen()?a.createElement(c,{key:"subpages-menu",userPrefs:f,sectionMenuItem:this.state.selectedSectionPage,openSettingsPanel:this.props.openSpecialPageMenu,closeSubPagesMenu:this.closeSpecialPagesMenu,selectedMenuItemChanged:this.props.changeSpecialPage}):null)}return function(){return f.apply(this,[])}});define("rEditor/pagesMenu/filterPagesAndPopups/filterPagesAndPopups",["react","core","lodash","rEditor/pagesMenu/specialPagesMenuMixin","rEditor/pagesMenu/filterPagesAndPopups/filterPagesAndPopups.rt"],function(a,b,c,d,e){"use strict";return a.createClass({displayName:"filterPagesAndPopups",mixins:[a.addons.LinkedStateMixin,d],propTypes:{popupsList:a.PropTypes.array.isRequired,menuItemsList:a.PropTypes.array.isRequired,openSettingsPanel:a.PropTypes.func.isRequired,closeSettingsPanel:a.PropTypes.func.isRequired,openSpecialPageMenu:a.PropTypes.func.isRequired,closeSpecialPageMenu:a.PropTypes.func.isRequired,isSectionPage:a.PropTypes.func.isRequired,editedItemIdLink:a.PropTypes.object.isRequired,selectedItemInfoLink:a.PropTypes.object.isRequired,changeSelectedMenuItem:a.PropTypes.func.isRequired
},isHasSomeItems:function(){return this.props.menuItemsList.length!==0||this.props.popupsList.length!==0},getProps:function(){return c.assign({},this.props,{openSectionPageMenu:this.openSpecialPagesMenu})},render:e})});define("rEditor/pagesMenu/mainMenuPagesPopups/mainMenuPageMixin",["lodash","core","rEditor/pagesMenu/mainMenuTreeState","rEditor/pagesMenu/navigateToMixin","experiment"],function(a,b,c,d,e){"use strict";var f=40;var g=17;function h(b){return a.reduce(b||[],function(a,b){if(!b.isCollapsed){a+=h(b.items)}return a+1},0)}function i(b,c){a.forEach(b,function(a,b){if(a.items&&a.items.length){a.items=i(a.items,c)}for(var d=0;d<c.length;d+=1){a=c[d](a,b)}});return b}function j(a,b){a.position=b;return a}return{mixins:[b.mixins.editorAPIMixin,d],onPageToggled:function(a,b){var d=a.props.dataSource.id;c.setMenuItemCollapsed(d,b);this.forceUpdate()},linkPage:function(){var b=this.props.selectedItemInfoLink.value,c=Boolean(b.isPageOrPopup),d=b.id;return{value:{pageId:c?d:null,menuItemId:!c?d:null,isPage:c},requestChange:function(b){this.props.selectedItemInfoLink.requestChange({id:b.type.isPage?a.get(b.pageData,"id"):b.id,isPageOrPopup:b.type.isPage});this.props.changeSelectedMenuItem(b);if(b.type.isPage){this.navigateToPageById(b.pageData.id)}else if(b.type.isLink&&b.type.raw==="AnchorLink"){this.scrollToAnchor(b.link)}}.bind(this)}},closePanel:function(){this.props.onClose()},shouldShrinkMenu:function(){return h(this._menuTree)>g},equalityComparer:function(a,b){return b.isPage&&a.pageData&&a.pageData.id===b.pageId||b.menuItemId===a.id},getTreeDockerScrollTop:function(){return this.refs.pagesTree.getScrollTop()},renderTemplate:function(a){var b=this.getEditorAPI();var d=b.pages.getPagesData();var g=this.props.menuItemsTree;var h=e.isOpen("pagesPanelOpenCollapsed")?d.length>f:false;g=i(g,[function(a){return c.reflectStateToMenuItem(a,h)},j]);this._menuTree=g;return a.call(this)}}});define("rEditor/pagesMenu/mainMenuPagesPopups/mainMenuPagesDesktop.rt",["react","lodash","baseUI","core","symbols","util","rEditor/pagesMenu/pageNode/common/nodeContentSubPage","rEditor/pagesMenu/pagesTree/pagesTree","rEditor/pagesMenu/pageTransitionsPanel/pageTransitionsUtils","rEditor/pagesMenu/pageNode/desktop/nodeContentDesktopMainMenu","rEditor/pagesMenu/pagesMenuContextMenu/pagesMenuContextMenu"],function(a,b,c,d,e,f,g,h,i,j,k){"use strict";function l(a,b,c){this.movePage(c,this.props.menuItemsTree)}function m(){var d=this.getEditorAPI();var g=f.translate;return a.createElement("div",{className:b({"pages-menu":true,"pages-panel-settings-opened":!!this.state.menuItemIdToShowSettingsFor}).transform(function(a,b,c){if(b){a.push(c)}},[]).join(" ")},a.createElement("div",{className:b({"pages-tree-container":true,"disable-drag":this.hasEditedPages()}).transform(function(a,b,c){if(b){a.push(c)}},[]).join(" "),onMouseDown:this.mouseDownHandler,onContextMenu:this.rightClickHandler},a.createElement(c.treeDocker,{className:b({"pages-tree-docker":true,"pages-tree-shrinked":this.shouldShrinkMenu()}).transform(function(a,b,c){if(b){a.push(c)}},[]).join(" "),onNodeMoved:l.bind(this,d,g),treeClass:"pages-tree",treeNodeClass:"pages-tree-node",treeNodeLabelClass:"pages-tree-item",draggedClass:"rotated",previewClass:"shadow",cantBeChildClass:"cant-be-child",isDragAvailable:!this.hasEditedPages(),scrollTopGetter:this.getTreeDockerScrollTop,collapsedClass:"tree-collapsed"},a.createElement(h,{ref:"pagesTree",nodeContent:j,structureType:"tree",equalityComparer:this.equalityComparer,pagesList:this._menuTree,onNodeToggled:this.onPageToggled,isSectionPage:this.props.isSectionPage,actions:{openSettingsPanel:this.props.openSettingsPanel,openSubPagesMenu:this.props.openSubPagesMenu},onActionSelected:this.onActionMenuItemsSelected,editedPageIdLink:this.props.editedMenuItemIdLink,valueLink:this.linkPage()}))),a.createElement("footer",{},a.createElement(c.tooltip,{value:this.getAddPageMenu(),alignment:"right",width:"296",marginsFromWindow:"75",openTriggers:[c.uiConstants.TOOLTIP.TRIGGERS.CLICK],closeTriggers:[c.uiConstants.TOOLTIP.TRIGGERS.OUTER_CLICK],onClose:this.onAddPageMenuClose,id:"addPageMenuPopoverId",className:"popover-add-page-menu"},a.createElement(c.button,{label:"Pages_Menu_Add_Button",icon:"addPage",onClick:this.reportClick("add"),hintId:"Pages_NewPage"})),a.createElement(c.tooltip,{value:this.getPageTransitionsPanel(),alignment:"right",width:"296",marginsFromWindow:"0",openTriggers:[c.uiConstants.TOOLTIP.TRIGGERS.CLICK],closeTriggers:[c.uiConstants.TOOLTIP.TRIGGERS.OUTER_CLICK],id:this.getPageTransitionsPanelId()},a.createElement("div",{className:"page-transition",onClick:this.reportClick("transition")},a.createElement("div",{className:"icon"},a.createElement(e.symbol,{name:"truck"})),a.createElement("div",{},a.createElement("span",{},g("Pages_Menu_Transitions_Caption")),a.createElement(c.button,{className:"btn-text",label:i.getTransitionLabelKey(d.pages.transitions.get())}))))),a.createElement(k,{addPage:this.addPage,addLink:this.addLink,addDropdown:this.addDropdown,transitionPanelId:this.getPageTransitionsPanelId(),ref:"pagesMenuContextMenu"}))}return function(){return m.apply(this,[])}});define("rEditor/pagesMenu/mainMenuPagesPopups/mainMenuPagesDesktop",["react","core","lodash","baseUI","util","pagesMenu","panels","rEditor/pagesMenu/mainMenuTreeState","rEditor/pagesMenu/addPageMenuPanel/addPageMenuPanel","rEditor/pagesMenu/pageTransitionsPanel/pageTransitionsPanel","rEditor/pagesMenu/mainMenuPagesPopups/mainMenuPageMixin","rEditor/pagesMenu/mainMenuPagesPopups/mainMenuPagesDesktop.rt","rEditor/pagesMenu/quickActionsMenuItemsMixin","rEditor/pagesMenu/pagePanelContextMenu/pagePanelContextMenuMixin"],function(a,b,c,d,e,f,g,h,i,j,k,l,m,n){"use strict";var o=f.pageMenuItemHelpers;var p="Pages_Menu_Add_New_Page";var q="Pages_Menu_Add_New_Link";var r="Pages_Menu_Add_New_Category";function s(a,b,d){a.openLinkPanel({visibleSections:{NoLink:false},hidePageLinks:true,includeAllPopups:true,link:d,pageTabTitle:"LINK_PANEL_TAB_ANCHOR",pageTabPageDropDownTitle:"LINK_PANEL_PAGE_DROP_DOWN_PAGELINK_LABEL",title:"What do you want to link to?",callback:c.once(b)})}return a.createClass({displayName:"mainMenuPagesDesktopPopups",mixins:[k,m,n],propTypes:{pageAdded:a.PropTypes.func,mainMenuTree:a.PropTypes.any,onActionPagesSelected:a.PropTypes.func,selectedItemInfoLink:a.PropTypes.object},biData:{page:{category:"page"},link:{category:"link"},dropdown:{category:"dropdown menu"}},getInitialState:function(){return{isPageTransitionPanelOpened:false}},movePage:function(a,c){var d={items:c},e=a.from.findIn(d,"items"),f=e.id,g=a.to.parent().findIn(d,"items").id||null,i=a.to.findIn(d,"items"),j=i?i.position:a.to.atRight(),k=this.getEditorAPI();if(f){if(g){h.setMenuItemCollapsed(g,false)}k.mainMenu.moveItem(f,g,j);k.history.add("moving a page");k.waitForChangesApplied(function(a){if(g){this.refs.pagesTree.scrollToSelectedNode()}this.refs.pagesTree.props.valueLink.requestChange(a)}.bind(this,e));k.bi.event(b.bi.events.topbar.pages.top_bar_PAGES_menu_drag);if(g&&a.from.length()===1){k.bi.event(b.bi.events.topbar.pages.top_bar_PAGES_menu_sub_page_created,{category:"drag"})}else if(!g&&a.from.length()>1){k.bi.event(b.bi.events.topbar.pages.top_bar_PAGES_menu_user_reverted_to_main_page,{category:"drag"})}}},closePageTransitionsPanel:function(){this.setState({isPageTransitionPanelOpened:false})},_onAddPageMenuCloseHandler:c.noop,onAddPageMenuClose:function(){this._onAddPageMenuCloseHandler(this.props.pageAdded||c.noop);this._onAddPageMenuCloseHandler=c.noop},addPage:function(){var a=this.getEditorAPI();var c=e.translate(p);var d=o.addPage(a,c,null,this.props.selectedItemInfoLink.value.id||a.mainMenu.getMenuItemIdForCurrentPage(),function(a,b){this.renameMenuItemById(b);this.props.selectedItemInfoLink.requestChange({id:b,isPageOrPopUp:true})}.bind(this));var g=(a.generalInfo.urlFormat.isSlash()?a.pages.data.pageUriSEO:f.utils).convertPageNameToUrl(c);a.pages.data.update(d.id,{pageUriSEO:g});a.bi.event(b.bi.events.topbar.pages.top_bar_PAGES_Add_pages_expand_menu_selection_click,this.biData.page)},addLink:function(){var a=this.getEditorAPI(),d=function(b){var d=a.data.createItem(b.type);c.assign(d,c.omit(b,["type"]));o.addLink(a,d,e.translate(q),this.props.selectedItemInfoLink.value.id||a.mainMenu.getMenuItemIdForCurrentPage(),function(a){this.renameMenuItemById(a);this.props.selectedItemInfoLink.requestChange({id:a,isPageOrPopUp:true})}.bind(this))}.bind(this);s(a,d);a.bi.event(b.bi.events.topbar.pages.top_bar_PAGES_Add_pages_expand_menu_selection_click,this.biData.link)},addDropdown:function(){var a=this.getEditorAPI();o.addDropdown(a,e.translate(r),this.props.selectedItemInfoLink.value.id||a.mainMenu.getMenuItemIdForCurrentPage(),function(a){this.renameMenuItemById(a);this.props.selectedItemInfoLink.requestChange({id:a,isPageOrPopUp:true})}.bind(this));a.bi.event(b.bi.events.topbar.pages.top_bar_PAGES_Add_pages_expand_menu_selection_click,this.biData.dropdown)},_setAddPageHandlerAndHideTooltip:function(){this._onAddPageMenuCloseHandler=this.addPage;d.tooltipManager.hide("addPageMenuPopoverId",true)},_setAddLinkHandlerAndHideTooltip:function(){this._onAddPageMenuCloseHandler=this.addLink;d.tooltipManager.hide("addPageMenuPopoverId",true)},_setAddDropdownHandlerAndHideTooltip:function(){this._onAddPageMenuCloseHandler=this.addDropdown;d.tooltipManager.hide("addPageMenuPopoverId",true)},getAddPageMenu:function(){return a.createElement(i,{addPage:this._setAddPageHandlerAndHideTooltip,addLink:this._setAddLinkHandlerAndHideTooltip,addDropdown:this._setAddDropdownHandlerAndHideTooltip})},getPageTransitionsPanel:function(){var b=this.getEditorAPI();return a.createElement(j,{biEvent:b.bi.event,userPrefs:b.getUserPreferences(),id:this.getPageTransitionsPanelId()})},getPageTransitionsPanelId:function(){return"getPageTransitionsPanelId"},hasEditedPages:function(){return Boolean(this.props.editedMenuItemIdLink.value)},renameMenuItemById:function(a){this.props.editedMenuItemIdLink.requestChange(a)},reportClick:function(a){var c=this.getEditorAPI();switch(a){case"add":return function(){c.bi.event(b.bi.events.topbar.pages.top_bar_PAGES_Add_pages_click)};case"transition":return function(){c.bi.event(b.bi.events.topbar.pages.top_bar_PAGES_page_transition_click)}}},render:function(){return this.renderTemplate(l)}})});define("rEditor/pagesMenu/mainMenuPagesPopups/mainMenuPagesMobile.rt",["react","lodash","baseUI","core","symbols","util","rEditor/pagesMenu/pagesTree/pagesTree","rEditor/pagesMenu/pageNode/mobile/nodeContentMobileMainMenu"],function(a,b,c,d,e,f,g,h){"use strict";return function(){return a.createElement("div",{className:"pages-menu"},a.createElement("div",{className:b({"pages-tree-container":true,"pages-tree-shrinked":this.shouldShrinkMenu()}).transform(function(a,b,c){if(b){a.push(c)}},[]).join(" ")},a.createElement(c.firstTimeInfoBox,{context:"pages-panel",id:"pages-menu-mobile-view",title:"MobilePages_teaser_title",text:"MobilePages_teaser_text",hide:false,userPrefs:this.getEditorAPI().getUserPreferences(),biLearnMore:this.getEditorAPI().bi.event.bind(null,d.bi.events.commonControls.FIRST_TIME_INFO_BOX.LEARN_MORE),biClose:this.getEditorAPI().bi.event.bind(null,d.bi.events.commonControls.FIRST_TIME_INFO_BOX.CLOSE)}),a.createElement(g,{ref:"pagesTree",structureType:"tree",nodeContent:h,pagesList:this._menuTree,equalityComparer:this.equalityComparer,onNodeToggled:this.onPageToggled,isSectionPage:this.props.isSectionPage,actions:{openSettingsPanel:this.props.openSettingsPanel,openSubPagesMenu:this.props.openSubPagesMenu,closeSettingsPanel:this.props.closeSettingsPanel},valueLink:this.linkPage()}),this.props.menuItemsTree.length===0?a.createElement("div",{key:"noPagesFoundSymbolContainer",className:"no-pages"},a.createElement(e.symbol,{name:"noPagesFound"}),a.createElement("div",{},f.translate("Pages_Menu_Empty_Title")),a.createElement("div",{},f.translate("Pages_Menu_Empty_Text"))):null))}});define("rEditor/pagesMenu/mainMenuPagesPopups/mainMenuPagesMobile",["react","rEditor/pagesMenu/mainMenuPagesPopups/mainMenuPageMixin","rEditor/pagesMenu/mainMenuPagesPopups/mainMenuPagesMobile.rt"],function(a,b,c){"use strict";return a.createClass({displayName:"mainMenuPagesMobilePopups",mixins:[b],openSettingsPanel:function(a){this.props.closeSettingsPanel();this.props.openSettingsPanel(a)},render:function(){return this.renderTemplate(c)}})});define("rEditor/pagesMenu/popups/popupsList/popupsList.rt",["react","lodash","baseUI","baseUILib","pagesMenu","rEditor/pagesMenu/popups/quickActions/popupQuickActions"],function(a,b,c,d,e,f){"use strict";function g(d,g){return a.createElement("li",{className:"page-node-list-item",key:d.id},a.createElement(e.pageItem,this.getPopupItemProps(d),this.isQuickActionsVisible()?a.createElement(f,{key:d.id+"-popup-item-quick-action-menu",popupData:d,onClick:b.partial(this.onClick,d.id),actionSelected:this.onActionPopUpSelected}):null,this.isPagesListHintVisible(d)?a.createElement("a",{href:"#",key:"pages-related-to-popup-"+d.id,className:"action-button"},a.createElement(c.infoIcon,{symbolName:"actionButtonInfo",shouldTranslate:false,text:this.getHintWithRelatedPages(d),ref:"infoIcon"})):null))}return function(){return a.createElement("div",{className:"popups-list"},a.createElement("div",{className:"scroll-wrapper"},a.createElement(d.customScroll,{ref:"customScroll",heightRelativeToParent:"100%"},a.createElement.apply(this,["ul",{className:"page-node-list popups-list"},b.map(this.props.popupsList,g.bind(this))]))))}});define("rEditor/pagesMenu/popups/popupsList/popupsList",["lodash","react","core","util","rEditor/pagesMenu/quickActionsPopupsMixin","rEditor/pagesMenu/popups/popupsList/popupsList.rt"],function(a,b,c,d,e,f){"use strict";var g="Pages_Menu_Popup_Tooltip_Start_Section";var h="Pages_Menu_Popup_Tooltip_End_Section";var i="Pages_Menu_Popup_Tooltip_Middle_Section";var j="Pages_Menu_Popup_Tooltip_Set_To_All";return b.createClass({displayName:"popupList",mixins:[c.mixins.editorAPIMixin,d.translationMixin,e],propTypes:{popupsList:b.PropTypes.any.isRequired,selectedItemInfoLink:b.PropTypes.object,editedItemIdLink:b.PropTypes.object},getKey:function(a){return"popup-quick-action-menu"+a},onClick:function(a){var b=this.getEditorAPI();this.props.selectedItemInfoLink.requestChange({id:a,isPageOrPopUp:true});this.props.closeSettingsPanel();b.pages.navigateTo(a,function(){b.selection.selectComponentByCompRef(b.pages.popupPages.getPopupContainer(a))});b.bi.event(c.bi.events.topbar.pages.top_bar_PAGES_navigate_to_pop_up,{pop_up_id:a})},getPopupItemProps:function(b){return{value:b.title,label:b.title,onChange:a.partial(this.onRenameDone,b),isVisible:true,isSelected:b.id===a.get(this.props,"selectedItemInfoLink.value.id"),editModeLink:this.linkEditMode(b.id),onClick:a.partial(this.onClick,b.id),onContextMenu:this.props.setSelected}},onRenameDone:function(a,b){this.onActionPopUpSelected(a,"rename",b)},linkEditMode:function(a){var b=this.props.editedItemIdLink;return{value:b&&b.value===a,requestChange:function(c){if(b){b.requestChange(c?a:null)}}}},filteredProps:function(){return a.omit(this.props,["pagesList","dataSource","className","nodeTemplate","collapsedSelector","editorAPI"])},isQuickActionsVisible:function(){return this.getEditorAPI().isDesktopEditor()},isPagesListHintVisible:function(a){var b=a.pagesListToShowOnLoad;return this.getEditorAPI().isDesktopEditor()&&(b.titles.length>0||b.showOnAllPages)},_formatMessageForFewPages:function(b){var c=b.length;var d=this.getEditorAPI();var e=this.translateTemplate(g,{$PAGE_NAME:a.first(b)},d);var f=this.translateTemplate(h,{$PAGE_NAME:a.last(b)},d);var j;if(c===1){j=e}else if(c===2){j=e+" "+f}else{j=a.reduce(a.slice(b,1,-1),function(a,b){return a+" "+this.translateTemplate(i,{$PAGE_NAME:b},d)},e,this);j+=" "+f}return j},getHintWithRelatedPages:function(a){var b=a.pagesListToShowOnLoad.titles;var c;if(a.pagesListToShowOnLoad.showOnAllPages){c=this.translateIfNeeded(j)}else{c=this._formatMessageForFewPages(b)}return c},render:f})});define("rEditor/pagesMenu/popups/popups/popups.rt",["react","lodash","baseUI","rEditor/pagesMenu/popups/popupsList/popupsList"],function(a,b,c,d){"use strict";return function(){return a.createElement("div",{className:"popups-tab"},a.createElement(d,b.assign({},{className:"popups-list"},this.props)),!this.isFooterHidden()?a.createElement("footer",{key:"popup-list-key"},a.createElement(c.button,{label:"POPUPS_SiteStructure_Panel_Button_Add",icon:"addPage",className:"control-button",onClick:this.onAddClick})):null)}});define("rEditor/pagesMenu/popups/popups/popups",["lodash","react","core","rEditor/pagesMenu/popups/popups/popups.rt"],function(a,b,c,d){"use strict";return b.createClass({displayName:"popups",mixins:[c.mixins.editorAPIMixin,b.addons.LinkedStateMixin],propTypes:{popupsList:b.PropTypes.any.isRequired,selectedItemInfoLink:b.PropTypes.object.isRequired,editedItemIdLink:b.PropTypes.object.isRequired},onAddClick:function(){this.getEditorAPI().getUserPreferences().session.set("addPanelCategoryIdOnClose","popup");this.getEditorAPI().leftBar.openAddPanel()},isFooterHidden:function(){return this.getEditorAPI().isMobileEditor()},render:d})});define("rEditor/pagesMenu/unfilteredPagesAndPopups/unfilteredPagesAndPopups.rt",["react","lodash","rEditor/pagesMenu/subPages/subPages","rEditor/pagesMenu/mainMenuPagesPopups/mainMenuPagesDesktop","rEditor/pagesMenu/mainMenuPagesPopups/mainMenuPagesMobile","pagesMenu","baseUI","rEditor/pagesMenu/popups/popups/popups"],function(a,b,c,d,e,f,g,h){"use strict";function i(a,c){var d=b.assign({},a,c);if(a.hasOwnProperty("style")){d.style=b.defaults(d.style,a.style)}if(a.hasOwnProperty("className")&&c.hasOwnProperty("className")){d.className=c.className+" "+a.className}return d}return function(){return a.createElement("div",{className:"unfiltered-pages-and-popups"},this.isTabsVisible()?a.createElement(g.horizontalTabs,{key:"unfiltered-pages-popups-tabs",options:this.getTabs(),valueLink:this.props.unfilteredSelectedTabLink,className:"arrowed tabs-pages-and-popups"}):null,this.isMainMenuVisible()?a.createElement(d,i({className:"pages-tab",ref:"mainMenuPagesDesktop",key:"main-menu-pages-desktop",editedMenuItemIdLink:this.props.editedItemIdLink,openSettingsPanel:this.props.openSettingsPanel,closeSettingsPanel:this.props.closeSettingsPanel,openSubPagesMenu:this.openSpecialPagesMenu,onActionPagesSelected:this.onActionPagesSelected,selectedItemInfoLink:this.props.selectedItemInfoLink,changeSelectedMenuItem:this.props.changeSelectedMenuItem},this.props)):null,this.isMainMenuMobileVisible()?a.createElement(e,i({className:"pages-tab",ref:"mainMenuPagesMobile",key:"main-menu-pages-mobile",editedMenuItemIdLink:this.props.editedItemIdLink,openSettingsPanel:this.props.openSettingsPanel,closeSettingsPanel:this.props.closeSettingsPanel,openSubPagesMenu:this.openSpecialPagesMenu,onActionPagesSelected:this.onActionPagesSelected,selectedItemInfoLink:this.props.selectedItemInfoLink,changeSelectedMenuItem:this.props.changeSelectedMenuItem},this.props)):null,this.isSpecialPagesVisible()?a.createElement(c,{key:"subpages-menu",userPrefs:this.getUserPrefs(),sectionMenuItem:this.state.selectedSectionPage,openSettingsPanel:this.props.openSpecialPageMenu,closeSubPagesMenu:this.closeSpecialPagesMenu,selectedMenuItemChanged:this.props.changeSpecialPage}):null,this.isPopupsTabActive()?a.createElement(h,{key:"popups-tab",className:"popup-tab",closeSettingsPanel:this.props.closeSettingsPanel,popupsList:this.props.popupsList,editedItemIdLink:this.props.editedItemIdLink,onActionSelected:this.onActionPopUpSelected,selectedItemInfoLink:this.props.selectedItemInfoLink}):null)}});define("rEditor/pagesMenu/unfilteredPagesAndPopups/unfilteredPagesAndPopups",["react","core","rEditor/pagesMenu/specialPagesMenuMixin","rEditor/pagesMenu/unfilteredPagesAndPopups/unfilteredPagesAndPopups.rt"],function(a,b,c,d){"use strict";var e=[{label:"POPUPS_SiteStructure_Panel_Pages",value:"pages"},{label:"POPUPS_SiteStructure_Panel_Popups",value:"popups"}];return a.createClass({displayName:"unfilteredPagesAndPopups",mixins:[a.addons.LinkedStateMixin,c],propTypes:{popupsList:a.PropTypes.array.isRequired,menuItemsTree:a.PropTypes.array.isRequired,openSettingsPanel:a.PropTypes.func.isRequired,closeSettingsPanel:a.PropTypes.func.isRequired,openSpecialPageMenu:a.PropTypes.func.isRequired,closeSpecialPageMenu:a.PropTypes.func.isRequired,isSectionPage:a.PropTypes.func.isRequired,editedItemIdLink:a.PropTypes.object.isRequired,selectedItemInfoLink:a.PropTypes.object.isRequired,unfilteredSelectedTabLink:a.PropTypes.object.isRequired},getTabs:function(){return e},isTabsVisible:function(){return this.props.popupsList.length>0},isMainMenuVisible:function(){return this.isPagesTabActive()&&this.getEditorAPI().isDesktopEditor()},isMainMenuMobileVisible:function(){return this.isPagesTabActive()&&this.getEditorAPI().isMobileEditor()},isSpecialPagesVisible:function(){return this.state.selectedSectionPage&&this.isPagesTabActive()},isPagesTabActive:function(){return this.props.popupsList.length===0||this.props.unfilteredSelectedTabLink.value==="pages"},isPopupsTabActive:function(){return this.props.popupsList.length>0&&this.props.unfilteredSelectedTabLink.value==="popups"},getUserPrefs:function(){return this.getEditorAPI().getUserPreferences()},render:d})});define("rEditor/rootComps/panels/pagesAndPopupsPanel.rt",["react","lodash","panels","util","pagesMenu","baseUI","experiment","core","rEditor/pagesMenu/filterPagesAndPopups/filterPagesAndPopups","rEditor/pagesMenu/unfilteredPagesAndPopups/unfilteredPagesAndPopups"],function(a,b,c,d,e,f,g,h,i,j){"use strict";function k(){var b=d.translate;var f=e.settingsPanels.desktop.mainMenu;var k=e.settingsPanels.mobile.mainMenu;var l=e.settingsPanels.desktop.subpage;var m=e.settingsPanels.mobile.subpage;return a.createElement(c.frames.pagesPanelFrame,{ref:"frame",panelName:this.props.panelName,title:b(this._panelTitle),helpId:this.getHelpId(),"}":true},a.createElement("div",{className:"pages-panel-shadow"}),g.isOpen("pagesFirstTimeSteps")&&!g.isMultiValueExperimentOpen("editorHintsConfigs")&&this.getEditorAPI().isDesktopEditor()?a.createElement(h.lazyComponent,{key:"pagesPanelController",moduleName:"firstTimeExperience.pagesPanelController",target:this.state.firstPageItemNode,isPopupsTabSelected:this.state.unfilteredSelectedTab==="popups"}):null,this.isMainMenuDesktopOpened()?a.createElement(f,{key:"page-settings-panel",ref:"mainMenuDesktop",menuItem:this.state.menuItemToShowSettingsFor,helpId:"2f65df85-2eba-4b41-a9bf-2a841a5e5a53",closeSettingsPanel:this.closeMainMenu,actions:{duplicate:this.duplicate,closeSettingsPanel:this.closeMainMenu}}):null,this.isMainMenuMobileOpened()?a.createElement(k,{key:"page-settings-panel",ref:"mainMenuMobile",menuItem:this.state.menuItemToShowSettingsFor,helpId:"2f65df85-2eba-4b41-a9bf-2a841a5e5a53",closeSettingsPanel:this.closeMainMenu,actions:{duplicate:this.duplicate,closeSettingsPanel:this.closeMainMenu}}):null,this.isSpecialPagesDesktopMenuOpened()?a.createElement(l,{key:"page-settings-panel",ref:"pageSettingsPanelSubpages",menuItem:this.state.specialPage,closeSettingsPanel:this.closeSpecialPageMenu,actions:{openBlogManager:this.openBlogManager,openStoreManager:this.openStoreManager}}):null,this.isSpecialPagesMobileMenuOpened()?a.createElement(m,{key:"page-settings-panel",ref:"pageSettingsPanelSubpages",menuItem:this.state.specialPage,closeSettingsPanel:this.closeSpecialPageMenu,actions:{openBlogManager:this.openBlogManager,openStoreManager:this.openStoreManager}}):null,!this.props.filter?a.createElement(j,{key:"unfilteredPagesAndPopUps",ref:"unfilteredPagesAndPopUps",popupsList:this._popupsList,menuItemsTree:this._menuItemsTree,openSettingsPanel:this.openMainMenu,closeSettingsPanel:this.closeMainMenu,changeSelectedMenuItem:this.changeSelectedMenuItem,openSpecialPageMenu:this.openSpecialPageMenu,closeSpecialPageMenu:this.closeSpecialPageMenu,isSectionPage:this._isSectionPage,editedItemIdLink:this.linkState("editedItemId"),changeSpecialPage:this.changeSpecialPage,selectedItemInfoLink:this.linkState("selectedItemInfo"),unfilteredSelectedTabLink:this.linkUnfilteredSelectedTab()}):null,this.props.filter?a.createElement(i,{key:"filterPagesAndPopups",ref:"filterPagesAndPopups",popupsList:this._popupsList,menuItemsList:this._menuItemsList,openSettingsPanel:this.openMainMenu,closeSettingsPanel:this.closeMainMenu,changeSelectedMenuItem:this.changeSelectedMenuItem,openSpecialPageMenu:this.openSpecialPageMenu,closeSpecialPageMenu:this.closeSpecialPageMenu,isSectionPage:this._isSectionPage,editedItemIdLink:this.linkState("editedItemId"),changeSpecialPage:this.changeSpecialPage,selectedItemInfoLink:this.linkState("selectedItemInfo")}):null)}return function(){return k.apply(this,[])}});define("rEditor/rootComps/panels/pagesAndPopupsPanel",["reactDOM","react","core","lodash","pagesMenu","blog","tpa","helpIds","experiment","editorHints","rEditor/rootComps/panels/pagesAndPopupsPanel.rt"],function(a,b,c,d,e,f,g,h,i,j,k){"use strict";var l={POPUPS_AND_PAGES_LABEL_KEY:"POPUPS_SiteStructure_Panel_Title",PAGES_TITLE:"Pages_Menu_Title_Title",FILTERED_PAGES_POPUPS_TITLE:"POPUPS_SiteStructure_Panel_Title"};function m(a){var b=d.slice(a),c=[],e;while(b.length){e=b.pop();if(e.items&&e.items.length){c=c.concat(e.items)}c.push(e)}return c}function n(a,b,c){var e=c.toLowerCase();var f=d.filter(a,function(a){var c=(a[b]||"").toLowerCase();return~c.indexOf(e)});return f||[]}function o(a,b){return n(a||[],"label",b)}function p(a,b){return n(a||[],"title",b)}function q(a,b){var c;if(a){c=l.FILTERED_PAGES_POPUPS_TITLE}else if(b.length>0){c=l.POPUPS_AND_PAGES_LABEL_KEY}else{c=l.PAGES_TITLE}return c}function r(a,b){var c=e.specialPages.menuLogic.getSectionPagesIds(a,b);return function(a){return a.type.isPage&&d.includes(c,a.pageData.id)}}function s(a,b,c,e){var f=d.zipObject(d.map(b,"id"),d.map(b,"title"));var g=d.groupBy(c,"popupId");var h=e.siteSegments.getSiteStructureId();d.forEach(a,function(a){var b=g[a.id];var c=!!b&&b[0].pageId===h;var e;e=d.map(b,"pageId");a.pagesListToShowOnLoad={showOnAllPages:c,titles:d.map(e,d.partial(d.get,f))||[]}});return a}function t(a){return a.pages.getFocusedPageId()}return b.createClass({displayName:"pagesAndPopupsPanel",mixins:[c.mixins.editorAPIMixin,b.addons.LinkedStateMixin],propTypes:{filter:b.PropTypes.any},getInitialState:function(){var a={menuItemToShowSettingsFor:null,specialPage:null,editedItemId:null,selectedItemInfo:{id:t(this.getEditorAPI()),isPageOrPopup:true},unfilteredSelectedTab:this.getEditorAPI().pages.popupPages.isPopupOpened()?"popups":"pages"};if(i.isOpen("pagesFirstTimeSteps")){d.assign(a,{firstPageItemNode:null})}return a},componentWillReceiveProps:function(){var a=t(this.getEditorAPI());if(this.state.selectedItemInfo.isPageOrPopup&&this.state.selectedItemInfo.id!==a){this.setState({selectedItemInfo:{id:a,isPageOrPopup:true}})}this.updateMenuItemAndSpecialPage()},updateMenuItemAndSpecialPage:function(){var a=this.getEditorAPI(),b=a.pages.getPagesData(),c=a.mainMenu.getMenuItemsTreeForMainMenu(b),e=m(c||[]),f=this.state.menuItemToShowSettingsFor,g=this.state.specialPage;if(f){this.setState({menuItemToShowSettingsFor:d.find(e,{id:this.state.menuItemToShowSettingsFor.id})})}if(g&&g.pageData){this.setState({specialPage:d.merge(g,{pageData:d.find(b,{id:g.pageData.id})})})}},getDefaultProps:function(){return{filter:""}},componentDidMount:function(){this.panelDOMNode=a.findDOMNode(this);this.updateFirstPageItemNodeIfNeeded()},componentDidUpdate:function(){this.updateFirstPageItemNodeIfNeeded()},updateFirstPageItemNodeIfNeeded:function(){if(i.isOpen("pagesFirstTimeSteps")){var a=this.panelDOMNode.querySelector(".pages-first-item");if(a!==this.state.firstPageItemNode){this.setState({firstPageItemNode:a})}}},duplicate:function(a){e.pageMenuItemHelpers.duplicateMenuItem(this.getEditorAPI(),a,function(a){this.setState({editedMenuItemId:a,menuItemToShowSettingsFor:null})}.bind(this))},changeSelectedMenuItem:function(a){if(this.state.menuItemToShowSettingsFor){if(a.type.isPage){this.openMainMenu(a)}else{this.closeMainMenu()}}},openMainMenu:function(a,b){this.setState({menuItemToShowSettingsFor:a},function(){var a=this.getEditorAPI().isDesktopEditor(),c=a?this.refs.mainMenuDesktop:this.refs.mainMenuMobile;if(b&&a){c.setSettingsTab(b)}}.bind(this))},closeMainMenu:function(){this.setState({menuItemToShowSettingsFor:null})},openSpecialPageMenu:function(a){this.setState({specialPage:a})},closeSpecialPageMenu:function(){this.setState({specialPage:null})},changeSpecialPage:function(a){if(this.state.menuItemToShowSettingsFor){this.setState({menuItemToShowSettingsFor:null});this.openSpecialPageMenu(a)}if(this.state.specialPage){this.setState({specialPage:a})}},isMainMenuDesktopOpened:function(){return this.getEditorAPI().isDesktopEditor()&&this.state.menuItemToShowSettingsFor},isMainMenuMobileOpened:function(){return this.getEditorAPI().isMobileEditor()&&this.state.menuItemToShowSettingsFor},isSpecialPagesDesktopMenuOpened:function(){return this.getEditorAPI().isDesktopEditor()&&this.state.specialPage},isSpecialPagesMobileMenuOpened:function(){return this.getEditorAPI().isMobileEditor()&&this.state.specialPage},openBlogManager:function(){f.openBlogManagerFrame(this.getEditorAPI(),"allPosts")},openStoreManager:function(){g.superApps.openDashboardUrl(g.superApps.superAppsConstants.ECOM_APP_DEF_ID,"90%","100%");this.getEditorAPI().bi.event(c.bi.events.topbar.pages.top_bar_PAGES_store_pages_store_manager_click)},getHelpId:function(){var a=this.state.unfilteredSelectedTab==="popups"&&!this.props.filter;if(a){return this.getEditorAPI().isMobileEditor()?h.EXTERNAL.MOBILE_POPUPS_PANEL:h.EXTERNAL.POPUPS_PANEL}return h.EXTERNAL.PAGES_PANEL},addAdditionalClassesForPageItem:function(a,b){this._menuItemsTree[a].additionalClasses=b},linkUnfilteredSelectedTab:function(){return{value:this.state.unfilteredSelectedTab,requestChange:function(a){this.setState({unfilteredSelectedTab:a});this.getEditorAPI().bi.event(c.bi.events.topbar.pages.pages_menu_tab_click,{value:a==="popups"?"pop ups":"pages"})}.bind(this)}},render:function(){var a=this.getEditorAPI(),c=a.pages.getPagesData(),d=a.mainMenu.getMenuItemsTreeForMainMenu(c),e=m(d||[]),f=a.pages.popupPages.getOpenBehaviorsForPopups(),g=a.pages.popupPages.getDataListOrdered(),h=s(g,c,f,a),l=p(h,this.props.filter);this._menuItemsTree=d;this._menuItemsList=o(e,this.props.filter);this._popupsList=l;this._panelTitle=q(this.props.filter,l);this._isSectionPage=r(a,c);if(i.isOpen("pagesFirstTimeSteps")){this.addAdditionalClassesForPageItem(0,["pages-first-item"])}if(i.isMultiValueExperimentOpen("editorHintsConfigs")){return b.createElement(j.hintsNotify,{id:j.hintsContainers.PAGES_PANEL},k.call(this))}return k.call(this)}})});define("rEditor/rootComps/panels/myMediaPanel.rt",["react","lodash","baseUI","baseUILib","util","core","panels","experiment"],function(a,b,c,d,e,f,g,h){"use strict";function i(a){this.fontsManagerOpen()}function j(a){this.mediaManagerOpen("IMAGE")}function k(a){this.mediaManagerManage("VIDEO")}function l(a){this.mediaManagerOpen("MUSIC")}function m(a){this.mediaManagerManage("MUSIC_PRO")}function n(a){this.mediaManagerOpen("DOCUMENT")}return function(){return a.createElement(g.frames.leftPanelFrame,{ref:"mediaPanel",className:"panel-background",panelName:this.props.panelName,panelClass:"my-uploads-panel",panelIndex:this.props.panelIndex,label:e.translate("MY_UPLOADS_PANEL_HEADER_TITLE"),helpId:"e1df1248-6bd6-4497-ad2a-2a42cd357eae"},a.createElement("div",{className:"listWrapper"},a.createElement(d.customScroll,{addScrolledClass:true,heightRelativeToParent:"100%"},a.createElement("ul",{},h.isOpen("fontsUpload")?a.createElement("li",{key:"fonts_upload",className:"panel-button",onClick:i.bind(this)},a.createElement("div",{className:"panel-button-inner"},a.createElement("div",{className:"label"},a.createElement(c.symbol,{name:"my_uploads_fonts"}),a.createElement("span",{className:"button-label"},e.translate("MY_UPLOADS_MY_FONTS_LINK_LABEL"))),a.createElement("div",{
className:"action"},a.createElement(c.symbol,{name:"arrowWithStates"})))):null,a.createElement("li",{className:"panel-button",onClick:j.bind(this)},a.createElement("div",{className:"panel-button-inner"},a.createElement("div",{className:"label"},a.createElement(c.symbol,{name:"my_uploads_images"}),a.createElement("span",{className:"button-label"},e.translate("MY_UPLOADS_MY_IMAGES_LINK_LABEL"))),a.createElement("div",{className:"action"},a.createElement(c.symbol,{name:"arrowWithStates"})))),a.createElement("li",{className:"panel-button",onClick:k.bind(this)},a.createElement("div",{className:"panel-button-inner"},a.createElement("div",{className:"label"},a.createElement(c.symbol,{name:"my_uploads_video"}),a.createElement("span",{className:"button-label"},e.translate("MY_UPLOADS_MY_VIDEOS_LINK_LABEL"))),a.createElement("div",{className:"action"},a.createElement(c.symbol,{name:"arrowWithStates"})))),!this.isWixMusic()?a.createElement("li",{key:"single_track",className:"panel-button",onClick:l.bind(this)},a.createElement("div",{className:"panel-button-inner"},a.createElement("div",{className:"label"},a.createElement(c.symbol,{name:"my_uploads_single_tracks"}),a.createElement("span",{className:"button-label"},e.translate("MY_UPLOADS_MY_MUSIC_LINK_LABEL"))),a.createElement("div",{className:"action"},a.createElement(c.symbol,{name:"arrowWithStates"})))):null,this.isWixMusic()?a.createElement("li",{key:"wix_music",className:"panel-button",onClick:m.bind(this)},a.createElement("div",{className:"panel-button-inner"},a.createElement("div",{className:"label"},a.createElement(c.symbol,{name:"my_uploads_wix_music"}),a.createElement("span",{className:"button-label"},e.translate("MY_UPLOADS_MUSIC_PRO_LINK_LABEL"))),a.createElement("div",{className:"action"},a.createElement(c.symbol,{name:"arrowWithStates"})))):null,a.createElement("li",{className:"panel-button",onClick:n.bind(this)},a.createElement("div",{className:"panel-button-inner"},a.createElement("div",{className:"label"},a.createElement(c.symbol,{name:"my_uploads_docs"}),a.createElement("span",{className:"button-label"},e.translate("MY_UPLOADS_MY_DOCUMENT_LINK_LABEL"))),a.createElement("div",{className:"action"},a.createElement(c.symbol,{name:"arrowWithStates"}))))))))}});define("rEditor/rootComps/panels/myMediaPanelAddCompData",[],function(){"use strict";var a={pdf:"40d80b8089c8418a961cb75d96d491f7.png",doc:"b8964aa7650d463fac3b77e0d00e8f12.png",docx:"b8964aa7650d463fac3b77e0d00e8f12.png",ppt:"a41192b40f324972a1d919a8350965f8.png",ppx:"a41192b40f324972a1d919a8350965f8.png",xls:"757aeccaa7f4409b93913c55e36a194d.png",xlsx:"757aeccaa7f4409b93913c55e36a194d.png",odp:"ac1fbe0592434c58889947de5714b3c7.png",odt:"ac1fbe0592434c58889947de5714b3c7.png",other:"046956f7d55f4143a30b3b54669ee243.png"};function b(a){var b=Math.min(600,a.width);return{componentType:"wysiwyg.viewer.components.WPhoto",layout:{width:b,height:Math.floor(b*a.height/a.width)},data:{width:a.width,height:a.height,alt:"",uri:a.uri,title:a.title,type:"Image",description:""}}}function c(b){var c=b.uri.split(".").pop();return{componentType:"wysiwyg.viewer.components.documentmedia.DocumentMedia",layout:{width:90,height:140},data:{title:b.title,uri:a[c]||a.other,description:"",width:105,height:141,type:"Image",link:{docId:b.uri,name:b.title,type:"DocumentLink"}},style:"dm1",props:{type:"DocumentMediaProperties",showTitle:false}}}function d(a){return{componentType:"wysiwyg.common.components.singleaudioplayer.viewer.SingleAudioPlayer",layout:{width:304,height:60},data:{originalFileName:a.title,uri:a.uri,type:"SingleAudioPlayer"},props:{autoplay:false,loop:false,showArtist:true,showTrack:true,volume:50,type:"SingleAudioPlayerProperties"},style:"SingleAudioPlayer_1"}}return{picture:b,document:c,music:d}});define("rEditor/rootComps/panels/myMediaPanel",["react","lodash","core","util","panels","rEditor/rootComps/panels/myMediaPanel.rt","rEditor/rootComps/panels/myMediaPanelAddCompData","pLoader!santa:utils"],function(a,b,c,d,e,f,g,h){"use strict";function i(a){var b=g[a.mediaType];if(b){return b(a)}h.log.error("Unsupported media type",a.mediaType)}return a.createClass({displayName:"MyMediaPanel",mixins:[c.mixins.editorAPIMixin,d.blockOuterScrollMixin],closePanel:function(){this.refs.mediaPanel.close()},titleMap:{IMAGE:"MMGR_API_IMAGE_MANAGE_TITLE",MUSIC:"MMGR_API_MUSIC_MANAGE_TITLE",DOCUMENT:"MMGR_API_DOCUMENT_MANAGE_TITLE"},submitButtonMap:{IMAGE:"MMGR_submitbutton_uploads_uploads_add",MUSIC:"MMGR_submitbutton_uploads_mytracks_add",DOCUMENT:"MMGR_submitbutton_uploads_mydocs_add"},mediaManagerOpen:function(a){var b=this.getEditorAPI();b.bi.event(c.bi.events.myMediaPanel.my_uploads_panel_section_click,{section:a});b.mediaServices.mediaManager.open(a,{multiSelect:true,callback:this.onItemsSelected.bind(this,a),translation:{title:d.translate(this.titleMap[a]),submitButton:d.translate(this.submitButtonMap[a])}})},mediaManagerManage:function(a){var b=this.getEditorAPI();b.bi.event(c.bi.events.myMediaPanel.my_uploads_panel_section_click,{section:a});b.mediaServices.mediaManager.manage(a)},fontsManagerOpen:function(){e.panelManager.openPanel("panels.toolPanels.fontsUploadPanel",{},true)},onItemsSelected:function(a,c){if(!c){return}var d=this.getEditorAPI();d.pasteLogic.addContext.resetPastePosition();b.forEach(c,function(b,c,d){this.addComponent(a,b,c,d)},this)},addComponent:function(a,d,e,f){var g=this.getEditorAPI();var h=i(d);var j=g.pages.getFocusedPageId();var k=g.pasteLogic.addContext.getPastePosition(g,h.layout,j);b.merge(h.layout,k);var l=g.pages.getReference(j);g.waitForChangesApplied(function(){g.components.add(l,h,undefined,function(d){if(e===f.length-1){g.selection.selectComponentByCompRef(d);g.history.add("added component")}g.bi.event(c.bi.events.addPanel.COMPONENT_ADDED_TO_STAGE,{origin:"my_uploads",category:b.get(g,["mediaServices.mediaManager",a,"mmgrParams.mediaType"]),component_type:h.componentType,component_id:d.id,adding_method:"click"})})})},isWixMusic:function(){var a="13bb5d67-1add-e770-a71f-001277e17c57";return this.getEditorAPI().tpa.app.isInstalled(a)},render:f})});define("rEditor/rootComps/panels/backgroundPanel/backgroundDesktopPresets.json",[],function(){return[{presetIndex:1,path:"public/8e256233-1752-4026-9341-54036e7f875e/3892dca7-115f-4b62-ba8d-11a7b220ab76",ref:{type:"BackgroundMedia",mediaRef:{type:"WixVideo",title:"Electric Darkness",videoId:"video/11062b_6a134fc09ea34833a17d295e295ab517",qualities:[{quality:"480p",width:854,height:480,formats:["mp4","webm"]},{quality:"720p",width:1280,height:720,formats:["mp4","webm"]},{quality:"1080p",width:1920,height:1080,formats:["mp4","webm"]}],posterImageRef:{type:"Image",title:"",uri:"/11062b_6a134fc09ea34833a17d295e295ab517f000.jpg",description:"public/8e256233-1752-4026-9341-54036e7f875e/3892dca7-115f-4b62-ba8d-11a7b220ab76",width:1920,height:1080},opacity:1,duration:6,loop:true,autoplay:true,preload:"auto",mute:true,artist:{id:"",name:""}},color:"{color_24}",alignType:"center",fittingType:"fill",scrollType:"fixed",imageOverlay:{type:"Image",title:"",uri:"0da768_880a3209e3744cd0a96b66835a01b8c5.png",width:256,height:256},colorOverlay:"#0AFCFC",colorOverlayOpacity:.2}},{presetIndex:2,path:"public/8e256233-1752-4026-9341-54036e7f875e/3892dca7-115f-4b62-ba8d-11a7b220ab76",ref:{type:"BackgroundMedia",mediaRef:{type:"WixVideo",title:"Floating Particles",videoId:"video/11062b_03c50f8fe4a34cc297a984e483a282ef",qualities:[{quality:"480p",width:854,height:480,formats:["mp4","webm"]},{quality:"720p",width:1280,height:720,formats:["mp4","webm"]},{quality:"1080p",width:1920,height:1080,formats:["mp4","webm"]}],posterImageRef:{type:"Image",title:"",uri:"/11062b_03c50f8fe4a34cc297a984e483a282eff000.jpg",description:"public/8e256233-1752-4026-9341-54036e7f875e/3892dca7-115f-4b62-ba8d-11a7b220ab76",width:1920,height:1080},opacity:1,duration:18,loop:true,autoplay:true,preload:"auto",mute:true,artist:{id:"",name:""}},color:"#000000",alignType:"center",fittingType:"fill",scrollType:"fixed",colorOverlay:"#02B0AD",colorOverlayOpacity:.3,imageOverlay:""}},{presetIndex:3,path:"public/6d05b962-a2eb-42f1-afe4-7981bca4bff1/ea934aee-5729-4c5e-aed1-ac25f5489914",ref:{type:"BackgroundMedia",mediaRef:{type:"Image",title:"Bananas",uri:"8034aa3291a54c489a7b7a3121d994f9.png",description:"public/6d05b962-a2eb-42f1-afe4-7981bca4bff1/ea934aee-5729-4c5e-aed1-ac25f5489914",width:1177,height:1200,artist:{id:"",name:""}},color:"#8BD0CD",alignType:"top_left",fittingType:"legacy_tile",scrollType:"scroll",colorOverlay:"",colorOverlayOpacity:0,imageOverlay:""}},{presetIndex:4,path:"public/8e256233-1752-4026-9341-54036e7f875e/09309800-7aa0-4352-8f8a-101028e04bf1",ref:{type:"BackgroundMedia",mediaRef:{type:"WixVideo",title:"Rain Clouds",videoId:"video/11062b_8e792646ca71495b96677c20e27e9122",qualities:[{quality:"480p",width:854,height:480,formats:["mp4","webm"]},{quality:"720p",width:1280,height:720,formats:["mp4","webm"]},{quality:"1080p",width:1920,height:1080,formats:["mp4","webm"]}],posterImageRef:{type:"Image",title:"",uri:"/11062b_8e792646ca71495b96677c20e27e9122f000.jpg",description:"public/8e256233-1752-4026-9341-54036e7f875e/09309800-7aa0-4352-8f8a-101028e04bf1",width:1920,height:1080},opacity:1,duration:14,loop:true,autoplay:true,preload:"auto",mute:true,artist:{id:"v47427758",name:"bisgtock"}},color:"{color_15}",alignType:"center",fittingType:"fill",scrollType:"fixed",colorOverlay:"#000000",colorOverlayOpacity:.4,imageOverlay:""}},{presetIndex:5,path:"public/8e256233-1752-4026-9341-54036e7f875e/09309800-7aa0-4352-8f8a-101028e04bf1",ref:{type:"BackgroundMedia",mediaRef:{type:"WixVideo",title:"Deep Sea Waves",videoId:"video/11062b_f1fbf8b243e942a692e564fac5382513",qualities:[{quality:"480p",width:854,height:480,formats:["mp4","webm"]},{quality:"720p",width:1280,height:720,formats:["mp4","webm"]},{quality:"1080p",width:1920,height:1080,formats:["mp4","webm"]}],posterImageRef:{type:"Image",title:"",uri:"/11062b_f1fbf8b243e942a692e564fac5382513f000.jpg",description:"public/8e256233-1752-4026-9341-54036e7f875e/09309800-7aa0-4352-8f8a-101028e04bf1",width:1920,height:1080},opacity:1,duration:10,loop:true,autoplay:true,preload:"auto",mute:true,artist:{id:"v47427890",name:"bisgtock"}},color:"#052F5B",alignType:"center",fittingType:"fill",scrollType:"fixed",imageOverlay:{type:"Image",title:"",uri:"0da768_4371c7e64a49489bb88c536f515f2040.png",width:6,height:6},colorOverlay:"",colorOverlayOpacity:0}},{presetIndex:6,path:"public/491df47b-5958-4dc7-9029-37f428755d45/37fb1297-82aa-4be6-a319-4195d317efe3",ref:{type:"BackgroundMedia",mediaRef:{type:"Image",title:"Divers Underwater",uri:"bbde6e2b4387431ca37f8e093bcb0e8e.jpg",description:"public/491df47b-5958-4dc7-9029-37f428755d45/37fb1297-82aa-4be6-a319-4195d317efe3",width:4368,height:2912,artist:{id:"",name:""}},color:"#FFFFFF",alignType:"center",fittingType:"fill",scrollType:"fixed",colorOverlay:"",colorOverlayOpacity:0,imageOverlay:""}},{presetIndex:7,path:"public/6d05b962-a2eb-42f1-afe4-7981bca4bff1/ea934aee-5729-4c5e-aed1-ac25f5489914",ref:{type:"BackgroundMedia",mediaRef:{type:"Image",title:"Dot Pattern",uri:"70127753074e4bf694b4b889710f0b7a.png",description:"public/6d05b962-a2eb-42f1-afe4-7981bca4bff1/ea934aee-5729-4c5e-aed1-ac25f5489914",width:200,height:202,artist:{id:"",name:""}},color:"#002E5D",alignType:"top_left",fittingType:"legacy_tile",scrollType:"scroll",colorOverlay:"",colorOverlayOpacity:0,imageOverlay:""}},{presetIndex:8,path:"public/491df47b-5958-4dc7-9029-37f428755d45/1f0bcd55-6ccc-49e7-a743-30179f6f3783",ref:{type:"BackgroundMedia",mediaRef:{type:"Image",title:"Aurelia Jellyfish",uri:"884454ad07cf46a5bb7fb6aef2e02358.jpg",description:"public/491df47b-5958-4dc7-9029-37f428755d45/1f0bcd55-6ccc-49e7-a743-30179f6f3783",width:2700,height:2160,artist:{id:"",name:""}},color:"#002E5D",alignType:"center",fittingType:"fill",scrollType:"scroll",colorOverlay:"",colorOverlayOpacity:0,imageOverlay:""}},{presetIndex:9,path:"public/8e256233-1752-4026-9341-54036e7f875e/f219085a-ca93-4f05-bc3f-5146ce3e6c8f",ref:{type:"BackgroundMedia",mediaRef:{type:"WixVideo",title:"Swaying Palms",videoId:"video/11062b_d013b164dadb47ec8e746ab178aacfbb",qualities:[{quality:"480p",width:854,height:480,formats:["mp4","webm"]},{quality:"720p",width:1280,height:720,formats:["mp4","webm"]},{quality:"1080p",width:1920,height:1080,formats:["mp4","webm"]}],posterImageRef:{type:"Image",title:"",uri:"/11062b_d013b164dadb47ec8e746ab178aacfbbf000.jpg",description:"public/8e256233-1752-4026-9341-54036e7f875e/f219085a-ca93-4f05-bc3f-5146ce3e6c8f",width:1920,height:1080},opacity:1,duration:29,loop:true,autoplay:true,preload:"auto",mute:true,artist:{id:"v51654467",name:"bigstock"}},color:"{color_11}",alignType:"center",fittingType:"fill",scrollType:"fixed",imageOverlay:{type:"Image",title:"",uri:"0da768_880a3209e3744cd0a96b66835a01b8c5.png",width:256,height:256},colorOverlay:"",colorOverlayOpacity:0}},{presetIndex:10,path:"public/491df47b-5958-4dc7-9029-37f428755d45/37fb1297-82aa-4be6-a319-4195d317efe3",ref:{type:"BackgroundMedia",mediaRef:{type:"Image",title:"Girl in the Window",uri:"acb4853a0d8543b3ac291da735e9959b.jpg",description:"public/491df47b-5958-4dc7-9029-37f428755d45/37fb1297-82aa-4be6-a319-4195d317efe3",width:6048,height:4032,artist:{id:"",name:""}},color:"#002E5D",alignType:"center",fittingType:"fill",scrollType:"scroll",colorOverlay:"",colorOverlayOpacity:0,imageOverlay:""}},{presetIndex:11,path:"public/8e256233-1752-4026-9341-54036e7f875e/db9e3e42-59d2-461f-b589-6cbbf7c2c06e",ref:{type:"BackgroundMedia",mediaRef:{type:"WixVideo",title:"In the Office",videoId:"video/11062b_6743da5900054f1f8e69f53302930a6a",qualities:[{quality:"480p",width:854,height:480,formats:["mp4","webm"]},{quality:"720p",width:1280,height:720,formats:["mp4","webm"]},{quality:"1080p",width:1920,height:1080,formats:["mp4","webm"]}],posterImageRef:{type:"Image",title:"",uri:"/11062b_6743da5900054f1f8e69f53302930a6af000.jpg",description:"public/8e256233-1752-4026-9341-54036e7f875e/db9e3e42-59d2-461f-b589-6cbbf7c2c06e",width:1920,height:1080},opacity:1,duration:30,loop:true,autoplay:true,preload:"auto",mute:true,artist:{id:"",name:""}},color:"{color_17}",alignType:"center",fittingType:"fill",scrollType:"fixed",colorOverlay:"color_11",colorOverlayOpacity:.25,imageOverlay:""}},{presetIndex:12,path:"public/8e256233-1752-4026-9341-54036e7f875e/bfa1c2d0-17a0-425d-9a6b-15cc467f0736",ref:{type:"BackgroundMedia",mediaRef:{type:"WixVideo",title:"Winter Sports",videoId:"video/11062b_14ca44a138d942f78374f7751ac5942f",qualities:[{quality:"480p",width:854,height:480,formats:["mp4","webm"]},{quality:"720p",width:1280,height:720,formats:["mp4","webm"]},{quality:"1080p",width:1920,height:1080,formats:["mp4","webm"]}],posterImageRef:{type:"Image",title:"",uri:"/11062b_14ca44a138d942f78374f7751ac5942ff000.jpg",description:"public/8e256233-1752-4026-9341-54036e7f875e/bfa1c2d0-17a0-425d-9a6b-15cc467f0736",width:1920,height:1080},opacity:1,duration:31,loop:true,autoplay:true,preload:"auto",mute:true,artist:{id:"vD19_13_002&vD187_89_019&vD116_16_121&vD116_16_117&vD116_16_051&v17A041_676",name:"Dissolve&Dissolve&Dissolve&Dissolve&Dissolve&Dissolve"}},color:"#2BFCF9",alignType:"center",fittingType:"fill",scrollType:"fixed",colorOverlay:"",colorOverlayOpacity:0,imageOverlay:""}},{presetIndex:13,path:"public/491df47b-5958-4dc7-9029-37f428755d45/1fc8b92f-8f6a-403a-a60b-26f7e3bed04f",ref:{type:"BackgroundMedia",mediaRef:{type:"Image",title:"Boats in the Water",uri:"edafc906071647ad940aad43e3fdbe07.jpg",description:"public/491df47b-5958-4dc7-9029-37f428755d45/1fc8b92f-8f6a-403a-a60b-26f7e3bed04f",width:3500,height:2318,artist:{id:"",name:""}},color:"#CCE2E2",alignType:"center",fittingType:"fill",scrollType:"scroll",colorOverlay:"",colorOverlayOpacity:0,imageOverlay:""}},{presetIndex:14,path:"public/8e256233-1752-4026-9341-54036e7f875e/3892dca7-115f-4b62-ba8d-11a7b220ab76",ref:{type:"BackgroundMedia",mediaRef:{type:"WixVideo",title:"Water Drop",videoId:"video/11062b_830709c744404d6ea7a10dcfd88e3a48",qualities:[{quality:"480p",width:854,height:480,formats:["mp4","webm"]},{quality:"720p",width:1280,height:720,formats:["mp4","webm"]},{quality:"1080p",width:1920,height:1080,formats:["mp4","webm"]}],posterImageRef:{type:"Image",title:"",uri:"/11062b_830709c744404d6ea7a10dcfd88e3a48f000.jpg",description:"public/8e256233-1752-4026-9341-54036e7f875e/3892dca7-115f-4b62-ba8d-11a7b220ab76",width:1920,height:1080},opacity:1,duration:15,loop:true,autoplay:true,preload:"auto",mute:true,artist:{id:"v81193529",name:"bigstock"}},color:"#439CE6",alignType:"center",fittingType:"fill",scrollType:"fixed",colorOverlay:"",colorOverlayOpacity:0,imageOverlay:""}},{presetIndex:15,path:"public/8e256233-1752-4026-9341-54036e7f875e/3892dca7-115f-4b62-ba8d-11a7b220ab76",ref:{type:"BackgroundMedia",mediaRef:{type:"WixVideo",title:"Submerged",videoId:"video/11062b_64ae2a899006496dac01c2e81fac97f1",qualities:[{quality:"480p",width:854,height:480,formats:["mp4","webm"]},{quality:"720p",width:1280,height:720,formats:["mp4","webm"]},{quality:"1080p",width:1920,height:1080,formats:["mp4","webm"]}],posterImageRef:{type:"Image",title:"",uri:"/11062b_64ae2a899006496dac01c2e81fac97f1f000.jpg",description:"public/8e256233-1752-4026-9341-54036e7f875e/3892dca7-115f-4b62-ba8d-11a7b220ab76",width:1920,height:1080},opacity:1,duration:24,loop:true,autoplay:true,preload:"auto",mute:true,artist:{id:"v47427800",name:"bisgtock"}},color:"{color_17}",alignType:"center",fittingType:"fill",scrollType:"fixed",colorOverlay:"#439CE6",colorOverlayOpacity:.3,imageOverlay:""}},{presetIndex:16,path:"public/6d05b962-a2eb-42f1-afe4-7981bca4bff1/ea934aee-5729-4c5e-aed1-ac25f5489914",ref:{type:"BackgroundMedia",mediaRef:{type:"Image",title:"Blue Checkers",uri:"a60710612bbc4609ac93e78a1fa234c0.png",description:"public/6d05b962-a2eb-42f1-afe4-7981bca4bff1/ea934aee-5729-4c5e-aed1-ac25f5489914",width:400,height:400,artist:{id:"",name:""}},color:"#FFFFFF",alignType:"top_left",fittingType:"legacy_tile",scrollType:"scroll",colorOverlay:"",colorOverlayOpacity:0,imageOverlay:""}},{presetIndex:17,path:"public/8e256233-1752-4026-9341-54036e7f875e/f219085a-ca93-4f05-bc3f-5146ce3e6c8f",ref:{type:"BackgroundMedia",mediaRef:{type:"WixVideo",title:"Road Trip",videoId:"video/11062b_1c6001b9888a4ba89939a510eee406d1",qualities:[{quality:"480p",width:854,height:480,formats:["mp4","webm"]},{quality:"720p",width:1280,height:720,formats:["mp4","webm"]},{quality:"1080p",width:1920,height:1080,formats:["mp4","webm"]}],posterImageRef:{type:"Image",title:"",uri:"/11062b_1c6001b9888a4ba89939a510eee406d1f000.jpg",description:"public/8e256233-1752-4026-9341-54036e7f875e/f219085a-ca93-4f05-bc3f-5146ce3e6c8f",width:1920,height:1080},opacity:1,duration:21,loop:true,autoplay:true,preload:"auto",mute:true,artist:{id:"vD330_2_176",name:"dissolve"}},color:"{color_11}",alignType:"center",fittingType:"fill",scrollType:"fixed",colorOverlay:"#8AEDFF",colorOverlayOpacity:.2,imageOverlay:""}},{presetIndex:18,path:"public/491df47b-5958-4dc7-9029-37f428755d45/1fc8b92f-8f6a-403a-a60b-26f7e3bed04f",ref:{type:"BackgroundMedia",mediaRef:{type:"Image",title:"Mountain Landscape",uri:"0bb83114d47e4ca0a9fa5a9ea6a16530.jpg",description:"public/491df47b-5958-4dc7-9029-37f428755d45/1fc8b92f-8f6a-403a-a60b-26f7e3bed04f",width:4442,height:2961,artist:{id:"",name:""}},color:"#EEFDFF",alignType:"center",fittingType:"fill",scrollType:"scroll",colorOverlay:"",colorOverlayOpacity:0,imageOverlay:""}},{presetIndex:19,path:"public/8e256233-1752-4026-9341-54036e7f875e/3892dca7-115f-4b62-ba8d-11a7b220ab76",ref:{type:"BackgroundMedia",mediaRef:{type:"WixVideo",title:"Sparkling Water",videoId:"video/11062b_7bb9944945af4723ad2aefa5caed46a4",qualities:[{quality:"480p",width:854,height:480,formats:["mp4","webm"]},{quality:"720p",width:1280,height:720,formats:["mp4","webm"]},{quality:"1080p",width:1920,height:1080,formats:["mp4","webm"]}],posterImageRef:{type:"Image",title:"",uri:"/11062b_7bb9944945af4723ad2aefa5caed46a4f000.jpg",description:"public/8e256233-1752-4026-9341-54036e7f875e/3892dca7-115f-4b62-ba8d-11a7b220ab76",width:1920,height:1080},opacity:1,duration:18,loop:true,autoplay:true,preload:"auto",mute:true,artist:{id:"v47421608",name:"bisgtock"}},color:"{color_11}",alignType:"center",fittingType:"fill",scrollType:"fixed",colorOverlay:"",colorOverlayOpacity:0,imageOverlay:""}},{presetIndex:20,path:"public/8e256233-1752-4026-9341-54036e7f875e/f219085a-ca93-4f05-bc3f-5146ce3e6c8f",ref:{type:"BackgroundMedia",mediaRef:{type:"WixVideo",title:"Rolling Tide",videoId:"video/11062b_f0d5e0c342cc49dca298de0225d2247c",qualities:[{quality:"480p",width:854,height:480,formats:["mp4","webm"]},{quality:"720p",width:1280,height:720,formats:["mp4","webm"]},{quality:"1080p",width:1920,height:1080,formats:["mp4","webm"]}],posterImageRef:{type:"Image",title:"",uri:"/11062b_f0d5e0c342cc49dca298de0225d2247cf000.jpg",description:"public/8e256233-1752-4026-9341-54036e7f875e/f219085a-ca93-4f05-bc3f-5146ce3e6c8f",width:1920,height:1080},opacity:1,duration:17,loop:true,autoplay:true,preload:"auto",mute:true,artist:{id:"v47428379",name:"bisgtock"}},color:"{color_11}",alignType:"center",fittingType:"fill",scrollType:"fixed",colorOverlay:"",colorOverlayOpacity:0,imageOverlay:""}},{presetIndex:21,path:"public/491df47b-5958-4dc7-9029-37f428755d45/660a54c1-0fe7-46ec-b502-d9e7c53554d9",ref:{type:"BackgroundMedia",mediaRef:{type:"Image",title:"Abstract Horizon",uri:"5afe60462baf41e79586f3fdaf78d664.jpg",description:"public/491df47b-5958-4dc7-9029-37f428755d45/660a54c1-0fe7-46ec-b502-d9e7c53554d9",width:1980,height:1200,artist:{id:"",name:""}},color:"#006C6D",alignType:"center",fittingType:"fill",scrollType:"fixed",colorOverlay:"",colorOverlayOpacity:0,imageOverlay:""}},{presetIndex:22,path:"public/491df47b-5958-4dc7-9029-37f428755d45/1fc8b92f-8f6a-403a-a60b-26f7e3bed04f",ref:{type:"BackgroundMedia",mediaRef:{type:"Image",title:"Misty Slopes",uri:"99ec98fdb81945c29c25a3ad6c5606b1.jpg",description:"public/491df47b-5958-4dc7-9029-37f428755d45/1fc8b92f-8f6a-403a-a60b-26f7e3bed04f",width:1920,height:1280,artist:{id:"",name:""}},color:"#114C22",alignType:"center",fittingType:"fill",scrollType:"scroll",colorOverlay:"",colorOverlayOpacity:0,imageOverlay:""}},{presetIndex:23,path:"public/491df47b-5958-4dc7-9029-37f428755d45/1fc8b92f-8f6a-403a-a60b-26f7e3bed04f",ref:{type:"BackgroundMedia",mediaRef:{type:"Image",title:"Blurred Beach",uri:"a97014d3cac6454b822f786b7d1f2878.jpg",description:"public/491df47b-5958-4dc7-9029-37f428755d45/1fc8b92f-8f6a-403a-a60b-26f7e3bed04f",width:2351,height:1302,artist:{id:"",name:""}},color:"#8BD0CD",alignType:"center",fittingType:"fill",scrollType:"scroll",colorOverlay:"",colorOverlayOpacity:0,imageOverlay:""}},{presetIndex:24,path:"public/491df47b-5958-4dc7-9029-37f428755d45/660a54c1-0fe7-46ec-b502-d9e7c53554d9",ref:{type:"BackgroundMedia",mediaRef:{type:"Image",title:"Blue to Cream Gradient",uri:"356d0cee84164a4cb8304d44630a7ea6.png",description:"public/491df47b-5958-4dc7-9029-37f428755d45/660a54c1-0fe7-46ec-b502-d9e7c53554d9",width:8e3,height:4500,artist:{id:"",name:""}},color:"#8BD0CD",alignType:"center",fittingType:"fill",scrollType:"scroll",colorOverlay:"",colorOverlayOpacity:0,imageOverlay:""}},{presetIndex:25,path:"public/8e256233-1752-4026-9341-54036e7f875e/babd428d-abdf-463a-ac71-a23e3cafaffa",ref:{type:"BackgroundMedia",mediaRef:{type:"WixVideo",title:"Vintage Gramophone",videoId:"video/11062b_bd026287ff784f5198fbfdbbbbba2489",qualities:[{quality:"480p",width:854,height:480,formats:["mp4","webm"]},{quality:"720p",width:1280,height:720,formats:["mp4","webm"]},{quality:"1080p",width:1920,height:1080,formats:["mp4","webm"]}],posterImageRef:{type:"Image",title:"",uri:"/11062b_bd026287ff784f5198fbfdbbbbba2489f000.jpg",description:"public/8e256233-1752-4026-9341-54036e7f875e/babd428d-abdf-463a-ac71-a23e3cafaffa",width:1920,height:1080},opacity:1,duration:7,loop:true,autoplay:true,preload:"auto",mute:true,artist:{id:"v50768873",name:"bigstock"}},color:"{color_15}",alignType:"center",fittingType:"fill",scrollType:"fixed",imageOverlay:{type:"Image",title:"",uri:"0da768_d3e25a05cedd404f807528f6a4750388.png",width:56,height:56},colorOverlay:"",colorOverlayOpacity:0}},{presetIndex:26,path:"public/491df47b-5958-4dc7-9029-37f428755d45/1f0bcd55-6ccc-49e7-a743-30179f6f3783",ref:{type:"BackgroundMedia",mediaRef:{type:"Image",title:"Tropical Plant",uri:"117d700ff79f490587e0bbaad89bc84f.jpeg",description:"public/491df47b-5958-4dc7-9029-37f428755d45/1f0bcd55-6ccc-49e7-a743-30179f6f3783",width:2507,height:1674,artist:{id:"",name:""}},color:"#1C8A43",alignType:"center",fittingType:"fill",scrollType:"scroll",colorOverlay:"",colorOverlayOpacity:0,imageOverlay:""}},{presetIndex:27,path:"public/6d05b962-a2eb-42f1-afe4-7981bca4bff1/ea934aee-5729-4c5e-aed1-ac25f5489914",ref:{type:"BackgroundMedia",mediaRef:{type:"Image",title:"Graph Paper",uri:"1beffca589a04014a3e62f00a022b875.png",description:"public/6d05b962-a2eb-42f1-afe4-7981bca4bff1/ea934aee-5729-4c5e-aed1-ac25f5489914",width:192,height:192,artist:{id:"",name:""}},color:"#CAE9BD",alignType:"top_left",fittingType:"legacy_tile",scrollType:"scroll",colorOverlay:"",colorOverlayOpacity:0,imageOverlay:""}},{presetIndex:28,path:"public/6d05b962-a2eb-42f1-afe4-7981bca4bff1/ea934aee-5729-4c5e-aed1-ac25f5489914",ref:{type:"BackgroundMedia",mediaRef:{type:"Image",title:"Leaves Pattern",uri:"278019192ae045d191a9430cf507c7f6.png",description:"public/6d05b962-a2eb-42f1-afe4-7981bca4bff1/ea934aee-5729-4c5e-aed1-ac25f5489914",width:974,height:966,artist:{id:"",name:""}},color:"#F1FFF6",alignType:"center",fittingType:"legacy_tile",scrollType:"scroll",colorOverlay:"",colorOverlayOpacity:0,imageOverlay:""}},{presetIndex:29,path:"public/6d05b962-a2eb-42f1-afe4-7981bca4bff1/ea934aee-5729-4c5e-aed1-ac25f5489914",ref:{type:"BackgroundMedia",mediaRef:{type:"Image",title:"Tropic Birds",uri:"b59b6c0afac149c1825e76ad4381c9ca.png",description:"public/6d05b962-a2eb-42f1-afe4-7981bca4bff1/ea934aee-5729-4c5e-aed1-ac25f5489914",width:552,height:552,artist:{id:"",name:""}},color:"#002E5D",alignType:"top_left",fittingType:"legacy_tile",scrollType:"scroll",colorOverlay:"",colorOverlayOpacity:0,imageOverlay:""}},{presetIndex:30,path:"public/8e256233-1752-4026-9341-54036e7f875e/f219085a-ca93-4f05-bc3f-5146ce3e6c8f",ref:{type:"BackgroundMedia",mediaRef:{type:"WixVideo",title:"Rainforest Canopy",videoId:"video/11062b_7488edba38234bd69b0603ad498efdf5",qualities:[{quality:"480p",width:854,height:480,formats:["mp4","webm"]},{quality:"720p",width:1280,height:720,formats:["mp4","webm"]},{quality:"1080p",width:1920,height:1080,formats:["mp4","webm"]}],posterImageRef:{type:"Image",title:"",uri:"/11062b_7488edba38234bd69b0603ad498efdf5f000.jpg",description:"public/8e256233-1752-4026-9341-54036e7f875e/f219085a-ca93-4f05-bc3f-5146ce3e6c8f",width:1920,height:1080},opacity:1,duration:35,loop:true,autoplay:true,preload:"auto",mute:true,artist:{id:"v50652950",name:"bigstock"}},color:"#BFBF43",alignType:"center",fittingType:"fill",scrollType:"fixed",colorOverlay:"",colorOverlayOpacity:0,imageOverlay:""}},{presetIndex:31,path:"public/6d05b962-a2eb-42f1-afe4-7981bca4bff1/ea934aee-5729-4c5e-aed1-ac25f5489914",ref:{type:"BackgroundMedia",mediaRef:{type:"Image",title:"Hand-sketched Lines",uri:"3978993e99184d5e8c21f0204cd07bca.png",description:"public/6d05b962-a2eb-42f1-afe4-7981bca4bff1/ea934aee-5729-4c5e-aed1-ac25f5489914",width:150,height:150,artist:{id:"",name:""}},color:"#CAE9BD",alignType:"top_left",fittingType:"legacy_tile",scrollType:"scroll",colorOverlay:"",colorOverlayOpacity:0,imageOverlay:""}},{presetIndex:32,path:"public/491df47b-5958-4dc7-9029-37f428755d45/1f0bcd55-6ccc-49e7-a743-30179f6f3783",ref:{type:"BackgroundMedia",mediaRef:{type:"Image",title:"Palm Trees",uri:"3cd1de924697419088c1e033bb3384ef.jpg",description:"public/491df47b-5958-4dc7-9029-37f428755d45/1f0bcd55-6ccc-49e7-a743-30179f6f3783",width:1920,height:1280,artist:{id:"",name:""}},color:"#BDBF37",alignType:"center",fittingType:"fill",scrollType:"scroll",colorOverlay:"",colorOverlayOpacity:0,imageOverlay:""}},{presetIndex:33,path:"public/8e256233-1752-4026-9341-54036e7f875e/f219085a-ca93-4f05-bc3f-5146ce3e6c8f",ref:{type:"BackgroundMedia",mediaRef:{type:"WixVideo",title:"Snowfall",videoId:"video/11062b_7124ff06fc56498d96722413f5f4846f",qualities:[{quality:"480p",width:854,height:480,formats:["mp4","webm"]},{quality:"720p",width:1280,height:720,formats:["mp4","webm"]},{quality:"1080p",width:1920,height:1080,formats:["mp4","webm"]}],posterImageRef:{type:"Image",title:"",uri:"/11062b_7124ff06fc56498d96722413f5f4846ff000.jpg",description:"public/8e256233-1752-4026-9341-54036e7f875e/f219085a-ca93-4f05-bc3f-5146ce3e6c8f",width:1920,height:1080},opacity:1,duration:30,loop:true,autoplay:true,preload:"auto",mute:true,artist:{id:"i2800",name:"pexels"}},color:"{color_11}",alignType:"center",fittingType:"fill",scrollType:"fixed",colorOverlay:"",colorOverlayOpacity:0,imageOverlay:""}},{presetIndex:34,path:"public/8e256233-1752-4026-9341-54036e7f875e/f219085a-ca93-4f05-bc3f-5146ce3e6c8f",ref:{type:"BackgroundMedia",mediaRef:{type:"WixVideo",title:"City Park",videoId:"video/11062b_ed5fd19d3b3c4a979ecfd7aa035320eb",qualities:[{quality:"480p",width:854,height:480,formats:["mp4","webm"]},{quality:"720p",width:1280,height:720,formats:["mp4","webm"]},{quality:"1080p",width:1920,height:1080,formats:["mp4","webm"]}],posterImageRef:{type:"Image",title:"",uri:"/11062b_ed5fd19d3b3c4a979ecfd7aa035320ebf000.jpg",description:"public/8e256233-1752-4026-9341-54036e7f875e/f219085a-ca93-4f05-bc3f-5146ce3e6c8f",width:1920,height:1080},opacity:1,duration:30,loop:true,autoplay:true,preload:"auto",mute:true,artist:{id:"",name:""}},color:"{color_11}",alignType:"center",fittingType:"fill",scrollType:"fixed",imageOverlay:{type:"Image",title:"",uri:"0da768_d3e25a05cedd404f807528f6a4750388.png",width:56,height:56}}},{presetIndex:35,path:"public/8e256233-1752-4026-9341-54036e7f875e/09309800-7aa0-4352-8f8a-101028e04bf1",ref:{type:"BackgroundMedia",mediaRef:{type:"WixVideo",title:"Dogs in the Park",videoId:"video/11062b_dadf974a47664e5cb42f939b7f17bec8",qualities:[{quality:"480p",width:854,height:480,formats:["mp4","webm"]},{quality:"720p",width:1280,height:720,formats:["mp4","webm"]},{quality:"1080p",width:1920,height:1080,formats:["mp4","webm"]}],posterImageRef:{type:"Image",title:"",uri:"/11062b_dadf974a47664e5cb42f939b7f17bec8f000.jpg",description:"public/8e256233-1752-4026-9341-54036e7f875e/09309800-7aa0-4352-8f8a-101028e04bf1",width:1920,height:1080},opacity:1,duration:26,loop:true,autoplay:true,preload:"auto",mute:true,artist:{id:"",name:""}},color:"{color_11}",alignType:"center",fittingType:"fill",scrollType:"fixed",imageOverlay:""}},{presetIndex:36,path:"public/8e256233-1752-4026-9341-54036e7f875e/09309800-7aa0-4352-8f8a-101028e04bf1",ref:{type:"BackgroundMedia",mediaRef:{type:"WixVideo",title:"House Cat",videoId:"video/11062b_be8b8d6a9d5a4bc59aa76a8b25fd9888",qualities:[{quality:"480p",width:854,height:480,formats:["mp4","webm"]},{quality:"720p",width:1280,height:720,formats:["mp4","webm"]},{quality:"1080p",width:1920,height:1080,formats:["mp4","webm"]}],posterImageRef:{type:"Image",title:"",uri:"/11062b_be8b8d6a9d5a4bc59aa76a8b25fd9888f000.jpg",description:"public/8e256233-1752-4026-9341-54036e7f875e/09309800-7aa0-4352-8f8a-101028e04bf1",width:1920,height:1080},opacity:1,duration:26,loop:true,autoplay:true,preload:"auto",mute:true,artist:{id:"",name:""}},color:"#DAB89C",alignType:"center",fittingType:"fill",scrollType:"fixed",colorOverlay:"#D9B79C",colorOverlayOpacity:.2,imageOverlay:""}},{presetIndex:37,path:"public/491df47b-5958-4dc7-9029-37f428755d45/1f0bcd55-6ccc-49e7-a743-30179f6f3783",ref:{type:"BackgroundMedia",mediaRef:{type:"Image",title:"Tree Stump",uri:"11a91072527049689406d272d5a6d6c4.jpg",description:"public/491df47b-5958-4dc7-9029-37f428755d45/1f0bcd55-6ccc-49e7-a743-30179f6f3783",width:1280,height:768,artist:{id:"",name:""}},color:"#114C22",alignType:"center",fittingType:"fill",scrollType:"scroll",colorOverlay:"",
colorOverlayOpacity:0,imageOverlay:""}},{presetIndex:38,path:"public/491df47b-5958-4dc7-9029-37f428755d45/37fb1297-82aa-4be6-a319-4195d317efe3",ref:{type:"BackgroundMedia",mediaRef:{type:"Image",title:"Asparagus",uri:"4d24dcfa04684a81bf3f1701a847af81.jpg",description:"public/491df47b-5958-4dc7-9029-37f428755d45/37fb1297-82aa-4be6-a319-4195d317efe3",width:2e3,height:1333,artist:{id:"",name:""}},color:"#FFFFFF",alignType:"center",fittingType:"fill",scrollType:"fixed",colorOverlay:"",colorOverlayOpacity:0,imageOverlay:""}},{presetIndex:39,path:"public/8e256233-1752-4026-9341-54036e7f875e/f219085a-ca93-4f05-bc3f-5146ce3e6c8f",ref:{type:"BackgroundMedia",mediaRef:{type:"WixVideo",title:"Tropical Light",videoId:"video/11062b_af392b5325e7416eb2d8b6f9b1b3c634",qualities:[{quality:"480p",width:854,height:480,formats:["mp4","webm"]},{quality:"720p",width:1280,height:720,formats:["mp4","webm"]},{quality:"1080p",width:1920,height:1080,formats:["mp4","webm"]}],posterImageRef:{type:"Image",title:"",uri:"/11062b_af392b5325e7416eb2d8b6f9b1b3c634f000.jpg",description:"public/8e256233-1752-4026-9341-54036e7f875e/f219085a-ca93-4f05-bc3f-5146ce3e6c8f",width:1920,height:1080},opacity:1,duration:20,loop:true,autoplay:true,preload:"auto",mute:true,artist:{id:"i158598041",name:"shutterstock"}},color:"{color_16}",alignType:"center",fittingType:"fill",scrollType:"fixed",colorOverlay:"",colorOverlayOpacity:0,imageOverlay:""}},{presetIndex:40,path:"public/6d05b962-a2eb-42f1-afe4-7981bca4bff1/ea934aee-5729-4c5e-aed1-ac25f5489914",ref:{type:"BackgroundMedia",mediaRef:{type:"Image",title:"Gold Bunnies",uri:"6060bf9757224155bc8cbd95029ee720.png",description:"public/6d05b962-a2eb-42f1-afe4-7981bca4bff1/ea934aee-5729-4c5e-aed1-ac25f5489914",width:459,height:287,artist:{id:"",name:""}},color:"{color_11}",alignType:"top_left",fittingType:"legacy_tile",scrollType:"scroll",colorOverlay:"",colorOverlayOpacity:0,imageOverlay:""}},{presetIndex:41,path:"public/6d05b962-a2eb-42f1-afe4-7981bca4bff1/ea934aee-5729-4c5e-aed1-ac25f5489914",ref:{type:"BackgroundMedia",mediaRef:{type:"Image",title:"Pineapple Pattern",uri:"eeef56698522480caf7deba849718afe.png",description:"public/6d05b962-a2eb-42f1-afe4-7981bca4bff1/ea934aee-5729-4c5e-aed1-ac25f5489914",width:534,height:809,artist:{id:"",name:""}},color:"{color_11}",alignType:"top_left",fittingType:"legacy_tile",scrollType:"scroll",colorOverlay:"",colorOverlayOpacity:0,imageOverlay:""}},{presetIndex:42,path:"public/491df47b-5958-4dc7-9029-37f428755d45/660a54c1-0fe7-46ec-b502-d9e7c53554d9",ref:{type:"BackgroundMedia",mediaRef:{type:"Image",title:"Yellow to Blue Gradient",uri:"98e04ee03335423bb5a47bd2f377df2e.png",description:"public/491df47b-5958-4dc7-9029-37f428755d45/660a54c1-0fe7-46ec-b502-d9e7c53554d9",width:8e3,height:4500,artist:{id:"",name:""}},color:"#35EBE7",alignType:"center",fittingType:"fill",scrollType:"scroll",colorOverlay:"",colorOverlayOpacity:0,imageOverlay:""}},{presetIndex:43,path:"public/6d05b962-a2eb-42f1-afe4-7981bca4bff1/ea934aee-5729-4c5e-aed1-ac25f5489914",ref:{type:"BackgroundMedia",mediaRef:{type:"Image",title:"Black Spades",uri:"7d0fa0c9f87547b0a75b80f38ed48183.png",description:"public/6d05b962-a2eb-42f1-afe4-7981bca4bff1/ea934aee-5729-4c5e-aed1-ac25f5489914",width:300,height:267,artist:{id:"",name:""}},color:"color_31",alignType:"top_left",fittingType:"legacy_tile",scrollType:"scroll",colorOverlay:"",colorOverlayOpacity:0,imageOverlay:""}},{presetIndex:44,path:"public/8e256233-1752-4026-9341-54036e7f875e/f219085a-ca93-4f05-bc3f-5146ce3e6c8f",ref:{type:"BackgroundMedia",mediaRef:{type:"WixVideo",title:"Urban View",videoId:"video/11062b_3e2f37c297534f9ead156265242fbca8",qualities:[{quality:"480p",width:854,height:480,formats:["mp4","webm"]},{quality:"720p",width:1280,height:720,formats:["mp4","webm"]},{quality:"1080p",width:1920,height:1080,formats:["mp4","webm"]}],posterImageRef:{type:"Image",title:"",uri:"/11062b_3e2f37c297534f9ead156265242fbca8f000.jpg",description:"public/8e256233-1752-4026-9341-54036e7f875e/f219085a-ca93-4f05-bc3f-5146ce3e6c8f",width:1920,height:1080},opacity:1,duration:20,loop:true,autoplay:true,preload:"auto",mute:true,artist:{id:"v49780622&v493478872&v49737086&v318347",name:"bigstock&bigstock&bigstock&clipcanvas"}},color:"{color_31}",alignType:"center",fittingType:"fill",scrollType:"fixed",colorOverlay:"#F0C930",colorOverlayOpacity:.3,imageOverlay:""}},{presetIndex:45,path:"public/8e256233-1752-4026-9341-54036e7f875e/3892dca7-115f-4b62-ba8d-11a7b220ab76",ref:{type:"BackgroundMedia",mediaRef:{type:"WixVideo",title:"Light Spots",videoId:"video/11062b_2042bb7351284f0f982e4787d37415e6",qualities:[{quality:"480p",width:854,height:480,formats:["mp4","webm"]},{quality:"720p",width:1280,height:720,formats:["mp4","webm"]},{quality:"1080p",width:1920,height:1080,formats:["mp4","webm"]}],posterImageRef:{type:"Image",title:"",uri:"/11062b_2042bb7351284f0f982e4787d37415e6f000.jpg",description:"public/8e256233-1752-4026-9341-54036e7f875e/3892dca7-115f-4b62-ba8d-11a7b220ab76",width:1920,height:1080},opacity:1,duration:14,loop:true,autoplay:true,preload:"auto",mute:true,artist:{id:"",name:""}},color:"#FFF369",alignType:"center",fittingType:"fill",scrollType:"fixed",colorOverlay:"#FFF269",colorOverlayOpacity:.2,imageOverlay:""}},{presetIndex:46,path:"public/8e256233-1752-4026-9341-54036e7f875e/3892dca7-115f-4b62-ba8d-11a7b220ab76",ref:{type:"BackgroundMedia",mediaRef:{type:"WixVideo",title:"Pink Particles",videoId:"video/11062b_155feccf8d494b18b70adcd7716b6646",qualities:[{quality:"480p",width:854,height:480,formats:["mp4","webm"]},{quality:"720p",width:1280,height:720,formats:["mp4","webm"]},{quality:"1080p",width:1920,height:1080,formats:["mp4","webm"]}],posterImageRef:{type:"Image",title:"",uri:"/11062b_155feccf8d494b18b70adcd7716b6646f000.jpg",description:"public/8e256233-1752-4026-9341-54036e7f875e/3892dca7-115f-4b62-ba8d-11a7b220ab76",width:1920,height:1080},opacity:1,duration:50,loop:true,autoplay:true,preload:"auto",mute:true,artist:{id:"",name:""}},color:"{color_31}",alignType:"center",fittingType:"fill",scrollType:"fixed",colorOverlay:"#FFCC00",colorOverlayOpacity:.5,imageOverlay:""}},{presetIndex:47,path:"public/8e256233-1752-4026-9341-54036e7f875e/09309800-7aa0-4352-8f8a-101028e04bf1",ref:{type:"BackgroundMedia",mediaRef:{type:"WixVideo",title:"Sunflowers",videoId:"video/11062b_7fb923cf2d6748e195e980d74c4059f2",qualities:[{quality:"480p",width:854,height:480,formats:["mp4","webm"]},{quality:"720p",width:1280,height:720,formats:["mp4","webm"]},{quality:"1080p",width:1920,height:1080,formats:["mp4","webm"]}],posterImageRef:{type:"Image",title:"",uri:"/11062b_7fb923cf2d6748e195e980d74c4059f2f000.jpg",description:"public/8e256233-1752-4026-9341-54036e7f875e/09309800-7aa0-4352-8f8a-101028e04bf1",width:1920,height:1080},opacity:1,duration:30,loop:true,autoplay:true,preload:"auto",mute:true,artist:{id:"i145590430",name:"shutterstock"}},color:"color_29",alignType:"center",fittingType:"fill",scrollType:"fixed",imageOverlay:{type:"Image",title:"",uri:"0da768_880a3209e3744cd0a96b66835a01b8c5.png",width:256,height:256},colorOverlay:"",colorOverlayOpacity:0}},{presetIndex:48,path:"public/491df47b-5958-4dc7-9029-37f428755d45/1f0bcd55-6ccc-49e7-a743-30179f6f3783",ref:{type:"BackgroundMedia",mediaRef:{type:"Image",title:"Flower in Sunlight",uri:"175c71a9a7384ca68d97b39947203da8.jpg",description:"public/491df47b-5958-4dc7-9029-37f428755d45/1f0bcd55-6ccc-49e7-a743-30179f6f3783",width:1920,height:1080,artist:{id:"",name:""}},color:"#F17424",alignType:"center",fittingType:"fill",scrollType:"scroll",colorOverlay:"",colorOverlayOpacity:0,imageOverlay:""}},{presetIndex:49,path:"public/6d05b962-a2eb-42f1-afe4-7981bca4bff1/ea934aee-5729-4c5e-aed1-ac25f5489914",ref:{type:"BackgroundMedia",mediaRef:{type:"Image",title:"Golden Dots",uri:"80e0917312df4df5853a6c2a861e7a63.png",description:"public/6d05b962-a2eb-42f1-afe4-7981bca4bff1/ea934aee-5729-4c5e-aed1-ac25f5489914",width:466,height:766,artist:{id:"",name:""}},color:"#FAEECD",alignType:"top_left",fittingType:"legacy_tile",scrollType:"scroll",colorOverlay:"",colorOverlayOpacity:0,imageOverlay:""}},{presetIndex:50,path:"public/491df47b-5958-4dc7-9029-37f428755d45/1fc8b92f-8f6a-403a-a60b-26f7e3bed04f",ref:{type:"BackgroundMedia",mediaRef:{type:"Image",title:"Lifeguard Tower",uri:"f7f8700159f142b3b23e349c23338337.jpeg",description:"public/491df47b-5958-4dc7-9029-37f428755d45/1fc8b92f-8f6a-403a-a60b-26f7e3bed04f",width:4608,height:3072,artist:{id:"",name:""}},color:"#F9C7A7",alignType:"center",fittingType:"fill",scrollType:"scroll",colorOverlay:"",colorOverlayOpacity:0,imageOverlay:""}},{presetIndex:51,path:"public/8e256233-1752-4026-9341-54036e7f875e/f219085a-ca93-4f05-bc3f-5146ce3e6c8f",ref:{type:"BackgroundMedia",mediaRef:{type:"WixVideo",title:"Meadow",videoId:"video/11062b_84f0c9aa252b4b2ab1114febc012eacb",qualities:[{quality:"480p",width:854,height:480,formats:["mp4","webm"]},{quality:"720p",width:1280,height:720,formats:["mp4","webm"]},{quality:"1080p",width:1920,height:1080,formats:["mp4","webm"]}],posterImageRef:{type:"Image",title:"",uri:"/11062b_84f0c9aa252b4b2ab1114febc012eacbf000.jpg",description:"public/8e256233-1752-4026-9341-54036e7f875e/f219085a-ca93-4f05-bc3f-5146ce3e6c8f",width:1920,height:1080},opacity:1,duration:30,loop:true,autoplay:true,preload:"auto",mute:true,artist:{id:"i144673559",name:"shutterstock"}},color:"{color_15}",alignType:"center",fittingType:"fill",scrollType:"fixed",colorOverlay:"",colorOverlayOpacity:0,imageOverlay:""}},{presetIndex:52,path:"public/8e256233-1752-4026-9341-54036e7f875e/f219085a-ca93-4f05-bc3f-5146ce3e6c8f",ref:{type:"BackgroundMedia",mediaRef:{type:"WixVideo",title:"Lakeside",videoId:"video/11062b_10927dd4d14046e4ac23f51f0a5448b3",qualities:[{quality:"480p",width:854,height:480,formats:["mp4","webm"]},{quality:"720p",width:1280,height:720,formats:["mp4","webm"]},{quality:"1080p",width:1920,height:1080,formats:["mp4","webm"]}],posterImageRef:{type:"Image",title:"",uri:"/11062b_10927dd4d14046e4ac23f51f0a5448b3f000.jpg",description:"public/8e256233-1752-4026-9341-54036e7f875e/f219085a-ca93-4f05-bc3f-5146ce3e6c8f",width:1920,height:1080},opacity:1,duration:20,loop:true,autoplay:true,preload:"auto",mute:true,artist:{id:"i205250962",name:"shutterstock"}},color:"#FFF5A8",alignType:"center",fittingType:"fill",scrollType:"fixed",colorOverlay:"",colorOverlayOpacity:0,imageOverlay:""}},{presetIndex:53,path:"public/491df47b-5958-4dc7-9029-37f428755d45/37fb1297-82aa-4be6-a319-4195d317efe3",ref:{type:"BackgroundMedia",mediaRef:{type:"Image",title:"Zebra Crossing",uri:"fd559363ad5645958cc2ccdc6005fbd6.jpg",description:"public/491df47b-5958-4dc7-9029-37f428755d45/37fb1297-82aa-4be6-a319-4195d317efe3",width:5682,height:3990,artist:{id:"",name:""}},color:"#F1CC01",alignType:"center",fittingType:"fill",scrollType:"scroll",colorOverlay:"",colorOverlayOpacity:0,imageOverlay:""}},{presetIndex:54,path:"public/8e256233-1752-4026-9341-54036e7f875e/f219085a-ca93-4f05-bc3f-5146ce3e6c8f",ref:{type:"BackgroundMedia",mediaRef:{type:"WixVideo",title:"Paradise Serenity",videoId:"video/11062b_46d3e749db4d4169987b00279493eaa7",qualities:[{quality:"480p",width:854,height:480,formats:["mp4","webm"]},{quality:"720p",width:1280,height:720,formats:["mp4","webm"]},{quality:"1080p",width:1920,height:1080,formats:["mp4","webm"]}],posterImageRef:{type:"Image",title:"",uri:"/11062b_46d3e749db4d4169987b00279493eaa7f000.jpg",description:"public/8e256233-1752-4026-9341-54036e7f875e/f219085a-ca93-4f05-bc3f-5146ce3e6c8f",width:1920,height:1080},opacity:1,duration:10,loop:true,autoplay:true,preload:"auto",mute:true,artist:{id:"i152767760",name:"shutterstock"}},color:"{color_31}",alignType:"center",fittingType:"fill",scrollType:"fixed",colorOverlay:"",colorOverlayOpacity:0,imageOverlay:""}},{presetIndex:55,path:"public/6d05b962-a2eb-42f1-afe4-7981bca4bff1/ea934aee-5729-4c5e-aed1-ac25f5489914",ref:{type:"BackgroundMedia",mediaRef:{type:"Image",title:"Zigzag",uri:"4d24ad2c7b8f47bbbfe14399bd41dc54.png",description:"public/6d05b962-a2eb-42f1-afe4-7981bca4bff1/ea934aee-5729-4c5e-aed1-ac25f5489914",width:64,height:50,artist:{id:"",name:""}},color:"#FAC2D2",alignType:"top_left",fittingType:"legacy_tile",scrollType:"scroll",colorOverlay:"",colorOverlayOpacity:0,imageOverlay:""}},{presetIndex:56,path:"public/8e256233-1752-4026-9341-54036e7f875e/f219085a-ca93-4f05-bc3f-5146ce3e6c8f",ref:{type:"BackgroundMedia",mediaRef:{type:"WixVideo",title:"Miami Beach",videoId:"video/11062b_75ff30e8c38545348bad91473b78ab7c",qualities:[{quality:"480p",width:854,height:480,formats:["mp4","webm"]},{quality:"720p",width:1280,height:720,formats:["mp4","webm"]},{quality:"1080p",width:1920,height:1080,formats:["mp4","webm"]}],posterImageRef:{type:"Image",title:"",uri:"/11062b_75ff30e8c38545348bad91473b78ab7cf000.jpg",description:"public/8e256233-1752-4026-9341-54036e7f875e/f219085a-ca93-4f05-bc3f-5146ce3e6c8f",width:1920,height:1080},opacity:1,duration:20,loop:true,autoplay:true,preload:"auto",mute:true,artist:{id:"i100070693",name:"shutterstock"}},color:"#D41746",alignType:"center",fittingType:"fill",scrollType:"fixed",colorOverlay:"#D41746",colorOverlayOpacity:.3,imageOverlay:""}},{presetIndex:57,path:"public/491df47b-5958-4dc7-9029-37f428755d45/1f0bcd55-6ccc-49e7-a743-30179f6f3783",ref:{type:"BackgroundMedia",mediaRef:{type:"Image",title:"Tropical Leaves",uri:"0396af7423c344a39107ad593c4500f8.jpg",description:"public/491df47b-5958-4dc7-9029-37f428755d45/1f0bcd55-6ccc-49e7-a743-30179f6f3783",width:3264,height:2448,artist:{id:"",name:""}},color:"#B22087",alignType:"center",fittingType:"fill",scrollType:"scroll",colorOverlay:"",colorOverlayOpacity:0,imageOverlay:""}},{presetIndex:58,path:"public/6d05b962-a2eb-42f1-afe4-7981bca4bff1/ea934aee-5729-4c5e-aed1-ac25f5489914",ref:{type:"BackgroundMedia",mediaRef:{type:"Image",title:"Grey Geometric Shapes",uri:"f833450526164f5e80b7e8ef0f50844c.png",description:"public/6d05b962-a2eb-42f1-afe4-7981bca4bff1/ea934aee-5729-4c5e-aed1-ac25f5489914",width:300,height:300,artist:{id:"",name:""}},color:"#F2668F",alignType:"top_left",fittingType:"legacy_tile",scrollType:"scroll",colorOverlay:"",colorOverlayOpacity:0,imageOverlay:""}},{presetIndex:59,path:"public/491df47b-5958-4dc7-9029-37f428755d45/660a54c1-0fe7-46ec-b502-d9e7c53554d9",ref:{type:"BackgroundMedia",mediaRef:{type:"Image",title:"Pink to Orange Gradient",uri:"af7a8b002af842f8bab87691c1d8640f.jpg",description:"public/491df47b-5958-4dc7-9029-37f428755d45/660a54c1-0fe7-46ec-b502-d9e7c53554d9",width:1920,height:1080,artist:{id:"",name:""}},color:"#C37DB3",alignType:"center",fittingType:"fill",scrollType:"scroll",colorOverlay:"",colorOverlayOpacity:0,imageOverlay:""}},{presetIndex:60,path:"public/6d05b962-a2eb-42f1-afe4-7981bca4bff1/ea934aee-5729-4c5e-aed1-ac25f5489914",ref:{type:"BackgroundMedia",mediaRef:{type:"Image",title:"Rain Drops",uri:"95f3448913a746f28b30670b23da4157.png",description:"public/6d05b962-a2eb-42f1-afe4-7981bca4bff1/ea934aee-5729-4c5e-aed1-ac25f5489914",width:216,height:216,artist:{id:"",name:""}},color:"#C65AA5",alignType:"top_left",fittingType:"legacy_tile",scrollType:"scroll",colorOverlay:"",colorOverlayOpacity:0,imageOverlay:""}},{presetIndex:61,path:"public/8e256233-1752-4026-9341-54036e7f875e/3892dca7-115f-4b62-ba8d-11a7b220ab76",ref:{type:"BackgroundMedia",mediaRef:{type:"WixVideo",title:"Cotton Candy",videoId:"video/11062b_808b40c463104f22943c284c625d31c3",qualities:[{quality:"480p",width:854,height:480,formats:["mp4","webm"]},{quality:"720p",width:1280,height:720,formats:["mp4","webm"]},{quality:"1080p",width:1920,height:1080,formats:["mp4","webm"]}],posterImageRef:{type:"Image",title:"",uri:"/11062b_808b40c463104f22943c284c625d31c3f000.jpg",description:"public/8e256233-1752-4026-9341-54036e7f875e/3892dca7-115f-4b62-ba8d-11a7b220ab76",width:1920,height:1080},opacity:1,duration:4,loop:true,autoplay:true,preload:"auto",mute:true,artist:{id:"",name:""}},color:"{color_30}",alignType:"center",fittingType:"fill",scrollType:"fixed",colorOverlay:"#E31B22",colorOverlayOpacity:.25,imageOverlay:""}},{presetIndex:62,path:"public/8e256233-1752-4026-9341-54036e7f875e/3892dca7-115f-4b62-ba8d-11a7b220ab76",ref:{type:"BackgroundMedia",mediaRef:{type:"WixVideo",title:"Ink and Water",videoId:"video/11062b_74ef3d923f9b451492d3ed9278991873",qualities:[{quality:"480p",width:854,height:480,formats:["mp4","webm"]},{quality:"720p",width:1280,height:720,formats:["mp4","webm"]},{quality:"1080p",width:1920,height:1080,formats:["mp4","webm"]}],posterImageRef:{type:"Image",title:"",uri:"/11062b_74ef3d923f9b451492d3ed9278991873f000.jpg",description:"public/8e256233-1752-4026-9341-54036e7f875e/3892dca7-115f-4b62-ba8d-11a7b220ab76",width:1920,height:1080},opacity:1,duration:30,loop:true,autoplay:true,preload:"auto",mute:true,artist:{id:"v50768402",name:"bigstock"}},color:"{color_11}",alignType:"center",fittingType:"fill",scrollType:"fixed",colorOverlay:"",colorOverlayOpacity:0,imageOverlay:""}},{presetIndex:63,path:"public/6d05b962-a2eb-42f1-afe4-7981bca4bff1/ea934aee-5729-4c5e-aed1-ac25f5489914",ref:{type:"BackgroundMedia",mediaRef:{type:"Image",title:"Red Confetti",uri:"21ff2961e4d94522b96543b873b063dc.png",description:"public/6d05b962-a2eb-42f1-afe4-7981bca4bff1/ea934aee-5729-4c5e-aed1-ac25f5489914",width:121,height:107,artist:{id:"",name:""}},color:"#FFFFFF",alignType:"top_left",fittingType:"legacy_tile",scrollType:"scroll",colorOverlay:"",colorOverlayOpacity:0,imageOverlay:""}},{presetIndex:64,path:"public/491df47b-5958-4dc7-9029-37f428755d45/37fb1297-82aa-4be6-a319-4195d317efe3",ref:{type:"BackgroundMedia",mediaRef:{type:"Image",title:"Woman Running Legs",uri:"0983ceb77a4e49c6978e4515d8a454f6.jpg",description:"public/491df47b-5958-4dc7-9029-37f428755d45/37fb1297-82aa-4be6-a319-4195d317efe3",width:1980,height:1200,artist:{id:"",name:""}},color:"#F9C7A7",alignType:"center",fittingType:"fill",scrollType:"fixed",colorOverlay:"",colorOverlayOpacity:0,imageOverlay:""}},{presetIndex:65,path:"public/491df47b-5958-4dc7-9029-37f428755d45/c2a37dfc-36cf-4bfd-b940-55bac7bdc9e6",ref:{type:"BackgroundMedia",mediaRef:{type:"Image",title:"Flamingos",uri:"88d74a1559c84402a4a957527a839260.png",description:"public/491df47b-5958-4dc7-9029-37f428755d45/c2a37dfc-36cf-4bfd-b940-55bac7bdc9e6",width:1920,height:1080,artist:{id:"",name:""}},color:"#DAF2FF",alignType:"center",fittingType:"fill",scrollType:"scroll",colorOverlay:"",colorOverlayOpacity:0,imageOverlay:""}},{presetIndex:66,path:"public/6d05b962-a2eb-42f1-afe4-7981bca4bff1/ea934aee-5729-4c5e-aed1-ac25f5489914",ref:{type:"BackgroundMedia",mediaRef:{type:"Image",title:"Foxes and Rabbits",uri:"f7c0cc732a8e458caf88ad42b251fbdf.png",description:"public/6d05b962-a2eb-42f1-afe4-7981bca4bff1/ea934aee-5729-4c5e-aed1-ac25f5489914",width:571,height:514,artist:{id:"",name:""}},color:"#FFFFFF",alignType:"top_left",fittingType:"legacy_tile",scrollType:"scroll",colorOverlay:"",colorOverlayOpacity:0,imageOverlay:""}},{presetIndex:67,path:"public/8e256233-1752-4026-9341-54036e7f875e/3892dca7-115f-4b62-ba8d-11a7b220ab76",ref:{type:"BackgroundMedia",mediaRef:{type:"WixVideo",title:"Ink Splash",videoId:"video/11062b_aa1eeb25fbd3484dbde611d71d7c5747",qualities:[{quality:"480p",width:854,height:480,formats:["mp4","webm"]},{quality:"720p",width:1280,height:720,formats:["mp4","webm"]},{quality:"1080p",width:1920,height:1080,formats:["mp4","webm"]}],posterImageRef:{type:"Image",title:"",uri:"/11062b_aa1eeb25fbd3484dbde611d71d7c5747f000.jpg",description:"public/8e256233-1752-4026-9341-54036e7f875e/3892dca7-115f-4b62-ba8d-11a7b220ab76",width:1920,height:1080},opacity:1,duration:30,loop:true,autoplay:true,preload:"auto",mute:true,artist:{id:"v47428268",name:"bisgtock"}},color:"#F1F1F1",alignType:"center",fittingType:"fill",scrollType:"fixed",imageOverlay:{type:"Image",title:"",uri:"0da768_4371c7e64a49489bb88c536f515f2040.png",width:6,height:6},colorOverlay:"",colorOverlayOpacity:0}},{presetIndex:68,path:"public/491df47b-5958-4dc7-9029-37f428755d45/1fc8b92f-8f6a-403a-a60b-26f7e3bed04f",ref:{type:"BackgroundMedia",mediaRef:{type:"Image",title:"Palm Trees Beach View",uri:"2465a22a212e41cd96a05e3e3fe5adc4.jpg",description:"public/491df47b-5958-4dc7-9029-37f428755d45/1fc8b92f-8f6a-403a-a60b-26f7e3bed04f",width:1980,height:1200,artist:{id:"",name:""}},color:"#DAF2FF",alignType:"center",fittingType:"fill",scrollType:"scroll",colorOverlay:"",colorOverlayOpacity:0,imageOverlay:""}},{presetIndex:69,path:"public/8e256233-1752-4026-9341-54036e7f875e/09309800-7aa0-4352-8f8a-101028e04bf1",ref:{type:"BackgroundMedia",mediaRef:{type:"WixVideo",title:"Moon Jellyfish",videoId:"video/11062b_77c6bfa45ec6417fa8b1b37fd3f7a108",qualities:[{quality:"480p",width:854,height:480,formats:["mp4","webm"]},{quality:"720p",width:1280,height:720,formats:["mp4","webm"]},{quality:"1080p",width:1920,height:1080,formats:["mp4","webm"]}],posterImageRef:{type:"Image",title:"",uri:"/11062b_77c6bfa45ec6417fa8b1b37fd3f7a108f000.jpg",description:"public/8e256233-1752-4026-9341-54036e7f875e/09309800-7aa0-4352-8f8a-101028e04bf1",width:1920,height:1080},opacity:1,duration:10,loop:true,autoplay:true,preload:"auto",mute:true,artist:{id:"v50790908",name:"bigstock"}},color:"{color_11}",alignType:"center",fittingType:"fill",scrollType:"fixed",colorOverlay:"",colorOverlayOpacity:0,imageOverlay:""}},{presetIndex:70,path:"public/491df47b-5958-4dc7-9029-37f428755d45/1fc8b92f-8f6a-403a-a60b-26f7e3bed04f",ref:{type:"BackgroundMedia",mediaRef:{type:"Image",title:"Modern Chicago Skyline",uri:"5b7e139d046c40c1a1acde7162607721.jpg",description:"public/491df47b-5958-4dc7-9029-37f428755d45/1fc8b92f-8f6a-403a-a60b-26f7e3bed04f",width:4085,height:2696,artist:{id:"",name:""}},color:"#FAC2D2",alignType:"center",fittingType:"fill",scrollType:"scroll",colorOverlay:"",colorOverlayOpacity:0,imageOverlay:""}},{presetIndex:71,path:"public/8e256233-1752-4026-9341-54036e7f875e/09309800-7aa0-4352-8f8a-101028e04bf1",ref:{type:"BackgroundMedia",mediaRef:{type:"WixVideo",title:"Pink Jellyfish",videoId:"video/11062b_ea61c0ecc8b34ecd942c42470507e640",qualities:[{quality:"480p",width:854,height:480,formats:["mp4","webm"]},{quality:"720p",width:1280,height:720,formats:["mp4","webm"]},{quality:"1080p",width:1920,height:1080,formats:["mp4","webm"]}],posterImageRef:{type:"Image",title:"",uri:"/11062b_ea61c0ecc8b34ecd942c42470507e640f000.jpg",description:"public/8e256233-1752-4026-9341-54036e7f875e/09309800-7aa0-4352-8f8a-101028e04bf1",width:1920,height:1080},opacity:1,duration:20,loop:true,autoplay:true,preload:"auto",mute:true,artist:{id:"v47440688",name:"bigstock"}},color:"{color_19}",alignType:"center",fittingType:"fill",scrollType:"fixed",imageOverlay:{type:"Image",title:"",uri:"0da768_2326357be59441978a570bec687a94d0.png",width:3,height:3},colorOverlay:"",colorOverlayOpacity:0}},{presetIndex:72,path:"public/8e256233-1752-4026-9341-54036e7f875e/a85e50b3-f78c-4792-a226-040ce52b983c",ref:{type:"BackgroundMedia",mediaRef:{type:"WixVideo",title:"Spaceman",videoId:"video/11062b_fcd00d59140f45d5b2295fe8a4c17edb",qualities:[{quality:"480p",width:854,height:480,formats:["mp4","webm"]},{quality:"720p",width:1280,height:720,formats:["mp4","webm"]},{quality:"1080p",width:1920,height:1080,formats:["mp4","webm"]}],posterImageRef:{type:"Image",title:"",uri:"/11062b_fcd00d59140f45d5b2295fe8a4c17edbf000.jpg",description:"public/8e256233-1752-4026-9341-54036e7f875e/a85e50b3-f78c-4792-a226-040ce52b983c",width:1920,height:1080},opacity:1,duration:25,loop:true,autoplay:true,preload:"auto",mute:true,artist:{id:"i111095258&i241509286",name:"shutterstock&shutterstock"}},color:"{color_20}",alignType:"center",fittingType:"fill",scrollType:"fixed",imageOverlay:{type:"Image",title:"",uri:"0da768_d3e25a05cedd404f807528f6a4750388.png",width:56,height:56},colorOverlay:"",colorOverlayOpacity:0}},{presetIndex:73,path:"public/8e256233-1752-4026-9341-54036e7f875e/babd428d-abdf-463a-ac71-a23e3cafaffa",ref:{type:"BackgroundMedia",mediaRef:{type:"WixVideo",title:"Rotating Crystal Glass",videoId:"video/11062b_58249d8a53aa452492e328c962b036e9",qualities:[{quality:"480p",width:854,height:480,formats:["mp4","webm"]},{quality:"720p",width:1280,height:720,formats:["mp4","webm"]},{quality:"1080p",width:1920,height:1080,formats:["mp4","webm"]}],posterImageRef:{type:"Image",title:"",uri:"/11062b_58249d8a53aa452492e328c962b036e9f000.jpg",description:"public/8e256233-1752-4026-9341-54036e7f875e/babd428d-abdf-463a-ac71-a23e3cafaffa",width:1920,height:1080},opacity:1,duration:14,loop:true,autoplay:true,preload:"auto",mute:true,artist:{id:"v47440709",name:"bisgtock"}},color:"{color_15}",alignType:"center",fittingType:"fill",scrollType:"fixed",imageOverlay:{type:"Image",title:"",uri:"0da768_8b89980121844d37be099f0dbe33e3e3.png",width:6,height:6},colorOverlay:"#5C3B1B",colorOverlayOpacity:.4}},{presetIndex:74,path:"public/8e256233-1752-4026-9341-54036e7f875e/305292cb-8a7a-4825-87ca-52882fbdf8ff",ref:{type:"BackgroundMedia",mediaRef:{type:"WixVideo",title:"Spinning Record",videoId:"video/11062b_0f1e951461494c1894d86c9ab85a11cf",qualities:[{quality:"480p",width:854,height:480,formats:["mp4","webm"]},{quality:"720p",width:1280,height:720,formats:["mp4","webm"]},{quality:"1080p",width:1920,height:1080,formats:["mp4","webm"]}],posterImageRef:{type:"Image",title:"",uri:"/11062b_0f1e951461494c1894d86c9ab85a11cff000.jpg",description:"public/8e256233-1752-4026-9341-54036e7f875e/305292cb-8a7a-4825-87ca-52882fbdf8ff",width:1920,height:1080},opacity:1,duration:10,loop:true,autoplay:true,preload:"auto",mute:true,artist:{id:"v560888",name:"clipcanvas"}},color:"{color_15}",alignType:"center",fittingType:"fill",scrollType:"fixed",imageOverlay:{type:"Image",title:"",uri:"0da768_8fae2cc5b7bf477fb13faa1f2582dbd2.png",width:4,height:6},colorOverlay:"",colorOverlayOpacity:0}},{presetIndex:75,path:"public/491df47b-5958-4dc7-9029-37f428755d45/37fb1297-82aa-4be6-a319-4195d317efe3",ref:{type:"BackgroundMedia",mediaRef:{type:"Image",title:"Vegan Trio",uri:"180ba81999a64ad3aa42735d409ecab6.jpg",description:"public/491df47b-5958-4dc7-9029-37f428755d45/37fb1297-82aa-4be6-a319-4195d317efe3",width:4253,height:2825,artist:{id:"",name:""}},color:"#DBB89A",alignType:"center",fittingType:"fill",scrollType:"fixed",colorOverlay:"",colorOverlayOpacity:0,imageOverlay:""}},{presetIndex:76,path:"public/6d05b962-a2eb-42f1-afe4-7981bca4bff1/ea934aee-5729-4c5e-aed1-ac25f5489914",ref:{type:"BackgroundMedia",mediaRef:{type:"Image",title:"Hand-drawn Feathers",uri:"8eee3a6c7d5842429beba0f7eaeef38c.png",description:"public/6d05b962-a2eb-42f1-afe4-7981bca4bff1/ea934aee-5729-4c5e-aed1-ac25f5489914",width:200,height:200,artist:{id:"",name:""}},color:"#FFFFFF",alignType:"top_left",fittingType:"legacy_tile",scrollType:"scroll",colorOverlay:"",colorOverlayOpacity:0,imageOverlay:""}},{presetIndex:77,path:"public/8e256233-1752-4026-9341-54036e7f875e/babd428d-abdf-463a-ac71-a23e3cafaffa",ref:{type:"BackgroundMedia",mediaRef:{type:"WixVideo",title:"Rotating Gears",videoId:"video/11062b_d9801124f3cb4deca350acfd66b547cf",qualities:[{quality:"480p",width:854,height:480,formats:["mp4","webm"]},{quality:"720p",width:1280,height:720,formats:["mp4","webm"]},{quality:"1080p",width:1920,height:1080,formats:["mp4","webm"]}],posterImageRef:{type:"Image",title:"",uri:"/11062b_d9801124f3cb4deca350acfd66b547cff000.jpg",description:"public/8e256233-1752-4026-9341-54036e7f875e/babd428d-abdf-463a-ac71-a23e3cafaffa",width:1920,height:1080},opacity:1,duration:7,loop:true,autoplay:true,preload:"auto",mute:true,artist:{id:"v50768483",name:"bigstock"}},color:"{color_15}",alignType:"center",fittingType:"fill",scrollType:"fixed",colorOverlay:"#F0C930",colorOverlayOpacity:.05,imageOverlay:""}},{presetIndex:78,path:"public/491df47b-5958-4dc7-9029-37f428755d45/37fb1297-82aa-4be6-a319-4195d317efe3",ref:{type:"BackgroundMedia",mediaRef:{type:"Image",title:"Graphic Design Workspace",uri:"fa34b31dc6244a4a854ef6eb8f02ff74.jpg",description:"public/491df47b-5958-4dc7-9029-37f428755d45/37fb1297-82aa-4be6-a319-4195d317efe3",width:4e3,height:3e3,artist:{id:"",name:""}},color:"#B7121B",alignType:"center",fittingType:"fill",scrollType:"scroll",colorOverlay:"",colorOverlayOpacity:0,imageOverlay:""}},{presetIndex:79,path:"public/6d05b962-a2eb-42f1-afe4-7981bca4bff1/ea934aee-5729-4c5e-aed1-ac25f5489914",ref:{type:"BackgroundMedia",mediaRef:{type:"Image",title:"Triangles",uri:"d59a233b62cf44b2bf1ebed57aac24de.png",description:"public/6d05b962-a2eb-42f1-afe4-7981bca4bff1/ea934aee-5729-4c5e-aed1-ac25f5489914",width:343,height:410,artist:{id:"",name:""}},color:"#DBB89A",alignType:"top_left",fittingType:"legacy_tile",scrollType:"scroll",colorOverlay:"",colorOverlayOpacity:0,imageOverlay:""}},{presetIndex:80,path:"public/a0c10733-b2a6-4330-a431-537a9f05c353/c9440526-5aa9-4a6f-8d66-9cf5fa50020d",ref:{type:"BackgroundMedia",mediaRef:{type:"Image",title:"Wood",uri:"1149de6bf15f40c587573bf9311dc32c.jpg",description:"public/a0c10733-b2a6-4330-a431-537a9f05c353/c9440526-5aa9-4a6f-8d66-9cf5fa50020d",width:4990,height:3326,artist:{id:"",name:""}},color:"#DBB89A",alignType:"center",fittingType:"fill",scrollType:"scroll",colorOverlay:"",colorOverlayOpacity:0,imageOverlay:""}},{presetIndex:81,path:"public/8e256233-1752-4026-9341-54036e7f875e/305292cb-8a7a-4825-87ca-52882fbdf8ff",ref:{type:"BackgroundMedia",mediaRef:{type:"WixVideo",title:"Classical Compilation",videoId:"video/11062b_35727d5e825d405bbb007bc615000a15",qualities:[{quality:"480p",width:854,height:480,formats:["mp4","webm"]},{quality:"720p",width:1280,height:720,formats:["mp4","webm"]},{quality:"1080p",width:1920,height:1080,formats:["mp4","webm"]}],posterImageRef:{type:"Image",title:"",uri:"/11062b_35727d5e825d405bbb007bc615000a15f000.jpg",description:"public/8e256233-1752-4026-9341-54036e7f875e/305292cb-8a7a-4825-87ca-52882fbdf8ff",width:1920,height:1080},opacity:1,duration:19,loop:true,autoplay:true,preload:"auto",mute:true,artist:{id:"v51653993&v795016&v639989&v249088&v527322",name:"bigstock&clipcanvas&clipcanvas&clipcanvas&clipcanvas"}},color:"{color_11}",alignType:"center",fittingType:"fill",scrollType:"fixed",colorOverlay:"#ffffff",colorOverlayOpacity:.2,imageOverlay:""}},{presetIndex:82,path:"public/491df47b-5958-4dc7-9029-37f428755d45/37fb1297-82aa-4be6-a319-4195d317efe3",ref:{type:"BackgroundMedia",mediaRef:{type:"Image",title:"Metal Stairs on Wooden Facade",uri:"cf8156766df64118b0653b3ac4bd5605.jpg",description:"public/491df47b-5958-4dc7-9029-37f428755d45/37fb1297-82aa-4be6-a319-4195d317efe3",width:1920,height:1440,artist:{id:"",name:""}},color:"#FFFFFF",alignType:"center",fittingType:"fill",scrollType:"fixed",colorOverlay:"",colorOverlayOpacity:0,imageOverlay:""}},{presetIndex:83,path:"public/8e256233-1752-4026-9341-54036e7f875e/db9e3e42-59d2-461f-b589-6cbbf7c2c06e",ref:{type:"BackgroundMedia",mediaRef:{type:"WixVideo",title:"Illustrator",videoId:"video/11062b_ebcab620e7584e1693f939e597be3777",qualities:[{quality:"480p",width:854,height:480,formats:["mp4","webm"]},{quality:"720p",width:1280,height:720,formats:["mp4","webm"]},{quality:"1080p",width:1920,height:1080,formats:["mp4","webm"]}],posterImageRef:{type:"Image",title:"",uri:"/11062b_ebcab620e7584e1693f939e597be3777f000.jpg",description:"public/8e256233-1752-4026-9341-54036e7f875e/db9e3e42-59d2-461f-b589-6cbbf7c2c06e",width:1920,height:1080},opacity:1,duration:30,loop:true,autoplay:true,preload:"auto",mute:true,artist:{id:"",name:""}},color:"{color_11}",alignType:"center",fittingType:"fill",scrollType:"fixed",imageOverlay:{type:"Image",title:"",uri:"0da768_880a3209e3744cd0a96b66835a01b8c5.png",width:256,height:256},colorOverlay:"",colorOverlayOpacity:0}},{presetIndex:84,path:"public/921f85b0-261d-4406-964a-cf47e2744c69/bd176e29-5534-4d9f-87a6-a8177517ea4f",ref:{type:"BackgroundMedia",mediaRef:{type:"Image",title:"Graphic Pattern",uri:"5c688cc2a5ec4ad2b86ed53d5df46f47.png",description:"public/921f85b0-261d-4406-964a-cf47e2744c69/bd176e29-5534-4d9f-87a6-a8177517ea4f",width:1920,height:1080,artist:{id:"",name:""}},color:"#3D9BE9",alignType:"center",fittingType:"fill",
scrollType:"scroll",colorOverlay:"",colorOverlayOpacity:0,imageOverlay:""}},{presetIndex:85,path:"public/8e256233-1752-4026-9341-54036e7f875e/09309800-7aa0-4352-8f8a-101028e04bf1",ref:{type:"BackgroundMedia",mediaRef:{type:"WixVideo",title:"Tiger",videoId:"video/11062b_6ceb80744f45401caf9eb666caeb9887",qualities:[{quality:"480p",width:854,height:480,formats:["mp4","webm"]},{quality:"720p",width:1280,height:720,formats:["mp4","webm"]},{quality:"1080p",width:1920,height:1080,formats:["mp4","webm"]}],posterImageRef:{type:"Image",title:"",uri:"/11062b_6ceb80744f45401caf9eb666caeb9887f000.jpg",description:"public/8e256233-1752-4026-9341-54036e7f875e/09309800-7aa0-4352-8f8a-101028e04bf1",width:1920,height:1080},opacity:1,duration:28,loop:true,autoplay:true,preload:"auto",mute:true,artist:{id:"v49350467",name:"bigstock"}},color:"{color_11}",alignType:"center",fittingType:"fill",scrollType:"fixed",imageOverlay:""}},{presetIndex:86,path:"public/8e256233-1752-4026-9341-54036e7f875e/f219085a-ca93-4f05-bc3f-5146ce3e6c8f",ref:{type:"BackgroundMedia",mediaRef:{type:"WixVideo",title:"Subway",videoId:"video/11062b_8b85f288687943b59677b4e3e56ef8f8",qualities:[{quality:"480p",width:854,height:480,formats:["mp4","webm"]},{quality:"720p",width:1280,height:720,formats:["mp4","webm"]},{quality:"1080p",width:1920,height:1080,formats:["mp4","webm"]}],posterImageRef:{type:"Image",title:"",uri:"/11062b_8b85f288687943b59677b4e3e56ef8f8f000.jpg",description:"public/8e256233-1752-4026-9341-54036e7f875e/f219085a-ca93-4f05-bc3f-5146ce3e6c8f",width:1920,height:1080},opacity:1,duration:3,loop:true,autoplay:true,preload:"auto",mute:true,artist:{id:"v342278662",name:"pexels"}},color:"#303030",alignType:"center",fittingType:"fill",scrollType:"fixed",colorOverlay:"#000000",colorOverlayOpacity:.45,imageOverlay:""}},{presetIndex:87,path:"public/491df47b-5958-4dc7-9029-37f428755d45/37fb1297-82aa-4be6-a319-4195d317efe3",ref:{type:"BackgroundMedia",mediaRef:{type:"Image",title:"Stack of Magazines",uri:"d532b29bc0c448b29f47672da7b07613.jpg",description:"public/491df47b-5958-4dc7-9029-37f428755d45/37fb1297-82aa-4be6-a319-4195d317efe3",width:1920,height:1280,artist:{id:"",name:""}},color:"#FFFFFF",alignType:"center",fittingType:"fill",scrollType:"fixed",colorOverlay:"",colorOverlayOpacity:0,imageOverlay:""}},{presetIndex:88,path:"public/491df47b-5958-4dc7-9029-37f428755d45/37fb1297-82aa-4be6-a319-4195d317efe3",ref:{type:"BackgroundMedia",mediaRef:{type:"Image",title:"Graphic Design Office",uri:"d1c5cd0055c94e3bb1acee9e2fda9f0e.jpg",description:"public/491df47b-5958-4dc7-9029-37f428755d45/37fb1297-82aa-4be6-a319-4195d317efe3",width:1920,height:1280,artist:{id:"",name:""}},color:"#FFFFFF",alignType:"center",fittingType:"fill",scrollType:"fixed",colorOverlay:"",colorOverlayOpacity:0,imageOverlay:""}},{presetIndex:89,path:"public/491df47b-5958-4dc7-9029-37f428755d45/660a54c1-0fe7-46ec-b502-d9e7c53554d9",ref:{type:"BackgroundMedia",mediaRef:{type:"Image",title:"Record Player",uri:"ee15442532e84041a495a5e46c465b12.jpg",description:"public/491df47b-5958-4dc7-9029-37f428755d45/660a54c1-0fe7-46ec-b502-d9e7c53554d9",width:5616,height:3744,artist:{id:"",name:""}},color:"#A7A7A7",alignType:"center",fittingType:"fill",scrollType:"scroll",colorOverlay:"",colorOverlayOpacity:0,imageOverlay:""}},{presetIndex:90,path:"public/8e256233-1752-4026-9341-54036e7f875e/3892dca7-115f-4b62-ba8d-11a7b220ab76",ref:{type:"BackgroundMedia",mediaRef:{type:"WixVideo",title:"Floating Shapes Gray",videoId:"video/11062b_d2398715eb2e43348e6907b6b3383815",qualities:[{quality:"480p",width:854,height:480,formats:["mp4","webm"]},{quality:"720p",width:1280,height:720,formats:["mp4","webm"]},{quality:"1080p",width:1920,height:1080,formats:["mp4","webm"]}],posterImageRef:{type:"Image",title:"",uri:"/11062b_d2398715eb2e43348e6907b6b3383815f000.jpg",description:"public/8e256233-1752-4026-9341-54036e7f875e/3892dca7-115f-4b62-ba8d-11a7b220ab76",width:1920,height:1080},opacity:1,duration:28,loop:true,autoplay:true,preload:"auto",mute:true,artist:{id:"",name:""}},color:"{color_11}",alignType:"center",fittingType:"fill",scrollType:"fixed",colorOverlay:"",colorOverlayOpacity:0,imageOverlay:""}},{presetIndex:91,path:"public/8e256233-1752-4026-9341-54036e7f875e/f219085a-ca93-4f05-bc3f-5146ce3e6c8f",ref:{type:"BackgroundMedia",mediaRef:{type:"WixVideo",title:"Forest Clouds",videoId:"video/11062b_2e77c1d1a7d84393becbcecd189fe80e",qualities:[{quality:"480p",width:854,height:480,formats:["mp4","webm"]},{quality:"720p",width:1280,height:720,formats:["mp4","webm"]},{quality:"1080p",width:1920,height:1080,formats:["mp4","webm"]}],posterImageRef:{type:"Image",title:"",uri:"/11062b_2e77c1d1a7d84393becbcecd189fe80ef000.jpg",description:"public/8e256233-1752-4026-9341-54036e7f875e/f219085a-ca93-4f05-bc3f-5146ce3e6c8f",width:1920,height:1080},opacity:1,duration:25,loop:true,autoplay:true,preload:"auto",mute:true,artist:{id:"v47440175",name:"bisgtock"}},color:"#FFFFFF",alignType:"center",fittingType:"fill",scrollType:"fixed",imageOverlay:""}},{presetIndex:92,path:"public/8e256233-1752-4026-9341-54036e7f875e/babd428d-abdf-463a-ac71-a23e3cafaffa",ref:{type:"BackgroundMedia",mediaRef:{type:"WixVideo",title:"Metronome",videoId:"video/11062b_80a0d0745a884541ae8fae22c02c9e74",qualities:[{quality:"480p",width:854,height:480,formats:["mp4","webm"]},{quality:"720p",width:1280,height:720,formats:["mp4","webm"]},{quality:"1080p",width:1920,height:1080,formats:["mp4","webm"]}],posterImageRef:{type:"Image",title:"",uri:"/11062b_80a0d0745a884541ae8fae22c02c9e74f000.jpg",description:"public/8e256233-1752-4026-9341-54036e7f875e/babd428d-abdf-463a-ac71-a23e3cafaffa",width:1920,height:1080},opacity:1,duration:17,loop:true,autoplay:true,preload:"auto",mute:true,artist:{id:"v49780622",name:"bigstock"}},color:"#271504",alignType:"center",fittingType:"fill",scrollType:"fixed",imageOverlay:{type:"Image",title:"",uri:"0da768_8b89980121844d37be099f0dbe33e3e3.png",width:6,height:6},colorOverlay:"#ffffff",colorOverlayOpacity:.25}},{presetIndex:93,path:"public/6d05b962-a2eb-42f1-afe4-7981bca4bff1/ea934aee-5729-4c5e-aed1-ac25f5489914",ref:{type:"BackgroundMedia",mediaRef:{type:"Image",title:"Grey Dots",uri:"92533e06635940e5b152eb4b0f9c1c4b.png",description:"public/6d05b962-a2eb-42f1-afe4-7981bca4bff1/ea934aee-5729-4c5e-aed1-ac25f5489914",width:180,height:101,artist:{id:"",name:""}},color:"#232323",alignType:"top_left",fittingType:"legacy_tile",scrollType:"scroll",colorOverlay:"",colorOverlayOpacity:0,imageOverlay:""}},{presetIndex:94,path:"public/491df47b-5958-4dc7-9029-37f428755d45/37fb1297-82aa-4be6-a319-4195d317efe3",ref:{type:"BackgroundMedia",mediaRef:{type:"Image",title:"Backstage",uri:"8a6b22a6b8d84e728c2253794ee37f98.jpg",description:"public/491df47b-5958-4dc7-9029-37f428755d45/37fb1297-82aa-4be6-a319-4195d317efe3",width:4500,height:3e3,artist:{id:"",name:""}},color:"#FFFFFF",alignType:"center",fittingType:"fill",scrollType:"fixed",colorOverlay:"",colorOverlayOpacity:0,imageOverlay:""}},{presetIndex:95,path:"public/8e256233-1752-4026-9341-54036e7f875e/5abaf36e-05be-41b2-8a0c-e9999bc48c51",ref:{type:"BackgroundMedia",mediaRef:{type:"WixVideo",title:"Melting Ice",videoId:"video/11062b_9480d9d800bd4bda938057d5ac1ebc42",qualities:[{quality:"480p",width:854,height:480,formats:["mp4","webm"]},{quality:"720p",width:1280,height:720,formats:["mp4","webm"]},{quality:"1080p",width:1920,height:1080,formats:["mp4","webm"]}],posterImageRef:{type:"Image",title:"",uri:"/11062b_9480d9d800bd4bda938057d5ac1ebc42f000.jpg",description:"public/8e256233-1752-4026-9341-54036e7f875e/5abaf36e-05be-41b2-8a0c-e9999bc48c51",width:1920,height:1080},opacity:1,duration:18,loop:true,autoplay:true,preload:"auto",mute:true,artist:{id:"v47428211",name:"bisgtock"}},color:"{color_11}",alignType:"center",fittingType:"fill",scrollType:"fixed",imageOverlay:{type:"Image",title:"",uri:"0da768_4371c7e64a49489bb88c536f515f2040.png",width:6,height:6},colorOverlay:"",colorOverlayOpacity:0}},{presetIndex:96,path:"public/6d05b962-a2eb-42f1-afe4-7981bca4bff1/ea934aee-5729-4c5e-aed1-ac25f5489914",ref:{type:"BackgroundMedia",mediaRef:{type:"Image",title:"Black Crosses",uri:"56adecff887f459297d81ee5a451ca0e.png",description:"public/6d05b962-a2eb-42f1-afe4-7981bca4bff1/ea934aee-5729-4c5e-aed1-ac25f5489914",width:200,height:200,artist:{id:"",name:""}},color:"#4F4F4F",alignType:"top_left",fittingType:"legacy_tile",scrollType:"scroll",colorOverlay:"",colorOverlayOpacity:0,imageOverlay:""}},{presetIndex:97,path:"public/8e256233-1752-4026-9341-54036e7f875e/bfa1c2d0-17a0-425d-9a6b-15cc467f0736",ref:{type:"BackgroundMedia",mediaRef:{type:"WixVideo",title:"Street Sports",videoId:"video/11062b_b3ee9353cba84f2fba11b18497edd49c",qualities:[{quality:"480p",width:854,height:480,formats:["mp4","webm"]},{quality:"720p",width:1280,height:720,formats:["mp4","webm"]},{quality:"1080p",width:1920,height:1080,formats:["mp4","webm"]}],posterImageRef:{type:"Image",title:"",uri:"/11062b_b3ee9353cba84f2fba11b18497edd49cf000.jpg",description:"public/8e256233-1752-4026-9341-54036e7f875e/bfa1c2d0-17a0-425d-9a6b-15cc467f0736",width:1920,height:1080},opacity:1,duration:27,loop:true,autoplay:true,preload:"auto",mute:true,artist:{id:"vD26_7_556&vD26_7_549&vD26_7_021&vD200_3_014&vD187_87_017",name:"dissolve&dissolve&dissolve&dissolve&dissolve"}},color:"{color_15}",alignType:"center",fittingType:"fill",scrollType:"fixed",imageOverlay:{type:"Image",title:"",uri:"0da768_9dd9479cdafd4871b1944d50caa91db0.png",width:6,height:6},colorOverlay:"",colorOverlayOpacity:0}},{presetIndex:98,path:"public/8e256233-1752-4026-9341-54036e7f875e/f219085a-ca93-4f05-bc3f-5146ce3e6c8f",ref:{type:"BackgroundMedia",mediaRef:{type:"WixVideo",title:"Mist Over the Bridge",videoId:"video/11062b_66b9234563324488b85be02dcf1db183",qualities:[{quality:"480p",width:854,height:480,formats:["mp4","webm"]},{quality:"720p",width:1280,height:720,formats:["mp4","webm"]},{quality:"1080p",width:1920,height:1080,formats:["mp4","webm"]}],posterImageRef:{type:"Image",title:"",uri:"/11062b_66b9234563324488b85be02dcf1db183f000.jpg",description:"public/8e256233-1752-4026-9341-54036e7f875e/f219085a-ca93-4f05-bc3f-5146ce3e6c8f",width:1920,height:1080},opacity:1,duration:21,loop:true,autoplay:true,preload:"auto",mute:true,artist:{id:"v523546",name:"clipcanvas"}},color:"{color_15}",alignType:"center",fittingType:"fill",scrollType:"fixed",colorOverlay:"",colorOverlayOpacity:0,imageOverlay:""}},{presetIndex:99,path:"public/a0c10733-b2a6-4330-a431-537a9f05c353/c9440526-5aa9-4a6f-8d66-9cf5fa50020d",ref:{type:"BackgroundMedia",mediaRef:{type:"Image",title:"Marble Surface",uri:"bc3ec7bc825c4e6ca746c659189cea83.jpg",description:"public/a0c10733-b2a6-4330-a431-537a9f05c353/c9440526-5aa9-4a6f-8d66-9cf5fa50020d",width:1920,height:1080,artist:{id:"",name:""}},color:"#A7A7A7",alignType:"center",fittingType:"fill",scrollType:"scroll",colorOverlay:"",colorOverlayOpacity:0,imageOverlay:""}},{presetIndex:100,path:"public/6d05b962-a2eb-42f1-afe4-7981bca4bff1/ea934aee-5729-4c5e-aed1-ac25f5489914",ref:{type:"BackgroundMedia",mediaRef:{type:"Image",title:"Suit",uri:"8ca1d4b1209f4712a582d259e1d041c4.png",description:"public/6d05b962-a2eb-42f1-afe4-7981bca4bff1/ea934aee-5729-4c5e-aed1-ac25f5489914",width:232,height:200,artist:{id:"",name:""}},color:"#A7A7A7",alignType:"top_left",fittingType:"legacy_tile",scrollType:"scroll",colorOverlay:"",colorOverlayOpacity:0,imageOverlay:""}},{presetIndex:101,path:"public/8e256233-1752-4026-9341-54036e7f875e/3892dca7-115f-4b62-ba8d-11a7b220ab76",ref:{type:"BackgroundMedia",mediaRef:{type:"WixVideo",title:"Flowing Viscous Liquid",videoId:"video/11062b_9f421918574743b48202cb0dacbd77d4",qualities:[{quality:"480p",width:854,height:480,formats:["mp4","webm"]},{quality:"720p",width:1280,height:720,formats:["mp4","webm"]},{quality:"1080p",width:1920,height:1080,formats:["mp4","webm"]}],posterImageRef:{type:"Image",title:"",uri:"/11062b_9f421918574743b48202cb0dacbd77d4f000.jpg",description:"public/8e256233-1752-4026-9341-54036e7f875e/3892dca7-115f-4b62-ba8d-11a7b220ab76",width:1920,height:1080},opacity:1,duration:17,loop:true,autoplay:true,preload:"auto",mute:true,artist:{id:"v47428877",name:"bisgtock"}},color:"{color_11}",alignType:"center",fittingType:"fill",scrollType:"fixed",colorOverlay:"",colorOverlayOpacity:0,imageOverlay:""}},{presetIndex:102,path:"public/491df47b-5958-4dc7-9029-37f428755d45/37fb1297-82aa-4be6-a319-4195d317efe3",ref:{type:"BackgroundMedia",mediaRef:{type:"Image",title:"Concrete Facade",uri:"d05d3b5e9b8c442f8616127098f1e7b0.jpg",description:"public/491df47b-5958-4dc7-9029-37f428755d45/37fb1297-82aa-4be6-a319-4195d317efe3",width:1980,height:1200,artist:{id:"",name:""}},color:"#232323",alignType:"center",fittingType:"fill",scrollType:"scroll",colorOverlay:"",colorOverlayOpacity:0,imageOverlay:""}},{presetIndex:103,path:"public/6d05b962-a2eb-42f1-afe4-7981bca4bff1/ea934aee-5729-4c5e-aed1-ac25f5489914",ref:{type:"BackgroundMedia",mediaRef:{type:"Image",title:"Horizontal Stripes",uri:"251cb06bbba2403296cacacc122c1833.png",description:"public/6d05b962-a2eb-42f1-afe4-7981bca4bff1/ea934aee-5729-4c5e-aed1-ac25f5489914",width:105,height:88,artist:{id:"",name:""}},color:"{color_11}",alignType:"top_left",fittingType:"legacy_tile",scrollType:"scroll",colorOverlay:"",colorOverlayOpacity:0,imageOverlay:""}},{presetIndex:104,path:"public/8e256233-1752-4026-9341-54036e7f875e/bfa1c2d0-17a0-425d-9a6b-15cc467f0736",ref:{type:"BackgroundMedia",mediaRef:{type:"WixVideo",title:"Dance Studio",videoId:"video/11062b_58d9b7991aa04b99a4f1580a1efc4f7f",qualities:[{quality:"480p",width:854,height:480,formats:["mp4","webm"]},{quality:"720p",width:1280,height:720,formats:["mp4","webm"]},{quality:"1080p",width:1920,height:1080,formats:["mp4","webm"]}],posterImageRef:{type:"Image",title:"",uri:"/11062b_58d9b7991aa04b99a4f1580a1efc4f7ff000.jpg",description:"public/8e256233-1752-4026-9341-54036e7f875e/bfa1c2d0-17a0-425d-9a6b-15cc467f0736",width:1920,height:1080},opacity:1,duration:34,loop:true,autoplay:true,preload:"auto",mute:true,artist:{id:"",name:""}},color:"#FFFFFF",alignType:"center",fittingType:"fill",scrollType:"fixed",imageOverlay:{type:"Image",title:"",uri:"0da768_4371c7e64a49489bb88c536f515f2040.png",width:6,height:6}}},{presetIndex:105,path:"public/6d05b962-a2eb-42f1-afe4-7981bca4bff1/ea934aee-5729-4c5e-aed1-ac25f5489914",ref:{type:"BackgroundMedia",mediaRef:{type:"Image",title:"Cat Pattern",uri:"e62cc2e57d9e4debae58f332bc5f7c13.png",description:"public/6d05b962-a2eb-42f1-afe4-7981bca4bff1/ea934aee-5729-4c5e-aed1-ac25f5489914",width:1001,height:780,artist:{id:"",name:""}},color:"#A7A7A7",alignType:"top_left",fittingType:"legacy_tile",scrollType:"scroll",colorOverlay:"",colorOverlayOpacity:0,imageOverlay:""}},{presetIndex:106,path:"public/6d05b962-a2eb-42f1-afe4-7981bca4bff1/ea934aee-5729-4c5e-aed1-ac25f5489914",ref:{type:"BackgroundMedia",mediaRef:{type:"Image",title:"Popsicles",uri:"16bc88db91d04e34969d6d9ff99d4f27.png",description:"public/6d05b962-a2eb-42f1-afe4-7981bca4bff1/ea934aee-5729-4c5e-aed1-ac25f5489914",width:400,height:400,artist:{id:"",name:""}},color:"#232323",alignType:"top_left",fittingType:"legacy_tile",scrollType:"scroll",colorOverlay:"",colorOverlayOpacity:0,imageOverlay:""}},{presetIndex:107,path:"public/8e256233-1752-4026-9341-54036e7f875e/5abaf36e-05be-41b2-8a0c-e9999bc48c51",ref:{type:"BackgroundMedia",mediaRef:{type:"WixVideo",title:"Gray Waterfall",videoId:"video/11062b_18eee1c4914c4ef79687cd68f3cf6990",qualities:[{quality:"480p",width:854,height:480,formats:["mp4","webm"]},{quality:"720p",width:1280,height:720,formats:["mp4","webm"]},{quality:"1080p",width:1920,height:1080,formats:["mp4","webm"]}],posterImageRef:{type:"Image",title:"",uri:"/11062b_18eee1c4914c4ef79687cd68f3cf6990f000.jpg",description:"public/8e256233-1752-4026-9341-54036e7f875e/5abaf36e-05be-41b2-8a0c-e9999bc48c51",width:1920,height:1080},opacity:1,duration:3,loop:true,autoplay:true,preload:"auto",mute:true,artist:{id:"v49347887",name:"bigstock"}},color:"{color_11}",alignType:"center",fittingType:"fill",scrollType:"fixed",imageOverlay:{type:"Image",title:"",uri:"0da768_d3e25a05cedd404f807528f6a4750388.png",width:4,height:6},colorOverlay:"color_11",colorOverlayOpacity:.5}},{presetIndex:108,path:"public/491df47b-5958-4dc7-9029-37f428755d45/1fc8b92f-8f6a-403a-a60b-26f7e3bed04f",ref:{type:"BackgroundMedia",mediaRef:{type:"Image",title:"NYC Skyline BW",uri:"ea66f0de45ec4109b5eb190bed2244d1.jpg",description:"public/491df47b-5958-4dc7-9029-37f428755d45/1fc8b92f-8f6a-403a-a60b-26f7e3bed04f",width:1980,height:1200,artist:{id:"",name:""}},color:"#4F4F4F",alignType:"center",fittingType:"fill",scrollType:"fixed",colorOverlay:"",colorOverlayOpacity:0,imageOverlay:""}},{presetIndex:109,path:"public/6d05b962-a2eb-42f1-afe4-7981bca4bff1/ea934aee-5729-4c5e-aed1-ac25f5489914",ref:{type:"BackgroundMedia",mediaRef:{type:"Image",title:"Zebras",uri:"049b8cffb8e449e19cce019a499e72b3.png",description:"public/6d05b962-a2eb-42f1-afe4-7981bca4bff1/ea934aee-5729-4c5e-aed1-ac25f5489914",width:650,height:593,artist:{id:"",name:""}},color:"{color_11}",alignType:"top_left",fittingType:"legacy_tile",scrollType:"scroll",colorOverlay:"",colorOverlayOpacity:0,imageOverlay:""}},{presetIndex:110,path:"public/6d05b962-a2eb-42f1-afe4-7981bca4bff1/bc345090-ef04-4363-9211-3642d0f687f8",ref:{type:"BackgroundMedia",mediaRef:{type:"Image",title:"Triangles Pattern",uri:"09ad59ce71ae4243bc54251181afab81.png",description:"public/6d05b962-a2eb-42f1-afe4-7981bca4bff1/bc345090-ef04-4363-9211-3642d0f687f8",width:94,height:89,artist:{id:"",name:""}},color:"#FFFFFF",alignType:"center",fittingType:"legacy_tile",scrollType:"scroll",colorOverlay:"",colorOverlayOpacity:0,imageOverlay:""}},{presetIndex:111,path:"public/491df47b-5958-4dc7-9029-37f428755d45/1fc8b92f-8f6a-403a-a60b-26f7e3bed04f",ref:{type:"BackgroundMedia",mediaRef:{type:"Image",title:"Cloudy Fog",uri:"d8b91ec474404d93a7be5aefff9abd54.jpg",description:"public/491df47b-5958-4dc7-9029-37f428755d45/1fc8b92f-8f6a-403a-a60b-26f7e3bed04f",width:4928,height:3264,artist:{id:"",name:""}},color:"#4F4F4F",alignType:"center",fittingType:"fill",scrollType:"scroll",colorOverlay:"",colorOverlayOpacity:0,imageOverlay:""}},{presetIndex:112,path:"public/6d05b962-a2eb-42f1-afe4-7981bca4bff1/ea934aee-5729-4c5e-aed1-ac25f5489914",ref:{type:"BackgroundMedia",mediaRef:{type:"Image",title:"Grey Arrows",uri:"be48a6ed702649778e0248921b018462.png",description:"public/6d05b962-a2eb-42f1-afe4-7981bca4bff1/ea934aee-5729-4c5e-aed1-ac25f5489914",width:200,height:200,artist:{id:"",name:""}},color:"#FFFFFF",alignType:"top_left",fittingType:"legacy_tile",scrollType:"scroll",colorOverlay:"",colorOverlayOpacity:0,imageOverlay:""}},{presetIndex:113,path:"public/6d05b962-a2eb-42f1-afe4-7981bca4bff1/ea934aee-5729-4c5e-aed1-ac25f5489914",ref:{type:"BackgroundMedia",mediaRef:{type:"Image",title:"Floating Particles",uri:"65361f1a835843df8f46f809b1b05a7a.png",description:"public/6d05b962-a2eb-42f1-afe4-7981bca4bff1/ea934aee-5729-4c5e-aed1-ac25f5489914",width:200,height:200,artist:{id:"",name:""}},color:"#F7F7F7",alignType:"top_left",fittingType:"legacy_tile",scrollType:"scroll",colorOverlay:"",colorOverlayOpacity:0,imageOverlay:""}},{presetIndex:114,path:"public/8e256233-1752-4026-9341-54036e7f875e/3892dca7-115f-4b62-ba8d-11a7b220ab76",ref:{type:"BackgroundMedia",mediaRef:{type:"WixVideo",title:"Falling shapes White",videoId:"video/11062b_2ed9e9ea388343a59c387bccf3539098",qualities:[{quality:"480p",width:854,height:480,formats:["mp4","webm"]},{quality:"720p",width:1280,height:720,formats:["mp4","webm"]},{quality:"1080p",width:1920,height:1080,formats:["mp4","webm"]}],posterImageRef:{type:"Image",title:"",uri:"/11062b_2ed9e9ea388343a59c387bccf3539098f000.jpg",description:"public/8e256233-1752-4026-9341-54036e7f875e/3892dca7-115f-4b62-ba8d-11a7b220ab76",width:1920,height:1080},opacity:1,duration:28,loop:true,autoplay:true,preload:"auto",mute:true,artist:{id:"",name:""}},color:"{color_11}",alignType:"center",fittingType:"fill",scrollType:"fixed",colorOverlay:"#D5D4D6",colorOverlayOpacity:.35,imageOverlay:""}}]});define("rEditor/rootComps/panels/backgroundPanel/backgroundMobilePresets.json",[],function(){return[{presetIndex:1,path:"public/8e256233-1752-4026-9341-54036e7f875e/3892dca7-115f-4b62-ba8d-11a7b220ab76",ref:{type:"BackgroundMedia",mediaRef:{type:"Image",title:"Electric Darkness",uri:"/11062b_6a134fc09ea34833a17d295e295ab517f000.jpg",description:"public/8e256233-1752-4026-9341-54036e7f875e/3892dca7-115f-4b62-ba8d-11a7b220ab76",width:1920,height:1080},color:"{color_24}",alignType:"center",fittingType:"fill",scrollType:"fixed"}},{presetIndex:2,path:"public/8e256233-1752-4026-9341-54036e7f875e/3892dca7-115f-4b62-ba8d-11a7b220ab76",ref:{type:"BackgroundMedia",mediaRef:{type:"Image",title:"Floating Particles",uri:"/11062b_03c50f8fe4a34cc297a984e483a282eff000.jpg",description:"public/8e256233-1752-4026-9341-54036e7f875e/3892dca7-115f-4b62-ba8d-11a7b220ab76",width:1920,height:1080},color:"#000000",alignType:"center",fittingType:"fill",scrollType:"fixed"}},{presetIndex:3,path:"public/6d05b962-a2eb-42f1-afe4-7981bca4bff1/ea934aee-5729-4c5e-aed1-ac25f5489914",ref:{type:"BackgroundMedia",mediaRef:{type:"Image",title:"Bananas",uri:"8034aa3291a54c489a7b7a3121d994f9.png",description:"public/6d05b962-a2eb-42f1-afe4-7981bca4bff1/ea934aee-5729-4c5e-aed1-ac25f5489914",width:1177,height:1200,artist:{id:"",name:""}},color:"#8BD0CD",alignType:"top_left",fittingType:"legacy_tile",scrollType:"scroll",colorOverlay:"",colorOverlayOpacity:0}},{presetIndex:4,path:"public/8e256233-1752-4026-9341-54036e7f875e/09309800-7aa0-4352-8f8a-101028e04bf1",ref:{type:"BackgroundMedia",mediaRef:{type:"Image",title:"Rain Clouds",uri:"/11062b_8e792646ca71495b96677c20e27e9122f000.jpg",description:"public/8e256233-1752-4026-9341-54036e7f875e/09309800-7aa0-4352-8f8a-101028e04bf1",width:1920,height:1080},color:"{color_15}",alignType:"center",fittingType:"fill",scrollType:"fixed"}},{presetIndex:5,path:"public/8e256233-1752-4026-9341-54036e7f875e/09309800-7aa0-4352-8f8a-101028e04bf1",ref:{type:"BackgroundMedia",mediaRef:{type:"Image",title:"Deep Sea Waves",uri:"/11062b_f1fbf8b243e942a692e564fac5382513f000.jpg",description:"public/8e256233-1752-4026-9341-54036e7f875e/09309800-7aa0-4352-8f8a-101028e04bf1",width:1920,height:1080},color:"#052F5B",alignType:"center",fittingType:"fill",scrollType:"fixed"}},{presetIndex:6,path:"public/491df47b-5958-4dc7-9029-37f428755d45/37fb1297-82aa-4be6-a319-4195d317efe3",ref:{type:"BackgroundMedia",mediaRef:{type:"Image",title:"Divers Underwater",uri:"bbde6e2b4387431ca37f8e093bcb0e8e.jpg",description:"public/491df47b-5958-4dc7-9029-37f428755d45/37fb1297-82aa-4be6-a319-4195d317efe3",width:4368,height:2912,artist:{id:"",name:""}},color:"#FFFFFF",alignType:"center",fittingType:"fill",scrollType:"fixed",colorOverlay:"",colorOverlayOpacity:0}},{presetIndex:7,path:"public/6d05b962-a2eb-42f1-afe4-7981bca4bff1/ea934aee-5729-4c5e-aed1-ac25f5489914",ref:{type:"BackgroundMedia",mediaRef:{type:"Image",title:"Dot Pattern",uri:"70127753074e4bf694b4b889710f0b7a.png",description:"public/6d05b962-a2eb-42f1-afe4-7981bca4bff1/ea934aee-5729-4c5e-aed1-ac25f5489914",width:200,height:202,artist:{id:"",name:""}},color:"#002E5D",alignType:"top_left",fittingType:"legacy_tile",scrollType:"scroll",colorOverlay:"",colorOverlayOpacity:0}},{presetIndex:8,path:"public/491df47b-5958-4dc7-9029-37f428755d45/1f0bcd55-6ccc-49e7-a743-30179f6f3783",ref:{type:"BackgroundMedia",mediaRef:{type:"Image",title:"Aurelia Jellyfish",uri:"884454ad07cf46a5bb7fb6aef2e02358.jpg",description:"public/491df47b-5958-4dc7-9029-37f428755d45/1f0bcd55-6ccc-49e7-a743-30179f6f3783",width:2700,height:2160,artist:{id:"",name:""}},color:"#002E5D",alignType:"center",fittingType:"fill",scrollType:"scroll",colorOverlay:"",colorOverlayOpacity:0}},{presetIndex:9,path:"public/8e256233-1752-4026-9341-54036e7f875e/f219085a-ca93-4f05-bc3f-5146ce3e6c8f",ref:{type:"BackgroundMedia",mediaRef:{type:"Image",title:"Swaying Palms",uri:"/11062b_d013b164dadb47ec8e746ab178aacfbbf000.jpg",description:"public/8e256233-1752-4026-9341-54036e7f875e/f219085a-ca93-4f05-bc3f-5146ce3e6c8f",width:1920,height:1080},color:"{color_11}",alignType:"center",fittingType:"fill",scrollType:"fixed"}},{presetIndex:10,path:"public/491df47b-5958-4dc7-9029-37f428755d45/37fb1297-82aa-4be6-a319-4195d317efe3",ref:{type:"BackgroundMedia",mediaRef:{type:"Image",title:"Girl in the Window",uri:"acb4853a0d8543b3ac291da735e9959b.jpg",description:"public/491df47b-5958-4dc7-9029-37f428755d45/37fb1297-82aa-4be6-a319-4195d317efe3",width:6048,height:4032,artist:{id:"",name:""}},color:"#002E5D",alignType:"center",fittingType:"fill",scrollType:"scroll",colorOverlay:"",colorOverlayOpacity:0}},{presetIndex:11,path:"public/8e256233-1752-4026-9341-54036e7f875e/db9e3e42-59d2-461f-b589-6cbbf7c2c06e",ref:{type:"BackgroundMedia",mediaRef:{type:"Image",title:"In the Office",uri:"/11062b_6743da5900054f1f8e69f53302930a6af000.jpg",description:"public/8e256233-1752-4026-9341-54036e7f875e/db9e3e42-59d2-461f-b589-6cbbf7c2c06e",width:1920,height:1080},color:"{color_17}",alignType:"center",fittingType:"fill",scrollType:"fixed"}},{presetIndex:12,path:"public/8e256233-1752-4026-9341-54036e7f875e/bfa1c2d0-17a0-425d-9a6b-15cc467f0736",ref:{type:"BackgroundMedia",mediaRef:{type:"Image",title:"Winter Sports",uri:"/11062b_14ca44a138d942f78374f7751ac5942ff000.jpg",description:"public/8e256233-1752-4026-9341-54036e7f875e/bfa1c2d0-17a0-425d-9a6b-15cc467f0736",width:1920,height:1080},color:"#2BFCF9",alignType:"center",fittingType:"fill",scrollType:"fixed"}},{presetIndex:13,path:"public/491df47b-5958-4dc7-9029-37f428755d45/1fc8b92f-8f6a-403a-a60b-26f7e3bed04f",ref:{type:"BackgroundMedia",mediaRef:{type:"Image",title:"Boats in the Water",uri:"edafc906071647ad940aad43e3fdbe07.jpg",description:"public/491df47b-5958-4dc7-9029-37f428755d45/1fc8b92f-8f6a-403a-a60b-26f7e3bed04f",width:3500,height:2318,artist:{id:"",name:""}},color:"#CCE2E2",alignType:"center",fittingType:"fill",scrollType:"scroll",colorOverlay:"",colorOverlayOpacity:0}},{presetIndex:14,path:"public/8e256233-1752-4026-9341-54036e7f875e/3892dca7-115f-4b62-ba8d-11a7b220ab76",ref:{type:"BackgroundMedia",mediaRef:{type:"Image",title:"Water Drop",uri:"/11062b_830709c744404d6ea7a10dcfd88e3a48f000.jpg",description:"public/8e256233-1752-4026-9341-54036e7f875e/3892dca7-115f-4b62-ba8d-11a7b220ab76",width:1920,height:1080},color:"#439CE6",alignType:"center",fittingType:"fill",scrollType:"fixed"}},{presetIndex:15,path:"public/8e256233-1752-4026-9341-54036e7f875e/3892dca7-115f-4b62-ba8d-11a7b220ab76",ref:{type:"BackgroundMedia",mediaRef:{type:"Image",title:"Submerged",uri:"/11062b_64ae2a899006496dac01c2e81fac97f1f000.jpg",description:"public/8e256233-1752-4026-9341-54036e7f875e/3892dca7-115f-4b62-ba8d-11a7b220ab76",width:1920,height:1080},color:"{color_17}",alignType:"center",fittingType:"fill",scrollType:"fixed"}},{presetIndex:16,path:"public/6d05b962-a2eb-42f1-afe4-7981bca4bff1/ea934aee-5729-4c5e-aed1-ac25f5489914",ref:{type:"BackgroundMedia",mediaRef:{type:"Image",title:"Blue Checkers",uri:"a60710612bbc4609ac93e78a1fa234c0.png",description:"public/6d05b962-a2eb-42f1-afe4-7981bca4bff1/ea934aee-5729-4c5e-aed1-ac25f5489914",width:400,height:400,artist:{id:"",name:""}},color:"#FFFFFF",alignType:"top_left",fittingType:"legacy_tile",scrollType:"scroll",colorOverlay:"",colorOverlayOpacity:0}},{presetIndex:17,path:"public/8e256233-1752-4026-9341-54036e7f875e/f219085a-ca93-4f05-bc3f-5146ce3e6c8f",ref:{type:"BackgroundMedia",mediaRef:{type:"Image",title:"Road Trip",uri:"/11062b_1c6001b9888a4ba89939a510eee406d1f000.jpg",description:"public/8e256233-1752-4026-9341-54036e7f875e/f219085a-ca93-4f05-bc3f-5146ce3e6c8f",width:1920,height:1080},color:"{color_11}",alignType:"center",fittingType:"fill",scrollType:"fixed"}},{presetIndex:18,path:"public/491df47b-5958-4dc7-9029-37f428755d45/1fc8b92f-8f6a-403a-a60b-26f7e3bed04f",ref:{type:"BackgroundMedia",mediaRef:{type:"Image",title:"Mountain Landscape",uri:"0bb83114d47e4ca0a9fa5a9ea6a16530.jpg",description:"public/491df47b-5958-4dc7-9029-37f428755d45/1fc8b92f-8f6a-403a-a60b-26f7e3bed04f",width:4442,height:2961,artist:{id:"",name:""}},color:"#EEFDFF",alignType:"center",fittingType:"fill",scrollType:"scroll",colorOverlay:"",colorOverlayOpacity:0}},{presetIndex:19,path:"public/8e256233-1752-4026-9341-54036e7f875e/3892dca7-115f-4b62-ba8d-11a7b220ab76",ref:{type:"BackgroundMedia",mediaRef:{type:"Image",title:"Sparkling Water",uri:"/11062b_7bb9944945af4723ad2aefa5caed46a4f000.jpg",description:"public/8e256233-1752-4026-9341-54036e7f875e/3892dca7-115f-4b62-ba8d-11a7b220ab76",width:1920,height:1080},color:"{color_11}",alignType:"center",fittingType:"fill",scrollType:"fixed"}},{presetIndex:20,path:"public/8e256233-1752-4026-9341-54036e7f875e/f219085a-ca93-4f05-bc3f-5146ce3e6c8f",ref:{type:"BackgroundMedia",mediaRef:{type:"Image",title:"Rolling Tide",uri:"/11062b_f0d5e0c342cc49dca298de0225d2247cf000.jpg",description:"public/8e256233-1752-4026-9341-54036e7f875e/f219085a-ca93-4f05-bc3f-5146ce3e6c8f",width:1920,height:1080},color:"{color_11}",alignType:"center",fittingType:"fill",scrollType:"fixed"}},{presetIndex:21,path:"public/491df47b-5958-4dc7-9029-37f428755d45/660a54c1-0fe7-46ec-b502-d9e7c53554d9",ref:{type:"BackgroundMedia",mediaRef:{type:"Image",title:"Abstract Horizon",uri:"5afe60462baf41e79586f3fdaf78d664.jpg",description:"public/491df47b-5958-4dc7-9029-37f428755d45/660a54c1-0fe7-46ec-b502-d9e7c53554d9",width:1980,height:1200,artist:{id:"",name:""}},color:"#006C6D",alignType:"center",fittingType:"fill",scrollType:"fixed",colorOverlay:"",colorOverlayOpacity:0}},{presetIndex:22,path:"public/491df47b-5958-4dc7-9029-37f428755d45/1fc8b92f-8f6a-403a-a60b-26f7e3bed04f",ref:{type:"BackgroundMedia",mediaRef:{type:"Image",title:"Misty Slopes",uri:"99ec98fdb81945c29c25a3ad6c5606b1.jpg",description:"public/491df47b-5958-4dc7-9029-37f428755d45/1fc8b92f-8f6a-403a-a60b-26f7e3bed04f",width:1920,height:1280,artist:{id:"",name:""}},color:"#114C22",alignType:"center",fittingType:"fill",scrollType:"scroll",colorOverlay:"",colorOverlayOpacity:0}},{presetIndex:23,path:"public/491df47b-5958-4dc7-9029-37f428755d45/1fc8b92f-8f6a-403a-a60b-26f7e3bed04f",ref:{type:"BackgroundMedia",mediaRef:{type:"Image",title:"Blurred Beach",uri:"a97014d3cac6454b822f786b7d1f2878.jpg",description:"public/491df47b-5958-4dc7-9029-37f428755d45/1fc8b92f-8f6a-403a-a60b-26f7e3bed04f",width:2351,height:1302,artist:{id:"",name:""}},color:"#8BD0CD",alignType:"center",fittingType:"fill",scrollType:"scroll",colorOverlay:"",colorOverlayOpacity:0}},{presetIndex:24,path:"public/491df47b-5958-4dc7-9029-37f428755d45/660a54c1-0fe7-46ec-b502-d9e7c53554d9",ref:{type:"BackgroundMedia",mediaRef:{type:"Image",title:"Blue to Cream Gradient",uri:"356d0cee84164a4cb8304d44630a7ea6.png",description:"public/491df47b-5958-4dc7-9029-37f428755d45/660a54c1-0fe7-46ec-b502-d9e7c53554d9",width:8e3,height:4500,artist:{id:"",name:""}},color:"#8BD0CD",alignType:"center",fittingType:"fill",scrollType:"scroll",colorOverlay:"",colorOverlayOpacity:0}},{presetIndex:25,path:"public/8e256233-1752-4026-9341-54036e7f875e/babd428d-abdf-463a-ac71-a23e3cafaffa",ref:{type:"BackgroundMedia",mediaRef:{type:"Image",title:"Vintage Gramophone",uri:"/11062b_bd026287ff784f5198fbfdbbbbba2489f000.jpg",description:"public/8e256233-1752-4026-9341-54036e7f875e/babd428d-abdf-463a-ac71-a23e3cafaffa",width:1920,height:1080},color:"{color_15}",alignType:"center",fittingType:"fill",scrollType:"fixed"}},{presetIndex:26,path:"public/491df47b-5958-4dc7-9029-37f428755d45/1f0bcd55-6ccc-49e7-a743-30179f6f3783",ref:{type:"BackgroundMedia",mediaRef:{type:"Image",title:"Tropical Plant",uri:"117d700ff79f490587e0bbaad89bc84f.jpeg",description:"public/491df47b-5958-4dc7-9029-37f428755d45/1f0bcd55-6ccc-49e7-a743-30179f6f3783",width:2507,height:1674,artist:{id:"",name:""}},color:"#1C8A43",alignType:"center",fittingType:"fill",scrollType:"scroll",colorOverlay:"",colorOverlayOpacity:0}},{presetIndex:27,
path:"public/6d05b962-a2eb-42f1-afe4-7981bca4bff1/ea934aee-5729-4c5e-aed1-ac25f5489914",ref:{type:"BackgroundMedia",mediaRef:{type:"Image",title:"Graph Paper",uri:"1beffca589a04014a3e62f00a022b875.png",description:"public/6d05b962-a2eb-42f1-afe4-7981bca4bff1/ea934aee-5729-4c5e-aed1-ac25f5489914",width:192,height:192,artist:{id:"",name:""}},color:"#CAE9BD",alignType:"top_left",fittingType:"legacy_tile",scrollType:"scroll",colorOverlay:"",colorOverlayOpacity:0}},{presetIndex:28,path:"public/6d05b962-a2eb-42f1-afe4-7981bca4bff1/ea934aee-5729-4c5e-aed1-ac25f5489914",ref:{type:"BackgroundMedia",mediaRef:{type:"Image",title:"Leaves Pattern",uri:"278019192ae045d191a9430cf507c7f6.png",description:"public/6d05b962-a2eb-42f1-afe4-7981bca4bff1/ea934aee-5729-4c5e-aed1-ac25f5489914",width:974,height:966,artist:{id:"",name:""}},color:"#F1FFF6",alignType:"center",fittingType:"legacy_tile",scrollType:"scroll",colorOverlay:"",colorOverlayOpacity:0}},{presetIndex:29,path:"public/6d05b962-a2eb-42f1-afe4-7981bca4bff1/ea934aee-5729-4c5e-aed1-ac25f5489914",ref:{type:"BackgroundMedia",mediaRef:{type:"Image",title:"Tropic Birds",uri:"b59b6c0afac149c1825e76ad4381c9ca.png",description:"public/6d05b962-a2eb-42f1-afe4-7981bca4bff1/ea934aee-5729-4c5e-aed1-ac25f5489914",width:552,height:552,artist:{id:"",name:""}},color:"#002E5D",alignType:"top_left",fittingType:"legacy_tile",scrollType:"scroll",colorOverlay:"",colorOverlayOpacity:0}},{presetIndex:30,path:"public/8e256233-1752-4026-9341-54036e7f875e/f219085a-ca93-4f05-bc3f-5146ce3e6c8f",ref:{type:"BackgroundMedia",mediaRef:{type:"Image",title:"Rainforest Canopy",uri:"/11062b_7488edba38234bd69b0603ad498efdf5f000.jpg",description:"public/8e256233-1752-4026-9341-54036e7f875e/f219085a-ca93-4f05-bc3f-5146ce3e6c8f",width:1920,height:1080},color:"#BFBF43",alignType:"center",fittingType:"fill",scrollType:"fixed"}},{presetIndex:31,path:"public/6d05b962-a2eb-42f1-afe4-7981bca4bff1/ea934aee-5729-4c5e-aed1-ac25f5489914",ref:{type:"BackgroundMedia",mediaRef:{type:"Image",title:"Hand-sketched Lines",uri:"3978993e99184d5e8c21f0204cd07bca.png",description:"public/6d05b962-a2eb-42f1-afe4-7981bca4bff1/ea934aee-5729-4c5e-aed1-ac25f5489914",width:150,height:150,artist:{id:"",name:""}},color:"#CAE9BD",alignType:"top_left",fittingType:"legacy_tile",scrollType:"scroll",colorOverlay:"",colorOverlayOpacity:0}},{presetIndex:32,path:"public/491df47b-5958-4dc7-9029-37f428755d45/1f0bcd55-6ccc-49e7-a743-30179f6f3783",ref:{type:"BackgroundMedia",mediaRef:{type:"Image",title:"Palm Trees",uri:"3cd1de924697419088c1e033bb3384ef.jpg",description:"public/491df47b-5958-4dc7-9029-37f428755d45/1f0bcd55-6ccc-49e7-a743-30179f6f3783",width:1920,height:1280,artist:{id:"",name:""}},color:"#BDBF37",alignType:"center",fittingType:"fill",scrollType:"scroll",colorOverlay:"",colorOverlayOpacity:0}},{presetIndex:33,path:"public/8e256233-1752-4026-9341-54036e7f875e/f219085a-ca93-4f05-bc3f-5146ce3e6c8f",ref:{type:"BackgroundMedia",mediaRef:{type:"Image",title:"Snowfall",uri:"/11062b_7124ff06fc56498d96722413f5f4846ff000.jpg",description:"public/8e256233-1752-4026-9341-54036e7f875e/f219085a-ca93-4f05-bc3f-5146ce3e6c8f",width:1920,height:1080},color:"{color_11}",alignType:"center",fittingType:"fill",scrollType:"fixed"}},{presetIndex:34,path:"public/8e256233-1752-4026-9341-54036e7f875e/f219085a-ca93-4f05-bc3f-5146ce3e6c8f",ref:{type:"BackgroundMedia",mediaRef:{type:"Image",title:"City Park",uri:"/11062b_ed5fd19d3b3c4a979ecfd7aa035320ebf000.jpg",description:"public/8e256233-1752-4026-9341-54036e7f875e/f219085a-ca93-4f05-bc3f-5146ce3e6c8f",width:1920,height:1080},color:"{color_11}",alignType:"center",fittingType:"fill",scrollType:"fixed"}},{presetIndex:35,path:"public/8e256233-1752-4026-9341-54036e7f875e/09309800-7aa0-4352-8f8a-101028e04bf1",ref:{type:"BackgroundMedia",mediaRef:{type:"Image",title:"Dogs in the Park",uri:"/11062b_dadf974a47664e5cb42f939b7f17bec8f000.jpg",description:"public/8e256233-1752-4026-9341-54036e7f875e/09309800-7aa0-4352-8f8a-101028e04bf1",width:1920,height:1080},color:"{color_11}",alignType:"center",fittingType:"fill",scrollType:"fixed"}},{presetIndex:36,path:"public/8e256233-1752-4026-9341-54036e7f875e/09309800-7aa0-4352-8f8a-101028e04bf1",ref:{type:"BackgroundMedia",mediaRef:{type:"Image",title:"House Cat",uri:"/11062b_be8b8d6a9d5a4bc59aa76a8b25fd9888f000.jpg",description:"public/8e256233-1752-4026-9341-54036e7f875e/09309800-7aa0-4352-8f8a-101028e04bf1",width:1920,height:1080},color:"#DAB89C",alignType:"center",fittingType:"fill",scrollType:"fixed"}},{presetIndex:37,path:"public/491df47b-5958-4dc7-9029-37f428755d45/1f0bcd55-6ccc-49e7-a743-30179f6f3783",ref:{type:"BackgroundMedia",mediaRef:{type:"Image",title:"Tree Stump",uri:"11a91072527049689406d272d5a6d6c4.jpg",description:"public/491df47b-5958-4dc7-9029-37f428755d45/1f0bcd55-6ccc-49e7-a743-30179f6f3783",width:1280,height:768,artist:{id:"",name:""}},color:"#114C22",alignType:"center",fittingType:"fill",scrollType:"scroll",colorOverlay:"",colorOverlayOpacity:0}},{presetIndex:38,path:"public/491df47b-5958-4dc7-9029-37f428755d45/37fb1297-82aa-4be6-a319-4195d317efe3",ref:{type:"BackgroundMedia",mediaRef:{type:"Image",title:"Asparagus",uri:"4d24dcfa04684a81bf3f1701a847af81.jpg",description:"public/491df47b-5958-4dc7-9029-37f428755d45/37fb1297-82aa-4be6-a319-4195d317efe3",width:2e3,height:1333,artist:{id:"",name:""}},color:"#FFFFFF",alignType:"center",fittingType:"fill",scrollType:"fixed",colorOverlay:"",colorOverlayOpacity:0}},{presetIndex:39,path:"public/8e256233-1752-4026-9341-54036e7f875e/f219085a-ca93-4f05-bc3f-5146ce3e6c8f",ref:{type:"BackgroundMedia",mediaRef:{type:"Image",title:"Tropical Light",uri:"/11062b_af392b5325e7416eb2d8b6f9b1b3c634f000.jpg",description:"public/8e256233-1752-4026-9341-54036e7f875e/f219085a-ca93-4f05-bc3f-5146ce3e6c8f",width:1920,height:1080},color:"{color_16}",alignType:"center",fittingType:"fill",scrollType:"fixed"}},{presetIndex:40,path:"public/6d05b962-a2eb-42f1-afe4-7981bca4bff1/ea934aee-5729-4c5e-aed1-ac25f5489914",ref:{type:"BackgroundMedia",mediaRef:{type:"Image",title:"Gold Bunnies",uri:"6060bf9757224155bc8cbd95029ee720.png",description:"public/6d05b962-a2eb-42f1-afe4-7981bca4bff1/ea934aee-5729-4c5e-aed1-ac25f5489914",width:459,height:287,artist:{id:"",name:""}},color:"{color_11}",alignType:"top_left",fittingType:"legacy_tile",scrollType:"scroll",colorOverlay:"",colorOverlayOpacity:0}},{presetIndex:41,path:"public/6d05b962-a2eb-42f1-afe4-7981bca4bff1/ea934aee-5729-4c5e-aed1-ac25f5489914",ref:{type:"BackgroundMedia",mediaRef:{type:"Image",title:"Pineapple Pattern",uri:"eeef56698522480caf7deba849718afe.png",description:"public/6d05b962-a2eb-42f1-afe4-7981bca4bff1/ea934aee-5729-4c5e-aed1-ac25f5489914",width:534,height:809,artist:{id:"",name:""}},color:"{color_11}",alignType:"top_left",fittingType:"legacy_tile",scrollType:"scroll",colorOverlay:"",colorOverlayOpacity:0}},{presetIndex:42,path:"public/491df47b-5958-4dc7-9029-37f428755d45/660a54c1-0fe7-46ec-b502-d9e7c53554d9",ref:{type:"BackgroundMedia",mediaRef:{type:"Image",title:"Yellow to Blue Gradient",uri:"98e04ee03335423bb5a47bd2f377df2e.png",description:"public/491df47b-5958-4dc7-9029-37f428755d45/660a54c1-0fe7-46ec-b502-d9e7c53554d9",width:8e3,height:4500,artist:{id:"",name:""}},color:"#35EBE7",alignType:"center",fittingType:"fill",scrollType:"scroll",colorOverlay:"",colorOverlayOpacity:0}},{presetIndex:43,path:"public/6d05b962-a2eb-42f1-afe4-7981bca4bff1/ea934aee-5729-4c5e-aed1-ac25f5489914",ref:{type:"BackgroundMedia",mediaRef:{type:"Image",title:"Black Spades",uri:"7d0fa0c9f87547b0a75b80f38ed48183.png",description:"public/6d05b962-a2eb-42f1-afe4-7981bca4bff1/ea934aee-5729-4c5e-aed1-ac25f5489914",width:300,height:267,artist:{id:"",name:""}},color:"color_31",alignType:"top_left",fittingType:"legacy_tile",scrollType:"scroll",colorOverlay:"",colorOverlayOpacity:0}},{presetIndex:44,path:"public/8e256233-1752-4026-9341-54036e7f875e/f219085a-ca93-4f05-bc3f-5146ce3e6c8f",ref:{type:"BackgroundMedia",mediaRef:{type:"Image",title:"Urban View",uri:"/11062b_3e2f37c297534f9ead156265242fbca8f000.jpg",description:"public/8e256233-1752-4026-9341-54036e7f875e/f219085a-ca93-4f05-bc3f-5146ce3e6c8f",width:1920,height:1080},color:"{color_31}",alignType:"center",fittingType:"fill",scrollType:"fixed"}},{presetIndex:45,path:"public/8e256233-1752-4026-9341-54036e7f875e/3892dca7-115f-4b62-ba8d-11a7b220ab76",ref:{type:"BackgroundMedia",mediaRef:{type:"Image",title:"Light Spots",uri:"/11062b_2042bb7351284f0f982e4787d37415e6f000.jpg",description:"public/8e256233-1752-4026-9341-54036e7f875e/3892dca7-115f-4b62-ba8d-11a7b220ab76",width:1920,height:1080},color:"#FFF369",alignType:"center",fittingType:"fill",scrollType:"fixed"}},{presetIndex:46,path:"public/8e256233-1752-4026-9341-54036e7f875e/3892dca7-115f-4b62-ba8d-11a7b220ab76",ref:{type:"BackgroundMedia",mediaRef:{type:"Image",title:"Pink Particles",uri:"/11062b_155feccf8d494b18b70adcd7716b6646f000.jpg",description:"public/8e256233-1752-4026-9341-54036e7f875e/3892dca7-115f-4b62-ba8d-11a7b220ab76",width:1920,height:1080},color:"{color_31}",alignType:"center",fittingType:"fill",scrollType:"fixed"}},{presetIndex:47,path:"public/8e256233-1752-4026-9341-54036e7f875e/09309800-7aa0-4352-8f8a-101028e04bf1",ref:{type:"BackgroundMedia",mediaRef:{type:"Image",title:"Sunflowers",uri:"/11062b_7fb923cf2d6748e195e980d74c4059f2f000.jpg",description:"public/8e256233-1752-4026-9341-54036e7f875e/09309800-7aa0-4352-8f8a-101028e04bf1",width:1920,height:1080},color:"color_29",alignType:"center",fittingType:"fill",scrollType:"fixed"}},{presetIndex:48,path:"public/491df47b-5958-4dc7-9029-37f428755d45/1f0bcd55-6ccc-49e7-a743-30179f6f3783",ref:{type:"BackgroundMedia",mediaRef:{type:"Image",title:"Flower in Sunlight",uri:"175c71a9a7384ca68d97b39947203da8.jpg",description:"public/491df47b-5958-4dc7-9029-37f428755d45/1f0bcd55-6ccc-49e7-a743-30179f6f3783",width:1920,height:1080,artist:{id:"",name:""}},color:"#F17424",alignType:"center",fittingType:"fill",scrollType:"scroll",colorOverlay:"",colorOverlayOpacity:0}},{presetIndex:49,path:"public/6d05b962-a2eb-42f1-afe4-7981bca4bff1/ea934aee-5729-4c5e-aed1-ac25f5489914",ref:{type:"BackgroundMedia",mediaRef:{type:"Image",title:"Golden Dots",uri:"80e0917312df4df5853a6c2a861e7a63.png",description:"public/6d05b962-a2eb-42f1-afe4-7981bca4bff1/ea934aee-5729-4c5e-aed1-ac25f5489914",width:466,height:766,artist:{id:"",name:""}},color:"#FAEECD",alignType:"top_left",fittingType:"legacy_tile",scrollType:"scroll",colorOverlay:"",colorOverlayOpacity:0}},{presetIndex:50,path:"public/491df47b-5958-4dc7-9029-37f428755d45/1fc8b92f-8f6a-403a-a60b-26f7e3bed04f",ref:{type:"BackgroundMedia",mediaRef:{type:"Image",title:"Lifeguard Tower",uri:"f7f8700159f142b3b23e349c23338337.jpeg",description:"public/491df47b-5958-4dc7-9029-37f428755d45/1fc8b92f-8f6a-403a-a60b-26f7e3bed04f",width:4608,height:3072,artist:{id:"",name:""}},color:"#F9C7A7",alignType:"center",fittingType:"fill",scrollType:"scroll",colorOverlay:"",colorOverlayOpacity:0}},{presetIndex:51,path:"public/8e256233-1752-4026-9341-54036e7f875e/f219085a-ca93-4f05-bc3f-5146ce3e6c8f",ref:{type:"BackgroundMedia",mediaRef:{type:"Image",title:"Meadow",uri:"/11062b_84f0c9aa252b4b2ab1114febc012eacbf000.jpg",description:"public/8e256233-1752-4026-9341-54036e7f875e/f219085a-ca93-4f05-bc3f-5146ce3e6c8f",width:1920,height:1080},color:"{color_15}",alignType:"center",fittingType:"fill",scrollType:"fixed"}},{presetIndex:52,path:"public/8e256233-1752-4026-9341-54036e7f875e/f219085a-ca93-4f05-bc3f-5146ce3e6c8f",ref:{type:"BackgroundMedia",mediaRef:{type:"Image",title:"Lakeside",uri:"/11062b_10927dd4d14046e4ac23f51f0a5448b3f000.jpg",description:"public/8e256233-1752-4026-9341-54036e7f875e/f219085a-ca93-4f05-bc3f-5146ce3e6c8f",width:1920,height:1080},color:"#FFF5A8",alignType:"center",fittingType:"fill",scrollType:"fixed"}},{presetIndex:53,path:"public/491df47b-5958-4dc7-9029-37f428755d45/37fb1297-82aa-4be6-a319-4195d317efe3",ref:{type:"BackgroundMedia",mediaRef:{type:"Image",title:"Zebra Crossing",uri:"fd559363ad5645958cc2ccdc6005fbd6.jpg",description:"public/491df47b-5958-4dc7-9029-37f428755d45/37fb1297-82aa-4be6-a319-4195d317efe3",width:5682,height:3990,artist:{id:"",name:""}},color:"#F1CC01",alignType:"center",fittingType:"fill",scrollType:"scroll",colorOverlay:"",colorOverlayOpacity:0}},{presetIndex:54,path:"public/8e256233-1752-4026-9341-54036e7f875e/f219085a-ca93-4f05-bc3f-5146ce3e6c8f",ref:{type:"BackgroundMedia",mediaRef:{type:"Image",title:"Paradise Serenity",uri:"/11062b_46d3e749db4d4169987b00279493eaa7f000.jpg",description:"public/8e256233-1752-4026-9341-54036e7f875e/f219085a-ca93-4f05-bc3f-5146ce3e6c8f",width:1920,height:1080},color:"{color_31}",alignType:"center",fittingType:"fill",scrollType:"fixed"}},{presetIndex:55,path:"public/6d05b962-a2eb-42f1-afe4-7981bca4bff1/ea934aee-5729-4c5e-aed1-ac25f5489914",ref:{type:"BackgroundMedia",mediaRef:{type:"Image",title:"Zigzag",uri:"4d24ad2c7b8f47bbbfe14399bd41dc54.png",description:"public/6d05b962-a2eb-42f1-afe4-7981bca4bff1/ea934aee-5729-4c5e-aed1-ac25f5489914",width:64,height:50,artist:{id:"",name:""}},color:"#FAC2D2",alignType:"top_left",fittingType:"legacy_tile",scrollType:"scroll",colorOverlay:"",colorOverlayOpacity:0}},{presetIndex:56,path:"public/8e256233-1752-4026-9341-54036e7f875e/f219085a-ca93-4f05-bc3f-5146ce3e6c8f",ref:{type:"BackgroundMedia",mediaRef:{type:"Image",title:"Miami Beach",uri:"/11062b_75ff30e8c38545348bad91473b78ab7cf000.jpg",description:"public/8e256233-1752-4026-9341-54036e7f875e/f219085a-ca93-4f05-bc3f-5146ce3e6c8f",width:1920,height:1080},color:"#D41746",alignType:"center",fittingType:"fill",scrollType:"fixed"}},{presetIndex:57,path:"public/491df47b-5958-4dc7-9029-37f428755d45/1f0bcd55-6ccc-49e7-a743-30179f6f3783",ref:{type:"BackgroundMedia",mediaRef:{type:"Image",title:"Tropical Leaves",uri:"0396af7423c344a39107ad593c4500f8.jpg",description:"public/491df47b-5958-4dc7-9029-37f428755d45/1f0bcd55-6ccc-49e7-a743-30179f6f3783",width:3264,height:2448,artist:{id:"",name:""}},color:"#B22087",alignType:"center",fittingType:"fill",scrollType:"scroll",colorOverlay:"",colorOverlayOpacity:0}},{presetIndex:58,path:"public/6d05b962-a2eb-42f1-afe4-7981bca4bff1/ea934aee-5729-4c5e-aed1-ac25f5489914",ref:{type:"BackgroundMedia",mediaRef:{type:"Image",title:"Grey Geometric Shapes",uri:"f833450526164f5e80b7e8ef0f50844c.png",description:"public/6d05b962-a2eb-42f1-afe4-7981bca4bff1/ea934aee-5729-4c5e-aed1-ac25f5489914",width:300,height:300,artist:{id:"",name:""}},color:"#F2668F",alignType:"top_left",fittingType:"legacy_tile",scrollType:"scroll",colorOverlay:"",colorOverlayOpacity:0}},{presetIndex:59,path:"public/491df47b-5958-4dc7-9029-37f428755d45/660a54c1-0fe7-46ec-b502-d9e7c53554d9",ref:{type:"BackgroundMedia",mediaRef:{type:"Image",title:"Pink to Orange Gradient",uri:"af7a8b002af842f8bab87691c1d8640f.jpg",description:"public/491df47b-5958-4dc7-9029-37f428755d45/660a54c1-0fe7-46ec-b502-d9e7c53554d9",width:1920,height:1080,artist:{id:"",name:""}},color:"#C37DB3",alignType:"center",fittingType:"fill",scrollType:"scroll",colorOverlay:"",colorOverlayOpacity:0}},{presetIndex:60,path:"public/6d05b962-a2eb-42f1-afe4-7981bca4bff1/ea934aee-5729-4c5e-aed1-ac25f5489914",ref:{type:"BackgroundMedia",mediaRef:{type:"Image",title:"Rain Drops",uri:"95f3448913a746f28b30670b23da4157.png",description:"public/6d05b962-a2eb-42f1-afe4-7981bca4bff1/ea934aee-5729-4c5e-aed1-ac25f5489914",width:216,height:216,artist:{id:"",name:""}},color:"#C65AA5",alignType:"top_left",fittingType:"legacy_tile",scrollType:"scroll",colorOverlay:"",colorOverlayOpacity:0}},{presetIndex:61,path:"public/8e256233-1752-4026-9341-54036e7f875e/3892dca7-115f-4b62-ba8d-11a7b220ab76",ref:{type:"BackgroundMedia",mediaRef:{type:"Image",title:"Cotton Candy",uri:"/11062b_808b40c463104f22943c284c625d31c3f000.jpg",description:"public/8e256233-1752-4026-9341-54036e7f875e/3892dca7-115f-4b62-ba8d-11a7b220ab76",width:1920,height:1080},color:"{color_30}",alignType:"center",fittingType:"fill",scrollType:"fixed"}},{presetIndex:62,path:"public/8e256233-1752-4026-9341-54036e7f875e/3892dca7-115f-4b62-ba8d-11a7b220ab76",ref:{type:"BackgroundMedia",mediaRef:{type:"Image",title:"Ink and Water",uri:"/11062b_74ef3d923f9b451492d3ed9278991873f000.jpg",description:"public/8e256233-1752-4026-9341-54036e7f875e/3892dca7-115f-4b62-ba8d-11a7b220ab76",width:1920,height:1080},color:"{color_11}",alignType:"center",fittingType:"fill",scrollType:"fixed"}},{presetIndex:63,path:"public/6d05b962-a2eb-42f1-afe4-7981bca4bff1/ea934aee-5729-4c5e-aed1-ac25f5489914",ref:{type:"BackgroundMedia",mediaRef:{type:"Image",title:"Red Confetti",uri:"21ff2961e4d94522b96543b873b063dc.png",description:"public/6d05b962-a2eb-42f1-afe4-7981bca4bff1/ea934aee-5729-4c5e-aed1-ac25f5489914",width:121,height:107,artist:{id:"",name:""}},color:"#FFFFFF",alignType:"top_left",fittingType:"legacy_tile",scrollType:"scroll",colorOverlay:"",colorOverlayOpacity:0}},{presetIndex:64,path:"public/491df47b-5958-4dc7-9029-37f428755d45/37fb1297-82aa-4be6-a319-4195d317efe3",ref:{type:"BackgroundMedia",mediaRef:{type:"Image",title:"Woman Running Legs",uri:"0983ceb77a4e49c6978e4515d8a454f6.jpg",description:"public/491df47b-5958-4dc7-9029-37f428755d45/37fb1297-82aa-4be6-a319-4195d317efe3",width:1980,height:1200,artist:{id:"",name:""}},color:"#F9C7A7",alignType:"center",fittingType:"fill",scrollType:"fixed",colorOverlay:"",colorOverlayOpacity:0}},{presetIndex:65,path:"public/491df47b-5958-4dc7-9029-37f428755d45/c2a37dfc-36cf-4bfd-b940-55bac7bdc9e6",ref:{type:"BackgroundMedia",mediaRef:{type:"Image",title:"Flamingos",uri:"88d74a1559c84402a4a957527a839260.png",description:"public/491df47b-5958-4dc7-9029-37f428755d45/c2a37dfc-36cf-4bfd-b940-55bac7bdc9e6",width:1920,height:1080,artist:{id:"",name:""}},color:"#DAF2FF",alignType:"center",fittingType:"fill",scrollType:"scroll",colorOverlay:"",colorOverlayOpacity:0}},{presetIndex:66,path:"public/6d05b962-a2eb-42f1-afe4-7981bca4bff1/ea934aee-5729-4c5e-aed1-ac25f5489914",ref:{type:"BackgroundMedia",mediaRef:{type:"Image",title:"Foxes and Rabbits",uri:"f7c0cc732a8e458caf88ad42b251fbdf.png",description:"public/6d05b962-a2eb-42f1-afe4-7981bca4bff1/ea934aee-5729-4c5e-aed1-ac25f5489914",width:571,height:514,artist:{id:"",name:""}},color:"#FFFFFF",alignType:"top_left",fittingType:"legacy_tile",scrollType:"scroll",colorOverlay:"",colorOverlayOpacity:0}},{presetIndex:67,path:"public/8e256233-1752-4026-9341-54036e7f875e/3892dca7-115f-4b62-ba8d-11a7b220ab76",ref:{type:"BackgroundMedia",mediaRef:{type:"Image",title:"Ink Splash",uri:"/11062b_aa1eeb25fbd3484dbde611d71d7c5747f000.jpg",description:"public/8e256233-1752-4026-9341-54036e7f875e/3892dca7-115f-4b62-ba8d-11a7b220ab76",width:1920,height:1080},color:"#F1F1F1",alignType:"center",fittingType:"fill",scrollType:"fixed"}},{presetIndex:68,path:"public/491df47b-5958-4dc7-9029-37f428755d45/1fc8b92f-8f6a-403a-a60b-26f7e3bed04f",ref:{type:"BackgroundMedia",mediaRef:{type:"Image",title:"Palm Trees Beach View",uri:"2465a22a212e41cd96a05e3e3fe5adc4.jpg",description:"public/491df47b-5958-4dc7-9029-37f428755d45/1fc8b92f-8f6a-403a-a60b-26f7e3bed04f",width:1980,height:1200,artist:{id:"",name:""}},color:"#DAF2FF",alignType:"center",fittingType:"fill",scrollType:"scroll",colorOverlay:"",colorOverlayOpacity:0}},{presetIndex:69,path:"public/8e256233-1752-4026-9341-54036e7f875e/09309800-7aa0-4352-8f8a-101028e04bf1",ref:{type:"BackgroundMedia",mediaRef:{type:"Image",title:"Moon Jellyfish",uri:"/11062b_77c6bfa45ec6417fa8b1b37fd3f7a108f000.jpg",description:"public/8e256233-1752-4026-9341-54036e7f875e/09309800-7aa0-4352-8f8a-101028e04bf1",width:1920,height:1080},color:"{color_11}",alignType:"center",fittingType:"fill",scrollType:"fixed"}},{presetIndex:70,path:"public/491df47b-5958-4dc7-9029-37f428755d45/1fc8b92f-8f6a-403a-a60b-26f7e3bed04f",ref:{type:"BackgroundMedia",mediaRef:{type:"Image",title:"Modern Chicago Skyline",uri:"5b7e139d046c40c1a1acde7162607721.jpg",description:"public/491df47b-5958-4dc7-9029-37f428755d45/1fc8b92f-8f6a-403a-a60b-26f7e3bed04f",width:4085,height:2696,artist:{id:"",name:""}},color:"#FAC2D2",alignType:"center",fittingType:"fill",scrollType:"scroll",colorOverlay:"",colorOverlayOpacity:0}},{presetIndex:71,path:"public/8e256233-1752-4026-9341-54036e7f875e/09309800-7aa0-4352-8f8a-101028e04bf1",ref:{type:"BackgroundMedia",mediaRef:{type:"Image",title:"Pink Jellyfish",uri:"/11062b_ea61c0ecc8b34ecd942c42470507e640f000.jpg",description:"public/8e256233-1752-4026-9341-54036e7f875e/09309800-7aa0-4352-8f8a-101028e04bf1",width:1920,height:1080},color:"{color_19}",alignType:"center",fittingType:"fill",scrollType:"fixed"}},{presetIndex:72,path:"public/8e256233-1752-4026-9341-54036e7f875e/a85e50b3-f78c-4792-a226-040ce52b983c",ref:{type:"BackgroundMedia",mediaRef:{type:"Image",title:"Spaceman",uri:"/11062b_fcd00d59140f45d5b2295fe8a4c17edbf000.jpg",description:"public/8e256233-1752-4026-9341-54036e7f875e/a85e50b3-f78c-4792-a226-040ce52b983c",width:1920,height:1080},color:"{color_20}",alignType:"center",fittingType:"fill",scrollType:"fixed"}},{presetIndex:73,path:"public/8e256233-1752-4026-9341-54036e7f875e/babd428d-abdf-463a-ac71-a23e3cafaffa",ref:{type:"BackgroundMedia",mediaRef:{type:"Image",title:"Rotating Crystal Glass",uri:"/11062b_58249d8a53aa452492e328c962b036e9f000.jpg",description:"public/8e256233-1752-4026-9341-54036e7f875e/babd428d-abdf-463a-ac71-a23e3cafaffa",width:1920,height:1080},color:"{color_15}",alignType:"center",fittingType:"fill",scrollType:"fixed"}},{presetIndex:74,path:"public/8e256233-1752-4026-9341-54036e7f875e/305292cb-8a7a-4825-87ca-52882fbdf8ff",ref:{type:"BackgroundMedia",mediaRef:{type:"Image",title:"Spinning Record",uri:"/11062b_0f1e951461494c1894d86c9ab85a11cff000.jpg",description:"public/8e256233-1752-4026-9341-54036e7f875e/305292cb-8a7a-4825-87ca-52882fbdf8ff",width:1920,height:1080},color:"{color_15}",alignType:"center",fittingType:"fill",scrollType:"fixed"}},{presetIndex:75,path:"public/491df47b-5958-4dc7-9029-37f428755d45/37fb1297-82aa-4be6-a319-4195d317efe3",ref:{type:"BackgroundMedia",mediaRef:{type:"Image",title:"Vegan Trio",uri:"180ba81999a64ad3aa42735d409ecab6.jpg",description:"public/491df47b-5958-4dc7-9029-37f428755d45/37fb1297-82aa-4be6-a319-4195d317efe3",width:4253,height:2825,artist:{id:"",name:""}},color:"#DBB89A",alignType:"center",fittingType:"fill",scrollType:"fixed",colorOverlay:"",colorOverlayOpacity:0}},{presetIndex:76,path:"public/6d05b962-a2eb-42f1-afe4-7981bca4bff1/ea934aee-5729-4c5e-aed1-ac25f5489914",ref:{type:"BackgroundMedia",mediaRef:{type:"Image",title:"Hand-drawn Feathers",uri:"8eee3a6c7d5842429beba0f7eaeef38c.png",description:"public/6d05b962-a2eb-42f1-afe4-7981bca4bff1/ea934aee-5729-4c5e-aed1-ac25f5489914",width:200,height:200,artist:{id:"",name:""}},color:"#FFFFFF",alignType:"top_left",fittingType:"legacy_tile",scrollType:"scroll",colorOverlay:"",colorOverlayOpacity:0}},{presetIndex:77,path:"public/8e256233-1752-4026-9341-54036e7f875e/babd428d-abdf-463a-ac71-a23e3cafaffa",ref:{type:"BackgroundMedia",mediaRef:{type:"Image",title:"Rotating Gears",uri:"/11062b_d9801124f3cb4deca350acfd66b547cff000.jpg",description:"public/8e256233-1752-4026-9341-54036e7f875e/babd428d-abdf-463a-ac71-a23e3cafaffa",width:1920,height:1080},color:"{color_15}",alignType:"center",fittingType:"fill",scrollType:"fixed"}},{presetIndex:78,path:"public/491df47b-5958-4dc7-9029-37f428755d45/37fb1297-82aa-4be6-a319-4195d317efe3",ref:{type:"BackgroundMedia",mediaRef:{type:"Image",title:"Graphic Design Workspace",uri:"fa34b31dc6244a4a854ef6eb8f02ff74.jpg",description:"public/491df47b-5958-4dc7-9029-37f428755d45/37fb1297-82aa-4be6-a319-4195d317efe3",width:4e3,height:3e3,artist:{id:"",name:""}},color:"#B7121B",alignType:"center",fittingType:"fill",scrollType:"scroll",colorOverlay:"",colorOverlayOpacity:0}},{presetIndex:79,path:"public/6d05b962-a2eb-42f1-afe4-7981bca4bff1/ea934aee-5729-4c5e-aed1-ac25f5489914",ref:{type:"BackgroundMedia",mediaRef:{type:"Image",title:"Triangles",uri:"d59a233b62cf44b2bf1ebed57aac24de.png",description:"public/6d05b962-a2eb-42f1-afe4-7981bca4bff1/ea934aee-5729-4c5e-aed1-ac25f5489914",width:343,height:410,artist:{id:"",name:""}},color:"#DBB89A",alignType:"top_left",fittingType:"legacy_tile",scrollType:"scroll",colorOverlay:"",colorOverlayOpacity:0}},{presetIndex:80,path:"public/a0c10733-b2a6-4330-a431-537a9f05c353/c9440526-5aa9-4a6f-8d66-9cf5fa50020d",ref:{type:"BackgroundMedia",mediaRef:{type:"Image",title:"Wood",uri:"1149de6bf15f40c587573bf9311dc32c.jpg",description:"public/a0c10733-b2a6-4330-a431-537a9f05c353/c9440526-5aa9-4a6f-8d66-9cf5fa50020d",width:4990,height:3326,artist:{id:"",name:""}},color:"#DBB89A",alignType:"center",fittingType:"fill",scrollType:"scroll",colorOverlay:"",colorOverlayOpacity:0}},{presetIndex:81,path:"public/8e256233-1752-4026-9341-54036e7f875e/305292cb-8a7a-4825-87ca-52882fbdf8ff",ref:{type:"BackgroundMedia",mediaRef:{type:"Image",title:"Classical Compilation",uri:"/11062b_35727d5e825d405bbb007bc615000a15f000.jpg",description:"public/8e256233-1752-4026-9341-54036e7f875e/305292cb-8a7a-4825-87ca-52882fbdf8ff",width:1920,height:1080},color:"{color_11}",alignType:"center",fittingType:"fill",scrollType:"fixed"}},{presetIndex:82,path:"public/491df47b-5958-4dc7-9029-37f428755d45/37fb1297-82aa-4be6-a319-4195d317efe3",ref:{type:"BackgroundMedia",mediaRef:{type:"Image",title:"Metal Stairs on Wooden Facade",uri:"cf8156766df64118b0653b3ac4bd5605.jpg",description:"public/491df47b-5958-4dc7-9029-37f428755d45/37fb1297-82aa-4be6-a319-4195d317efe3",width:1920,height:1440,artist:{id:"",name:""}},color:"#FFFFFF",alignType:"center",fittingType:"fill",scrollType:"fixed",colorOverlay:"",colorOverlayOpacity:0}},{presetIndex:83,path:"public/8e256233-1752-4026-9341-54036e7f875e/db9e3e42-59d2-461f-b589-6cbbf7c2c06e",ref:{type:"BackgroundMedia",mediaRef:{type:"Image",title:"Illustrator",uri:"/11062b_ebcab620e7584e1693f939e597be3777f000.jpg",description:"public/8e256233-1752-4026-9341-54036e7f875e/db9e3e42-59d2-461f-b589-6cbbf7c2c06e",width:1920,height:1080},color:"{color_11}",alignType:"center",fittingType:"fill",scrollType:"fixed"}},{presetIndex:84,path:"public/921f85b0-261d-4406-964a-cf47e2744c69/bd176e29-5534-4d9f-87a6-a8177517ea4f",ref:{type:"BackgroundMedia",mediaRef:{type:"Image",title:"Graphic Pattern",uri:"5c688cc2a5ec4ad2b86ed53d5df46f47.png",description:"public/921f85b0-261d-4406-964a-cf47e2744c69/bd176e29-5534-4d9f-87a6-a8177517ea4f",width:1920,height:1080,artist:{id:"",name:""}},color:"#3D9BE9",alignType:"center",fittingType:"fill",scrollType:"scroll",colorOverlay:"",colorOverlayOpacity:0}},{presetIndex:85,path:"public/8e256233-1752-4026-9341-54036e7f875e/09309800-7aa0-4352-8f8a-101028e04bf1",ref:{type:"BackgroundMedia",mediaRef:{type:"Image",title:"Tiger",uri:"/11062b_6ceb80744f45401caf9eb666caeb9887f000.jpg",description:"public/8e256233-1752-4026-9341-54036e7f875e/09309800-7aa0-4352-8f8a-101028e04bf1",width:1920,height:1080},color:"{color_11}",alignType:"center",fittingType:"fill",scrollType:"fixed"}},{presetIndex:86,path:"public/8e256233-1752-4026-9341-54036e7f875e/f219085a-ca93-4f05-bc3f-5146ce3e6c8f",ref:{type:"BackgroundMedia",mediaRef:{type:"Image",title:"Subway",uri:"/11062b_8b85f288687943b59677b4e3e56ef8f8f000.jpg",description:"public/8e256233-1752-4026-9341-54036e7f875e/f219085a-ca93-4f05-bc3f-5146ce3e6c8f",width:1920,height:1080},color:"#303030",alignType:"center",fittingType:"fill",scrollType:"fixed"}},{presetIndex:87,path:"public/491df47b-5958-4dc7-9029-37f428755d45/37fb1297-82aa-4be6-a319-4195d317efe3",ref:{type:"BackgroundMedia",mediaRef:{type:"Image",title:"Stack of Magazines",uri:"d532b29bc0c448b29f47672da7b07613.jpg",description:"public/491df47b-5958-4dc7-9029-37f428755d45/37fb1297-82aa-4be6-a319-4195d317efe3",width:1920,height:1280,artist:{id:"",name:""}},color:"#FFFFFF",alignType:"center",fittingType:"fill",scrollType:"fixed",colorOverlay:"",colorOverlayOpacity:0}},{presetIndex:88,path:"public/491df47b-5958-4dc7-9029-37f428755d45/37fb1297-82aa-4be6-a319-4195d317efe3",ref:{type:"BackgroundMedia",mediaRef:{type:"Image",title:"Graphic Design Office",uri:"d1c5cd0055c94e3bb1acee9e2fda9f0e.jpg",description:"public/491df47b-5958-4dc7-9029-37f428755d45/37fb1297-82aa-4be6-a319-4195d317efe3",width:1920,height:1280,artist:{id:"",name:""}},color:"#FFFFFF",alignType:"center",fittingType:"fill",scrollType:"fixed",colorOverlay:"",colorOverlayOpacity:0}},{presetIndex:89,path:"public/491df47b-5958-4dc7-9029-37f428755d45/660a54c1-0fe7-46ec-b502-d9e7c53554d9",ref:{type:"BackgroundMedia",mediaRef:{type:"Image",title:"Record Player",uri:"ee15442532e84041a495a5e46c465b12.jpg",description:"public/491df47b-5958-4dc7-9029-37f428755d45/660a54c1-0fe7-46ec-b502-d9e7c53554d9",width:5616,height:3744,artist:{id:"",name:""}},color:"#A7A7A7",alignType:"center",fittingType:"fill",scrollType:"scroll",colorOverlay:"",colorOverlayOpacity:0}},{presetIndex:90,path:"public/8e256233-1752-4026-9341-54036e7f875e/3892dca7-115f-4b62-ba8d-11a7b220ab76",ref:{type:"BackgroundMedia",mediaRef:{type:"Image",title:"Floating Shapes Gray",uri:"/11062b_d2398715eb2e43348e6907b6b3383815f000.jpg",description:"public/8e256233-1752-4026-9341-54036e7f875e/3892dca7-115f-4b62-ba8d-11a7b220ab76",width:1920,height:1080},color:"{color_11}",alignType:"center",fittingType:"fill",scrollType:"fixed"}},{presetIndex:91,path:"public/8e256233-1752-4026-9341-54036e7f875e/f219085a-ca93-4f05-bc3f-5146ce3e6c8f",ref:{type:"BackgroundMedia",mediaRef:{type:"Image",title:"Forest Clouds",uri:"/11062b_2e77c1d1a7d84393becbcecd189fe80ef000.jpg",description:"public/8e256233-1752-4026-9341-54036e7f875e/f219085a-ca93-4f05-bc3f-5146ce3e6c8f",width:1920,height:1080},color:"#FFFFFF",alignType:"center",fittingType:"fill",scrollType:"fixed"}},{presetIndex:92,path:"public/8e256233-1752-4026-9341-54036e7f875e/babd428d-abdf-463a-ac71-a23e3cafaffa",ref:{type:"BackgroundMedia",mediaRef:{type:"Image",title:"Metronome",uri:"/11062b_80a0d0745a884541ae8fae22c02c9e74f000.jpg",description:"public/8e256233-1752-4026-9341-54036e7f875e/babd428d-abdf-463a-ac71-a23e3cafaffa",width:1920,height:1080},color:"#271504",alignType:"center",fittingType:"fill",scrollType:"fixed"}},{presetIndex:93,path:"public/6d05b962-a2eb-42f1-afe4-7981bca4bff1/ea934aee-5729-4c5e-aed1-ac25f5489914",ref:{type:"BackgroundMedia",mediaRef:{type:"Image",title:"Grey Dots",uri:"92533e06635940e5b152eb4b0f9c1c4b.png",description:"public/6d05b962-a2eb-42f1-afe4-7981bca4bff1/ea934aee-5729-4c5e-aed1-ac25f5489914",width:180,height:101,artist:{id:"",name:""}},color:"#232323",alignType:"top_left",fittingType:"legacy_tile",scrollType:"scroll",colorOverlay:"",colorOverlayOpacity:0}},{presetIndex:94,path:"public/491df47b-5958-4dc7-9029-37f428755d45/37fb1297-82aa-4be6-a319-4195d317efe3",ref:{type:"BackgroundMedia",mediaRef:{type:"Image",title:"Backstage",uri:"8a6b22a6b8d84e728c2253794ee37f98.jpg",description:"public/491df47b-5958-4dc7-9029-37f428755d45/37fb1297-82aa-4be6-a319-4195d317efe3",width:4500,height:3e3,artist:{id:"",name:""}},color:"#FFFFFF",alignType:"center",fittingType:"fill",scrollType:"fixed",colorOverlay:"",colorOverlayOpacity:0}},{presetIndex:95,path:"public/8e256233-1752-4026-9341-54036e7f875e/5abaf36e-05be-41b2-8a0c-e9999bc48c51",ref:{type:"BackgroundMedia",mediaRef:{type:"Image",title:"Melting Ice",uri:"/11062b_9480d9d800bd4bda938057d5ac1ebc42f000.jpg",description:"public/8e256233-1752-4026-9341-54036e7f875e/5abaf36e-05be-41b2-8a0c-e9999bc48c51",width:1920,height:1080},color:"{color_11}",alignType:"center",fittingType:"fill",scrollType:"fixed"}},{presetIndex:96,path:"public/6d05b962-a2eb-42f1-afe4-7981bca4bff1/ea934aee-5729-4c5e-aed1-ac25f5489914",ref:{type:"BackgroundMedia",mediaRef:{type:"Image",title:"Black Crosses",uri:"56adecff887f459297d81ee5a451ca0e.png",description:"public/6d05b962-a2eb-42f1-afe4-7981bca4bff1/ea934aee-5729-4c5e-aed1-ac25f5489914",width:200,height:200,artist:{id:"",name:""}},color:"#4F4F4F",alignType:"top_left",fittingType:"legacy_tile",scrollType:"scroll",colorOverlay:"",colorOverlayOpacity:0}},{presetIndex:97,path:"public/8e256233-1752-4026-9341-54036e7f875e/bfa1c2d0-17a0-425d-9a6b-15cc467f0736",
ref:{type:"BackgroundMedia",mediaRef:{type:"Image",title:"Street Sports",uri:"/11062b_b3ee9353cba84f2fba11b18497edd49cf000.jpg",description:"public/8e256233-1752-4026-9341-54036e7f875e/bfa1c2d0-17a0-425d-9a6b-15cc467f0736",width:1920,height:1080},color:"{color_15}",alignType:"center",fittingType:"fill",scrollType:"fixed"}},{presetIndex:98,path:"public/8e256233-1752-4026-9341-54036e7f875e/f219085a-ca93-4f05-bc3f-5146ce3e6c8f",ref:{type:"BackgroundMedia",mediaRef:{type:"Image",title:"Mist Over the Bridge",uri:"/11062b_66b9234563324488b85be02dcf1db183f000.jpg",description:"public/8e256233-1752-4026-9341-54036e7f875e/f219085a-ca93-4f05-bc3f-5146ce3e6c8f",width:1920,height:1080},color:"{color_15}",alignType:"center",fittingType:"fill",scrollType:"fixed"}},{presetIndex:99,path:"public/a0c10733-b2a6-4330-a431-537a9f05c353/c9440526-5aa9-4a6f-8d66-9cf5fa50020d",ref:{type:"BackgroundMedia",mediaRef:{type:"Image",title:"Marble Surface",uri:"bc3ec7bc825c4e6ca746c659189cea83.jpg",description:"public/a0c10733-b2a6-4330-a431-537a9f05c353/c9440526-5aa9-4a6f-8d66-9cf5fa50020d",width:1920,height:1080,artist:{id:"",name:""}},color:"#A7A7A7",alignType:"center",fittingType:"fill",scrollType:"scroll",colorOverlay:"",colorOverlayOpacity:0}},{presetIndex:100,path:"public/6d05b962-a2eb-42f1-afe4-7981bca4bff1/ea934aee-5729-4c5e-aed1-ac25f5489914",ref:{type:"BackgroundMedia",mediaRef:{type:"Image",title:"Suit",uri:"8ca1d4b1209f4712a582d259e1d041c4.png",description:"public/6d05b962-a2eb-42f1-afe4-7981bca4bff1/ea934aee-5729-4c5e-aed1-ac25f5489914",width:232,height:200,artist:{id:"",name:""}},color:"#A7A7A7",alignType:"top_left",fittingType:"legacy_tile",scrollType:"scroll",colorOverlay:"",colorOverlayOpacity:0}},{presetIndex:101,path:"public/8e256233-1752-4026-9341-54036e7f875e/3892dca7-115f-4b62-ba8d-11a7b220ab76",ref:{type:"BackgroundMedia",mediaRef:{type:"Image",title:"Flowing Viscous Liquid",uri:"/11062b_9f421918574743b48202cb0dacbd77d4f000.jpg",description:"public/8e256233-1752-4026-9341-54036e7f875e/3892dca7-115f-4b62-ba8d-11a7b220ab76",width:1920,height:1080},color:"{color_11}",alignType:"center",fittingType:"fill",scrollType:"fixed"}},{presetIndex:102,path:"public/491df47b-5958-4dc7-9029-37f428755d45/37fb1297-82aa-4be6-a319-4195d317efe3",ref:{type:"BackgroundMedia",mediaRef:{type:"Image",title:"Concrete Facade",uri:"d05d3b5e9b8c442f8616127098f1e7b0.jpg",description:"public/491df47b-5958-4dc7-9029-37f428755d45/37fb1297-82aa-4be6-a319-4195d317efe3",width:1980,height:1200,artist:{id:"",name:""}},color:"#232323",alignType:"center",fittingType:"fill",scrollType:"scroll",colorOverlay:"",colorOverlayOpacity:0}},{presetIndex:103,path:"public/6d05b962-a2eb-42f1-afe4-7981bca4bff1/ea934aee-5729-4c5e-aed1-ac25f5489914",ref:{type:"BackgroundMedia",mediaRef:{type:"Image",title:"Horizontal Stripes",uri:"251cb06bbba2403296cacacc122c1833.png",description:"public/6d05b962-a2eb-42f1-afe4-7981bca4bff1/ea934aee-5729-4c5e-aed1-ac25f5489914",width:105,height:88,artist:{id:"",name:""}},color:"{color_11}",alignType:"top_left",fittingType:"legacy_tile",scrollType:"scroll",colorOverlay:"",colorOverlayOpacity:0}},{presetIndex:104,path:"public/8e256233-1752-4026-9341-54036e7f875e/bfa1c2d0-17a0-425d-9a6b-15cc467f0736",ref:{type:"BackgroundMedia",mediaRef:{type:"Image",title:"Dance Studio",uri:"/11062b_58d9b7991aa04b99a4f1580a1efc4f7ff000.jpg",description:"public/8e256233-1752-4026-9341-54036e7f875e/bfa1c2d0-17a0-425d-9a6b-15cc467f0736",width:1920,height:1080},color:"#FFFFFF",alignType:"center",fittingType:"fill",scrollType:"fixed"}},{presetIndex:105,path:"public/6d05b962-a2eb-42f1-afe4-7981bca4bff1/ea934aee-5729-4c5e-aed1-ac25f5489914",ref:{type:"BackgroundMedia",mediaRef:{type:"Image",title:"Cat Pattern",uri:"e62cc2e57d9e4debae58f332bc5f7c13.png",description:"public/6d05b962-a2eb-42f1-afe4-7981bca4bff1/ea934aee-5729-4c5e-aed1-ac25f5489914",width:1001,height:780,artist:{id:"",name:""}},color:"#A7A7A7",alignType:"top_left",fittingType:"legacy_tile",scrollType:"scroll",colorOverlay:"",colorOverlayOpacity:0}},{presetIndex:106,path:"public/6d05b962-a2eb-42f1-afe4-7981bca4bff1/ea934aee-5729-4c5e-aed1-ac25f5489914",ref:{type:"BackgroundMedia",mediaRef:{type:"Image",title:"Popsicles",uri:"16bc88db91d04e34969d6d9ff99d4f27.png",description:"public/6d05b962-a2eb-42f1-afe4-7981bca4bff1/ea934aee-5729-4c5e-aed1-ac25f5489914",width:400,height:400,artist:{id:"",name:""}},color:"#232323",alignType:"top_left",fittingType:"legacy_tile",scrollType:"scroll",colorOverlay:"",colorOverlayOpacity:0}},{presetIndex:107,path:"public/8e256233-1752-4026-9341-54036e7f875e/5abaf36e-05be-41b2-8a0c-e9999bc48c51",ref:{type:"BackgroundMedia",mediaRef:{type:"Image",title:"Gray Waterfall",uri:"/11062b_18eee1c4914c4ef79687cd68f3cf6990f000.jpg",description:"public/8e256233-1752-4026-9341-54036e7f875e/5abaf36e-05be-41b2-8a0c-e9999bc48c51",width:1920,height:1080},color:"{color_11}",alignType:"center",fittingType:"fill",scrollType:"fixed"}},{presetIndex:108,path:"public/491df47b-5958-4dc7-9029-37f428755d45/1fc8b92f-8f6a-403a-a60b-26f7e3bed04f",ref:{type:"BackgroundMedia",mediaRef:{type:"Image",title:"NYC Skyline BW",uri:"ea66f0de45ec4109b5eb190bed2244d1.jpg",description:"public/491df47b-5958-4dc7-9029-37f428755d45/1fc8b92f-8f6a-403a-a60b-26f7e3bed04f",width:1980,height:1200,artist:{id:"",name:""}},color:"#4F4F4F",alignType:"center",fittingType:"fill",scrollType:"fixed",colorOverlay:"",colorOverlayOpacity:0}},{presetIndex:109,path:"public/6d05b962-a2eb-42f1-afe4-7981bca4bff1/ea934aee-5729-4c5e-aed1-ac25f5489914",ref:{type:"BackgroundMedia",mediaRef:{type:"Image",title:"Zebras",uri:"049b8cffb8e449e19cce019a499e72b3.png",description:"public/6d05b962-a2eb-42f1-afe4-7981bca4bff1/ea934aee-5729-4c5e-aed1-ac25f5489914",width:650,height:593,artist:{id:"",name:""}},color:"{color_11}",alignType:"top_left",fittingType:"legacy_tile",scrollType:"scroll",colorOverlay:"",colorOverlayOpacity:0}},{presetIndex:110,path:"public/6d05b962-a2eb-42f1-afe4-7981bca4bff1/bc345090-ef04-4363-9211-3642d0f687f8",ref:{type:"BackgroundMedia",mediaRef:{type:"Image",title:"Triangles Pattern",uri:"09ad59ce71ae4243bc54251181afab81.png",description:"public/6d05b962-a2eb-42f1-afe4-7981bca4bff1/bc345090-ef04-4363-9211-3642d0f687f8",width:94,height:89,artist:{id:"",name:""}},color:"#FFFFFF",alignType:"center",fittingType:"legacy_tile",scrollType:"scroll",colorOverlay:"",colorOverlayOpacity:0}},{presetIndex:111,path:"public/491df47b-5958-4dc7-9029-37f428755d45/1fc8b92f-8f6a-403a-a60b-26f7e3bed04f",ref:{type:"BackgroundMedia",mediaRef:{type:"Image",title:"Cloudy Fog",uri:"d8b91ec474404d93a7be5aefff9abd54.jpg",description:"public/491df47b-5958-4dc7-9029-37f428755d45/1fc8b92f-8f6a-403a-a60b-26f7e3bed04f",width:4928,height:3264,artist:{id:"",name:""}},color:"#4F4F4F",alignType:"center",fittingType:"fill",scrollType:"scroll",colorOverlay:"",colorOverlayOpacity:0}},{presetIndex:112,path:"public/6d05b962-a2eb-42f1-afe4-7981bca4bff1/ea934aee-5729-4c5e-aed1-ac25f5489914",ref:{type:"BackgroundMedia",mediaRef:{type:"Image",title:"Grey Arrows",uri:"be48a6ed702649778e0248921b018462.png",description:"public/6d05b962-a2eb-42f1-afe4-7981bca4bff1/ea934aee-5729-4c5e-aed1-ac25f5489914",width:200,height:200,artist:{id:"",name:""}},color:"#FFFFFF",alignType:"top_left",fittingType:"legacy_tile",scrollType:"scroll",colorOverlay:"",colorOverlayOpacity:0}},{presetIndex:113,path:"public/6d05b962-a2eb-42f1-afe4-7981bca4bff1/ea934aee-5729-4c5e-aed1-ac25f5489914",ref:{type:"BackgroundMedia",mediaRef:{type:"Image",title:"Floating Particles",uri:"65361f1a835843df8f46f809b1b05a7a.png",description:"public/6d05b962-a2eb-42f1-afe4-7981bca4bff1/ea934aee-5729-4c5e-aed1-ac25f5489914",width:200,height:200,artist:{id:"",name:""}},color:"#F7F7F7",alignType:"top_left",fittingType:"legacy_tile",scrollType:"scroll",colorOverlay:"",colorOverlayOpacity:0}},{presetIndex:114,path:"public/8e256233-1752-4026-9341-54036e7f875e/3892dca7-115f-4b62-ba8d-11a7b220ab76",ref:{type:"BackgroundMedia",mediaRef:{type:"Image",title:"Falling shapes White",uri:"/11062b_2ed9e9ea388343a59c387bccf3539098f000.jpg",description:"public/8e256233-1752-4026-9341-54036e7f875e/3892dca7-115f-4b62-ba8d-11a7b220ab76",width:1920,height:1080},color:"{color_11}",alignType:"center",fittingType:"fill",scrollType:"fixed"}}]});define("rEditor/rootComps/panels/backgroundPanel/backgroundPanel.rt",["react","lodash","baseUI","baseUILib","util","panels","uiAnimations","backgroundPresets"],function(a,b,c,d,e,f,g,h){"use strict";function i(a,b,c,d,e){e.preventDefault()}function j(a,b,c,d,e,f){f.preventDefault()}function k(a,b,c,d,e,f){this.replaceColor(f,a)}function l(a,b,c,d,e,f){this.changeColor(f,a)}function m(a,b,c,d,e){this.changeMedia(this.mediaTypes.IMAGE)}function n(a,b,c,d,e){if(!c){this.changeMedia(this.mediaTypes.VIDEO)}}function o(b,d,e,f){var h=this.getMediaType(b.ref);return a.createElement("div",{className:"bg-panel-top"},a.createElement("div",{className:"bg-panel-preview",onContextMenu:j.bind(this,b,d,e,f,h)},a.createElement("div",{className:"bg-panel-preview-media",style:this.getCurrentColor(b)}),a.createElement("div",{ref:"previewMedia",className:"bg-panel-preview-media",style:this.getCurrentMedia(b)}),a.createElement("div",{className:"bg-panel-preview-overlay",style:f.getOverlayStyle(b.ref,this.getEditorAPI())}),a.createElement("div",{className:"bg-panel-preview-buttons"},h!==this.mediaTypes.COLOR?a.createElement(c.tooltip,{disabled:!!this.getCurrentSubPanel(),value:this.getSettingTranslation(h),alignment:"top",className:"control-tooltip-small",key:"settings-tooltip"},a.createElement("div",{className:"bg-panel-preview-button"},a.createElement(g.rotatePartAnimation,{selector:".gear-wheel",play:this.isSettingsPanelOpen()},a.createElement(c.toggle,{name:"settings-icon",label:this.getSettingsButtonTranslation(h),valueLink:this.toggleSubPanel(h),labelAfterSymbol:true})))):null,h===this.mediaTypes.VIDEO?a.createElement(c.tooltip,{key:"video-controls",id:"video-play-tooltip",disabled:this.isPlayBtnTooltipDisabled(h),alignment:"top",className:"control-tooltip-small",value:this.getPlayBtnTranslation()},a.createElement("div",{className:"bg-panel-preview-button"},a.createElement(c.toggle,{name:"play-video",disabled:this.getVideoReadyState()===this.videoReadyStates.IN_PROCESS,valueLink:this.toggleVideoPlayback(this.isVideoPlaying())}),this.getVideoReadyState()===this.videoReadyStates.IN_PROCESS?a.createElement(c.preloader,{key:"play-spinner"}):null)):null),h===this.mediaTypes.IMAGE?a.createElement("div",{onClick:k.bind(this,b,d,e,f,h),className:"bg-panel-preview-color",style:this.getCurrentColor(b),key:"bg-fold"},a.createElement(c.symbol,{name:"fold-clipart"})):null),a.createElement("div",{className:"bg-panel-top-actions"},a.createElement("div",{className:"bg-panel-action"},a.createElement(c.button2,{className:"default bg-panel-action-btn",label:"BGPP_PANEL_COLOR_BUTTON",symbolName:"color-btn",onClick:l.bind(this,b,d,e,f,h)})),a.createElement("div",{className:"bg-panel-action"},a.createElement(c.button2,{onClick:m.bind(this,b,d,e,f,h),className:"default bg-panel-action-btn",symbolName:"image-btn",label:"BGPP_PANEL_IMAGE_BUTTON"})),a.createElement(c.tooltip,{disabled:!e,value:"BGPP_PANEL_VIDEO_BUTTON_MOBILE_TOOLTIP",alignment:"top",className:"control-tooltip-small"},a.createElement("div",{className:"bg-panel-action"},a.createElement(c.button2,{onClick:n.bind(this,b,d,e,f,h),disabled:e,className:"default bg-panel-action-btn",symbolName:"video-btn",label:"BGPP_PANEL_VIDEO_BUTTON"})))))}function p(a,b,c,d){this.handleApplyToOtherClick()}function q(){var b=this.getData();var g=this.getCurrentSubPanel();var j=this.getEditorAPI().isMobileEditor();var k=e.backgroundPanelUtils;return a.createElement(f.frames.leftPanelFrame,{ref:"backgroundPanel",className:"bg-panel",panelName:this.props.panelName,label:this.getTranslation("TITLE"),panelIndex:this.props.panelIndex,panelClass:"bg-panel",helpId:j?"f0d8190e-e2da-48be-9f44-7ecff4518a82":"f11a3bb9-cff0-46d4-92ff-cc8cd9d30468",onContextMenu:i.bind(this,b,g,j,k)},o.apply(this,[b,g,j,k]),a.createElement(d.customScroll,{addScrolledClass:true},a.createElement("div",{className:"bg-panel-preset-list"},a.createElement("div",{className:"bg-panel-preset-list-sections sections","data-tooltip-bounds":"true"},a.createElement(h,this.getPresetsProps())))),a.createElement("div",{className:"bg-panel-bottom"},a.createElement(c.button2,{label:"BGPP_PANEL_APPLY_TO_OTHER_BUTTON",onClick:p.bind(this,b,g,j,k),disabled:this.isOnePager(),className:"default"})))}return function(){return q.apply(this,[])}});define("rEditor/rootComps/panels/backgroundPanel/backgroundPanel",["reactDOM","react","lodash","core","panels","baseUI","util","color","panelUtils","rEditor/rootComps/panels/backgroundPanel/backgroundDesktopPresets.json","rEditor/rootComps/panels/backgroundPanel/backgroundMobilePresets.json","rEditor/rootComps/panels/backgroundPanel/backgroundPanel.rt"],function(a,b,c,d,e,f,g,h,i,j,k,l){"use strict";var m=g.bgPanelBiEvents;var n=g.imageTransform;var o=g.backgroundPanelUtils;var p=o.getMediaTypes();var q=352;var r=184;var s=600;var t=600;var u={IMAGE_SETTINGS:"rEditor.panels.bgImageSettingsPanel",VIDEO_SETTINGS:"rEditor.panels.bgVideoSettingsPanel",APPLY:"rEditor.panels.backgroundApplyPanel"};var v={APPLY_PANEL:"applyPanel",IMAGE_PANEL:"imagePanel",VIDEO_PANEL:"videoPanel",PRESET:"preset",MEDIA:"media",REMOVE:"remove",COLOR:"color"};var w={BG_PRESETS:"bg_presets",BG_COLOR_PICKER:"bg_color_picker",BG_MEDIA_MANAGER_WIXVIDEO:"bg_media_manager_video",BG_MEDIA_MANAGER_IMAGE:"bg_media_manager_image",BG_IMAGE_SETTINGS:"bg_image_settings",BG_VIDEO_SETTINGS:"bg_video_settings"};var x={TITLE:{mobile:"BGPP_PANEL_HEADER_MOBILE_TITLE",desktop:"BGPP_PANEL_HEADER_DSKTOP_TITLE"}};var y={Image:"BGPP_PANEL_IMAGE_SETTINGS_BUTTON",WixVideo:"BGPP_PANEL_VIDEO_SETTINGS_BUTTON"};var z={IN_PROCESS:"in_process",PLAYING_PREVIEW:"playing_preview",IDLE:"idle",NO_VIDEO:"no_video"};function A(a,b){var d=a[0];var e=c.first(d.fileOutput.image);var f=c.groupBy(d.fileOutput.video,"quality");var g=c.pick(e,["width","height","url"]);g.type="Image";g.uri=g.url.replace(/^(.*[\/])/,"");delete g.url;g.description=b.path;var h={type:"WixVideo",title:d.title,videoId:d.fileBaseUrl,duration:Math.round(d.fileInput.duration/1e3),posterImageRef:g,opacity:1,autoplay:true,loop:true,preload:"auto",mute:true,artist:{name:d.vendor||"",id:d.reference||""}};h.qualities=c.map(f,function(a){var b=c.pluck(a,"format");var d=c.pick(a[0],["width","height","quality"]);d.formats=b;return d});return h}function B(a,b){var c=a[0];return{type:"Image",uri:c.fileName,title:c.title,description:b.path,width:c.width,height:c.height,artist:{name:c.vendor||"",id:c.reference||""}}}function C(a,b,e){if(a===u.APPLY){m.applyToOtherClick(b,d.bi.events.backgroundPanel.panel_apply_to_other_pages_click)}else{e.origin=w["BG_"+c.invert(u)[a].toUpperCase()]}}function D(a,b,c){var d=a.getUserPreferences();var e=a.pages.getPrimaryPageId();d.session.set("bg_panel_last_media_path_"+e,{type:b,path:c.path})}function E(a){var b=a.getUserPreferences();var c=a.pages.getPrimaryPageId();return b.session.get("bg_panel_last_media_path_"+c)||{}}function F(a,b){return a.homePage.get()===b}function G(a,b,c){if(F(a,c)&&!b.ref.mediaRef){b.ref.id=g.guidUtils.getUniqueId(c,"_")+"_bg"}}function H(a,b){var c=a.getUserPreferences();var d=a.pages.getPrimaryPageId();var e=b===p.VIDEO?"bg_video_settings_data_changed_":"bg_image_settings_data_changed_";c.session.set(e+d,false);c.session.set("bg_video_settings_pattern_state_"+d,false)}function I(a,b){a.ref.scrollType="fixed";var c=b.pages.getPrimaryPageId();var d=b.getUserPreferences();var e=d.session.get("bg_video_settings_data_changed_"+c);if(!e){o.clearOverlayData(a)}}function J(a,b,c){var d=c.pages.getPrimaryPageId();var e=c.getUserPreferences();var f=e.session.get("bg_image_settings_data_changed_"+d);if(f){a.opacity=b.ref.mediaRef&&b.ref.mediaRef.opacity||1}o.clearOverlayData(b)}function K(){return z}return b.createClass({displayName:"backgroundPanel",mixins:[d.mixins.editorAPIMixin,g.blockOuterScrollMixin,i.linkColorPickerMixin],panelBoundingRect:{},mediaTypes:p,getMediaType:o.getMediaType,subPanels:u,videoReadyStates:null,componentDidMount:function(){this.panelBoundingRect=a.findDOMNode(this).getBoundingClientRect();var b=this.getEditorAPI();b.pages.background.video.registerToPlayingChange(this.playingStatusChanged);this.markMobileDataDuplications()},componentWillUnmount:function(){this.closeSubPanel(this.getCurrentSubPanel());var a=this.getEditorAPI();a.pages.background.video.unregisterToPlayingChange(this.playingStatusChanged);this.pauseVideo();m.changedBackgroundBiEvent(this.getEditorAPI(),d.bi.events.backgroundPanel.panel_background_changed,this.getData().ref,this.biEventsParams)},getInitialState:function(){this.videoReadyStates=K();this.biEventsParams={origin:null,presetIndex:null};return{isVideoPlaying:false,videoReadyState:this.videoReadyStates.IDLE}},componentDidUpdate:function(){if(this.getVideoReadyState()===this.videoReadyStates.IDLE){f.tooltipManager.hide("video-play-tooltip")}},previewVideo:function(){var a=this.getEditorAPI();a.pages.background.video.play()},pauseVideo:function(){var a=this.getEditorAPI();if(!a.getPreviewMode()){a.pages.background.video.pause()}},isVideoPlaying:function(){var a=this.getEditorAPI();return a.pages.background.video.isPlaying()},getVideoReadyState:function(){var a=this.getEditorAPI();return a.pages.background.video.getReadyState()},playingStatusChanged:function(){this.forceUpdate()},videoReadyStateChanged:function(){this.forceUpdate()},linkedBackgroundColor:function(a,b,c){var d=b[c].replace(/[\{\}]/g,"");return{value:d,requestChange:function(d){b[c]=/color_/.test(d)?"{"+d+"}":d;this.biEventsParams.origin=w.BG_COLOR_PICKER;this.onRequestChange(a)}.bind(this)}},getCurrentSubPanel:function(){var a=c.find(this.props.editorState.openPanels,function(a){return c.includes(u,a.name)});return a&&a.name},isSettingsPanelOpen:function(){var a=this.getCurrentSubPanel();return a===u.IMAGE_SETTINGS||a===u.VIDEO_SETTINGS},closeSubPanel:function(a){if(a){e.panelManager.closePanelByName(a)}},getData:function(a){return o.getBackgroundData(this.getEditorAPI(),a)},onRequestChange:function(a,b,c){var d=this.getEditorAPI();var e=d.getDeviceType();c=c||d.pages.getPrimaryPageId();G(d,a,c);o.handleMobileDataChange(e,a,d,c);d.pages.background.update(c,a,e);this.undoHandler(b);if(this.state.isVideoPlaying){this.pauseVideo();this.setState({isVideoPlaying:false})}},undoHandler:function(a){var b=this.getEditorAPI();var d=c.values(v);if(c.includes(d,a)){b.history.add("background panel - "+a)}},toggleSubPanel:function(a){var b=this.getCurrentSubPanel();return{value:b&&b!==this.subPanels.APPLY,requestChange:function(){var b=a===this.mediaTypes.VIDEO?this.subPanels.VIDEO_SETTINGS:this.subPanels.IMAGE_SETTINGS;this.toggleSubPanelChange(b)}.bind(this)}},toggleSubPanelChange:function(a){var b=this.getCurrentSubPanel();if(a===b){this.closeSubPanel(a)}else{this.openSubPanel(a)}},openSubPanel:function(a){C(a,this.getEditorAPI(),this.biEventsParams);var b=this.getSubPanelProps();e.panelManager.openPanel(a,b,true)},getSubPanelProps:function(a){return{requestChange:this.onRequestChange,undoHandler:this.undoHandler,undoOrigins:v,getData:this.getData,panelName:a,top:this.panelBoundingRect.top,left:this.panelBoundingRect.left+this.panelBoundingRect.width+15,width:290}},getCurrentMedia:function(a){var b={};var d;var e;var f;if(a.ref.mediaRef){if(this.getMediaType(a.ref)===this.mediaTypes.IMAGE){d=a.ref.mediaRef}else{d=a.ref.mediaRef.posterImageRef}f=o.isSmallerFromContainer(d.width,d.height,s,t);if(f){e=n.fittingTypes.TILE}else{e=n.fittingTypes.SCALE_TO_FILL}var h=o.getImageDisplayData(e,a.ref.alignType,d.uri,d.width,d.height,q,r);b.backgroundImage="url("+g.url.joinURL(o.MEDIA_URL_PREFIX,h.uri)+")";b.opacity=d.opacity;c.assign(b,h.css.container)}c.assign(b,this.getCurrentColor(a));return b},getCurrentColor:function(a){var b=o.getColorValue(this.getEditorAPI(),a.ref.color);return{backgroundColor:b}},toggleVideoPlayback:function(a){return{value:a,requestChange:function(a){if(a){this.previewVideo()}else{this.pauseVideo()}}.bind(this)}},replaceColor:function(a,b){this.setColorPicker(a,b,this.colorPickerPanelHandleReplace,true)},changeColor:function(a,b){var c=!b.ref.mediaRef;this.setColorPicker(a,b,this.colorPickerPanelHandleChange,c)},setColorPicker:function(a,b,c,d){var e=d?b.ref.color.replace(/[\[\{\}\]]/g,""):"noColor";var f={top:a.clientY,left:a.clientX};this.openColorPicker(c,e,true,f,d,true)},colorPickerPanelHandleReplace:function(a){this.closeSubPanel(this.getCurrentSubPanel());var b=this.getData();if(/color_/.test(a)){b.ref.color="{"+a+"}"}else if(/rgba/.test(a)){b.ref.color=new h(a).hexString()}else{b.ref.color=a}this.biEventsParams.origin=w.BG_COLOR_PICKER;this.onRequestChange(b)},colorPickerPanelHandleChange:function(a){this.closeSubPanel(this.getCurrentSubPanel());var b=this.getData();if(b.ref.mediaRef){b.ref.mediaRef=null;H(this.getEditorAPI(),p.VIDEO);H(this.getEditorAPI(),p.IMAGE);o.clearOverlayData(b);this.undoHandler(v.REMOVE)}if(/color_/.test(a)){b.ref.color="{"+a+"}"}else if(/rgba/.test(a)){b.ref.color=new h(a).hexString()}else{b.ref.color=a}this.biEventsParams.origin=w.BG_COLOR_PICKER;this.onRequestChange(b)},selectPreset:function(a,b,d){var e=this.getData();var g=this.getEditorAPI();f.tooltipManager.hideAll();this.closeSubPanel(this.getCurrentSubPanel());c.assign(a,c.omit(e,"ref"));if(a.path){D(g,this.getMediaType(a.ref),{path:a.path})}delete a.path;delete a.presetIndex;H(g,p.VIDEO);H(g,p.IMAGE);this.biEventsParams={presetIndex:d,origin:w.BG_PRESETS};this.onRequestChange(a,v.PRESET)},onMediaManagerCallback:function(a,b,c){if(!b){return}var d;var e;var f=this.getEditorAPI();var g=this.getData();D(f,a,c);if(a===this.mediaTypes.VIDEO){d=A(b,c);I(g,f);H(f,p.IMAGE);e=d.posterImageRef;g.ref.scrollType="fixed"}else if(a===this.mediaTypes.IMAGE){d=B(b,c);J(d,g,f);H(f,p.VIDEO);e=d}var h=o.isSmallerFromContainer(e.width,e.height,s,t);var i;if(a===this.mediaTypes.IMAGE&&h){i=n.fittingTypes.LEGACY_BG_FIT_AND_TILE}else{i=n.fittingTypes.SCALE_TO_FILL}g.ref.fittingType=i;g.ref.alignType=n.alignTypes.CENTER;g.ref.mediaRef=d;this.biEventsParams.origin=w["BG_MEDIA_MANAGER_"+a.toUpperCase()];this.onRequestChange(g,v.MEDIA)},openMediaManager:function(a,b){if(!a){return}var c=this.getEditorAPI();var d=c.mediaServices.mediaManager;var e;var f=E(c);var h=f.type===a?f.path||"":"";if(a===this.mediaTypes.IMAGE){e=d.categories.BG_IMAGE}else if(a===this.mediaTypes.VIDEO){e=d.categories.BG_VIDEO}this.closeSubPanel(this.getCurrentSubPanel());d.open(e,{callback:b,path:h,translation:{submitButton:g.translate("MMGR_submitbutton_background_uploads_change")}})},changeMedia:function(a){this.openMediaManager(a,this.onMediaManagerCallback.bind(this,a))},closePanel:function(){this.refs.backgroundPanel.close()},getTranslation:function(a){var b=this.getEditorAPI().getDeviceType();return g.translate(x[a][b])},getSettingsButtonTranslation:function(a){return y[a]},handleApplyToOtherClick:function(){if(!this.isOnePager()){this.toggleSubPanelChange(this.subPanels.APPLY)}},isOnePager:function(){return this.getEditorAPI().pages.getPageIdList().length===1},markMobileDataDuplications:function(){var a=this.getEditorAPI();var b=a.getUserPreferences();var c=this.getData("mobile").ref.id;var e=b.session.get("bg_panel_mobile_data_duplications_"+c);if(e){return}var f=a.pages.getPrimaryPageId();var g=0;var h=a.pages.getPagesData();for(var i=0;i<h.length;i++){if(h[i].id!==f&&h[i].pageBackgrounds.mobile.ref.id===c){g++}}b.session.set("bg_panel_mobile_data_duplications_"+c,{count:g});if(g){m.mobileDataDuplicationError(this.getEditorAPI(),d.bi.errors.BG_MOBILE_DATA_DUPLICATION_ERROR)}},isPlayBtnTooltipDisabled:function(){return this.getVideoReadyState()===this.videoReadyStates.IDLE},getPlayBtnTranslation:function(){var a="";var b=this.getVideoReadyState();if(b===this.videoReadyStates.PLAYING_PREVIEW){a="BGPP_PANEL_VIDEO_PLAYBACK_PREVIEW_READY_TOOLTIP"}else if(b===this.videoReadyStates.IN_PROCESS){a="BGPP_PANEL_VIDEO_PLAYBACK_NOT_READY_TOOLTIP"}return a},getSettingTranslation:function(a){var b="";if(a===this.mediaTypes.IMAGE){b="BGPP_PANEL_IMAGE_SETTINGS_BUTTON_TOOLTIP"}else if(a===this.mediaTypes.VIDEO){b="BGPP_PANEL_VIDEO_SETTINGS_BUTTON_TOOLTIP"}return b},getPresetsProps:function(){return{desktopPresets:j,mobilePresets:k,title:g.translate("BGPP_PANEL_SELECTED_SECTION_TITLE"),infoTooltip:"BGPP_PANEL_SELECTED_SECTION_TOOLTIP",onSelectPreset:this.selectPreset,columns:4}},render:function(){return l.apply(this)}})});define("rEditor/rootComps/panels/backgroundPanel/backgroundSubPanels/bgImageSettingsPanel.rt",["react","lodash","baseUI","baseUILib","symbols","panels"],function(a,b,c,d,e,f){"use strict";function g(a,c){var d=b.assign({},a,c);if(a.hasOwnProperty("style")){d.style=b.defaults(d.style,a.style)}if(a.hasOwnProperty("className")&&c.hasOwnProperty("className")){d.className=c.className+" "+a.className}return d}function h(b,d,e){return a.createElement(c.dropDown.option,{key:"fittingTypeOption"+e,value:d.value},d.label)}function i(){var e=this.props.getData();return a.createElement(f.frames.bgSubPanelFrame,g({helpId:"54c7eb1c-a6c7-46c9-9261-96eecf3bb0eb",className:"background-image-settings-panel background-sub-panel",label:"BGPP_SETTINGS_IMAGE_PANEL_HEADER_TITLE"},b.omit(this.props,"children")),a.createElement(d.customScroll,{},a.createElement("div",{className:"bg-image-settings-panel-scrollbox bg-settings-panel-scrollbox"},a.createElement(c.slider,{valueLink:this.linkedBackgroundOpacityData(e,e.ref.mediaRef,"opacity"),label:"BGPP_SETTINGS_IMAGE_OPACITY_TITLE",min:0,max:100,step:1}),a.createElement(d.divider,{long:true}),a.createElement("div",{className:"color-picker-input-wrapper"},a.createElement(c.colorPickerInput,g({label:"BGPP_SETTINGS_IMAGE_BG_COLOR_TITLE",ref:"bgColorPickerInput",className:"label-left",valueLink:this.linkedBackgroundColor(e,e.ref,"color")},this.getColorPickerProps()))),!this.getEditorAPI().isMobileEditor()?a.createElement("div",{key:"scrollTypeRadiosDivider"},a.createElement(d.divider,{long:true}),a.createElement(c.sectionDividerLabeled,{label:"BGPP_SETTINGS_IMAGE_SCROLL_SECTION_TITLE",infoText:"BGPP_SETTINGS_IMAGE_SCROLL_SECTION_TOOLTIP"}),a.createElement(d.divider,{long:true}),a.createElement(c.thumbnails,{maxThumbsPerRow:"3",className:"with-labels scroll-type-thumbs",options:this.getEffectsThumbOptions(),valueLink:this.linkedBackgroundData(e,e.ref,"scrollType")})):null,a.createElement(d.divider,{long:true}),a.createElement(c.sectionDividerLabeled,{label:"BGPP_SETTINGS_IMAGE_LAYOUT_SECTION_TITLE"}),a.createElement(d.divider,{long:true}),a.createElement.apply(this,[c.dropDown.select,{valueLink:this.linkedBackgroundData(e,e.ref,"fittingType"),label:"BGPP_SETTINGS_IMAGE_FITTING_TITLE"},b.map(this.getFittingOptions(e.ref.scrollType),h.bind(this,e))]),a.createElement(d.divider,{long:true}),a.createElement(c.alignment,{options:c.commonData.ALIGNMENT_MODES_XY,valueLink:this.linkedBackgroundData(e,e.ref,"alignType"),label:"BGPP_SETTINGS_IMAGE_ALIGN_TITLE"}))))}return function(){return i.apply(this,[])}});define("rEditor/rootComps/panels/backgroundPanel/backgroundSubPanels/bgImageSettingsPanel",["core","react","lodash","panels","util","panelUtils","rEditor/rootComps/panels/backgroundPanel/backgroundSubPanels/bgImageSettingsPanel.rt"],function(a,b,c,d,e,f,g){"use strict";var h=e.backgroundPanelUtils;var i=e.imageTransform.fittingTypes;var j=600;var k=600;var l=[{label:"BGPP_SETTINGS_IMAGE_FITTING_SCALE_TO_FILL",value:i.SCALE_TO_FILL},{label:"BGPP_SETTINGS_IMAGE_FITTING_SCALE_TO_FIT",value:i.SCALE_TO_FIT},{label:"BGPP_SETTINGS_IMAGE_FITTING_ORIGINAL_SIZE",value:i.LEGACY_BG_NORMAL},{label:"BGPP_SETTINGS_IMAGE_FITTING_TILE",value:i.LEGACY_BG_FIT_AND_TILE},{label:"BGPP_SETTINGS_IMAGE_FITTING_TILE_HORIZONTALLY",value:i.LEGACY_BG_FIT_AND_TILE_HORIZONTAL},{label:"BGPP_SETTINGS_IMAGE_FITTING_TILE_VERTICALLY",value:i.LEGACY_BG_FIT_AND_TILE_VERTICAL}];var m=[{value:"scroll",label:"BGPP_SETTINGS_IMAGE_SCROLL_NONE",symbolName:"thumb-none"},{value:"parallax",label:"BGPP_SETTINGS_IMAGE_SCROLL_PARALLAX",symbolName:"scroll-fx-site-bg-parallax"},{value:"fixed",label:"BGPP_SETTINGS_IMAGE_SCROLL_FREEZE",symbolName:"scroll-fx-site-bg-freeze"}];var n=[{label:"BGPP_SETTINGS_IMAGE_FITTING_SCALE_TO_FILL",value:i.SCALE_TO_FILL},{label:"BGPP_SETTINGS_IMAGE_FITTING_TILE",value:i.LEGACY_BG_FIT_AND_TILE}];var o=[i.LEGACY_BG_FIT_AND_TILE,i.LEGACY_BG_FIT_AND_TILE_HORIZONTAL,i.LEGACY_BG_FIT_AND_TILE_VERTICAL];var p={opacity:1,fittingType:i.SCALE_TO_FILL,alignType:"center",scrollType:"scroll"};function q(a){var b=a.getUserPreferences();var c=a.pages.getPrimaryPageId();b.session.set("bg_image_settings_data_changed_"+c,true)}return b.createClass({displayName:"bgImageSettingsPanel",mixins:[a.mixins.editorAPIMixin,f.linkColorPickerMixin],childContextTypes:{reportUIChange:b.PropTypes.func},getInitialState:function(){this.lastScrollingType=null;return{}},shouldComponentUpdate:function(a){var b=a.getData();if(!b.ref.mediaRef||b.ref.mediaRef.type!=="Image"){d.panelManager.closePanelByName(a.panelName);return false}return true},getChildContext:function(){return{reportUIChange:this.onUIChange}},onUIChange:function(a){if(a==="slider"){this.props.undoHandler(this.props.undoOrigins.IMAGE_PANEL)}},linkedBackgroundData:function(a,b,c){var d=typeof b[c]==="undefined"?p[c]:b[c];return{value:d,requestChange:function(d){if(c==="scrollType"&&d==="parallax"){b.fittingType=this.getFittingTypeForParallax(a)}b[c]=d;this.props.requestChange(a,this.props.undoOrigins.IMAGE_PANEL);q(this.getEditorAPI())}.bind(this)}},linkedBackgroundOpacityData:function(a,b,c){var d=typeof b[c]==="undefined"?p[c]:b[c];d*=100;return{value:d,requestChange:function(d){d/=100;b[c]=d;this.props.requestChange(a);q(this.getEditorAPI())}.bind(this)}},linkedBackgroundColor:function(a,b,c){var d=b[c].replace(/[\{\}]/g,"");return{value:d,requestChange:function(d){b[c]=/color_/.test(d)?"{"+d+"}":d;this.props.requestChange(a);q(this.getEditorAPI())}.bind(this)}},getColorPickerProps:function(){return{useMouseEvent:true,colorResolver:this.resolveColor,openColorPicker:this.openColorPicker,previewOnHover:true}},getFittingOptions:function(a){if(a==="parallax"){return n}return l},getEffectsThumbOptions:function(){return m},getFittingTypeForParallax:function(a){var b=a.ref.fittingType;var d=a.ref.mediaRef;var e=i.LEGACY_BG_FIT_AND_TILE;var f=i.SCALE_TO_FILL;var g=h.isSmallerFromContainer(d.width,d.height,j,k);var l=c.includes(o,b)||g&&b!==f;return l?e:f},render:g})});define("rEditor/rootComps/panels/backgroundPanel/backgroundSubPanels/bgVideoSettingsPanel.rt",["react","lodash","baseUI","baseUILib","symbols","panels","util"],function(a,b,c,d,e,f,g){"use strict";function h(a,c){var d=b.assign({},a,c);if(a.hasOwnProperty("style")){d.style=b.defaults(d.style,a.style)}if(a.hasOwnProperty("className")&&c.hasOwnProperty("className")){d.className=c.className+" "+a.className}return d}function i(b,d,e,f){return a.createElement(c.dropDown.option,{key:"playbackOption"+f,value:e.value},e.label,"\n                \n            ")}function j(){var e=this.props.getData();var j=g.translate;return a.createElement(f.frames.bgSubPanelFrame,h({helpId:"7f54f04e-6e0b-4f73-96e2-6c98dd28e822",className:"background-video-settings-panel background-sub-panel",label:"BGPP_SETTINGS_VIDEO_PANEL_HEADER_TITLE"},b.omit(this.props,"children")),a.createElement(d.customScroll,{},a.createElement("div",{className:"bg-video-settings-panel-scrollbox bg-settings-panel-scrollbox"},a.createElement("div",{className:"background-video-patterns-control"},a.createElement(c.thumbnails,{radioType:"class",valueLink:this.linkedPatternOption(e,e.ref.imageOverlay),maxThumbsPerRow:"4",title:"BGPP_SETTINGS_VIDEO_OVERLAY_PATTERN_TITLE",options:this.thumbPatternOptions}),e.ref.imageOverlay?a.createElement(c.buttonsGroup,{className:"overlay-pattern-btn-group",valueLink:this.applyInversePattern(e,e.ref.imageOverlay),options:this.getInvertPatternOption(),
key:"inversePattern"}):null),a.createElement(d.divider,{long:true}),a.createElement(c.toggle,{valueLink:this.applyOverlayColor(e),label:"BGPP_SETTINGS_VIDEO_OVERLAY_COLOR_TITLE"}),this.isColorOverlay(e)?a.createElement(d.divider,{long:false,key:"color-picker-input-divider"}):null,this.isColorOverlay(e)?a.createElement(c.colorPickerInputWithOpacity,b.assign({},{ref:"bgColorPickerInput",key:"color-picker-input",label:"BGPP_SETTINGS_VIDEO_COLOR_OPACITY_TITLE",valueLink:this.linkColorWithOpacity(e,e.ref)},this.getColorPickerProps())):null,a.createElement(d.divider,{long:true}),a.createElement(c.sectionDividerLabeled,{label:"BGPP_SETTINGS_VIDEO_PLAYBACK_SECTION_TITLE"}),this.getEditorAPI().isDesktopEditor()?a.createElement(d.divider,{long:true,key:"whptoDividerImageDesc"}):null,a.createElement.apply(this,[c.dropDown.select,{valueLink:this.linkedBackgroundData(e,e.ref.mediaRef,"playbackSpeed"),label:g.translate("BGPP_SETTINGS_VIDEO_PLAYBACK_TITLE"),shouldTranslate:false},b.map(this.getPlaybackOptions(),i.bind(this,e,j))]),a.createElement(d.divider,{long:true}),a.createElement(c.toggle,{valueLink:this.linkedBackgroundData(e,e.ref.mediaRef,"loop"),label:"BGPP_SETTINGS_VIDEO_LOOP_TITLE"}))))}return function(){return j.apply(this,[])}});define("rEditor/rootComps/panels/backgroundPanel/backgroundSubPanels/bgVideoSettingsPanel",["react","core","lodash","panels","panelUtils","util","rEditor/rootComps/panels/backgroundPanel/backgroundSubPanels/bgVideoSettingsPanel.rt"],function(a,b,c,d,e,f,g){"use strict";var h=[{value:null,className:"v-overlay-pat-0-icon"},{value:"",className:"v-overlay-pat-1-icon"},{value:"",className:"v-overlay-pat-2-icon"},{value:"",className:"v-overlay-pat-3-icon"},{value:"",className:"v-overlay-pat-4-icon"},{value:"",className:"v-overlay-pat-5-icon"},{value:"",className:"v-overlay-pat-6-icon"},{value:"",className:"v-overlay-pat-7-icon"}];var i=[{uri:"0da768_8b89980121844d37be099f0dbe33e3e3.png",width:6,height:6},{uri:"0da768_4371c7e64a49489bb88c536f515f2040.png",width:6,height:6},{uri:"0da768_361994b0f154464682a0aaf9724471cc.png",width:56,height:56},{uri:"0da768_880a3209e3744cd0a96b66835a01b8c5.png",width:256,height:256},{uri:"0da768_2729bfbce3874276a7dd057098f93949.png",width:6,height:6},{uri:"0da768_8fae2cc5b7bf477fb13faa1f2582dbd2.png",width:4,height:6},{uri:"0da768_2326357be59441978a570bec687a94d0.png",width:3,height:3}];var j=[{uri:"0da768_5810e2bd76f64c77a67904ad2b073444.png",width:6,height:6},{uri:"0da768_46b55443eb984c0eacfbdcb1b67a2b7b.png",width:6,height:6},{uri:"0da768_d3e25a05cedd404f807528f6a4750388.png",width:56,height:56},{uri:"0da768_95dbd595356148718d5876246a20fe90.png",width:256,height:256},{uri:"0da768_0ffcd1b0986d43b4aaa061b8b17d4040.png",width:6,height:6},{uri:"0da768_0c0d2dc79bc14f6b8275c3b72fec1ab6.png",width:4,height:6},{uri:"0da768_09a75bbb10944eafb4539206b6a3c615.png",width:3,height:3}];for(var k=0;k<i.length;k++){i[k].type="Image";j[k].type="Image"}var l=[{value:.25,label:"0.25x"},{value:.5,label:"0.50x"},{value:1,label:f.translate("BGPP_SETTINGS_VIDEO_PLAYBACK_NORMAL")},{value:1.25,label:"1.25x"},{value:1.5,label:"1.50x"},{value:2,label:"2.00x"}];var m=[{value:false,label:"BGPP_SETTINGS_VIDEO_OVERLAY_PATTERN_DARKER"},{value:true,label:"BGPP_SETTINGS_VIDEO_OVERLAY_PATTERN_LIGHTER"}];var n={loop:true,uri:null,colorOverlay:"#ffffff",colorOverlayOpacity:.2,scrollType:"scroll",playbackSpeed:1};function o(a,b){var c=a.getUserPreferences();var d=a.pages.getPrimaryPageId();c.session.set("bg_video_settings_pattern_state_"+d,b)}function p(a){var b=a.getUserPreferences();var c=a.pages.getPrimaryPageId();b.session.set("bg_video_settings_data_changed_"+c,true)}function q(a){return a===j}function r(a,b){var d;if(!a.ref.imageOverlay){var e=b.pages.getPrimaryPageId();var f=b.getUserPreferences();d=f.session.get("bg_video_settings_pattern_state_"+e);return d?j:i}else if(c.find(i,{uri:a.ref.imageOverlay.uri})){return i}return j}return a.createClass({displayName:"bgVideoSettingsPanel",mixins:[b.mixins.editorAPIMixin,e.linkColorPickerMixin],propTypes:{getData:a.PropTypes.func,undoHandler:a.PropTypes.func,requestChange:a.PropTypes.func,undoOrigins:a.PropTypes.shape({VIDEO_PANEL:a.PropTypes.object})},childContextTypes:{reportUIChange:a.PropTypes.func},getInitialState:function(){this.lastColor="";this.lastColorOpacity=null;var a=this.props.getData();this.currentPatterns=r(a,this.getEditorAPI());this.patternState=q(this.currentPatterns);this.thumbPatternOptions=this.fillThumbPatternOptions(this.currentPatterns);return null},getChildContext:function(){return{reportUIChange:this.onUIChange}},onUIChange:function(a){if(a.toLowerCase()==="slider"){this.props.undoHandler(this.props.undoOrigins.VIDEO_PANEL)}},linkedPatternOption:function(a,b){return{value:b&&b.uri||null,requestChange:function(b){if(b){var d=c.find(this.currentPatterns,{uri:b});this.patternState=q(this.currentPatterns);a.ref.imageOverlay=a.ref.imageOverlay||{};c.assign(a.ref.imageOverlay,d)}else{a.ref.imageOverlay=null}o(this.getEditorAPI(),this.patternState);this.props.requestChange(a,this.props.undoOrigins.VIDEO_PANEL);p(this.getEditorAPI())}.bind(this)}},applyInversePattern:function(a,b){return{value:this.patternState,requestChange:function(d){var e=c.findIndex(this.currentPatterns,{uri:b.uri});this.currentPatterns=d?j:i;this.fillThumbPatternOptions(this.currentPatterns);c.assign(a.ref.imageOverlay,this.currentPatterns[e]);this.patternState=d;o(this.getEditorAPI(),d);this.props.requestChange(a,this.props.undoOrigins.VIDEO_PANEL);p(this.getEditorAPI())}.bind(this)}},isColorOverlay:function(a){return!c.isEmpty(a.ref.colorOverlay)&&c.isNumber(a.ref.colorOverlayOpacity)},applyOverlayColor:function(a){return{value:this.isColorOverlay(a),requestChange:function(b){if(b){a.ref.colorOverlay=this.lastColor?this.lastColor:a.ref.color;a.ref.colorOverlayOpacity=c.isNumber(this.lastColorOpacity)?this.lastColorOpacity:n.colorOverlayOpacity}else{this.lastColor=a.ref.colorOverlay;this.lastColorOpacity=a.ref.colorOverlayOpacity;a.ref.colorOverlay="";a.ref.colorOverlayOpacity=0}this.props.requestChange(a,this.props.undoOrigins.VIDEO_PANEL);p(this.getEditorAPI())}.bind(this)}},linkColorWithOpacity:function(a,b){return{value:{color:b.colorOverlay.replace(/[\{\}]/g,""),alpha:b.colorOverlayOpacity},requestChange:function(c){b.colorOverlay=/color_/.test(c.color)?"{"+c.color+"}":c.color;b.colorOverlayOpacity=c.alpha;this.props.requestChange(a);p(this.getEditorAPI())}.bind(this)}},getColorPickerProps:function(){return{colorResolver:this.resolveColor,openColorPicker:this.openColorPicker,previewOnHover:true,useMouseEvent:true,enableHistory:true}},shouldComponentUpdate:function(a){var b=a.getData();if(!b.ref.mediaRef||b.ref.mediaRef.type!=="WixVideo"){d.panelManager.closePanelByName(a.panelName);return false}return true},linkedBackgroundData:function(a,b,c){return{value:!b||typeof b[c]==="undefined"?n[c]:b[c],requestChange:function(d){b[c]=d;this.props.requestChange(a,this.props.undoOrigins.VIDEO_PANEL);p(this.getEditorAPI())}.bind(this)}},getPlaybackOptions:function(){return l},fillThumbPatternOptions:function(a){c.forEach(a,function(b,c){h[c+1].value=a[c].uri});return h},getInvertPatternOption:function(){return m},render:g})});define("rEditor/rootComps/panels/backgroundPanel/backgroundSubPanels/bgApplyPanelPageItem.rt",["react","lodash","baseUI","symbols","core"],function(a,b,c,d,e){"use strict";function f(){var f=this.props.page;var g=this.initialBgData;var h=this.getCurrentPageData();var i=this.getEditorAPI();return a.createElement("div",{className:b(this.getItemClassNames(f)).transform(function(a,b,c){if(b){a.push(c)}},[]).join(" ")},a.createElement("label",{className:"item-label"},g?a.createElement(c.toggle,{name:"checkbox",labelAfterSymbol:true,key:"normal-checkbox",className:"bg-apply-checkbox",value:this.state.checked,onChange:this.handleToggleChanged,disabled:this.isCurrentPage()}):null,g?a.createElement("span",{className:"page-preview",key:"page-preview",style:this.getBgImageUrl(this.state.checked?h:g)},this.getMediaType(this.state.checked?h.ref:this.initialBgData.ref)===this.mediaTypes.VIDEO?a.createElement("div",{key:"page-preview-video-controls",className:"page-preview-video-controls"},a.createElement(c.symbol,{name:"bgVideoIndicator"})):null):null,a.createElement("span",{className:"page-name"},f.label,"\n            ",a.createElement("span",{className:"page-info"},f.pageData&&i.pages.isHomePage(f.pageData.id)?a.createElement(d.symbol,{name:"pageItemHomeIcon",key:"isHome"}):null,f.pageData&&e.utils.tpaTypeUtils.isTPA(f.pageData)&&!e.utils.tpaTypeUtils.isTPASpecialPage(i,f.pageData)?a.createElement(d.symbol,{name:"actionButtonSpecialPages",key:"isTpaPage"}):null,f.pageData&&e.utils.blogTypeUtils.isBlogSectionPage(i,f.pageData)?a.createElement(d.symbol,{name:"actionButtonBlogPages",key:"isBlogPage"}):null,f.type.isLink?a.createElement(d.symbol,{name:"pageItemLinkIcon",key:"isLink"}):null,f.type.isDropdown?a.createElement(d.symbol,{name:"pageItemDropdownIcon",key:"isDropDown"}):null,!f.isVisible?a.createElement(d.symbol,{name:"pageItemHideIcon",key:"isHidden"}):null))))}return function(){return f.apply(this,[])}});define("rEditor/rootComps/panels/backgroundPanel/backgroundSubPanels/bgApplyPanelPageItem",["react","core","lodash","util","rEditor/rootComps/panels/backgroundPanel/backgroundSubPanels/bgApplyPanelPageItem.rt"],function(a,b,c,d,e){"use strict";var f=d.imageTransform;var g=d.backgroundPanelUtils;var h=g.getMediaTypes();var i=50;var j=35;return a.createClass({mixins:[b.mixins.editorAPIMixin,a.addons.LinkedStateMixin],displayName:"bgApplyPanelPageItem",propTypes:{page:a.PropTypes.object.isRequired,itemBgData:a.PropTypes.object,currentPageBgData:a.PropTypes.object,valueLink:a.PropTypes.func,currentPageId:a.PropTypes.string,isCurrentPage:a.PropTypes.bool,isSubMenu:a.PropTypes.bool,isSubMenuLast:a.PropTypes.bool},mediaTypes:h,getInitialState:function(){this.initialBgData=this.props.itemBgData;return{checked:this.isCurrentPage()}},componentWillReceiveProps:function(a){if(this.isValueChanged(a)){this.setState({checked:a.valueLink.value})}},componentStateChanged:function(){this.props.valueLink.requestChange(this.state.checked,this.props.page.pageData.id,this.initialBgData)},handleToggleChanged:function(a){this.setState({checked:a},this.componentStateChanged)},shouldComponentUpdate:function(a,b){return!this.isCurrentPage()&&(this.isCheckedStateChanged(b)||this.isValueChanged(a))},isValueChanged:function(a){return a.valueLink.value!==null&&this.props.valueLink.value!==a.valueLink.value},isCheckedStateChanged:function(a){return a.checked!==this.state.checked},isCurrentPage:function(){return this.props.isCurrentPage},getItemClassNames:function(a){return{"bg-apply-panel-item":true,"item-hidden":!a.isVisible,"current-page":this.isCurrentPage(),"item-first-level":!this.props.isSubMenu,"item-second-level":this.props.isSubMenu,"item-second-level-last":this.props.isSubMenuLast,"item-is-page":a.type.isPage}},getMediaType:function(a){return g.getMediaType(a)},getCurrentPageData:function(){return this.props.currentPageBgData},getBgImageUrl:function(a){var b=g.getColorValue(this.getEditorAPI(),a.ref.color);var e={backgroundColor:b};var k=this.getMediaType(a.ref);if(k!==h.COLOR){var l=k===h.IMAGE?a.ref.mediaRef:a.ref.mediaRef.posterImageRef;var m=g.isSmallerFromContainer(l.width,l.height,i,j);var n=g.getImageDisplayData(m?f.fittingTypes.TILE:f.fittingTypes.SCALE_TO_FILL,a.ref.alignType,l.uri,l.width,l.height,i,j);e.backgroundImage="url("+d.url.joinURL(g.MEDIA_URL_PREFIX,n.uri)+")";c.assign(e,n.css.container)}return e},render:e})});define("rEditor/rootComps/panels/backgroundPanel/backgroundSubPanels/bgApplyPanel.rt",["react","lodash","util","baseUI","baseUILib","panels","rEditor/rootComps/panels/backgroundPanel/backgroundSubPanels/bgApplyPanelPageItem","symbols"],function(a,b,c,d,e,f,g,h){"use strict";function i(a,c){var d=b.assign({},a,c);if(a.hasOwnProperty("style")){d.style=b.defaults(d.style,a.style)}if(a.hasOwnProperty("className")&&c.hasOwnProperty("className")){d.className=c.className+" "+a.className}return d}function j(c,d,e,f,h){return a.createElement("li",{key:"page"+e+"subPage"+h},a.createElement(g,b.assign({},{valueLink:this.pagesStateChange(),ref:"page"+e+"subPage"+h},this.getSubPagesProps(f,h,d.items.length-1))))}function k(c,d,e){return a.createElement("li",{key:"page"+e},a.createElement(g,b.assign({},{valueLink:this.pagesStateChange(),ref:"page"+e},this.getPagesProps(d))),d.items.length?a.createElement.apply(this,["ul",{key:"pageItems"},b.map(d.items,j.bind(this,c,d,e))]):null)}function l(){var g=this.props.getData();return a.createElement(f.frames.bgSubPanelFrame,i({helpId:"18df7de7-066e-49e6-b005-f01c72d4f680",className:"bg-apply-panel background-sub-panel",label:"BGPP_SETTINGS_APLLY_PANEL_HEADER_TITLE"},b.omit(this.props,"children")),a.createElement("div",{className:"bg-apply-panel-wrapper"},a.createElement("div",{className:"bg-apply-panel-description"},"\n            ",c.translate("BGPP_SETTINGS_APLLY_PANEL_DESCRIPTION"),"\n        "),a.createElement("div",{className:"bg-apply-panel-all"},a.createElement(d.toggle,{name:"checkbox",labelAfterSymbol:true,className:"bg-apply-checkbox",value:this.state.markAllPagesDisplay,onChange:this.handleSelectAllChange,indeterminate:this.state.indeterminate,label:"BGPP_SETTINGS_APLLY_TO_ALL"})),a.createElement(e.customScroll,{},a.createElement("div",{className:"bg-apply-panel-scrollbox bg-settings-panel-scrollbox"},a.createElement.apply(this,["ul",{className:"bg-apply-panel-scrollbox-list"},b.map(this.siteMenuItems,k.bind(this,g))])))))}return function(){return l.apply(this,[])}});define("rEditor/rootComps/panels/backgroundPanel/backgroundSubPanels/bgApplyPanel",["react","lodash","panels","util","core","pagesMenu","rEditor/rootComps/panels/backgroundPanel/backgroundSubPanels/bgApplyPanel.rt"],function(a,b,c,d,e,f,g){"use strict";var h=f.specialPages.menuLogic;var i=d.bgPanelBiEvents;function j(a,c,d,e){c=c||[];b.forEach(a,function(a){if(a.pageData){c.push(a);if(b.includes(d,a.pageData.id)){var f=this.getEditorAPI().mainMenu.convertPagesDataListToMenuItemsList(h.getSpecialPagesListBySectionPageOrBySibling(this.getEditorAPI(),a.pageData),e);j.call(this,f,c,d,e)}}j.call(this,a.items,c,d,e)},this);return b.uniq(c,"id")}function k(a,c){var d=false;var f=c.mainMenu.getMenu();var g=c.pages.getPagesData();var i=h.getSectionPagesIds(c,g);var j;b.forEach(a,function(a){var k;if(a.pageData&&b.includes(i,a.pageData.id)){k=e.utils.tpaTypeUtils.isTPA(a.pageData);if(d&&k){return}j=c.mainMenu.convertPagesDataListToMenuItemsList(h.getSpecialPagesListBySectionPageOrBySibling(c,a.pageData,g),f);a.items=a.items.concat(j);if(k){d=true}}})}function l(a,b){var c=a.getDeviceType();var d=a.pages.background.get(b,c);return d}function m(a,c,d,e){var f;b.forEach(e,function(e){if(e.checked){f=n(b.cloneDeep(d),e.pageId,c)}else{f=n(b.cloneDeep(e.originalPageBgData),e.pageId,c)}a.requestChange(f,null,e.pageId)});if(e.length>0){a.undoHandler(a.undoOrigins.APPLY_PANEL)}}function n(a,b,c){var d=c.getDeviceType();var e=c.pages.background.get(b,d);if(a.ref.mediaRef&&e.ref.mediaRef&&a.ref.mediaRef.type===e.ref.mediaRef.type){a.ref.mediaRef.id=e.ref.mediaRef.id;if(a.ref.mediaRef.type==="WixVideo"){a.ref.mediaRef.posterImageRef.id=e.ref.mediaRef.posterImageRef.id;if(a.ref.imageOverlay){a.ref.imageOverlay.id=e.ref.imageOverlay&&e.ref.imageOverlay.id}}}else if(a.ref.mediaRef){delete a.ref.mediaRef.id;if(a.ref.mediaRef.type==="WixVideo"){delete a.ref.mediaRef.posterImageRef.id;if(a.ref.imageOverlay){delete a.ref.imageOverlay.id}}}else{a.ref.mediaRef=null;a.ref.colorOverlay="";a.ref.imageOverlay=null}a.ref.id=e.ref.id;return a}return a.createClass({displayName:"backgroundApplyPanel",mixins:[c.mixins.panelFrameMixin,e.mixins.editorAPIMixin,d.draggableMixin,a.addons.LinkedStateMixin],getInitialState:function(){this.selectedItems=[];this.appliedPages=[];this.currentPageId=this.getEditorAPI().pages.getPrimaryPageId();this.currentPageBgData=l(this.getEditorAPI(),this.currentPageId);this.siteMenuItems=this.getTrimmedMenuItems();this.flatSitePages=this.getFlatPagesList();this.itemsProps=this.getItemsProps();return{markAllPagesDisplay:false,indeterminate:false}},shouldComponentUpdate:function(a,b){return this.state.markAllPagesDisplay!==b.markAllPagesDisplay||this.state.indeterminate!==b.indeterminate||this.appliedPages.length>0},updatePages:function(){m(this.props,this.getEditorAPI(),this.currentPageBgData,this.appliedPages);this.appliedPages=[]},componentWillUnmount:function(){i.applyToOtherClosed(this.getEditorAPI(),e.bi.events.backgroundPanel.panel_apply_to_other_pages_ok,{all_pages_selected:(this.flatSitePages.length===this.selectedItems.length+1).toString(),num_unselected_pages:this.flatSitePages.length-this.selectedItems.length,num_selected_pages:this.selectedItems.length})},handleSelectAllChange:function(a){b.forEach(this.itemsProps,function(c){var d=c.page.pageData.id;if(d===this.currentPageId){return}if(a){if(!b.includes(this.selectedItems,d)){this.selectedItems.push(d);this.appliedPages.push({checked:a,originalPageBgData:c.itemBgData,pageId:d})}}else if(b.includes(this.selectedItems,d)){b.pull(this.selectedItems,d);this.appliedPages.push({checked:a,originalPageBgData:c.itemBgData,pageId:d})}},this);this.setState({markAllPagesDisplay:a,indeterminate:false},this.updatePages)},pagesStateChange:function(){var a=null;if(this.flatSitePages.length===this.selectedItems.length+1){a=true}if(this.selectedItems.length===0){a=false}return{value:a,requestChange:function(a,c,d){if(a&&!(c===this.currentPageId)){if(!b.includes(this.selectedItems,c)){this.selectedItems.push(c)}}else{b.pull(this.selectedItems,c)}this.appliedPages.push({checked:a,originalPageBgData:d,pageId:c});var e=this.flatSitePages.length===this.selectedItems.length+1;var f=!e&&this.selectedItems.length>0;if(e!==this.state.markAllPagesDisplay||f!==this.state.indeterminate){var g={markAllPagesDisplay:e,indeterminate:f};this.setState(g,this.updatePages)}else{this.updatePages()}}.bind(this)}},getFlatPagesList:function(){var a=this.getEditorAPI();var b=a.pages.getPagesData();var c=a.mainMenu.getMenuItemsTreeForMainMenu(b);var d=h.getSectionPagesIds(a,b);var e=a.mainMenu.getMenu();return j.call(this,c,[],d,e)},getTrimmedMenuItems:function(){var a=this.getMenuItemsTreeWithPagesOnly();k(a,this.getEditorAPI());return a},getMenuItemsTreeWithPagesOnly:function(){var a=this.getEditorAPI();var b=function(b,c){return c&&!h.isSpecialPage(a,c)||!c&&b.items.length>0};return a.mainMenu.extendMenuItemsTreeWithPageData(a.pages.getPagesData(),b)},getItemsProps:function(){var a=[];b.forEach(this.flatSitePages,function(b){a.push({page:b,currentPageId:this.currentPageId,currentPageBgData:this.currentPageBgData,itemBgData:l(this.getEditorAPI(),b.pageData.id),isCurrentPage:this.currentPageId===(b.type.isPage&&b.pageData.id)})},this);return a},getPagesProps:function(a){var c=b.find(this.itemsProps,{page:{id:a.id}});if(!c){c={page:a}}return c},getSubPagesProps:function(a,c,d){var e=b.find(this.itemsProps,{page:{id:a.id}});e.isSubMenu=true;e.isSubMenuLast=c===d;return e},render:g})});define("rEditor/rootComps/panels/siteSettings/siteSettingsPanel.rt",["react","lodash","baseUI","panels"],function(a,b,c,d){"use strict";return function(){return a.createElement(d.frames.focusPanelFrame,{panelName:this.props.panelName,width:"1210",height:"90%",shouldHideHeader:true,className:"site-settings-panel"},a.createElement("iframe",{ref:"siteSettingsFrame",width:"100%",height:"100%",src:this.getSettingsIframeUrl(),frameBorder:"0"}),a.createElement(c.preloader,{className:b({hidden:!this.state.showLoader}).transform(function(a,b,c){if(b){a.push(c)}},[]).join(" ")}))}});define("rEditor/rootComps/panels/siteSettings/siteSettingsPanel",["reactDOM","react","core","lodash","panels","rEditor/rootComps/panels/siteSettings/siteSettingsPanel.rt"],function(a,b,c,d,e,f){"use strict";var g={CLOSE:"CLOSE",OPEN_HELP:"OPEN_HELP",SET_METATAGS:"SET_METATAGS",GET_METATAGS:"GET_METATAGS",NOTIFY_SITENAME_CHANGED:"NOTIFY_SITENAME_CHANGED"};var h=["https://www.wix.com","http://www.wix.com"];function i(a){return d.isObject(a)&&!d.isEmpty(a.action)&&d.isString(a.action)}function j(b){var c=a.findDOMNode(this.refs.siteSettingsFrame);c.contentWindow.postMessage(JSON.stringify(b),"*")}function k(a,b){var c=a.action;switch(c){case g.GET_METATAGS:j.call(this,{payload:b.seo.headTags.get(),callId:a.callId});break;case g.SET_METATAGS:b.seo.headTags.set(a.value,d.noop,d.noop);break;case g.NOTIFY_SITENAME_CHANGED:b.siteName.set(a.value);break;case g.CLOSE:this.close();break;case g.OPEN_HELP:this.openHelpCenter();break}}return b.createClass({displayName:"siteSettingsPanel",render:f,mixins:[c.mixins.editorAPIMixin,e.mixins.panelFrameMixin],propTypes:{tab:b.PropTypes.string},getInitialState:function(){return{showLoader:true}},getDefaultProps:function(){return{tab:"overview"}},componentWillMount:function(){window.addEventListener("message",this.handlePostMessage,false)},componentWillUnmount:function(){window.removeEventListener("message",this.handlePostMessage,false)},componentDidMount:function(){a.findDOMNode(this.refs.siteSettingsFrame).addEventListener("load",this.hideLoader)},handlePostMessage:function(a){var b=this.getEditorAPI();if(d.includes(h,a.origin)&&!d.isEmpty(a.data)&&d.isString(a.data)){try{this.hideLoader();var e=JSON.parse(a.data);if(i(e)){k.call(this,e,b)}}catch(d){b.bi.error(c.bi.errors.SITE_SETTINGS_JSON_PARSE_ERROR,{dsc:'message: "'+d.message+'" data: "'+a.data+'"',errscp:this.constructor.displayName})}}},getSettingsIframeUrl:function(){var a=this.getEditorAPI();var b=a.generalInfo.getMetaSiteId();return"https://wix.com/my-account/sites/"+b+"/site-settings/"+this.props.tab+"/?mode=editor-dialog"},hideLoader:function(){if(this.state.showLoader){this.setState({showLoader:false})}}})});define("rEditor/rootComps/topBar/menuBar/menuBarItem.rt",["react","lodash","baseUI","experiment"],function(a,b,c,d){"use strict";function e(a){this.props.onHover(this.props.menuItem,this.props.index)}function f(){var c=this.getCounter();return a.createElement("li",{className:b(this.getClasses()).transform(function(a,b,c){if(b){a.push(c)}},[]).join(" ")},a.createElement("a",{onClick:this.onClick,onMouseEnter:e.bind(this,c)},a.createElement("label",{className:"menu-bar-item-label","data-hint-id":d.isMultiValueExperimentOpen("editorHintsConfigs")&&this.props.hintProps?this.props.hintProps.id:null},!!this.props.isCheckbox?a.createElement("input",{key:"checkItemInput",ref:"checkboxInput",disabled:this.props.isDisabled&&this.props.isDisabled(),type:"checkbox",className:"menu-bar-item-checkbox",checked:this.props.viewTools[this.props.menuPropsKey],onChange:this.handleCheckChange}):null,"\n                ",this.props.label,"\n                ",a.createElement("span",{className:"shortcut"},this.props.shortcutLabel),c?a.createElement("div",{key:"counter",className:"item-counter"},c):null)))}return function(){return a.createElement(c.tooltip,{value:this.getTooltipText(),alignment:c.uiConstants.TOOLTIP.ALIGNMENT.RIGHT,disabled:!this.getTooltipText()},f.apply(this,[]))}});define("rEditor/rootComps/topBar/menuBar/menuBarItem",["reactDOM","react","lodash","core","rEditor/rootComps/topBar/menuBar/menuBarItem.rt"],function(a,b,c,d,e){"use strict";return b.createClass({displayName:"menuBarItem",propTypes:{action:b.PropTypes.func,bi:b.PropTypes.oneOfType([b.PropTypes.array,b.PropTypes.object]),disabled:b.PropTypes.bool,index:b.PropTypes.number,editorAPI:b.PropTypes.object,isCheckbox:b.PropTypes.bool,shortcutLabel:b.PropTypes.string,label:b.PropTypes.string,menuPropsKey:b.PropTypes.string,closeDropDownHandle:b.PropTypes.func,viewTools:b.PropTypes.object,className:b.PropTypes.string,isSelected:b.PropTypes.bool,getCounter:b.PropTypes.func},componentDidUpdate:function(a){if(!a.isSelected&&this.props.isSelected){this.props.onHover(this.props.menuItem,this.props.index)}},getClasses:function(){var a={"menu-bar-item":true,"menu-bar-item-action":true,"menu-bar-item-action-selected":this.props.isSelected,"enabled-item":!this.props.disabled,"menu-bar-item-separator":this.props.separator};if(this.props.className){a[this.props.className]=true}return a},handleCheckChange:function(a){var b=a.target.checked;this.executeAction(b)},onClick:function(){if(!this.props.isCheckbox){this.executeAction()}},sendBI:function(){if(this.props.editorAPI&&this.props.bi){var a=[].concat(this.props.bi);var b=this.props.editorAPI;c.forEach(a,function(a){b.bi.event(a.type,a.fields)},this)}},executeAction:function(b){var c=this.props.action;if(c&&!this.props.disabled){this.sendBI();if(this.props.isCheckbox){var d=b!==undefined?b:!a.findDOMNode(this.refs.checkboxInput).checked;c(d,false,this.props.closeDropDownHandle)}else{c();this.props.closeDropDownHandle()}}},getCounter:function(){return c.isFunction(this.props.getCounter)&&this.props.getCounter()},getTooltipText:function(){return this.props.editorAPI.tooltipTextService.getSelectedComponentTooltipText(this.props.menuItem.key)},render:e})});define("rEditor/rootComps/topBar/dropPanels/menuPanels/menuActionsPanel.rt",["react","lodash","rEditor/rootComps/topBar/menuBar/menuBarItem"],function(a,b,c){"use strict";function d(d,e){return a.createElement(c,b.assign({},{ref:d.key,key:d.key,isSelected:e===this.state.selectedMenuItemIndex,menuItem:d,index:e},this.getItemProps(d)))}return function(){return a.createElement("div",{className:"menubar-actions-panel"},a.createElement.apply(this,["ul",{},b.map(this.getSelectedMenuChildren(this.props.selectedMenu),d.bind(this))]))}});define("rEditor/rootComps/topBar/dropPanels/menuPanels/menuActionsPanel",["react","lodash","util","panels","rEditor/rootComps/topBar/menuBar/util/menuBarItemsUtil","rEditor/rootComps/topBar/menuBar/menuBarItemsDefinitions","rEditor/rootComps/topBar/dropPanels/menuPanels/menuActionsPanel.rt"],function(a,b,c,d,e,f,g){"use strict";return a.createClass({displayName:"menuActionsPanel",PropTypes:{selectedMenu:a.PropTypes.object.isRequired,onMenuItemHover:a.PropTypes.func,closeDropDownHandle:a.PropTypes.func},mixins:[d.mixins.statefulKeyboardContextMixin],keyboardShortcutsContextNamePrefix:"TOP_BAR_DROP_PANEL_",getInitialState:function(){return{selectedMenuItemIndex:null}},componentWillReceiveProps:function(a){if(this.props.selectedMenu.key!==a.selectedMenu.key){this.setState({selectedMenuItemIndex:null})}},getItemProps:function(a){var c=f[a.key];if(c){var d=this.isMenuItemDisabled(c,a.key);var e=this.getLabel(c);var g=this.props.viewTools;var h={disabled:d,onHover:function(a,b){if(this.props.onMenuItemHover){this.props.onMenuItemHover(a)}this.setState({selectedMenuItemIndex:b})}.bind(this),label:e,closeDropDownHandle:this.props.closeDropDownHandle,viewTools:g,editorAPI:this.props.editorAPI};var i=b.clone(c);b.assign(i,h);return i}return null},getSelectedMenuChildren:function(a){var c=a&&a.children||[];if(c){c=b.filter(c,this.isMenuBarItemShowing,this)}return c},getItemVisibility:function(a){return e.shouldBeVisible(a.key)},isMenuBarItemShowing:function(a){return this.getItemVisibility(a)},getLabel:function(a){return a.labelFunc&&a.labelFunc()||a.label},isMenuItemDisabled:function(a,c){var d=this.props.editorAPI;if(c==="PASTE"){return!d.clipboardContainsComp()||!d.isDesktopEditor()}var e=false;if(a.compActionRestrictionNames){var f=d.getCompRestrictions(d.selection.getSelectedComponents());var g=a.compActionRestrictionNames||[];e=e||!b.every(g,b.propertyOf(f))}if(!e&&a.disabledChecker){e=a.disabledChecker()}return e},getNumberOfMenuItems:function(){return this.getSelectedMenuChildren(this.props.selectedMenu).length},getKeyboardShortcuts:function(){var a=this;var b=c.keyboardShortcuts.CONTEXTS.MENU_BAR;var d=c.keyboardShortcuts.extendContext(b,{up:function(b){var c=a.state.selectedMenuItemIndex;var d;if(c===null||c===0){d=a.getNumberOfMenuItems()-1}else{d=c-1}a.setState({selectedMenuItemIndex:d});b.preventDefault()},down:function(b){var c=a.state.selectedMenuItemIndex;var d;if(c===null){d=0}else{d=(c+1)%a.getNumberOfMenuItems()}a.setState({selectedMenuItemIndex:d});b.preventDefault()},enter:function(b){var c=a.state.selectedMenuItemIndex;if(c!==null){var d=a.getSelectedMenuChildren(a.props.selectedMenu)[c].key;var e=a.refs[d];if(e.executeAction){e.executeAction()}}b.preventDefault()}});return d},render:g})});define("rEditor/rootComps/topBar/dropPanels/menuPanels/promotionPanel.rt",["react","lodash","baseUI"],function(a,b,c){"use strict";function d(){var b=this.props.menuKey.toLowerCase();var d=this.props.classes;return a.createElement("div",{className:"menu-bar-promotion-box",style:this.props.style,onClick:this.onClick},a.createElement("div",{className:"graphics-container "+(d.graphics||"graphics-"+b),key:b},this.props.image?a.createElement("img",{key:"promotionImage",src:this.props.image}):null,this.props.symbol?a.createElement(c.symbol,{key:"promotionSymbol",name:this.props.symbol}):null),this.props.title?a.createElement("div",{key:"title",className:d.title||"title"},this.translateIfNeeded(this.props.title)):null,this.props.message?a.createElement("div",{key:"msg",className:d.message||"message",dangerouslySetInnerHTML:{__html:this.translateIfNeeded(this.props.message)}}):null)}return function(){return d.apply(this,[])}});define("rEditor/rootComps/topBar/dropPanels/menuPanels/promotionPanel",["react","lodash","util","rEditor/rootComps/topBar/dropPanels/menuPanels/promotionPanel.rt"],function(a,b,c,d){"use strict";function e(a,c){if(a&&c){var d=b.cloneDeep(c);b.forEach(d,function(b){if(b.fields&&b.fields.category){b.fields.category+="(Image)"}a.bi.event(b.type,b.fields)})}}return a.createClass({displayName:"promotionPanel",mixins:[c.translationMixin],propTypes:{menuKey:a.PropTypes.string.isRequired,image:a.PropTypes.string,symbol:a.PropTypes.string,title:a.PropTypes.string,message:a.PropTypes.string,action:a.PropTypes.func,bi:a.PropTypes.oneOfType([a.PropTypes.array,a.PropTypes.object]),classes:a.PropTypes.object,editorAPI:a.PropTypes.object},getDefaultProps:function(){return{classes:{}}},onClick:function(){if(this.props.action){this.props.action(null,true);e(this.props.editorAPI,b.compact([].concat(this.props.bi)))}},render:d})});define("rEditor/rootComps/topBar/dropPanels/dropPanels",["rEditor/rootComps/topBar/dropPanels/menuPanels/menuActionsPanel","rEditor/rootComps/topBar/dropPanels/menuPanels/checkListPanel","rEditor/rootComps/topBar/dropPanels/menuPanels/promotionPanel"],function(a,b,c){"use strict";return{menuActionsPanel:a,checkListPanel:b,promotionPanel:c}});define("rEditor/rootComps/panels/editorVersionInfoPanel/editorVersionInfoPanel.rt",["react","lodash","baseUI","panels","util"],function(a,b,c,d,e){"use strict";return function(){return a.createElement(d.frames.focusPanelFrame,{ref:"frame",panelName:this.props.panelName,title:"Editor Version Info",frameClassName:"editorVersionInfoPanel"},a.createElement("div",{className:"content"},a.createElement("div",{className:"row"},a.createElement("label",{},"Editor Version:"),a.createElement("span",{},this.getEditorVersion())),a.createElement("div",{className:"row"},a.createElement("label",{},"Viewer Version:"),a.createElement("span",{},this.getViewerVersion()))),a.createElement("div",{className:"panel-footer"},a.createElement(c.button,{type:"button",shouldTranslate:false,label:"OK",className:"done-button",onClick:this.close})))}});define("rEditor/rootComps/panels/editorVersionInfoPanel/editorVersionInfoPanel",["lodash","react","util","jquery","rEditor/rootComps/panels/editorVersionInfoPanel/editorVersionInfoPanel.rt"],function(a,b,c,d,e){"use strict";function f(a){return a.split("/").pop()||"unknown"}return b.createClass({displayName:"editorVersionInfoPanel",panelName:"editorVersionInfoPanel",getEditorVersion:function(){return f(a.get(c,"editorModel.editorBase",""))},getViewerVersion:function(){return f(a.get(d("#preview")[0],"contentWindow.siteModel.santaBase"))},close:function(){if(this.refs.frame){this.refs.frame.close()}},render:e})});define("rEditor/rootComps/panels/applyStylePanel/applyStylePanel.rt",["react","lodash","panels","baseUI","baseUILib","util","symbols","addPanelInfra"],function(a,b,c,d,e,f,g,h){
"use strict";return function(){return a.createElement(c.frames.confirmationPanelFrame,{panelName:this.props.panelName,className:"apply-style-panel",onConfirm:this.onConfirm,onCancel:this.onCancel,shouldHideHeader:true,confirmLabel:"COPY_DESIGN_APPLY",ref:"frame",cancelLabel:"COPY_DESIGN_APPLY_CANCEL"},a.createElement("header",{className:"save-publish-panel-header"},a.createElement("button",{className:"close",onClick:this.close},a.createElement(g.symbol,{name:"headerCloseButton"})),a.createElement("button",{className:"help",onClick:this.openHelpCenter,key:"help"},"?"),a.createElement("span",{className:"title"},f.translate("COPY_DESIGN_TITLE")),a.createElement("span",{className:"subtitle"},f.translate("COPY_DESIGN_DESCRIPTION_LINE1"))),a.createElement("div",{className:"panel-content"},a.createElement("div",{className:"current-style-container container-wrapper"},a.createElement("div",{className:"current-style-header header"},a.createElement("span",{className:"text"},f.translate("COPY_DESIGN_LABEL_LEFT"))),a.createElement("div",{className:"current-style comp-container"},a.createElement(h.designPanelLiveComponentSection,this.getSelectedCompProps()))),a.createElement("div",{className:"applied-styles-container container-wrapper"},this.getThemeAndPersonalizeStylesToRender().length>0?a.createElement("div",{key:"applyStyleHeader",className:"applied-styles-header header"},a.createElement("span",{className:"text"}," ",f.translate("COPY_DESIGN_LABEL_RIGHT"))):null,a.createElement(e.customScroll,{},a.createElement("div",{className:"comp-themed-styles comp-container"},this.getThemeAndPersonalizeStylesToRender().length>0?a.createElement(h.designPanelLiveComponentSection,b.assign({},{key:"appliesStylesLiveSections"},this.getThemeAndPersonalizeStylesProps())):null,this.getThemeAndPersonalizeStylesToRender().length===0?a.createElement("div",{className:"empty-styles",key:"emptyStylesKey"},a.createElement(g.symbol,{name:"nothingToEditASP"}),a.createElement("div",{className:"empty-style-text text"},f.translate("COPY_DESIGN_EMPTY_LABEL"))):null)))))}});define("rEditor/rootComps/panels/applyStylePanel/applyStylePanel",["react","lodash","core","panels","rEditor/rootComps/panels/applyStylePanel/applyStylePanel.rt","experiment"],function(a,b,c,d,e,f){"use strict";var g=30;var h=20;var i=1;var j=["wysiwyg.viewer.skins.page.TransparentPageSkin","wysiwyg.viewer.skins.screenwidthcontainer.TransparentHalfScreen","wysiwyg.viewer.skins.screenwidthcontainer.TransparentScreen","wysiwyg.viewer.skins.area.TransparentArea"];var k=["wysiwyg.viewer.skins.photo.NoSkinPhoto","wysiwyg.viewer.skins.VideoSkin"];var l=["wysiwyg.viewer.components.MatrixGallery","wysiwyg.viewer.components.SlideShowGallery","wysiwyg.viewer.components.SliderGallery","wysiwyg.viewer.components.PaginatedGridGallery"];var m={"wysiwyg.viewer.components.HeaderContainer":{scale:.5},"wysiwyg.viewer.components.FooterContainer":{scale:.5},"wysiwyg.viewer.components.ScreenWidthContainer":{scale:.5},"mobile.core.components.Page":{compOverrideType:"pageContainer"},"wysiwyg.viewer.components.Video":{scale:.5},"wysiwyg.viewer.components.VerticalLine":{maxFontSize:10},"wysiwyg.viewer.components.FiveGridLine":{maxFontSize:10},fiveGridLineFullWidth:{maxFontSize:10},"wysiwyg.common.components.singleaudioplayer.viewer.SingleAudioPlayer":{maxFontSize:10},"wysiwyg.viewer.components.AudioPlayer":{maxFontSize:10},"wysiwyg.viewer.components.menus.DropDownMenu":{maxFontSize:15},"wysiwyg.common.components.verticalmenu.viewer.VerticalMenu":{maxFontSize:15},"wysiwyg.viewer.components.SiteButton":{maxFontSize:22},"mobile.core.components.Container":{scale:.5},"core.components.Container":{scale:.5},"core.components.ContainerOBC":{scale:.5},"wysiwyg.viewer.components.BgImageStrip":{scale:.5},"wysiwyg.viewer.components.ContactForm":{scale:.5},"wysiwyg.common.components.subscribeform.viewer.SubscribeForm":{scale:.5},"wysiwyg.viewer.components.GoogleMap":{scale:.5},"wysiwyg.viewer.components.WPhoto":{scale:.5},"wysiwyg.viewer.components.MatrixGallery":{scale:.25,maxFontSize:12},"wysiwyg.viewer.components.SlideShowGallery":{scale:.25,maxFontSize:12},"wysiwyg.viewer.components.SliderGallery":{scale:.25,maxFontSize:12},"wysiwyg.viewer.components.PaginatedGridGallery":{scale:.25,maxFontSize:12}};var n={"mobile.core.components.Container":["core.components.Container","core.components.ContainerOBC"],"core.components.Container":["mobile.core.components.Container","core.components.ContainerOBC"],"core.components.ContainerOBC":["mobile.core.components.Container","core.components.Container"]};function o(a,d){var e=a.style||a.styleId;if(b.isString(e)){e=c.styleManager.getStyleById(d.theme,d.components,e)}return e}function p(a,d){var e=b.union([d],n[d]);var f=b.map(e,function(d){return b.pluck(c.styleManager.getThemedStyleForComp(a.theme,a.components,d),"id")});return b(f).union().flatten().value()}function q(a,d){var e=b.pluck(c.styleManager.getUniqueCustomStyleList(a.theme,a.components,d),"id");if(n[d]){b.forEach(n[d],function(d){var f=b.pluck(c.styleManager.getUniqueCustomStyleList(a.theme,a.components,d),"id");e=e.concat(f)})}return e}function r(a,d){var e=b.pluck(c.styleManager.getUniqueStyleList(a.theme,a.components,d),"id");if(n[d]){b.forEach(n[d],function(d){var f=b.pluck(c.styleManager.getUniqueStyleList(a.theme,a.components,d),"id");e=e.concat(f)})}return e}function s(a){return m[a]&&m[a].compOverrideType?m[a].compOverrideType:a}function t(a,c,d,e,f,l){var n={additionalBehaviours:{iconEnabledForComps:[],infoIcon:"none",labelMode:"none"},help:{hide:true},categoryId:d.substring(d.lastIndexOf(".")+1),hide:false,id:c,onClick:l,onItemDrag:function(){},parentType:"ADD_PANEL",props:{compTypes:s(d),horizontalMargin:h,verticalMargin:g,scaleProportion:{x:m[d]&&m[d].scale?m[d].scale:i,y:m[d]&&m[d].scale?m[d].scale:i}},showSectionHeader:false,stylesForSection:e,additionalScaling:1,selectedItemKey:f,getAdditionalElementProps:function(c){var d=o(c,a);var e={};if(b.includes(j,d.skin)){e.text="DESIGN_LABEL_NO_COLOR";e.className="design-panel-transparent-skin-item"}else if(b.includes(k,d.skin)){e.text="Design_Label_No_Frame";e.className="design-panel-no-frame-skin-item"}return e}};if(m[d]&&m[d].maxFontSize){n.props.maxFontSize=m[d].maxFontSize}return n}function u(a,d){return b.filter(a,function(a){var e=c.styleManager.getStyleById(d.theme,d.components,a);return!b.includes(k,e.skin)})}return a.createClass({displayName:"applyStylePanel",getInitialState:function(){return{selectedItems:[]}},close:function(){this.refs.frame.close();var a=this.props.editorAPI;var b=this.props.selectedComp;a.bi.event(c.bi.events.applyStyle.COPY_STYLE_CANCEL,{component_id:b.id,component_type:a.components.getType(b)})},onCancel:function(){var a=this.props.editorAPI;var b=this.props.selectedComp;a.bi.event(c.bi.events.applyStyle.COPY_STYLE_CANCEL,{component_id:b.id,component_type:a.components.getType(b)})},onConfirm:function(){var a=this.props.editorAPI;var d=a.components.style.getId(this.props.selectedComp);var e=a.components.getType(this.props.selectedComp);var g=c.styleManager.getStyleById(a.theme,a.components,d);var h=this.props.selectedComp;a.bi.event(c.bi.events.applyStyle.COPY_STYLE_APPLY,{num_of_styles_chosen:this.state.selectedItems.length,component_id:h.id,component_type:a.components.getType(h)});b.forEach(this.state.selectedItems,function(d){var h=d.split(".");var i=h[h.length-1];var j=i.substring(i.indexOf("_")+1);var k=c.styleManager.getStyleById(a.theme,a.components,j);var l=[k];var m=c.styleManager.getDuplicateToStyleList(a.theme,a.components,k,e);b.forEach(n[e],function(b){var d=c.styleManager.getDuplicateToStyleList(a.theme,a.components,k,b,n[e]);m=m.concat(d)});if(f.isOpen("se_studioCopyDesign")){m=b.filter(m,{styleType:"custom"})}l=l.concat(m);b.forEach(l,function(b){var c={skin:g.skin,style:g.style,type:b.type};a.theme.styles.update(b.id,c)})})},getSelectedCompProps:function(){var a=this.props.editorAPI;var c=this.props.selectedComp;var d=a.components.getType(c);var e="selectedComp"+c.id;var f=a.components.style.getId(c);var g=[{styleId:f,compType:s(d)}];return t(a,e,d,g,this.state.selectedItems,b.noop)},getThemeAndPersonalizeStylesProps:function(){var a=this.props.editorAPI;var b=this.props.selectedComp;var c="themeAndMyForComp"+b.id;var d=a.components.getType(b);var e=this.themeAndPersonalizedStylesToRender?this.themeAndPersonalizedStylesToRender:this.getThemeAndPersonalizeStylesToRender();return t(a,c,d,e,this.state.selectedItems,this.updateListOfStyleToUpdate)},getThemeAndPersonalizeStylesToRender:function(){if(this.themeAndPersonalizedStylesToRender){return this.themeAndPersonalizedStylesToRender}var a=this.props.editorAPI;var d=this.props.selectedComp;var e=a.components.getType(d);var g=a.components.style.getId(d);var h=c.styleManager.getStyleById(a.theme,a.components,g);var i=[];if(f.isOpen("se_studioCopyDesign")){i=p(a,e)}else if(b.includes(l,e)){i=q(a,e)}else{i=r(a,e)}i=u(i,a);var j=[];b.forEach(i,function(b){var d=c.styleManager.getStyleById(a.theme,a.components,b);var i=b!==g&&!c.styleManager.isEqualWithoutTypeConsideration(d,h);if(f.isOpen("se_studioCopyDesign")||i){j.push({compType:s(e),styleId:b})}});this.themeAndPersonalizedStylesToRender=j;return j},updateListOfStyleToUpdate:function(a,d,e,f){var g=b.clone(this.state.selectedItems);var h=f.split(".");var i=h[h.length-1];var j=i.substring(i.indexOf("_")+1);var k=b.includes(g,f);if(k){b.remove(g,function(a){return a===f})}else{g.push(f)}var l=this.props.selectedComp;var m=this.props.editorAPI;m.bi.event(c.bi.events.applyStyle.COPY_STYLE_CHOOSE_STYLES_TO_REPLACE_CLICK,{style_id:j,status:!k,component_id:l.id,component_type:m.components.getType(l)});this.setState({selectedItems:g})},openHelpCenter:function(){var a="b853c294-8ff1-418f-b4d2-29d7b59a85c3";var b={panel_name:this.props.panelName,component:this.props.editorAPI.selection.getSelectedComponentType(),origin:c.constants.BI.HELP.ORIGIN.PANEL,learn_more:false};d.panelManager.openHelpCenter(a,null,b)},render:e})});define("rEditor/rootComps/panels/boxSlideShowPanels/boxSlideShowManageSlidesPanel.rt",["react","lodash","baseUI","util","compPanels","helpIds"],function(a,b,c,d,e,f){"use strict";function g(a,b,c,d){this.state.slideRenamingIndex!==c&&this.refs.sortList.startDrag(c,d)}function h(a,b,c){this.setSelected(b,c)}function i(e,f,i){return a.createElement("div",{key:i,className:b({"item-list-row":true,selected:b.isEqual(this.state.selectedSlide,f),compacted:e.length>12}).transform(function(a,b,c){if(b){a.push(c)}},[]).join(" ")},a.createElement("div",{className:"item-details",onMouseDown:g.bind(this,e,f,i),onClick:h.bind(this,e,f,i)},this.state.slideRenamingIndex!==i?a.createElement("div",{key:"slideTitle"},a.createElement(c.symbol,{name:"dragHandle",className:"symbol-dragIcon"}),a.createElement("div",{className:"slide-name"},this.getSlideName(f)),a.createElement(c.dropDown.contextMenu,{icon:"moreRegular",className:"quick-actions",shouldTranslate:false,onChange:this.handleSlideAction.bind(this,f,i),onExpand:this.onActionsMenuOpened},a.createElement(c.dropDown.option,{value:"rename"},a.createElement(c.symbol,{name:"quickActionsRename"}),"\n                            ",d.translate("Regular_Slideshow_Slides_Rename"),"\n                        "),a.createElement(c.dropDown.option,{value:"duplicate"},a.createElement(c.symbol,{name:"qaDuplicate"}),"\n                            ",d.translate("Regular_Slideshow_Slides_Duplicate"),"\n                        "),e.length>1?a.createElement(c.dropDown.option,{value:"remove",key:"remove"},a.createElement(c.symbol,{name:"qaDelete"}),"\n                            ",d.translate("Regular_Slideshow_Slides_Delete"),"\n                        "):null)):null,this.state.slideRenamingIndex===i?a.createElement(c.textInputWithFixedButton,{key:"slideTitleInput",value:this.getSlideName(f),onChange:this.changeSlideName.bind(this,f),buttonLabel:"Pages_Actions_Rename_Button",maxLength:40,selectOnFocus:true,validator:d.validate.notEmptyString,invalidMessage:"Box_slide_show_slides_invalid_slide_name"}):null))}function j(){var d=this.getCompSlides();return a.createElement.apply(this,[c.sortByDragList,{className:"sort-list",key:"sortList",ref:"sortList",onItemMoved:this.moveSlide},b.map(d,i.bind(this,d))])}function k(){this.duplicateCurrentSlide()}function l(){this.addNewSlide()}return function(){return a.createElement(e.compPanelFrame,b.assign({},{contentClass:"box-slide-show-manage-slides-panel",title:"Regular_Slideshow_Slides_Title",helpId:f.EXTERNAL.BOX_SLIDE_SHOW_MANAGE_SLIDES},this.getFrameProps()),this.getCompSlides().length?j.apply(this,[]):null,a.createElement("div",{className:"button-wrapper"},a.createElement(c.button,{className:"mainButton",label:"Regular_Slideshow_Slides_Add_Duplicate_Slide",onClick:k.bind(this)}),a.createElement(c.button,{className:"secondaryButton btn-text",label:"Regular_Slideshow_Slides_Add_New_Slide",onClick:l.bind(this)})))}});define("rEditor/rootComps/panels/boxSlideShowPanels/boxSlideShowManageSlidesPanel",["react","lodash","core","util","compPanels","boxSlideshow","rEditor/rootComps/panels/boxSlideShowPanels/boxSlideShowManageSlidesPanel.rt"],function(a,b,c,d,e,f,g){"use strict";var h="Regular_Slideshow_Slides_Copy_Slide_Label";var i="Regular_Slideshow_Slides_New_Slide_Label";var j="title";var k=f.utils.boxSlideShowUtils;function l(){return this.getEditorAPI().components.getDefaultBiParams(this.props.selectedComponent)}return a.createClass({displayName:"boxSlideShowManageSlidesPanel",render:g,mixins:[e.compPanelMixin,d.translationMixin],getInitialState:function(){var a=k.findCurrentSlide(this.getEditorAPI(),this.props.selectedComponent);var b=k.getAllSlides(this.getEditorAPI(),this.props.selectedComponent);this.isCurrentlyInOperation=false;return{slideRenamingIndex:null,selectedSlide:a,slides:b}},componentWillReceiveProps:function(a){var c=this.getEditorAPI();var d=k.findCurrentSlide(c,a.selectedComponent);var e=k.getAllSlides(c,a.selectedComponent);if(!b.isEqual(e,this.state.slides)){if(!!b.find(e,this.state.selectedSlide)&&e.length>=this.state.slides.length){var f=b.findIndex(e,this.state.selectedSlide);var g=b.findIndex(this.state.slides,this.state.selectedSlide);if(!this.isCurrentlyInOperation&&f!==g){c.preventMouseDown();c.components.behaviors.execute(a.selectedComponent,"moveToSlide",{slide:f},c.allowMouseDown)}}else{this.setState({selectedSlide:d})}this.setState({slides:e})}else if(!b.isEqual(d,this.state.selectedSlide)){this.setState({selectedSlide:d})}},addSlide:function(a,c){this.isCurrentlyInOperation=true;var d=this.getEditorAPI();var e=d.components.add(b.first(this.props.selectedComponent),a);d.components.arrangement.moveToIndex(e,c,true);this.getEditorAPI().history.add("added a slide to slide show");d.waitForChangesApplied(function(){this.isCurrentlyInOperation=false;this.setState({selectedSlide:e})}.bind(this))},duplicateCurrentSlide:function(){if(!this.isCurrentlyInOperation){var a=k.findCurrentSlide(this.getEditorAPI(),this.props.selectedComponent);var b=this.getCompSlides().length;this.duplicateSlide(a,b-1);this.getEditorAPI().bi.event(c.bi.events.boxSlideShow.MANAGE_SLIDES_DUPLICATE_CURRENT_SLIDE,l.call(this))}},addNewSlide:function(){if(!this.isCurrentlyInOperation){var a=this.getEditorAPI();var b=k.findCurrentSlide(this.getEditorAPI(),this.props.selectedComponent);var d=a.components.serialize(b);d.components=[];var e=this.getCompSlides().length;var f={curr_slide:e+1};d.data[j]=this.translateTemplate(i,f,a);this.addSlide(d,e);a.bi.event(c.bi.events.boxSlideShow.MANAGE_SLIDES_ADD_NEW_SLIDE,l.call(this))}},duplicateSlide:function(a,b){if(!this.isCurrentlyInOperation){var c=this.getEditorAPI().components.serialize(a);var d={curr_slide_title:c.data[j]};c.data[j]=this.translateTemplate(h,d,this.getEditorAPI());this.addSlide(c,b+1)}},deleteSlide:function(a){var b=this.getEditorAPI();if(!this.isCurrentlyInOperation&&this.getCompSlides().length>1){this.isCurrentlyInOperation=true;b.components.remove(a);b.history.add("removed a slide from slide show");b.waitForChangesApplied(function(){this.isCurrentlyInOperation=false}.bind(this))}},getCompSlides:function(){return k.getAllSlides(this.getEditorAPI(),this.props.selectedComponent)},moveSlide:function(a,b){var d=this.getEditorAPI();if(!this.isCurrentlyInOperation&&a!==b){this.isCurrentlyInOperation=true;var e=this.getCompSlides()[a];d.components.arrangement.moveToIndex(e,b,false);d.bi.event(c.bi.events.boxSlideShow.MANAGE_SLIDES_SLIDE_REORDERED,l.call(this));d.waitForChangesApplied(function(){this.isCurrentlyInOperation=false}.bind(this))}},getSlideName:function(a){var b=this.getEditorAPI();return b.components.data.get(a)[j]},changeSlideName:function(a,b){var c=this.getEditorAPI();if(this.getSlideName(a)!==b){var d={};d[j]=b;c.components.data.update(a,d)}this.setState({slideRenamingIndex:null})},renameSlide:function(a){this.setState({slideRenamingIndex:a})},onActionsMenuOpened:function(){this.getEditorAPI().bi.event(c.bi.events.boxSlideShow.MANAGE_SLIDES_ACTION_MENU_OPENED,l.call(this))},handleSlideAction:function(a,d,e){switch(e){case"rename":this.renameSlide(d);break;case"duplicate":this.duplicateSlide(a,d);break;case"remove":this.deleteSlide(a);break}this.getEditorAPI().bi.event(c.bi.events.boxSlideShow.MANAGE_SLIDES_SLIDE_ACTION_SELECTED,b.assign({action:e},l.call(this)))},setSelected:function(a,d){var e=this.getEditorAPI();e.preventMouseDown();if(!b.isEqual(this.state.selectedSlide,a)&&!this.isCurrentlyInOperation){e.components.behaviors.execute(this.props.selectedComponent,"moveToSlide",{slide:d},e.allowMouseDown);this.setState({selectedSlide:a,slideRenamingIndex:null});k.hideQuickTip(e);k.identifyComponentsOutOfSlideshow(e,this.props.selectedComponent);e.bi.event(c.bi.events.boxSlideShow.SLIDES_NAVIGATION,b.assign({origin:"slideManager"},l.call(this)))}}})});define("rEditor/rootComps/panels/boxSlideShowPanels/slideShowBgApplyPanelItem.rt",["react","lodash","baseUI","symbols","core"],function(a,b,c,d,e){"use strict";function f(){var d=this.props.slide;var e=this.getCurrentSlideData();var f=this.initialBgData;return a.createElement("div",{className:b(this.getItemClassNames(d)).transform(function(a,b,c){if(b){a.push(c)}},[]).join(" ")},a.createElement("label",{className:"item-label"},f?a.createElement(c.toggle,{name:"checkbox",labelAfterSymbol:true,key:"normal-checkbox",className:"bg-apply-checkbox",value:this.state.checked,onChange:this.handleToggleChanged,disabled:this.isCurrentSlide()}):null,f?a.createElement("span",{className:"slide-preview",key:"slide-preview",style:this.getBgImageUrl(this.state.checked?e:f)},this.getMediaType(this.state.checked?e:f)===this.mediaTypes.VIDEO?a.createElement("div",{key:"slide-preview-video-controls",className:"slide-preview-video-controls"},a.createElement(c.symbol,{name:"bgVideoIndicator"})):null):null,a.createElement("span",{className:"slide-name"},this.props.slideTitle)))}return function(){return f.apply(this,[])}});define("rEditor/rootComps/panels/boxSlideShowPanels/slideShowBgApplyPanelItem",["react","core","lodash","util","rEditor/rootComps/panels/boxSlideShowPanels/slideShowBgApplyPanelItem.rt"],function(a,b,c,d,e){"use strict";var f=d.imageTransform;var g=d.backgroundPanelUtils;var h=g.getMediaTypes();var i=50;var j=35;return a.createClass({mixins:[b.mixins.editorAPIMixin,a.addons.LinkedStateMixin],displayName:"slideShowBgApplyPanelItem",propTypes:{slide:a.PropTypes.object.isRequired,slideTitle:a.PropTypes.string.isRequired,itemBgData:a.PropTypes.object,isCurrentSlide:a.PropTypes.bool,currentSlideBgData:a.PropTypes.object,valueLink:a.PropTypes.object},mediaTypes:h,getInitialState:function(){this.origin=this.props.origin;this.initialBgData=this.props.itemBgData;return{checked:this.isCurrentSlide()}},isCurrentSlide:function(){return this.props.isCurrentSlide},componentWillReceiveProps:function(a){if(this.isValueChanged(a)){this.setState({checked:a.valueLink.value})}},componentStateChanged:function(){this.props.valueLink.requestChange(this.state.checked,this.props.slide,this.initialBgData)},handleToggleChanged:function(a){this.setState({checked:a},this.componentStateChanged)},shouldComponentUpdate:function(a,b){return!this.isCurrentSlide()&&(this.isCheckedStateChanged(b)||this.isValueChanged(a))},isValueChanged:function(a){return a.valueLink.value!==null&&this.props.valueLink.value!==a.valueLink.value},isCheckedStateChanged:function(a){return a.checked!==this.state.checked},getItemClassNames:function(){return{"slideShow-apply-panel-item":true,"current-slide":this.isCurrentSlide()}},getMediaType:function(a){return g.getMediaType(a)},getCurrentSlideData:function(){return this.props.currentSlideBgData},getBgStyleByBackgroundType:function(a){var b;var e;e=g.getColorValue(this.getEditorAPI(),a.color);b={backgroundColor:e};var k=this.getMediaType(a);if(k!==h.COLOR){var l=k===h.IMAGE?a.mediaRef:a.mediaRef.posterImageRef;var m=g.isSmallerFromContainer(l.width,l.height,i,j);var n=g.getImageDisplayData(m?f.fittingTypes.TILE:f.fittingTypes.SCALE_TO_FILL,a.alignType,l.uri,l.width,l.height,i,j);b.backgroundImage="url("+d.url.joinURL(g.MEDIA_URL_PREFIX,n.uri)+")";c.assign(b,n.css.container)}return b},getBgImageUrl:function(a){var b;switch(this.origin){case"strip":b=this.getBgStyleByBackgroundType(a);break;case"box":b=this.getBgStyleByBackgroundType(a);break}return b},render:e})});define("rEditor/rootComps/panels/boxSlideShowPanels/slideShowBgApplyPanel.rt",["react","lodash","util","baseUI","baseUILib","panels","rEditor/rootComps/panels/boxSlideShowPanels/slideShowBgApplyPanelItem","helpIds"],function(a,b,c,d,e,f,g,h){"use strict";function i(a,c){var d=b.assign({},a,c);if(a.hasOwnProperty("style")){d.style=b.defaults(d.style,a.style)}if(a.hasOwnProperty("className")&&c.hasOwnProperty("className")){d.className=c.className+" "+a.className}return d}function j(c,d){return a.createElement("li",{key:"slide"+d},a.createElement(g,b.assign({},{valueLink:this.slidesStateChange(),ref:"slide"+d},this.getSlideProps(c))))}return function(){return a.createElement(f.frames.bgSubPanelFrame,i({helpId:h.EXTERNAL.BOX_SLIDE_SHOW_BG_APPLY,className:"slide-show-apply-panel",label:"Regular_Slideshow_Apply_Panel_Header_Title"},b.omit(this.props,"children")),a.createElement("div",{className:"slide-show-apply-panel-wrapper"},a.createElement("div",{className:"slide-show-apply-panel-description"},"\n            ",c.translate("Regular_Slideshow_Apply_Panel_Header_Description"),"\n        "),a.createElement("div",{className:"slide-show-apply-panel-all"},a.createElement(d.toggle,{name:"checkbox",labelAfterSymbol:true,className:"slide-show-apply-checkbox",label:"Regular_Slideshow_Apply_To_All",value:this.state.markAllSlidesDisplay,onChange:this.handleSelectAllChange,indeterminate:this.state.indeterminate})),a.createElement(e.customScroll,{},a.createElement("div",{className:"slide-show-apply-panel-scrollbox slide-show-settings-panel-scrollbox"},a.createElement.apply(this,["ul",{className:"slide-show-apply-panel-scrollbox-list"},b.map(this.allSlides,j.bind(this))])))))}});define("rEditor/rootComps/panels/boxSlideShowPanels/slideShowBgApplyPanel",["react","core","lodash","boxSlideshow","rEditor/rootComps/panels/boxSlideShowPanels/slideShowBgApplyPanel.rt"],function(a,b,c,d,e){"use strict";var f=d.utils.boxSlideShowUtils;function g(a,b,d,e){var f;c.forEach(b,function(b){if(b.checked){f=j(c.cloneDeep(a),b)}else{f=j(c.cloneDeep(b.originalSlideBgData),b)}switch(e){case"strip":h(f,b.slide,d);break;case"box":i(f,b.slide,d);break}})}function h(a,b,c){c.components.design.update(b,{background:a})}function i(a,b,c){c.components.design.update(b,{background:a})}function j(a,b){var c=b.originalSlideBgData;if(a.mediaRef&&c.mediaRef&&a.mediaRef.type===c.mediaRef.type){a.mediaRef.id=c.mediaRef.id;if(a.mediaRef.type==="WixVideo"){a.mediaRef.posterImageRef.id=c.mediaRef.posterImageRef.id;if(a.imageOverlay){a.imageOverlay.id=c.imageOverlay&&c.imageOverlay.id}}}else if(a.mediaRef){delete a.mediaRef.id;if(a.mediaRef.type==="WixVideo"){delete a.mediaRef.posterImageRef.id;if(a.imageOverlay){delete a.imageOverlay.id}}}else{a.mediaRef=null;a.colorOverlay="";a.imageOverlay=null}a.id=c.id;return a}return a.createClass({displayName:"slideShowBgApplyPanel",mixins:[b.mixins.editorAPIMixin],getAllSlides:function(){var a=this.getEditorAPI();return f.getAllSlides(a,a.selection.getSelectedComponents())},getInitialState:function(){var a=this.getEditorAPI();this.selectedItems=[];this.appliedSlides=[];this.origin=this.props.origin;this.currentSlide=f.findCurrentSlide(a,a.selection.getSelectedComponents());this.currentSlideBgData=this.getSlideBgData(this.currentSlide);this.allSlides=this.getAllSlides();this.itemsProps=this.getItemsProps();return{markAllSlidesDisplay:false,indeterminate:false}},getSlideBgData:function(a){var b=this.getEditorAPI();switch(this.origin){case"strip":return b.components.design.get(a).background;case"box":return b.components.design.get(a).background}},shouldComponentUpdate:function(a,b){return this.state.markAllSlidesDisplay!==b.markAllSlidesDisplay||this.state.indeterminate!==b.indeterminate||this.appliedSlides.length>0},handleSelectAllChange:function(a){c.forEach(this.itemsProps,function(b){var d=b.slide;var e=d.id;if(e===this.currentSlide.id){return}if(a){if(!c.includes(this.selectedItems,e)){this.selectedItems.push(e);this.appliedSlides.push({checked:a,originalSlideBgData:b.itemBgData,slide:d})}}else if(c.includes(this.selectedItems,e)){c.pull(this.selectedItems,e);this.appliedSlides.push({checked:a,originalSlideBgData:b.itemBgData,slide:d})}},this);this.setState({markAllSlidesDisplay:a,indeterminate:false},this.updateSlides)},getItemsProps:function(){var a=[];var b=this.getEditorAPI();c.forEach(this.allSlides,function(c){a.push({slide:c,slideTitle:b.components.data.get(c).title,currentSlideBgData:this.currentSlideBgData,itemBgData:this.getSlideBgData(c),isCurrentSlide:this.currentSlide.id===c.id})},this);return a},getSlideProps:function(a){var b=c.find(this.itemsProps,{slide:{id:a.id}});b.origin=this.origin;return b},updateSlides:function(){var a=this.getEditorAPI();g(this.currentSlideBgData,this.appliedSlides,a,this.origin);var d=c.assign({total_slides:this.getAllSlides().length,num_selected_slides:this.appliedSlides.length,all_slides_selected:this.state.markAllSlidesDisplay},a.components.getDefaultBiParams(a.selection.getSelectedComponents()));a.bi.event(b.bi.events.boxSlideShow.APPLY_ON_OTHER_SLIDES_SELECTED_SLIDES,d);this.appliedSlides=[]},slidesStateChange:function(){var a=null;if(this.allSlides.length===this.selectedItems.length+1){a=true}if(this.selectedItems.length===0){a=false}return{value:a,requestChange:function(a,b,d){var e=b.id;if(a&&!(e===this.currentSlide.id)){if(!c.includes(this.selectedItems,e)){this.selectedItems.push(e)}}else{c.pull(this.selectedItems,e)}this.appliedSlides.push({checked:a,originalSlideBgData:d,slide:b});var f=this.allSlides.length===this.selectedItems.length+1;var g=!f&&this.selectedItems.length>0;if(f!==this.state.markAllSlidesDisplay||g!==this.state.indeterminate){var h={markAllSlidesDisplay:f,indeterminate:g};this.setState(h,this.updateSlides)}else{this.updateSlides()}}.bind(this)}},render:e})});define("rEditor/rootComps/panels/panels",["rEditor/rootComps/panels/popup/overlaySettingsPanel/overlaySettingsPanel","rEditor/rootComps/panels/pagesPanel","rEditor/rootComps/panels/pagesPanelMobile","rEditor/rootComps/panels/pagesAndPopupsPanel","rEditor/rootComps/panels/myMediaPanel","rEditor/rootComps/panels/backgroundPanel/backgroundPanel","rEditor/rootComps/panels/backgroundPanel/backgroundSubPanels/bgImageSettingsPanel","rEditor/rootComps/panels/backgroundPanel/backgroundSubPanels/bgVideoSettingsPanel","rEditor/rootComps/panels/backgroundPanel/backgroundSubPanels/bgApplyPanel","rEditor/rootComps/panels/siteSettings/siteSettingsPanel","rEditor/rootComps/topBar/dropPanels/dropPanels","rEditor/rootComps/panels/editorVersionInfoPanel/editorVersionInfoPanel","rEditor/rootComps/panels/applyStylePanel/applyStylePanel","rEditor/rootComps/panels/boxSlideShowPanels/boxSlideShowManageSlidesPanel","rEditor/rootComps/panels/boxSlideShowPanels/slideShowBgApplyPanel","rEditor/rootComps/panels/boxSlideShowPanels/slideShowBgApplyPanelItem"],function(a,b,c,d,e,f,g,h,i,j,k,l,m,n,o,p){"use strict";return{pagesPanel:b,pagesPanelMobile:c,pagesAndPopupsPanel:d,myMediaPanel:e,backgroundPanel:f,bgImageSettingsPanel:g,bgVideoSettingsPanel:h,backgroundApplyPanel:i,siteSettingsPanel:j,topBar:{menuActionsPanel:k.menuActionsPanel,checkListPanel:k.checkListPanel,promotionPanel:k.promotionPanel},popup:{overlaySettingsPanel:a},editorVersionInfoPanel:l,applyStylePanel:m,boxSlideShowManageSlidesPanel:n,slideShowBgApplyPanel:o,slideShowBgApplyPanelItem:p}});define("rEditor/rootComps/mixins/rootCompsMixins",["rEditor/rootComps/mixins/hiddenableMixin","rEditor/rootComps/mixins/keepInViewportMixin"],function(a,b){"use strict";return{hiddenableMixin:a,keepInViewportMixin:b}});define("rEditor",["rEditor/rootComps/editorMain","rEditor/rootComps/editor","rEditor/rootComps/panels/panels","rEditor/app/EditorAPI","rEditor/rootComps/mixins/rootCompsMixins","rEditor/rootComps/gfpp/gfppModel"],function(a,b,c,d,e,f){"use strict";return{editorMain:a,editorComp:b,panels:c,EditorAPI:d,mixins:e,gfppModel:f}});