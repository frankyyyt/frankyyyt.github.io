!function(e){function t(r){if(n[r])return n[r].exports;var o=n[r]={exports:{},id:r,loaded:!1};return e[r].call(o.exports,o,o.exports,t),o.loaded=!0,o.exports}var n={};return t.m=e,t.c=n,t.p="",t(0)}([function(e,t,n){e.exports=n(15)},function(e,t){"use strict";function n(e,t){return e&&o.test(t)?e.replace(r,t):e}Object.defineProperty(t,"__esModule",{value:!0});var r=/(\d)+\.(\d)+\.(\d)+/,o=/^(\d)+\.(\d)+\.(\d)+$/;t["default"]=n},function(e,t){"use strict";function n(e,t){function n(e,t,n){return(e||"").split(t).reduce(function(e,t){var r=t.split(n);return e[r[0]]=r[1],e},{})}var o=n(t.replace(/^\?/,""),"&","=");this.getVersionsByQuery=function(e){function t(e){return/^\d+$/.test(e)?"http://localhost:"+e:/^[\d\.]+$/.test(e)?e:void 0}function r(t,n){t&&e[n]&&(a[n]=t)}if(!e||!o)return e;var a={};Object.keys(e).forEach(function(t){a[t]=e[t]});var i=n(o.packages,",",":");return i.all&&Object.keys(e).forEach(r.bind(null,t(i.all))),Object.keys(i).forEach(function(e){r(t(i[e]),e)}),a},this.buildConfig=function(t){function n(e){return a.indexOf(e)!==-1}var a=(o.debug||"").split(",").filter(Boolean);if(a.indexOf("all")!==-1){var i=Object.keys(t.paths).filter(function(e){return t.paths[e].source});a=e.concat(i)}Object.keys(t.paths).filter(function(e){return"object"===r(t.paths[e])&&!Array.isArray(t.paths[e])}).forEach(function(e){t.paths[e]=t.paths[e][n(e)?"source":"min"]}),t.bundles=t.bundles||{},e.filter(function(e){return!n(e)}).forEach(function(e){t.bundles[e]=e,t.paths[e]="packages-bin/"+e+"/"+e+".min"}),t.packages=t.packages||[];var s=e.filter(n).map(function(e){return{name:e,location:"packages/"+e+"/src/main",main:e}});return t.packages=t.packages.concat(s),t}}Object.defineProperty(t,"__esModule",{value:!0});var r="function"==typeof Symbol&&"symbol"==typeof Symbol.iterator?function(e){return typeof e}:function(e){return e&&"function"==typeof Symbol&&e.constructor===Symbol&&e!==Symbol.prototype?"symbol":typeof e};t["default"]=n},function(e,t){"use strict";function n(e,t,n){function r(e,t,r){return t.split(";").filter(function(e){return 0===e.indexOf(n)}).map(function(e){return e.split(n+":")[1]}).join(",").split(",").filter(Boolean).reduce(function(e,t){return e[t]=r,e},e)}function o(e,t,n){return t.split(",").filter(Boolean).reduce(function(e,t){return e[t]=n,e},e)}var a=Object.keys(e).reduce(function(t,n){return t[n]=e[n],t},{}),i={experiments:"new",experimentsoff:"old"};return Object.keys(i).reduce(function(e,n){var s=t.getParameterByName(n),d=s.indexOf(":")!==-1?r:o;return d(a,s,i[n])},a),a}Object.defineProperty(t,"__esModule",{value:!0}),t["default"]=n},function(e,t){"use strict";Object.defineProperty(t,"__esModule",{value:!0}),t["default"]=function(e){function t(t,n,r,o){var a=t.apply(null,Array.prototype.slice.call(arguments,3));a=n.buildConfig(a);var i=RegExp.prototype.test.bind(/^https?:\/\//),s=e(o.scriptsDomainUrl,"services",r.artifactName);return r.baseVersionOverride?a.baseUrl=i(r.baseVersionOverride)?r.baseVersionOverride:e(s,r.baseVersionOverride):a.baseUrl=o.scriptsLocationMap[r.artifactName],a}return t}},function(e,t){"use strict";function n(e){if(!e)return"";var t=e.split(".");if(t.length<=2)t=e;else{var n=t[t.length-2],r={com:!0,org:!0,net:!0,edu:!0,gov:!0,mil:!0,info:!0,co:!0,ac:!0};t=r[n]?t[t.length-3]+"."+t[t.length-2]+"."+t[t.length-1]:t[t.length-2]+"."+t[t.length-1]}return t}Object.defineProperty(t,"__esModule",{value:!0}),t["default"]=n},function(e,t){"use strict";function n(e,t){e.identify(t.editorSessionId,{userId:t.permissionsInfo.loggedInUserId,userAgent:window.navigator.userAgent,screenHeight:window.screen.height,screenWidth:window.screen.width})}Object.defineProperty(t,"__esModule",{value:!0}),t["default"]=n},function(e,t){"use strict";Object.defineProperty(t,"__esModule",{value:!0});var n="function"==typeof Symbol&&"symbol"==typeof Symbol.iterator?function(e){return typeof e}:function(e){return e&&"function"==typeof Symbol&&e.constructor===Symbol&&e!==Symbol.prototype?"symbol":typeof e};t["default"]=function(e){function t(t,r){function o(e){var t=new RegExp("(?:^|\\W)"+e+"s*=([^;]*)"),n=document.cookie.match(t);return n?n[1].trim():n}function a(e,t){var n=m(),r=n.size;t=Object.keys(t||{}).map(function(e){var n=t[e];"string"==typeof n&&(r+n.length>1536&&(n=n.substring(0,Math.max(1536-r,32))),n=encodeURIComponent(n));var o=e+"="+n;return r+=o.length,o}),n=t.concat(n);var o=e.endpoint||"editor",a=e.evid,i=e.src||38;n=n.length?"&"+n.join("&"):"";var u=s+"/"+o+"?evid="+a+"&src="+i+"&majorVer=3&viewMode=editor"+n;d?window.console.log("BI:",u):(new window.Image).src=u}r=r||{};var i=r.editorVersion,s=(window.serviceTopology.biServerUrl||"http://frog.wix.com").replace(/\/$/,""),d=t.isParameterTrue("suppressbi"),u=t.getParameterByName("debug"),c=function(){try{var e=window.sessionStorage,t="ep"+Date.now();if(e.setItem(t,t),e.getItem(t)===t)return e.removeItem(t),e}catch(r){var o=function(){var e={};return{v:{setItem:function(t,n){e[t]=n},getItem:function(t){return e[t]},removeItem:function(t){delete e[t]}}}}();if("object"===("undefined"==typeof o?"undefined":n(o)))return o.v}}();window.isPrefetchMode?c.setItem("afterEditorPrefetch","true"):(window.afterEditorPrefetch=!!c.getItem("afterEditorPrefetch"),c.removeItem("afterEditorPrefetch"));var l=window.performance;l&&l.mark&&(l.setResourceTimingBufferSize&&("onresourcetimingbufferfull"in l?l.onresourcetimingbufferfull=function(){var e=150;return function(){e*=2,l.setResourceTimingBufferSize(e)}}():l.setResourceTimingBufferSize(u?1e3:300)),l.mark("main-r loaded"));var f=r.permissionsInfo||{},m=function(){var e={ownerId:function(){return f.ownerId||""},roles:function(){var e=(f.loggedInUserRoles||[]).map(function(e){return e.role}).join();return this.roles=function(){return e},this.roles()},esi:function(){return r.editorSessionId||""},did:function(){return window.siteId||""},msid:function(){return r.metaSiteId||""},ts:function(e){return e-(window.mainLoaded||0)},c:function(e){return e}},t=window.newrelic;if(t){if(t.setCustomAttribute){t.setPageViewName(window.location.href.replace(/^[^\/]*\/\//,""));var n=e.roles();n&&t.setCustomAttribute("roles",n),t.setCustomAttribute("esi",e.esi()),t.setCustomAttribute("did",e.did()),t.setCustomAttribute("msid",e.msid()),t.setCustomAttribute("prefetch",window.afterEditorPrefetch),i&&t.setCustomAttribute("editorVersion",i);var o=r.runningExperiments;o&&(o=Object.keys(o).filter(function(e){return"new"===this[e]},o).join("]["),o&&t.setCustomAttribute("experiments","["+o+"]"))}!d&&i&&t.addPageAction&&t.addPageAction("main-r loaded")}return function(){var t=0,n=Date.now(),r=Object.keys(e).map(function(r){var o=r+"="+e[r](n);return t+=o.length,o});return r.size=t,r}}(),p={event:function(e,t){"number"==typeof e&&(e={evid:e}),a(e,t)},error:function(){var e={recoverable:10,warning:20,error:30,fatal:40};return function(t,n){n=n||{};var r={evid:10,endpoint:t.endpoint||"trg"},i={errn:t.errorName,errc:t.errorCode,sev:e[t.severity]||t.severity,cat:1,iss:1},s=o("userType");s&&(i.ut=s),Object.keys(n).forEach(function(e){i[e]=n[e]}),a(r,i)}}()};if(window.bi=p,!u&&!d&&i||t.isParameterTrue("bi")){var g=function(e,t,n){g=function(){};var r=Array.prototype.slice.call(arguments,3).reduce(function(e,t,n){return e["p"+(n+1)]=t,e},{});p.error({errorName:e,errorCode:t,severity:n},r)},b=window.onerror||function(){};window.onerror=function(e,t,n,r,o){var a=o&&"string"==typeof o.stack?o.stack:t;return g("JAVASCRIPT_ERROR",111022,"fatal",e,a,n,r),b.apply(this,arguments)},window.console&&!function(){var e=window.console.error;e&&(window.console.error=function(){return g.bind(null,"CONSOLE_ERROR",111023,"error").apply(null,arguments),e.apply(this,arguments)})}();var v=e.onError||function(){};e.onError=function(e){if(!e.message||!e.message.indexOf||0!==e.message.indexOf('Module name "js-beautify" has not been loaded yet')){var t=(e.requireModules||[]).join(";"),n="string"==typeof e.stack?e.stack:"",r=e.errn||"REQUIREJS_ERROR",o=e.errc||111024,a=e.severity||"fatal";return g(r,o,a,e.message,t,n),v.apply(this,arguments)}}}}return t}},function(e,t){"use strict";function n(){for(var e=arguments[0],t=1;t<arguments.length;++t)e=e.replace(/\/$/,"")+"/"+arguments[t].replace(/^\//,"");return e}Object.defineProperty(t,"__esModule",{value:!0}),t["default"]=n},function(e,t,n){"use strict";function r(e){return e&&e.__esModule?e:{"default":e}}function o(e,t){return t.split(",").filter(Boolean).forEach(function(t){var n=t.split(":"),r=(0,i["default"])(e[n[0]],n[1]);r&&e[n[0]]!==r&&(e[n[0]]=r)}),e}Object.defineProperty(t,"__esModule",{value:!0}),t["default"]=o;var a=n(1),i=r(a)},function(e,t){"use strict";Object.defineProperty(t,"__esModule",{value:!0}),t["default"]=function(e,t){function n(n,r,o,a){var i=n&&n.scriptsLocationMap["santa-langs"]||"http://static.parastorage.com/services/santa-langs/1.194.0",s=r&&r.languageCode||"en",d=t(i,"resources/santa-editor/bundles/_generated/santa_editor_"+s+".json");0===d.indexOf("http:")&&(d=[d,d.replace(/http/,"https")]);var u=n&&n.scriptsLocationMap["tpa-gfpp-data"]||"http://static.parastorage.com/services/tpa-gfpp-data/1.5.0",c=n?n.mediaManagerUrl:"http://editor.wix.com/static/services/media-gallery-g5/1.81.0/",l=n&&n.scriptsDomainUrl||"http://static.parastorage.com/",f=t.bind(null,l,"services","third-party"),m=t.bind(null,l,"services","santa-ide"),p=t.bind(null,l,"services","ck-editor"),g=function(e){var t="tpa"===e?"tpaIntegrationEditor":"platformIntegrationEditor";return"http://localhost"===o?"http://localhost:4578/"+t+"/src/main":"http://s3.amazonaws.com/integration-tests-statics/SNAPSHOT/runners/"+t+"/src/main"};return{baseUrl:"",paths:{lodash:f("lodash/3.10.1/lodash.min"),jquery:f("jquery/2.1.1/dist/jquery.min"),ckeditor:p("1.223.0/ckeditor"),wixckeditor:{min:"bower_components/wix-ck-editor/dist/wixckloader",source:"bower_components/wix-ck-editor/debug/wixckloader"},wixmp:t(n.scriptsLocationMap["wixmp-sdk"],"wixmp-sdk.amd"),color:f("color-convert/0.2.0/color.min"),speakingurl:f("speakingurl/speakingurl.min"),keyboardMaster:{min:f("keymaster/1.6.3/keymaster.min"),source:f("keymaster/1.6.3/keymaster")},react:{min:f("react/0.14.3/react-with-addons.min"),source:"//cdnjs.cloudflare.com/ajax/libs/react/0.14.3/react-with-addons"},reactDOM:{min:f("react/0.14.3/react-dom.min"),source:"//cdnjs.cloudflare.com/ajax/libs/react/0.14.3/react-dom"},langs:d,mediaFrame:t(c,"scripts/media-frame"),aviary:f("aviary/3.1.0.243/js/feather"),facebook:["//connect.facebook.net/en_US/all","js/vendor/facebook/facebook.min"],pms:"js/modules/PMS",jasmine:f("jasmine/2.1.3/jasmine"),"jasmine-html":f("jasmine/2.1.3/jasmine-html"),"jasmine-boot":f("jasmine/2.1.3/jasmine-boot"),bluebird:f("bluebird/2.9.4/bluebird.min"),plugins:"js/plugins/bundle/plugins.bundle",santaIde:{min:m("1.66.0/code_edit/built-codeEdit.min"),source:m("1.66.0/code_edit/built-codeEdit")},redux:{min:f("redux/3.0.5/redux.min"),source:f("redux/3.0.5/redux")},"react-redux":{min:f("react-redux/4.4.5/react-redux.min"),source:f("react-redux/4.4.5/react-redux")},"redux-immutablejs":f("redux-immutablejs/0.0.7/redux-immutablejs.min"),immutable:{min:f("immutable/3.7.5/dist/immutable.min"),source:f("immutable/3.7.5/dist/immutable")},ReactProxy:"js/vendor/ReactProxy",io:"https://cdnjs.cloudflare.com/ajax/libs/socket.io/1.4.0/socket.io.min",hot:"../node_modules/santa-utils/common/hot/listener",patcher:"../node_modules/santa-utils/common/hot/patcher",pmrpc:"http://static.parastorage.com/services/pm-rpc/1.24.0/lib/pm-rpc.min",tpaGfppData:t(u,"/data/tpa-gfpp-data.min"),baseUILib:"baseUILibrary/dist/base-ui",addPanelSectionsDA:"./node_modules/editor-add-panel/dist/addPanelSectionsDA",addPanelSectionsDE:"./node_modules/editor-add-panel/dist/addPanelSectionsDE",addPanelSectionsEN:"./node_modules/editor-add-panel/dist/addPanelSectionsEN",addPanelSectionsES:"./node_modules/editor-add-panel/dist/addPanelSectionsES",addPanelSectionsFR:"./node_modules/editor-add-panel/dist/addPanelSectionsFR",addPanelSectionsIT:"./node_modules/editor-add-panel/dist/addPanelSectionsIT",addPanelSectionsJA:"./node_modules/editor-add-panel/dist/addPanelSectionsJA",addPanelSectionsKO:"./node_modules/editor-add-panel/dist/addPanelSectionsKO",addPanelSectionsNL:"./node_modules/editor-add-panel/dist/addPanelSectionsNL",addPanelSectionsNO:"./node_modules/editor-add-panel/dist/addPanelSectionsNO",addPanelSectionsPL:"./node_modules/editor-add-panel/dist/addPanelSectionsPL",addPanelSectionsPT:"./node_modules/editor-add-panel/dist/addPanelSectionsPT",addPanelSectionsRU:"./node_modules/editor-add-panel/dist/addPanelSectionsRU",addPanelSectionsSV:"./node_modules/editor-add-panel/dist/addPanelSectionsSV",addPanelSectionsTR:"./node_modules/editor-add-panel/dist/addPanelSectionsTR"},packages:[{name:"platformIntegrationEditor",main:"platformIntegrationEditor",location:g("platform")},{name:"tpaIntegrationEditor",main:"tpaIntegrationEditor",location:g("tpa")}],bundles:{plugins:["json","domReady","experiment","pLoader"]},shim:{color:{exports:"Color"},lodash:{exports:"_"},jquery:{exports:"$"},keyboardMaster:{exports:"key"},mediaFrame:{exports:"MediaFrame",deps:["jquery"]},aviary:{exports:"featherEditor"},facebook:{exports:"FB"},"jasmine-html":{deps:["jasmine"]},"jasmine-boot":{deps:["jasmine","jasmine-html"]},bluebird:{exports:"bluebird"},ReactProxy:{deps:["react"],exports:"ReactProxy"}},map:{"*":{"react/addons":"react"}},pLoader:{santa:e(n,o,a)},jsx:{baseDefines:{lodash:"_",react:"React"},fileExtension:".html"},waitSeconds:0}}return n}},function(e,t){"use strict";Object.defineProperty(t,"__esModule",{value:!0}),t["default"]=function(e,t){return function(n,r,o){function a(e){o.urlArgs||(e.requireModules&&e.requireModules.forEach(function(e){t.undef(e)}),o.urlArgs="c="+Date.now(),t.config(o),t(i,function(){e.errn="REQUIREJS_RETRY_ERROR",e.errc=111025,e.severity=10,t.onError(e)},function(e){t.onError(e)}))}var i=["symbols","addPanelData","rEditor","compPanels","core","wixStore","tpa","util","blog","wixBookings","jquery","react","reactDOM","lodash","aviary","superAppMenuInfra","savePublish","panels","addPanelInfra","experiment","staticAssets","pLoader","textControls","mediaFrame","keyboardMaster","baseUI","uiAnimations","panelUtils","mediaServices","color","pms","databaseEditor","json","gfppData","backgroundPresets","styles","pagesMenu","userPreferences","popups","pLoader!santa:skins","pLoader!santa:documentServices","wixckeditor","addPanelSections","addPanelDataConsts","addPanelSectionsEN"];r.isParameterTrue("isqa")&&i.push("pLoader!santa:qaAutomation","debugTools"),r.isParameterTrue("isTpaIntegration")&&i.push("tpaIntegrationEditor","jasmine","jasmine-html","bluebird"),r.isParameterTrue("isPlatformIntegration")&&i.push("platform","platformIntegrationEditor","jasmine","jasmine-html","bluebird");var s=window.editorModel&&window.editorModel.languageCode,d=s&&"addPanelSections"+s.toUpperCase();e.indexOf(d)!==-1&&i.push(d);var u=window.location.pathname.indexOf("prefetch")>0||r.isParameterTrue("prefetch"),c=a;u&&!function(){c=function(){};var e={pLoader:!0,json:!0,text:!0,experiment:!0},t=function(){return{}},n=window.define;window.define=function(r){var o=Array.apply(null,arguments);return e.hasOwnProperty(r)||(o[2]=t),n.apply(this,o)}}(),t(i,function(){function e(e,t){return e.reduce(function(e,n,r){return e[n.replace(/^.*:/,"")]=t[r],e},{})}if(u)return void window.bi.event(589);var t=e(i,arguments);d&&t.addPanelSections.applyTranslatedSections(t[d]),t.rEditor.editorMain.start(t)},c)}}},function(e,t){"use strict";Object.defineProperty(t,"__esModule",{value:!0}),t["default"]=function(e){function t(t){try{var n="testStorage"+Date.now(),r=e[t];r.setItem(n,n);var o=r.getItem(n);if(r.removeItem(n),o!==n)throw"not equal"}catch(a){return!1}return!0}var n=void 0;return n=t("localStorage")?e.localStorage:t("sessionStorage")?e.sessionStorage:{setItem:function(){},getItem:function(){},removeItem:function(){}},{save:function(e,t){n.setItem(e,t)},load:function(e){return n.getItem(e)},remove:function(e){n.removeItem(e)}}}},function(e,t){"use strict";function n(e){function t(e,t){t=t.replace(/[\[]/,"\\[").replace(/[\]]/,"\\]");var n=new RegExp("[\\?&]"+t+"=([^&#]*)"),r=n.exec(e);return r&&r[1]?decodeURIComponent(r[1]).replace(/\+/g," "):""}function n(e,n){return"true"===t(e,n)}return{getParameterFromQuery:t,isParameterTrueInQuery:n,getParameterByName:t.bind(null,e.location.search),isParameterTrue:n.bind(null,e.location.search)}}Object.defineProperty(t,"__esModule",{value:!0}),t["default"]=n},function(e,t,n){"use strict";function r(e){return e&&e.__esModule?e:{"default":e}}Object.defineProperty(t,"__esModule",{value:!0}),t["default"]=function(e,t,n,r,o){var i=(0,l["default"])(e,o),d=(0,u["default"])(o),c=(0,s["default"])(t),f=(0,P["default"])(n,t),p=new a["default"](e,window.location.search);window.mainLoaded=Date.now(),window.serviceTopology.mediaManagerUrl=(0,w["default"])(window.serviceTopology.mediaManagerUrl,r.getParameterByName("mmgr")),window.serviceTopology.scriptsLocationMap=(0,v["default"])(window.serviceTopology.scriptsLocationMap,r.getParameterByName("scriptsLocations"));var b=window.editorModel;b&&(b.runningExperiments=(0,m["default"])(b.runningExperiments,r,"editor"),b.languageCode=r.getParameterByName("lang")||b.languageCode);var y=c(f,p,{baseVersionOverride:r.getParameterByName("EditorSource"),artifactName:"santa-editor"},window.serviceTopology,b,r.getParameterByName("ReactSource"),a["default"]);if(b){b.editorBase=y.baseUrl;var h=y.baseUrl.match(/\/(\d+\.\d+\.\d+)\/?$/);b.editorVersion=h&&h[1],d(r,b),window.bi.event(458,{prefetch:window.afterEditorPrefetch})}else d(r),window.bi.event(588);o.config(y);try{document.domain=(0,g["default"])(document.domain)}catch(S){}"http://localhost/editor-base"===r.getParameterByName("EditorSource")&&"false"!==r.getParameterByName("hot")?o(["hot","jquery"],function(e,t){e.init(t,!1),i(b,r,y)}):i(b,r,y)};var o=n(2),a=r(o),i=n(4),s=r(i),d=n(7),u=r(d),c=n(11),l=r(c),f=n(3),m=r(f),p=n(5),g=r(p),b=n(9),v=r(b),y=n(1),w=r(y),h=n(10),P=r(h)},function(e,t,n){"use strict";function r(e){return e&&e.__esModule?e:{"default":e}}n(16);var o=n(6),a=r(o),i=n(8),s=r(i),d=n(12),u=r(d),c=n(14),l=r(c),f=n(13),m=r(f),p=(0,m["default"])(window);window.joinURL=s["default"],window.queryUtil=p,window.persistent=(0,u["default"])(window),window.identifyForFullStory=a["default"],void 0!==window.customRenderSite?window.customRenderSite():(0,l["default"])(window.packagesList,s["default"],getPloaderSantaConfig,p,requirejs)},function(e,t){"use strict";!function(){window.packagesList=["addPanelData","addPanelDataConsts","addPanelInfra","addPanelSections","advancedStylePanel","backgroundPresets","baseUI","blog","boxSlideshow","columnsControls","compPanels","constants","core","customizeDesignDataPanel","databaseEditor","debugTools","designPanel","designPanelUtils","editorEventRegistry","editorHints","firstTimeExperience","firstTimePanelsComponents","gfppData","helpIds","imageCrop","mediaServices","mobileEditor","pagesMenu","panelUtils","panels","platform","platformPanels","popups","rEditor","santaPreview","savePublish","shoutOut","staticAssets","styles","superAppMenuInfra","symbols","testUtils","textControls","tpa","tpaPanels","uiAnimations","uiConstants","userPreferences","util","videoSearch","wixBookings","wixCode","wixStore"]}()}]);
//# sourceMappingURL=main-r.min.js.map