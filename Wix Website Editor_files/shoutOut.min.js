define("shoutOut/utils/shoutOutUtils",["lodash","jquery","core"],function(a,b,c){"use strict";var d="shoutout";var e="135c3d92-0fea-1f9d-2ba5-2a1dfb04297e";var f="1375baa8-8eca-5659-ce9d-455b2009250d";var g="https://editor.wix.com/shoutout/";var h="//editor.wix.com/shoutout/api/";var i=c.constants.SUPER_APPS.SHOUTOUT_PANEL_NAME;var j={userState:{isReturning:false,openedSo:false},gsState:{installed:null,touched:null}};function k(a){return g+a+"/direct#/messages-list"}function l(a){return g+a+"/direct#/messages-list-new"}function m(a){return g+a+"/direct#/template-choose/wix-editor"}function n(a,b){var c=b||"so-template-site-promotion";var d=encodeURIComponent("?dl=message&referralInfo=editorSoPanel&tags="+c);return"https://www.wix.com/my-account/sites/"+a+"/app/"+e+"?referralInfo=editorSoPanel&appState="+d}function o(a){var b=encodeURIComponent("?dl=template-choose/wix-editor");return"https://www.wix.com/my-account/sites/"+a+"/app/"+e+"?referralInfo=editorSoPanel&appState="+b}function p(a){var b=encodeURIComponent("?dl=my-shoutouts");return"https://www.wix.com/my-account/sites/"+a+"/app/"+e+"?referralInfo=editorSoPanel&appState="+b}function q(a,c){var d=h+"services/instance?metaSiteId="+a;b.get(d).done(function(a){var d=a?a.instance:null;if(d){var e=h+"messages/counts?instance="+d;b.get(e).done(function(a){if(a&&a.total>0){c({isReturning:true})}else{c({isReturning:false,openedSo:true})}}).fail(function(){c({isReturning:false})})}else{c({isReturning:false})}}).fail(function(){c({isReturning:false})})}function r(a){return!(j.gsState.touched||z(a)||!j.userState.isReturning)}function s(a){a.leftBar.notifications.setCount(i,1)}function t(a){a.leftBar.notifications.setCount(i,0);a.getUserPreferences().site.set(d+"/pimpleViewed","true")}function u(a,b){var c=A(a,f);if(c&&c.length>0){b(true)}else{b(false)}}function v(a,b){var c=A(a,f);if(c&&c.length>0){if(c.length>1){b(true)}else if(c[0].tpaData){b(true)}else{b(false)}}else{b(false)}}function w(a){return a.leftBar.notifications.getCount(i)>0}function x(){return j.userState?j.userState.isReturning:false}function y(){return j.userState?j.userState.isReturning||j.userState.openedSo:false}function z(a){return!!a.getUserPreferences().site.get(d+"/pimpleViewed")}function A(a,b){var c=a.tpa.app.getDataByAppDefId(b);return c?a.tpa.app.getAllCompsByApplicationId(c.applicationId):[]}function B(a){var b=a.site.get(d+"/in_first_time_tour");return b?b!=="false":true}function C(a,b){u(a,function(c){j.gsState.installed=c;v(a,function(c){j.gsState.touched=c;q(a.site.getMetaSiteId(),function(a){j.userState=a;b()})})})}return{appDefId:e,getReturningUserIframeUrl:k,getDirectTemplatesUrl:m,getShoutOutNewMessageUrl:n,getUserState:q,apps:{store:{appId:"1380b703-ce81-ff05-f115-39571d94dfcd"},music:{appId:"13bb5d67-1add-e770-a71f-001277e17c57"},getSubscribers:{appId:f,widgetId:"1375babd-6f2b-87ed-ff19-5778602c8b86"},feed:{widgetId:"141995eb-c700-8487-6366-a482f7432e2b"}},getNewReturningUserIframeUrl:l,getShoutOutTemplatesUrl:o,getMyShoutOutsUrl:p,pimpleShouldAppear:r,setPimpleViewed:t,showPimple:s,isPimpleVisible:w,isUserReturning:x,isUserOpenedSo:y,isUserFirstTimer:B,fetchSoState:C,gs:{isInstalled:function(){return j.gsState.installed},isTouched:function(){return j.gsState.touched}}}});define("shoutOut/panels/soMenuPanel.rt",["react","lodash","superAppMenuInfra"],function(a,b,c){"use strict";return function(){return a.createElement(c.superAppPanel,b.assign({},{superApp:this.getSuperApp(),panelClass:"shoutout-panel"},this.filteredProps()))}});define("shoutOut/utils/bi/shoutOutEvents",[],function(){"use strict";var a={SHOUTOUT_NEW_MESSAGE:{evid:77,src:36,endpoint:"shout",sampleRatio:0,fields:{context:"string",msid:"guid",origin:"string",package_group:"string",package_id:"string"}},SHOUTOUT_EDITOR_PANEL_OPEN:{evid:89,src:36,endpoint:"shout",sampleRatio:0,fields:{is_first:"bool",msid:"guid"}},SHOUTOUT_EDITOR_PANEL_CLOSE:{evid:90,src:36,endpoint:"shout",sampleRatio:0,fields:{is_first:"bool",type:"string",notification:"string",msid:"guid"}},SIE_WELCOME_PANEL_GET_STARTED_CLICK:{evid:111,src:36,endpoint:"shout",sampleRatio:0,fields:{shoutout_user:"bool",msid:"guid"}},SIE_SHOUTOUT_PANEL_RETURNING_BANNER_VIEW:{evid:112,src:36,endpoint:"shout",sampleRatio:0,fields:{type:"string",msid:"guid"}},SIE_SHOUTOUT_PANEL_RETURNING_BANNER_CLICK:{evid:113,src:36,endpoint:"shout",sampleRatio:0,fields:{type:"string",msid:"guid"}}};var b=function(b){b.bi.register("components","event",a)};return{biEvents:a,registerEvents:b}});define("shoutOut/utils/bi/shoutOutBi",["shoutOut/utils/bi/shoutOutEvents"],function(a){"use strict";return{events:a.biEvents,registerEvents:a.registerEvents}});define("shoutOut/panels/shoutOutPanel/shoutOutPanel.rt",["react","lodash","util","baseUI","symbols"],function(a,b,c,d,e){"use strict";return function(){return a.createElement("div",{className:"welcome-slide shoutout-add-panel"},this.state.userState==this.userStates.loading?a.createElement("div",{key:"shoutOutLoadingState",className:"shoutout-loading shoutout-panel-loading"}):null,this.state.userState==this.userStates.firstTime?a.createElement("div",{key:"shoutOutFirstTimeState",className:"shoutout-panel-first-time"},a.createElement("div",{className:"close",onClick:this.onClose},a.createElement(e.symbol,{name:"headerCloseButton",className:"headerCloseButton"})),a.createElement("div",{className:"shoutout-first-time-image",src:this.promotionalImage,alt:"shoutout"},a.createElement("img",{src:this.promotionalImage,alt:"shoutout"})),a.createElement("h1",{className:"title shoutout-first-time-title"},c.translate("SiteApp_ShoutOut_Panel_Title")),a.createElement("div",{className:"sub-title shoutout-first-time-sub-title"},a.createElement("div",{className:"shoutout-first-time-sub-title-line"},c.translate("SiteApp_ShoutOut_Panel_Sub_Title_Get_The_Word")),a.createElement("div",{className:"shoutout-first-time-sub-title-line"},c.translate("SiteApp_ShoutOut_Panel_Sub_Title_Market_Your")," ",c.translate("SiteApp_ShoutOut_Panel_Sub_Title_Send_NewsLetter"))),a.createElement(d.button,{label:"SiteApp_ShoutOut_Panel_Next_button_Label",onClick:this.startNowClick,className:"shoutout-returning-create-new"})):null,this.state.userState==this.userStates.returning?a.createElement("div",{key:"shoutOutReturningState",className:"shoutout-panel-returning"},a.createElement("header",{className:"panel-header light shoutout-returning-header"},a.createElement("span",{className:"panel-header-title"},c.translate("SiteApp_ShoutOut_Common_My_ShoutOuts")),a.createElement("div",{className:"close",onClick:this.onClose},a.createElement(e.symbol,{name:"headerCloseButton",className:"headerCloseButton"}))),a.createElement("iframe",{className:"shoutout-returning-user-iframe",src:this.returningUserIframeUrl(),width:"100%"}),a.createElement("div",{className:"shoutout-returning-footer"},a.createElement(d.button,{label:"SiteApp_ShoutOut_Panel_Returning_New",onClick:this.createNewClick,className:"shoutout-returning-create-new"}))):null)}});define("shoutOut/panels/shoutOutPanel/shoutOutPanel",["react","core","util","panels","shoutOut/utils/shoutOutUtils","shoutOut/utils/bi/shoutOutBi","shoutOut/panels/shoutOutPanel/shoutOutPanel.rt","tpa"],function(a,b,c,d,e,f,g){"use strict";return a.createClass({displayName:"shoutOutPanel",mixins:[b.mixins.editorAPIMixin,c.propTypesFilterMixin,c.postMessageMixin],propTypes:{onClose:a.PropTypes.func.isRequired},promotionalImage:c.media.getMediaUrl("shoutOut/shoutOutPromotional.png"),userStates:{loading:"loading",firstTime:"firstTime",returning:"returning"},returningUserIframeUrl:function(){var a=this.getEditorAPI().site.getMetaSiteId();return e.getReturningUserIframeUrl(a)},getInitialState:function(){return{userState:"none"}},componentDidMount:function(){this._updatedState()},startNowClick:function(){var a="",b=this.getEditorAPI().site.getMetaSiteId();this._newMessageEvent();a=e.getShoutOutNewMessageUrl(b);window.open(a)},createNewClick:function(){this._newMessageEvent();var a=this.getEditorAPI().site.getMetaSiteId();d.panelManager.openPanel("panels.focusPanels.shoutOutTemplatesPanel",{frameUrl:e.getDirectTemplatesUrl(a)},true)},onClose:function(){var a={is_first:this.state.userState===this.userStates.firstTime};this.getEditorAPI().bi.event(f.events.SHOUTOUT_EDITOR_PANEL_CLOSE,a);this.props.onClose()},_newMessageEvent:function(){var a={context:"editor",msid:"guid",origin:"editorShotoutPanel",package_group:"",package_id:""};this.getEditorAPI().bi.event(f.events.SHOUTOUT_NEW_MESSAGE,a)},_updatedState:function(){var a=this.getEditorAPI().site.getMetaSiteId();this.setState({userState:this.userStates.loading});e.getUserState(a,this._onDone)},_onDone:function(a){var b=a.isReturning?this.userStates.returning:this.userStates.firstTime;var c={is_first:!a.isReturning};this.getEditorAPI().bi.event(f.events.SHOUTOUT_EDITOR_PANEL_OPEN,c);this.setState({userState:b})},render:g})});define("shoutOut/panels/soMenuPanel",["react","lodash","util","shoutOut/utils/shoutOutUtils","shoutOut/panels/soMenuPanel.rt","shoutOut/panels/shoutOutPanel/shoutOutPanel"],function(a,b,c,d,e,f){"use strict";return a.createClass({displayName:"soMenuPanel",mixins:[c.propTypesFilterMixin],getSuperApp:function(){return{id:"shoutout",appDefId:d.appDefId,appName:"shoutout",firstTimeTour:{templateFlow:[f],manuallyInstalledFlow:[f],promotionalFlow:[f]},panel:{name:"shoutOut.menuPanel",manage:{title:"no_title",helpId:"1",template:f},pages:{title:"no_title",helpId:"1",template:f},addElements:{title:"no_title",helpId:"1",template:f},learnMore:{title:"no_title",helpId:"1",template:f}},upgradeLinkText:"superAppTranslationKeys.upgradeLinkText",isAppInstalled:function(){return false}}},render:e})});define("shoutOut/panels/soMenuPanelNew.rt",["react","lodash","superAppMenuInfra"],function(a,b,c){"use strict";return function(){return a.createElement(c.superAppPanel,{superApp:this.getSuperApp(),panelClass:this.getClass()})}});define("shoutOut/panels/shoutOutPanel/firstTimeTour.rt",["react","lodash","util","baseUI","symbols"],function(a,b,c,d,e){"use strict";function f(b,d){return a.createElement("li",{className:"bullet",key:b},a.createElement("span",{className:"bullet-symbol"},a.createElement(e.symbol,{name:"cyclePickerV",className:"cyclePickerV"})),a.createElement("p",{className:"bullet-text"},c.translate(b)))}return function(){return a.createElement("div",{className:"get-started-slide shoutout-first-time-tour"},a.createElement("div",{className:"button",onClick:this.onClose},a.createElement(e.symbol,{name:"headerCloseButton"})),a.createElement("div",{className:"shoutout-first-time-tour-image-container"+" "+b({"shoutout-first-time-tour-image-container-large":this.state.banner.pros.length>3}).transform(function(a,b,c){if(b){a.push(c)}},[]).join(" ")},a.createElement("img",{src:this.firstTimePromoImage,alt:"shoutout"})),a.createElement("h1",{className:"title"},c.translate(this.state.banner.title)),a.createElement("div",{className:"bullets-wrapper"},a.createElement.apply(this,["ul",{className:"tip-bullets"},b.map(this.state.banner.pros,f.bind(this))])),a.createElement(d.button,{label:this.state.banner.action,onClick:this.onNextButtonClick,className:"get-started-add-btn"}))}});define("shoutOut/panels/shoutOutPanel/firstTimeTour",["react","util","core","shoutOut/panels/shoutOutPanel/firstTimeTour.rt","shoutOut/utils/bi/shoutOutBi","shoutOut/utils/shoutOutUtils"],function(a,b,c,d,e,f){"use strict";return a.createClass({displayName:"shoutOutFirstTimeTour",mixins:[c.mixins.editorAPIMixin,b.propTypesFilterMixin],render:d,firstTimePromoImage:b.media.getMediaUrl("shoutOut/shoutOutFirstTimeTour.png"),propTypes:{onClose:a.PropTypes.func.isRequired,nextSlide:a.PropTypes.func.isRequired},getInitialState:function(){var a={title:"SiteApp_ShoutOut_First_Time_Heading",pros:["SiteApp_ShoutOut_First_Time_Bullet_Promote","SiteApp_ShoutOut_First_Time_Bullet_Share","SiteApp_ShoutOut_First_Time_Bullet_Subscribers"],action:"SiteApp_ShoutOut_First_Time_Action"};if(f.isUserOpenedSo()||f.isUserReturning()){a.title="SiteApp_ShoutOut_First_Time_Opened_Heading";a.pros=["SiteApp_ShoutOut_First_Time_Opened_Bullet_Introduce","SiteApp_ShoutOut_First_Time_Opened_Bullet_Promote","SiteApp_ShoutOut_First_Time_Opened_Bullet_Share","SiteApp_ShoutOut_First_Time_Opened_Bullet_Subscribers"];a.action="SiteApp_ShoutOut_First_Time_Opened_Action"}return{banner:a}},onClose:function(){this.props.onClose()},onNextButtonClick:function(){this.getEditorAPI().bi.event(e.events.SIE_WELCOME_PANEL_GET_STARTED_CLICK,{shoutout_user:f.isUserOpenedSo()||f.isUserReturning()});this.props.nextSlide()}})});define("shoutOut/panels/shoutOutPanel/addSections/actionsProvider",["tpa","core","shoutOut/utils/shoutOutUtils"],function(a,b,c){"use strict";var d;function e(a){d=a}function f(c,e,f){a.superApps.addWidget(c,e,f);d.panelManager.closePanelByName(b.constants.SUPER_APPS.SHOUTOUT_PANEL_NAME)}function g(a){f(c.apps.getSubscribers.appId,a.data.widgetId)}function h(a,b){a.width=b.structure.layout.width;a.height=b.structure.layout.height;f(c.apps.getSubscribers.appId,b.structure.data.widgetId,a)}function i(a){f(c.appDefId,a.data.widgetId)}function j(a,b){a.width=b.structure.layout.width;a.height=b.structure.layout.height;f(c.appDefId,b.structure.data.widgetId,a)}return{onGsWidgetDrop:h,onGsWidgetClick:g,onFeedWidgetDrop:j,onFeedWidgetClick:i,init:e}});define("shoutOut/panels/shoutOutPanel/leftBar/shoutOutMailPanel.rt",["react","lodash","util","symbols"],function(a,b,c,d){"use strict";function e(){var b=this.getBanner();return a.createElement("div",{className:"shoutout-email-panel-returning-standard"},a.createElement("div",{className:"shoutout-email-returning-banner-image"},a.createElement("img",{src:b.imageUrl,alt:"shoutout"})),a.createElement("div",{className:"shoutout-email-returning-banner-bottom"},a.createElement("p",{className:"shoutout-email-returning-banner-title"},c.translate(b.titleKey)),a.createElement("button",{onClick:this.bannerActionClick,className:"control-button shoutout-email-returning-banner-action"},c.translate(b.actionKey))))}return function(){return a.createElement("div",{className:"shoutout-email-panel"},this.state.userState===this.userStates.loading?a.createElement("div",{className:"shoutout-panel-loading",key:"shoutout-email-panel-loading"}):null,this.state.userState===this.userStates.new?a.createElement("div",{className:"shoutout-panel-new-user",key:"shoutout-email-panel-new-user"},a.createElement("div",{className:"shoutout-new-user-standard"},a.createElement("div",{className:"shoutout-new-user-image"},a.createElement("img",{src:this.newUserPromoImage,alt:"shoutout"})),a.createElement("div",{className:"shoutout-new-user-overlay"},a.createElement("p",{className:"shoutout-new-user-title"},c.translate("SiteApp_ShoutOut_Email_Panel_First_Title")),a.createElement("a",{href:this.getCreateNewUrl(),target:"_blank",className:"control-button shoutout-panel-url-as-button",onClick:this.createNewClick},c.translate("SiteApp_ShoutOut_Email_Panel_First_Create")),a.createElement("button",{onClick:this.viewTemplates,className:"shoutout-panel-button-as-url shoutout-open-templates"},c.translate("SiteApp_ShoutOut_Email_Panel_First_Templates"))))):null,this.state.userState===this.userStates.returning?a.createElement("div",{className:"shoutout-email-panel-returning",key:"shoutout-email-panel-returning"},this.state.gsState.visible?a.createElement("div",{className:"shoutout-email-panel-returning-gs"},a.createElement("div",{className:"first-time-info-box in-header shoutout-new-user-gs-banner"},a.createElement("div",{className:"top-line"},a.createElement("div",{className:"close",onClick:this.closeGsBanner},a.createElement(d.symbol,{name:"firstTimeInfoBoxClose"}))),a.createElement("div",{className:"shoutout-new-user-gs-banner-image"},a.createElement("img",{src:this.newUserGsBannerIcon,alt:"shoutout"}),a.createElement("div",{className:"shoutout-new-user-gs-banner-notification"},"1")),a.createElement("div",{className:"shoutout-new-user-gs-banner-content"},a.createElement("div",{className:"shoutout-new-user-gs-banner-text"},this.state.gsState.installed?c.translate("SiteApp_ShoutOut_Email_Panel_First_Gs_Installed_Banner_Text"):c.translate("SiteApp_ShoutOut_Email_Panel_First_Gs_Banner_Text")),a.createElement("div",{className:"shoutout-new-user-gs-banner-actions"},a.createElement("button",{className:"control-button link no-margin btn-sm btn-text",onClick:this.openGsHelp},a.createElement("span",{},c.translate("add_category_teaser_link")),a.createElement(d.symbol,{className:"arrow",name:"firstTimeInfoBoxArrowRight",key:"learnMoreSymbol"})),this.state.gsState.installed===false?a.createElement("button",{className:"control-button shoutout-new-user-gs-banner-action",onClick:this.addGsToSiteClick},c.translate("SiteApp_ShoutOut_Email_Panel_First_Gs_Banner_Action")):null)))):null,!this.state.gsState.visible?e.apply(this,[]):null,a.createElement("iframe",{className:"shoutout-email-returning-shoutouts-iframe",src:this.returningUserIframeUrl(),width:"100%"}),a.createElement("a",{href:this.myShoutOutsUrl(),target:"_blank",className:"shoutout-panel-url shoutout-panel-url-my-shoutouts"},c.translate("SiteApp_ShoutOut_Email_Panel_Returning_View_ShoutOuts"))):null)}});define("shoutOut/panels/shoutOutPanel/leftBar/shoutOutMailPanel",["react","core","util","panels","tpa","shoutOut/utils/shoutOutUtils","shoutOut/utils/bi/shoutOutBi","shoutOut/panels/shoutOutPanel/addSections/actionsProvider","shoutOut/panels/shoutOutPanel/leftBar/shoutOutMailPanel.rt"],function(a,b,c,d,e,f,g,h,i){"use strict";function j(){var a={visible:false,installed:false,touched:false};if(f.isPimpleVisible(this.getEditorAPI())){a.visible=true;a.installed=f.gs.isInstalled();a.touched=f.gs.isTouched()}return a}function k(){var a=f.isUserReturning()?this.userStates.returning:this.userStates.new;return a}return a.createClass({displayName:"shoutOutPanel",mixins:[b.mixins.editorAPIMixin,c.propTypesFilterMixin,c.postMessageMixin],propTypes:{},newUserPromoImage:c.media.getMediaUrl("shoutOut/shoutOutNewUser.png"),newUserGsBannerIcon:c.media.getMediaUrl("shoutOut/shoutOutNewUserGrowBannerIcon.png"),metaSiteId:"",userStates:{loading:"loading",new:"new",returning:"returning"},bannerTypes:{generic:"generic",store:"store"},getInitialState:function(){return{userState:k.call(this),gsState:j.call(this)}},componentDidMount:function(){if(f.isUserReturning()){this.getEditorAPI().bi.event(g.events.SIE_SHOUTOUT_PANEL_RETURNING_BANNER_VIEW,{type:this.getBanner().type})}},myShoutOutsUrl:function(){return f.getMyShoutOutsUrl(this.getEditorAPI().site.getMetaSiteId())},returningUserIframeUrl:function(){return f.getNewReturningUserIframeUrl(this.getEditorAPI().site.getMetaSiteId())},createNewClick:function(){var a={context:"editor",msid:"guid",origin:"editorShotoutPanel",package_group:"",package_id:""};this.getEditorAPI().bi.event(g.events.SHOUTOUT_NEW_MESSAGE,a)},getCreateNewUrl:function(){return f.getShoutOutNewMessageUrl(this.getEditorAPI().site.getMetaSiteId())},getBanner:function(){var a={type:this.bannerTypes.generic,templatesUrl:f.getShoutOutTemplatesUrl(this.getEditorAPI().site.getMetaSiteId()),imageUrl:c.media.getMediaUrl("shoutOut/shoutOutReturningUserBannerGeneric.png"),titleKey:"SiteApp_ShoutOut_Email_Panel_Returning_Title",actionKey:"SiteApp_ShoutOut_Email_Panel_Returning_Create"};if(e.superApps.isInstalled(f.apps.store.appId)){a.type=this.bannerTypes.store;a.imageUrl=c.media.getMediaUrl("shoutOut/shoutOutReturningUserBannerStore.png");a.titleKey="SiteApp_ShoutOut_Email_Panel_Returning_Store_Title";a.actionKey="SiteApp_ShoutOut_Email_Panel_Returning_Store_Create"}return a},viewTemplates:function(){d.panelManager.openPanel("panels.focusPanels.shoutOutTemplatesPanel",{frameUrl:f.getDirectTemplatesUrl(this.getEditorAPI().site.getMetaSiteId())},true)},addGsToSiteClick:function(){h.onGsWidgetClick({data:{widgetId:f.apps.getSubscribers.widgetId}})},closeGsBanner:function(){this.setState({gsState:{visible:false}})},openGsHelp:function(){var a={origin:b.constants.SUPER_APPS.SHOUTOUT_PANEL_NAME,component:"shoutoutGs",learn_more:true};d.panelManager.openHelpCenter("012fc8f2-e84b-4bfb-b419-2f76bacc03aa",null,null,a)},bannerActionClick:function(){this.viewTemplates();this.getEditorAPI().bi.event(g.events.SIE_SHOUTOUT_PANEL_RETURNING_BANNER_CLICK,{type:this.getBanner().type})},render:i})});define("shoutOut/panels/shoutOutPanel/leftBar/shoutOutFeedPanel.rt",["react","lodash","util","addPanelInfra","symbols"],function(a,b,c,d,e){"use strict";function f(){var f=this.props.superApp.panel.addElements;var g=this.isMobile();return a.createElement("div",{className:"super-app-add-elements-panel category-view-wrapper"},!g?a.createElement(d.categoryView,b.assign({},{key:"categoryView",teaser:this.getTeaser(),origin:"vertical_button",items:this.getSections()},this.getCategoryViewProps())):null,g?a.createElement("div",{className:"super-app-mobile-view",key:"mobileView"},a.createElement(e.symbol,{name:this.props.superApp.panel.addElements.mobileImage}),a.createElement("p",{className:"bigger-text"},c.translate(f.disabledInMobileMessageTitle)),a.createElement("p",{},"\n            ",c.translate(f.disabledInMobileMessageDescription)," ",a.createElement("a",{onClick:this.goToDesktop},c.translate(f.disabledInMobileMessageDescriptionLink)))):null)}return function(){return f.apply(this,[])}});define("shoutOut/panels/shoutOutPanel/leftBar/shoutOutFeedPanel",["lodash","react","core","addPanelInfra","shoutOut/panels/shoutOutPanel/leftBar/shoutOutFeedPanel.rt"],function(a,b,c,d,e){"use strict";return b.createClass({displayName:"superAppAddElementsPanel",mixins:[c.mixins.editorAPIMixin,d.dragToStageMixin],propTypes:{onChangeStateOnInnerNavigationOpen:b.PropTypes.func.isRequired,superApp:b.PropTypes.shape({panel:{addElements:b.PropTypes.object},extraTabs:b.PropTypes.array}).isRequired},getInitialState:function(){return{firstTimeInfoBoxHeight:0}},isMobile:function(){return this.getEditorAPI().viewMode.get()===this.getEditorAPI().viewMode.VIEW_MODES.MOBILE},getSections:function(){return this.props.superApp.extraTabs[0].sections},getTeaser:function(){return this.props.superApp.extraTabs[0].teaser},getCategoryViewProps:function(){var b=a.cloneDeep(this.props);return a.assign(b,{changeStateOnInnerNavigationOpen:this.props.onChangeStateOnInnerNavigationOpen,firstTimeInfoBoxHeight:this.state.firstTimeInfoBoxHeight,onItemDrag:this.startItemDrag})},goToDesktop:function(){this.getEditorAPI().setDesktopEditor()},render:e})});define("shoutOut/panels/shoutOutPanel/addSections/subscribe",["addPanelData","shoutOut/utils/shoutOutUtils","shoutOut/panels/shoutOutPanel/addSections/actionsProvider"],function(a,b,c){"use strict";var d=a.addPanelDataConsts;return{type:d.SECTIONS_TYPES.PRESET,hide:false,title:"SiteApp_ShoutOut_Panels_Subscribe_Add_Title",showSectionHeader:true,additionalBehaviours:{labelMode:d.LABEL_BEHAVIOUR.NONE,infoIcon:d.INFO_ICON_BEHAVIOUR.NONE,hoverImageAction:d.HOVER_IMAGE_ACTIONS.NONE,scaleProportion:d.DEFAULT_SCALE_FOR_PRESET,iconEnabledForComps:[]},props:{image:"shoutOut/shoutOutSectionGetSub.png",imageHover:null,onDrop:c.onGsWidgetDrop,onClick:c.onGsWidgetClick,items:[{id:"shoutout_get_subscribers_main",structure:{skin:"wysiwyg.viewer.skins.TPAWidgetSkin",layout:{width:500,height:126,scale:1,rotationInDegrees:0,fixedPosition:false},componentType:"wysiwyg.viewer.components.tpapps.TPAWidget",data:{type:"TPAWidget",metaData:{isPreset:true,schemaVersion:"1.0",isHidden:false},applicationId:"16",widgetId:b.apps.getSubscribers.widgetId},style:{type:"TopLevelStyle",id:"tpaw0",metaData:{isPreset:false,schemaVersion:"1.0",isHidden:false},style:{groups:{},properties:{},propertiesSource:{}},componentClassName:"",pageId:"",compId:"",styleType:"system",skin:"wysiwyg.viewer.skins.TPAWidgetSkin"}},preset:{rect:{width:436,height:134,x:0,y:0},label:""}}],compTypes:["wysiwyg.viewer.components.tpapps.TPAWidget"]},help:{hide:false,text:"SiteApp_ShoutOut_Panels_Subscribe_Add_Tooltip"}}});define("shoutOut/panels/shoutOutPanel/addSections/feed",["addPanelData","shoutOut/utils/shoutOutUtils","shoutOut/panels/shoutOutPanel/addSections/actionsProvider"],function(a,b,c){"use strict";var d=a.addPanelDataConsts;return{type:d.SECTIONS_TYPES.PRESET,hide:false,title:"SiteApp_ShoutOut_Panels_Feed_Add_Title",showSectionHeader:true,additionalBehaviours:{labelMode:d.LABEL_BEHAVIOUR.NONE,infoIcon:d.INFO_ICON_BEHAVIOUR.NONE,hoverImageAction:d.HOVER_IMAGE_ACTIONS.NONE,scaleProportion:d.DEFAULT_SCALE_FOR_PRESET,iconEnabledForComps:[]},props:{image:"shoutOut/shoutOutSectionFeed.png",imageHover:null,onDrop:c.onFeedWidgetDrop,onClick:c.onFeedWidgetClick,items:[{id:"shoutout_get_feed_main",structure:{skin:"wysiwyg.viewer.skins.TPAWidgetSkin",layout:{width:420,height:280,scale:1,rotationInDegrees:0,fixedPosition:false},componentType:"wysiwyg.viewer.components.tpapps.TPAWidget",data:{type:"TPAWidget",metaData:{isPreset:true,schemaVersion:"1.0",isHidden:false},applicationId:"16",widgetId:b.apps.feed.widgetId},style:{type:"TopLevelStyle",id:"tpaw0",metaData:{isPreset:false,schemaVersion:"1.0",isHidden:false},style:{groups:{},properties:{},propertiesSource:{}},componentClassName:"",pageId:"",compId:"",styleType:"system",skin:"wysiwyg.viewer.skins.TPAWidgetSkin"}},preset:{rect:{width:435,height:286,x:0,y:0},label:""}}],compTypes:["wysiwyg.viewer.components.tpapps.TPAWidget"]},help:{hide:false,text:"SiteApp_ShoutOut_Panels_Feed_Add_Tooltip"}}});define("shoutOut/panels/soMenuPanelNew",["react","core","shoutOut/utils/shoutOutUtils","shoutOut/utils/bi/shoutOutBi","shoutOut/panels/soMenuPanelNew.rt","shoutOut/panels/shoutOutPanel/firstTimeTour","shoutOut/panels/shoutOutPanel/leftBar/shoutOutMailPanel","shoutOut/panels/shoutOutPanel/leftBar/shoutOutFeedPanel","shoutOut/panels/shoutOutPanel/addSections/subscribe","shoutOut/panels/shoutOutPanel/addSections/feed"],function(a,b,c,d,e,f,g,h,i,j){"use strict";var k={id:"shoutout",appDefId:c.appDefId,appName:"shoutout",firstTimeTour:{templateFlow:[f],manuallyInstalledFlow:[f],promotionalFlow:[f]},panel:{name:"shoutOut.menuPanel",manage:{title:"SiteApp_ShoutOut_Panels_Email_Title",helpId:"b4bf9ded-bf71-412b-889f-8586727adc24",template:g},pages:{title:"to-hide",helpId:"1",template:g},addElements:{title:"SiteApp_ShoutOut_Panels_Subscribe_Title",helpId:"012fc8f2-e84b-4bfb-b419-2f76bacc03aa",sections:[i],teaser:{id:"category_shoutout_get_subscribers_teaser",hide:false,title:"SiteApp_ShoutOut_GsTeaser_Title",text:"SiteApp_ShoutOut_GsTeaser_Text",linkText:"true",helpId:"afc595d9-3b30-4d59-ac61-4ad3d7c2777d"}},learnMore:{title:"to-hide",helpId:"1",template:g}},extraTabs:[{title:"SiteApp_ShoutOut_Panels_Feed_Title",helpId:"c6b8ccb7-47bf-4045-ba36-21c44ce3111d",template:h,isDynamicHeight:true,index:4,teaser:{id:"category_shoutout_feed_teaser",hide:false,title:"SiteApp_ShoutOut_FeedTeaser_Title",text:"SiteApp_ShoutOut_FeedTeaser_Text"},sections:[j]}],upgradeLinkText:"superAppTranslationKeys.upgradeLinkText",isAppInstalled:function(){return false}};function l(){var a="none";if(!c.gs.isInstalled()){a="gsNotInstalled"}else if(!c.gs.isTouched()){a="gsNotTouched"}this.getEditorAPI().bi.event(d.events.SHOUTOUT_EDITOR_PANEL_OPEN,{type:"Email",notification:a})}return a.createClass({displayName:"soMenuPanel",mixins:[b.mixins.editorAPIMixin],componentWillUnmount:function(){if(c.isPimpleVisible(this.getEditorAPI())){c.setPimpleViewed(this.getEditorAPI())}},componentDidMount:function(){l.call(this)},getClass:function(){return"shoutout-panel shoutout-panel-new"},getSuperApp:function(){return k},render:e})});define("shoutOut",["core","superAppMenuInfra","shoutOut/panels/soMenuPanel","shoutOut/panels/soMenuPanelNew","shoutOut/panels/shoutOutPanel/addSections/actionsProvider","shoutOut/utils/shoutOutUtils","experiment"],function(a,b,c,d,e,f,g){"use strict";return{onPreviewReady:function(c){var d="shoutout",h=true,i=a.constants.SUPER_APPS.SHOUTOUT_PANEL_NAME,j="SiteApp_ShoutOut_Button_Hover_Caption",k="SiteApp_ShoutOut_Button_Hover_Caption",l="shoutout-panel",m="shoutOutLeftBarIcon",n=c.generalInfo.isSitePublished(),o=function(){if(!p){q(true)}},p=false;if(n){q(false)}else{c.registerSitePublishedCallbacks(o)}e.init(c);function q(a){b.button.registerButton(c,d,h,i,j,k,l,m,a);p=true;if(g.isOpen("shoutOutNewFlow")){c.registerInitUserPrefsCallback(function(){f.fetchSoState(c,function(){if(!f.isUserFirstTimer(c.getUserPreferences())&&f.pimpleShouldAppear(c)){f.showPimple(c)}})})}}},menuPanel:g.isOpen("shoutOutNewFlow")?d:c}});