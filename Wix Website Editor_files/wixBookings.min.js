define("wixBookings/common/dataProvider",["core"],function(a){"use strict";var b="wixBookings";var c="13d21c63-b5ec-5912-8397-c3a5ddb27a97";var d=a.constants.SUPER_APPS.BOOKINGS_PANEL_NAME;var e="SiteApp_WixBookings_Button_Hover_Caption";var f="wix-bookings-panel";var g="leftBarWixBookingsPanel";function h(){return c}return{getAppDefID:h,superAppPanelName:d,superAppButtonLabel:e,superAppPanelClassName:f,superAppSymbolName:g,superAppId:b}});define("wixBookings/common/sitePrefsService",["lodash","jquery","bluebird"],function(a,b,c){"use strict";var d=["business","photography","design","events","beauty-wellness","other","all",null];function e(a){return a.payload.fields[0].value}function f(a){return c.resolve(b.get("http://editor.wix.com/_api/wix-bi-profile-server/siteprofile/"+a+"?fields=category&accept=json"))}function g(a){return f(a).then(h)}function h(a){return i(e(a))?c.resolve():c.reject()}function i(b){return a.includes(d,b)}return{ifPostRegRelevant:g}});define("wixBookings/common/editorActionsService",["tpa","superAppMenuInfra","core","panels","helpIds","wixBookings/common/dataProvider","wixBookings/common/sitePrefsService"],function(a,b,c,d,e,f,g){"use strict";var h="100%";var i="100%";var j=f.superAppId;var k=f.superAppPanelName;var l=f.superAppButtonLabel;var m=f.superAppButtonLabel;var n=f.superAppSymbolName;var o=f.superAppPanelClassName;var p;function q(a){p=a}function r(){return p.tpa.app.isInstalled(f.getAppDefID())}function s(){var a=!p.generalInfo.isFirstSave();var b=p.tpa.app.getDataByAppDefId(f.getAppDefID()).demoMode;return a&&p.tpa.app.isAppProvisionedOnServer(f.getAppDefID())&&!b}function t(){a.superApps.refreshAppCompsForAppDefId(f.getAppDefID())}function u(){var b=a.superApps;b.addApp(f.getAppDefID())}function v(){b.button.onAppInstalled(p,j,k,l,o,n)}function w(){b.button.registerButton(p,j,r(),k,l,m,o,n)}function x(){if(r()){w()}else{z().then(w)}}function y(b){b=b||{};b.onClose=t;return a.superApps.openDashboardUrl(f.getAppDefID(),h,i,b)}function z(){return g.ifPostRegRelevant(C())}function A(){var a=f.getAppDefID();var b=p.tpa.app.getFirstAppCompPageId(a);if(b){p.pages.navigateTo(b.pageId)}}function B(){var a={origin:c.constants.BI.HELP.ORIGIN.LEFTBAR,panel_name:k,learn_more:true};d.panelManager.openHelpCenter(e.WIX_BOOKINGS,null,a)}function C(){return p.generalInfo.getMetaSiteId()}function D(){b.button.unRegisterButton(p,k)}function E(){D()}return{init:q,isAppInstalled:r,isAppProvisioned:s,addAppToSite:u,onAppInstalled:v,openBackOfficeInEditor:y,goToContainingPage:A,registerButtonIfRequired:x,openHelp:B,onAppDeleted:E}});define("wixBookings/appMenu/panels/firstTimeTour/promotionalFlow/promotionalStep1.rt",["react","lodash","superAppMenuInfra","wixBookings/common/dataProvider"],function(a,b,c,d){"use strict";return function(){return a.createElement(c.firstTimeTourPanels.installAppSlide,b.assign({},{installApp:this.installApp,origin:"promotionalPanel",appWasManuallyInstalled:this.props.appWasManuallyInstalled,superAppPanelName:d.superAppPanelName,superAppButtonLabel:d.superAppButtonLabel,superAppPanelClassName:d.superAppPanelClassName,superAppSymbolName:d.superAppSymbolName,title:"SiteApp_WixBookings_PromotionalFTUE_Step1_Title",subTitle:"SiteApp_WixBookings_PromotionalFTUE_Step1_SubTitle",pros:["SiteApp_WixBookings_PromotionalFTUE_Step1_Bullet1","SiteApp_WixBookings_PromotionalFTUE_Step1_Bullet2","SiteApp_WixBookings_PromotionalFTUE_Step1_Bullet3"],nextButtonLabel:"SiteApp_WixBookings_PromotionalFTUE_Step1_NextButton_Caption",openAppMarketLabel:"SiteApp_Blog_PromotionalFTUE_Step1_SeeInAppMarket_LinkCaption",openAppMarket:this.openHelp,loadingLabel:"SiteApp_WixBookings_PromotionalFTUE_Step2_Loader_Caption",sliderImages:this.getSliderImages(),installImage:"bookingsInstallBtnPromotional"},this.filteredProps()))}});define("wixBookings/appMenu/panels/firstTimeTour/promotionalFlow/promotionalStep1",["react","core","util","wixBookings/common/editorActionsService","wixBookings/appMenu/panels/firstTimeTour/promotionalFlow/promotionalStep1.rt"],function(a,b,c,d,e){"use strict";return a.createClass({displayName:"promotionalStep1Bookings",mixins:[b.mixins.editorAPIMixin,c.propTypesFilterMixin],installApp:function(a){d.addAppToSite();a()},openHelp:function(){d.openHelp()},getSliderImages:function(){return[c.media.getMediaUrl("wixBookings/appMenuPanel/gallery/bookingsGallery01.png"),c.media.getMediaUrl("wixBookings/appMenuPanel/gallery/bookingsGallery02.png"),c.media.getMediaUrl("wixBookings/appMenuPanel/gallery/bookingsGallery03.png")]},render:e})});define("wixBookings/appMenu/panels/firstTimeTour/templateFlow/templateStep1.rt",["react","lodash","superAppMenuInfra"],function(a,b,c){"use strict";return function(){return a.createElement(c.firstTimeTourPanels.getStartedSlide,b.assign({},{nextSlide:this.openBackOffice,superApp:this.props.superApp,appWasManuallyInstalled:this.props.appWasManuallyInstalled,title:"SiteApp_WixBookings_TemplateFTUE_Step1_Title",subTitle:"SiteApp_WixBookings_TemplateFTUE_Step1_SubTitle",pros:[],nextButtonLabel:"SiteApp_WixBookings_TemplateFTUE_Step1_NextButton_Caption",mainImage:"bookingsManager"},this.filteredProps()))}});define("wixBookings/appMenu/panels/firstTimeTour/templateFlow/templateStep1",["react","lodash","util","wixBookings/common/editorActionsService","wixBookings/appMenu/panels/firstTimeTour/templateFlow/templateStep1.rt"],function(a,b,c,d,e){"use strict";return a.createClass({propTypes:{nextSlide:a.PropTypes.func},displayName:"templateStep1Bookings",mixins:[c.propTypesFilterMixin],componentDidMount:function(){if(!d.isAppProvisioned()){d.goToContainingPage()}else{this.props.nextSlide()}},openBackOffice:function(){d.openBackOfficeInEditor()},render:e})});define("wixBookings/appMenu/panels/firstTimeTour/templateFlow/templateStep2.rt",["react","lodash","superAppMenuInfra"],function(a,b,c){"use strict";return function(){return a.createElement(c.firstTimeTourPanels.welcomeSlide,b.assign({},{nextSlide:this.openBackOffice,superApp:this.props.superApp,appWasManuallyInstalled:this.props.appWasManuallyInstalled,title:"SiteApp_WixBookings_TemplateFTUE_Step2_Logo",details:"SiteApp_WixBookings_TemplateFTUE_Step2_Title",pros:[],nextButtonLabel:"SiteApp_WixBookings_TemplateFTUE_Step2_NextButton_Caption",installedImage:"bookingsManager",type:"template"},this.filteredProps()))}});define("wixBookings/appMenu/panels/firstTimeTour/templateFlow/templateStep2",["react","lodash","util","wixBookings/common/editorActionsService","wixBookings/appMenu/panels/firstTimeTour/templateFlow/templateStep2.rt"],function(a,b,c,d,e){"use strict";return a.createClass({propTypes:{nextSlide:a.PropTypes.func},displayName:"templateStep2Bookings",mixins:[c.propTypesFilterMixin],openBackOffice:function(){d.openBackOfficeInEditor()},render:e})});define("wixBookings/appMenu/superApp",["wixBookings/common/dataProvider","wixBookings/common/editorActionsService","wixBookings/appMenu/panels/firstTimeTour/promotionalFlow/promotionalStep1","wixBookings/appMenu/panels/firstTimeTour/templateFlow/templateStep1","wixBookings/appMenu/panels/firstTimeTour/templateFlow/templateStep2"],function(a,b,c,d,e){"use strict";return{id:a.superAppId,appDefId:a.getAppDefID(),appName:"WixBookings",firstTimeTour:{templateFlow:[d,e],manuallyInstalledFlow:[d,e],promotionalFlow:[c]},panel:{name:"wixBookings.panels.bookingsPanel"},isAppInstalled:b.isAppInstalled}});define("wixBookings/appMenu/bookingsPanel.rt",["react","lodash","superAppMenuInfra","wixBookings/common/dataProvider","wixBookings/appMenu/superApp"],function(a,b,c,d,e){"use strict";return function(){return a.createElement(c.superAppPanel,b.assign({},{superApp:e,selectedTabName:this.props.selectedTabName,panelClass:d.superAppPanelClassName},this.filteredProps()))}});define("wixBookings/appMenu/bookingsPanel",["react","lodash","util","wixBookings/appMenu/bookingsPanel.rt"],function(a,b,c,d){"use strict";return a.createClass({displayName:"BookingsPanel",mixins:[c.propTypesFilterMixin],render:d})});define("wixBookings",["tpa","wixBookings/appMenu/bookingsPanel","wixBookings/common/dataProvider","wixBookings/common/editorActionsService","experiment"],function(a,b,c,d,e){"use strict";function f(b){if(e.isOpen("wixBookingsButton")){d.init(b);d.registerButtonIfRequired();a.superApps.registerOnAppInstalled(c.getAppDefID(),d.onAppInstalled);a.superApps.registerOnAppDeleted(c.getAppDefID(),d.onAppDeleted)}}return{onPreviewReady:f,panels:{bookingsPanel:b}}});