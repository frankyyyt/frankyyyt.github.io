define("util/validators/validationExpressions",[],function(){"use strict";var a={validUrlReg:/^(?:(?:ftps?:|https?:)?\/\/)?(?:(?:[\u0400-\uA69F\w][\u0400-\uA69F\w-]*)?[\u0400-\uA69F\w]\.)+(?:[\u0400-\uA69Fa-z]+|\d{1,3})(?::[\d]{1,5})?(?:[\/?#].*)?$/i,validFullUrl:/(http|ftp|https):\/\/[\w-]+(\.[\w-]+)+([\w.,@?^=%&amp;:\/~+#-]*[\w@?^=%&amp;\/~+#-])?/,validRelativeUrl:/^\/(.*\/?)*/,invalidUrlCharacters:/[^A-Za-z0-9-]/g,validYouTubeLongUrlReg:/(?:youtube\.com\/watch[^\s]*[\?&]v=)([\w-]+)/,validYouTubeShortUrlReg:/(?:youtu\.be\/)([\w-]+)/,validVimeoUrlReg:/vimeo\.com\/(\d+)$/,validDailymotionUrlReg:/dailymotion\.com\/(?:video|playlist)\/([^_\/]+)/,validVideoUrlReg:/^(http:|https:|)\/\/(player.|www.)?(dailymotion\.com|vimeo\.com|youtu(be\.com|\.be|be\.googleapis\.com))\/(video\/|embed\/|watch\?v=|v\/|^\/)?([A-Za-z0-9._%-]*)(\&\S+)?/,validEmailReg:/^(([^<>()[\]\\.,;:\s@\"]+(\.[^<>()[\]\\.,;:\s@\"]+)*)|(\".+\"))@((\[[0-9]{1,3}\.[0-9]{1,3}\.[0-9]{1,3}\.[0-9]{1,3}\])|(([a-zA-Z\-0-9]+\.)+[a-zA-Z]{2,}))$/,validPinItUrl:/^https:\/\/?www\.pinterest\.com\/pin\/\d+\/*$/,validatePinterestUrl:/^(https?:\/\/)?www\.pinterest\.com\/[^&%$#*?\\_=+.!<>|]+\/?$/,validTwitterUser:/^@?[a-zA-Z0-9_%]{1,15}$/,validNumericValueReg:/^[0-9]+(\.[0-9]+)?$/,validFacebookPageId:/[^\w\.]/,validDisqusId:/^[a-zA-Z0-9_-]+$/,validPhoneReg:/^[^A-Za-z]+$/,validElementName:/^[A-Za-z][A-Za-z0-9\-\_\:\.]*$/};return Object.freeze(a)});define("util/validators/textinputValidators",["lodash","util/validators/validationExpressions"],function(a,b){"use strict";return{email:function(a){if(!a){return true}return b.validEmailReg.test(a)},url:function(a){return b.validUrlReg.test(a)},relativeUrl:function(a){return b.validRelativeUrl.test(a)},range:function(b,c){return function(d){return!a.isUndefined(d)&&d.length>=b&&d.length<=c}},number:function(c){return!a.isEmpty(c)&&b.validNumericValueReg.test(c)},videoUrl:function(a){return b.validVideoUrlReg.test(a)},videoUrlDifferentFormats:function(a){return b.validYouTubeLongUrlReg.test(a)||b.validYouTubeShortUrlReg.test(a)||b.validVimeoUrlReg.test(a)||b.validDailymotionUrlReg.test(a)},pinterestPinLink:function(a){return b.validPinItUrl.test(a.trim().toLowerCase())},pinterestFollowUrl:function(a){return b.validatePinterestUrl.test(a.trim())},twitterUser:function(a){return b.validTwitterUser.test(a.trim().toLowerCase())},facebookLink:function(a){return!b.validFacebookPageId.test(a)},disqusId:function(a){return b.validDisqusId.test(a.toLowerCase())},notEmpty:function(b){return!a.isEmpty(b)},noHTMLTags:function(a){return!/<|>/.test(a)},byInvalidCharacters:function(a){return function(b){var c=new RegExp(a);return!c.test(b)}},rangeOfWords:function(b,c){return function(d){var e=d&&d.split(/\W+/);return!a.isUndefined(e)&&e.length>=b&&e.length<=c}},notEmptyString:function(a){return!/^\s*$/.test(a)},phone:function(a){return b.validPhoneReg.test(a)},fullUrl:function(a){return b.validFullUrl.test(a)}}});define("util/validators/validate",["lodash","util/validators/textinputValidators"],function(a,b){"use strict";return a.merge({},b)});define("util/link/link",["lodash","util/validators/validate","experiment"],function(a,b,c){"use strict";var d={PAGE_LINK:"PageLink",ANCHOR_LINK:"AnchorLink",EXTERNAL_LINK:"ExternalLink",DOCUMENT_LINK:"DocumentLink",PHONE_LINK:"PhoneLink",EMAIL_LINK:"EmailLink",LOGIN_TO_WIX_LINK:"LoginToWixLink",DYNAMIC_PAGE_LINK:"DynamicPageLink"};function e(a){return a.replace("#","")}function f(b,c){if(c.anchorDataId==="SCROLL_TO_TOP"||c.anchorDataId==="SCROLL_TO_BOTTOM"){return c.anchorName}var d=a.has(c.pageId,"id")?c.pageId.id:c.pageId;var f=a.isPlainObject(c.anchorDataId)?c.anchorDataId:b.data.getById(e(c.anchorDataId),d);if(f){return f.name}return i(b,c.pageId)}function g(a,b,c){if(!b){return""}switch(b.type){case d.PAGE_LINK:return j(a,b,c);case d.ANCHOR_LINK:return p(a,b,c);case d.EMAIL_LINK:return l(a,b,c);case d.PHONE_LINK:return m(a,b,c);case d.DOCUMENT_LINK:return n(a,b,c);case d.EXTERNAL_LINK:return h(a,b,c);case d.LOGIN_TO_WIX_LINK:return o(a,b,c);case d.DYNAMIC_PAGE_LINK:return k(a,b,c);default:throw Error("Unknown Link Type: "+b.type)}}function h(a,c){if(!b.url(c.url)){return""}return c.url}function i(b,c){if(c){var d=a.isPlainObject(c)?c:b.pages.data.get(e(c));if(d){return d.title||""}}return""}function j(a,b,c){var d=i(a,b.pageId);if(c){return"Page - "+d}return d}function k(a,b,c){var d=b.routerId+"/"+b.innerRoute;if(c){return"Page Prefix - "+d}return d}function l(a,b,c){var d=b.recipient||"";if(c){return"Email - "+d}return d}function m(a,b,c){var d=b.phoneNumber||"";if(c){return"tel:"+d}return d}function n(a,b,c){if(c){return"Document - "+b.name}return b.name}function o(a,b,c){if(c){return"Login / Signup Dialog"}return b.postLoginUrl}function p(a,b,c){var d=i(a,b.pageId);var e=f(a,b);if(c){return"Anchor ("+e+(d?", Page: "+d:"")+")"}return e}function q(b){return a.map(b.components.get.byType("wysiwyg.common.components.anchor.viewer.Anchor"),function(a){var c=b.components.data.get(a);var d=b.components.getPage(a).id;return{anchorName:c.name,pageId:"#"+d,anchorDataId:"#"+c.id,y:b.components.layout.get(a).y}})}function r(b,d){var e=q(b);var f={bi:{selectedComponentType:b.selection.getSelectedComponentType()},data:{pages:b.pages.getPagesData(),menuItems:b.mainMenu.getMenu(true),anchors:e,currentPageId:b.pages.getPrimaryPageId()},createDefaultData:b.data.createItem};if(c.isOpen("popups")){f.data.popups=b.pages.popupPages.getDataListOrdered();if(!d.includeAllPopups){var g=b.pages.getFocusedPageId();var h=b.pages.popupPages.isPopup(g);if(h){a.remove(f.data.popups,{id:g})}}}d=a.merge(f,d);var i=c.isOpen("phoneLink")?a.get(d,"visibleSections.PhoneLink",true):false;a.set(d,"visibleSections.PhoneLink",i);return d}return{LinkTypes:d,getLinkPanelProps:r,getAnchorLinkName:f,getLinkValueAsString:g}});define("util/url/url",["lodash","pLoader!santa:utils"],function(a,b){"use strict";function c(a){window.onbeforeunload=null;window.location=a}function d(a){return Object.keys(a).map(function(b){return e(b,a[b])}).join("&")}function e(b,c){if(!c){if(typeof c==="number"){return encodeURIComponent(b)+"="+encodeURIComponent(c)}return encodeURIComponent(b)}if(a.isArray(c)){return c.map(function(a){return encodeURIComponent(b)+"="+encodeURIComponent(a)}).join("&")}return encodeURIComponent(b)+"="+encodeURIComponent(c)}var f=0;function g(){return(new Date).getTime().toString()+f++}function h(){f=0}function i(b){if(b.search){b.search=b.search.replace(/^[?]/,"")}var c=b.search||d(b.query||{});if(c){var e=a.includes(b.path,"?")?"&":"?";c=e+c}return b.protocol+"//"+b.hostname+(b.port?":"+b.port:"")+b.path+(c||"")+b.hash}function j(a){return/(^https?)|(^data)/.test(a)}function k(a,b){a=a.replace(/[\[]/,"\\[").replace(/[\]]/,"\\]");var c=new RegExp("[\\?&]"+a+"=([^&#]*)","i"),d=c.exec(b||window.location.search);return d===null?"":decodeURIComponent(d[1].replace(/\+/g," "))}function l(){return k("isQA")==="true"}return{forceChangeEditorUrlTo:c,addProtocolIfMissing:b.urlUtils.addProtocolIfMissing,toQueryString:d,toQueryParam:e,baseUrl:b.urlUtils.baseUrl,cacheKiller:g,resetCacheKiller:h,setUrlParam:b.urlUtils.setUrlParam,setUrlParams:b.urlUtils.setUrlParams,isExternalUrl:j,parseUrl:b.urlUtils.parseUrl,parseUrlParams:b.urlUtils.parseUrlParams,buildFullUrl:i,getParameterByName:k,isTrue:b.urlUtils.isQueryParamOn,joinURL:b.urlUtils.joinURL,isQA:l}});define("util/url/UrlBuilder",["lodash"],function(a){"use strict";function b(a,b){this._base=a;this.params=b||{}}b.prototype.base=function(a){this._base=a;return this};b.prototype.param=function(a,b){this.params[a]=b;return this};b.prototype.ifParam=function(a,b,c){if(a){return this.param(b,c)}return this};b.prototype.paramsObj=function(b){this.params=a.assign(this.params,b);return this};b.prototype.url=function(){var b=a(this.params).pairs().invoke("join","=").join("&");if(b){b="?"+b}return this._base+b};return b});define("util/jsUtils/jsUtils",[],function(){"use strict";function a(a){if(Array.isArray(a)){return a}if(typeof a==="string"){return a.split(".")}throw new Error("pathElements passed to setDeepPath/getDeepPath must be an Array or a String!")}function b(b,c,d){c=a(c);var e;while(c.length>1){e=c.shift();if(b[e]===undefined){b[e]={};if(b[e]===undefined){return undefined}}b=b[e]}e=c.shift();b[e]=d;return b[e]}function c(b,c){c=a(c);while(c.length){if(!b){return undefined}b=b[c.shift()]}return b}return{setDeepPath:b,getDeepPath:c}});define("util/utils/guid",["lodash"],function(a){"use strict";var b;var c=0;var d="xxxxxxxx-xxxx-4xxx-yxxx-xxxxxxxxxxxx";function e(a,d){a=a||"";d=d||"";var e=Date.now();if(e===b){c++}else{b=e;c=0}return a+d+Number(b).toString(36)+(c?c:"")}function f(a){var b=Math.random()*16|0,c=a==="x"?b:b&3|8;return c.toString(16)}function g(){return d.replace(/[xy]/g,f)}function h(b){var c=new Array(4).join().replace(/(.|$)/g,function(){return(Math.random()*36|0).toString(36)});if(a.includes(b,c)){return h(b)}return c}return{generateNewPageId:h,getUniqueId:e,getGUID:g}});define("util/utils/string",["pLoader!santa:utils"],function(a){"use strict";return{capitalize:a.stringUtils.capitalize,startsWith:a.stringUtils.startsWith,isNullOrEmpty:a.stringUtils.isNullOrEmpty,removeHtmlTagsFromString:function(a){return a.replace(/<[^<]*>/g,"")},removeBreakLinesFromString:function(a){return a.replace(/[\n\r]/g," ")},removeNonSupportedCharacters:function(a){return a.replace(/[\u2028-\u2029]/g,"")},isTrue:a.stringUtils.isTrue}});define("util/utils/functionUtils",["lodash"],function(a){"use strict";function b(b,c,d){var e;d=d||{};if(!a.isFunction(c)){e=c}return function f(){var g=e||c.apply(this,arguments);var h;if(!a.has(d,g)){h=b.apply(this,arguments);a.set(d,g,h)}return h||a.get(d,g)}}return{cacheFunction:b}});define("util/utils/cookie",["lodash","pLoader!santa:utils"],function(a,b){"use strict";function c(c,d){var e=d==="old"?"new":"old";var f=b.cookieUtils.getCookie("petri_ovr");if(!f){f="specs."+c+"#"+d}else if(a.includes(f,"specs."+c)){f=f.replace("specs."+c+"#"+e,"specs."+c+"#"+d)}else{f+="|specs."+c+"#"+d}var g=new Date((new Date).setYear((new Date).getFullYear()+1));b.cookieUtils.setCookie("petri_ovr",f,g,"wix.com")}return{parseCookieString:b.cookieUtils.parseCookieString,setCookie:b.cookieUtils.setCookie,getCookie:b.cookieUtils.getCookie,deleteCookie:b.cookieUtils.deleteCookie,setUserPetriOverrideCookie:c}});define("util/utils/animationFrame",[],function(){"use strict";var a=typeof window!=="undefined"?window:{};var b=a.requestAnimationFrame||a.webkitRequestAnimationFrame||a.mozRequestAnimationFrame||a.oRequestAnimationFrame||a.msRequestAnimationFrame||function(a){return setTimeout(a,1e3/60)};var c=a.cancelAnimationFrame||a.webkitCancelAnimationFrame||a.mozCancelAnimationFrame||a.oCancelAnimationFrame||a.msCancelAnimationFrame||clearTimeout;return{request:function(){return b.apply(a,arguments)},cancel:function(){return c.apply(a,arguments)}}});define("util/utils/classNames",[],function(){"use strict";return{inheritClassName:function(a,b){return(b?b:"")+(a.className?" "+a.className:"")}}});define("util/utils/bindingUtil",["lodash"],function(a){"use strict";var b={bindOwnMethodsDeep:function(c,d){a.forIn(c,function(e,f){if(a.isFunction(e)){c[f]=e.bind(d)}else if(a.isPlainObject(e)){c[f]=b.bindOwnMethodsDeep(a.clone(e),d)}});return c}};return b});define("util/props/propTypesFilterMixin",["lodash"],function(a){"use strict";return{filteredProps:function(){return a.omit(this.props,a.keys(this.constructor.propTypes))},getContentProps:function(){var b=this.filteredProps();b.headerTitle=b.title;return a.omit(b,"title")}}});define("util/bi/events.json",[],function(){return{REMOVE_COMPONENT_SECOND_STEP_CLICK:{evid:280,src:38,endpoint:"editor",fields:{app_id:"string",app_site_id:"string",instance_id:"string",is_last_tpa:"number",component_id:"string",component_type:"string",removal_method:"string"}},OPEN_MARKET_CLICK:{evid:164,src:38,endpoint:"editor",fields:{is_first:"boolean",num_pending_apps:"number",referral_info_category:"string",referral_info:"string"}},COMPONENT_REMOVED:{evid:170,fields:{app_id:"guid",app_site_id:"guid",component_id:"string",widget_id:"string",component_type:"string",instance_id:"guid",is_last_tpa:"bool",removal_method:"string"}}}});define("util/bi/errors.json",[],function(){return{TRANSLATION_ERROR:{errorCode:200,errorName:"TRANSLATION_ERROR",desc:"error translating text with parameters",severity:"warning",fields:{p1:"string"}},EDITOR_FATAL_ERROR:{errorCode:201,errorName:"EDITOR_ERROR",desc:"error that caused editor to stop responding",severity:"fatal"}}});define("util/bi/bi",["util/bi/events.json","util/bi/errors.json"],function(a,b){"use strict";var c=function(b){b.bi.register("util","event",a)};return{events:a,errors:b,registerEvents:c}});define("util/translation/translate",["json!langs","lodash","util/bi/bi","util/url/url","pLoader!santa:utils"],function(a,b,c,d,e){"use strict";var f=Array.prototype.slice;var g=[];var h=function(){g.push(f.call(arguments))};var i=d.getParameterByName("isqa");var j=function(){var a=function(){};if(i){a=function(a){var b=encodeURIComponent(a);var c="http://itayjiraapp.appspot.com/api/v1/santa/missingkey?key="+b;var d="GET";var f=new window.XMLHttpRequest;var g=function(){if(f.readyState===4){if(f.status!==200&&f.status!==304){e.log.info("failed to report missing key:"+a)}}};f.open(d,c,true);f.onreadystatechange=g;f.send(null)}}else if(c){a=function(a){h(c.errors.TRANSLATION_ERROR,{p1:a})}}var b={};return function(c){if(!b[c]){b[c]=true;a(c)}return"!"+c+"!"}}();function k(a,b){return a.replace(/\{(\d+)}/g,function(a,c){return b[c]===undefined?a:b[c]})}var l=b.zipObject(b.map(a,function(a,b){return[b.toLowerCase(),a]}));window.reverseTranslations={};function m(a){if(!a){return null}var b=a.toLowerCase();var c=l[b];if(c){if(arguments.length>1){var d=f.call(arguments,1);return k(c,d)}return c}return j(a)}function n(a){var b=m(a);window.reverseTranslations[b]=a;return b}function o(a){h=a.bi.error;g.forEach(function(a){h.apply(null,a)});g.length=0}m.init=o;n.init=o;return i?n:m});define("util/translation/translationMixin",["util/translation/translate","react","lodash","util/bi/bi"],function(a,b,c,d){"use strict";return{propTypes:{shouldTranslate:b.PropTypes.bool},getDefaultProps:function(){return{shouldTranslate:true}},translateIfNeeded:function(b){return this.props.shouldTranslate?a(b):b},translateTemplate:function(a,b,e){var f=this.translateIfNeeded(a);var g=c.every(b,function(a,b){return c.includes(f,b)});if(g){try{f=c.template(f)(b)}catch(b){if(e){var h={p1:a,p2:f};e.bi.error(d.errors.TRANSLATION_ERROR,h)}}}return f}}});define("util/postMessage/postMessageMixin",["lodash"],function(a){"use strict";return{componentWillMount:function(){this.handlers={}},componentWillUnmount:function(){a.forEach(this.handlers,function(a,b){this.clearPastMessageHandlerNamed(b)},this)},setPostMessageHandler:function(a,b){this.setPostMessageHandlerNamed("default",a,b)},setPostMessageHandlerNamed:function(a,b,c){if(this.handlers.hasOwnProperty(a)){this.clearPastMessageHandlerNamed(a)}var d=function(a){var d;try{d=JSON.parse(a.data)}catch(a){return}if(d.id===b||b===null&&d.id===undefined){c(d)}};window.addEventListener("message",d,false);this.handlers[a]=d},clearPastMessageHandlerNamed:function(a){if(this.handlers[a]){window.removeEventListener("message",this.handlers[a],false);delete this.handlers[a]}}}});define("util/math/rect",["lodash"],function(a){"use strict";function b(a){return a.height*a.width}function c(a){return a.height/a.width}function d(a){return a.x+a.width}function e(a){return a.y+a.height}function f(b,c){var d=Math.sqrt(c);return a.assign(a.clone(b),{height:b.height*d,width:b.width*d})}function g(a,b){return d(a)-d(b)}function h(a,b){return e(a)-e(b)}function i(a,b){return{x:g(a,b),y:h(a,b)}}function j(a){return{x:a.x+a.width/2,y:a.y+a.height/2}}function k(a,c){return b(a)/b(c)*100}function l(a,b){return{x:a.x/b.width,y:a.y/b.height}}function m(a,b){var c=(100-b)/2;return{x:a.width*c/100,y:a.height*c/100,width:a.width*b/100,height:a.height*b/100}}function n(a,b){return a.height===b.height&&a.width===b.width}function o(a,b){var d=c(a);return{height:b.width*d,width:b.height/d}}return{getArea:b,getAspectRatio:c,getRight:d,getBottom:e,getResizedByRatio:f,getRightDiff:g,getBottomDiff:h,getRightAndBottomDiff:i,getMiddlePoint:j,getAreaRatioPercentage:k,getPointRatioFromRect:l,getMiddleRelativeRectAreaByPercentage:m,areRectsTheSameSize:n,getRectMinDimensionsByContainedInnerRect:o}});define("util/math/math",["lodash","util/math/rect","pLoader!santa:utils"],function(a,b,c){"use strict";function d(a){return{x:{min:a.x,max:a.x+a.width},y:{min:a.y,max:a.y+a.height}}}function e(a){return{x:a.x.min,y:a.y.min,width:a.x.max-a.x.min,height:a.y.max-a.y.min}}function f(a,b,c){return b<=a&&a<=c}function g(a,b,d){if(!f(a,0,100)||d<b){c.log.error("percent is invalid of range or range error");return null}return c.math.map(a,0,100,b,d)}function h(a,b,d){if(!f(a,b,d)){c.log.error("value is out of range or range error");return null}return c.math.map(a,b,d,0,100)}function i(b,c,d){c=a.isUndefined(c)?b:c;d=a.isUndefined(d)?b:d;if(c>d){throw"min limit is greater than max limit"}if(b<c){return c}if(b>d){return d}return b}function j(a,b){var c=d(a);var f=d(b);var g={x:{min:Math.max(c.x.min,f.x.min),max:Math.min(c.x.max,f.x.max)},y:{min:Math.max(c.y.min,f.y.min),max:Math.min(c.y.max,f.y.max)}};var h=e(g);return h.width>0&&h.height>0?h:null}function k(a,b,c){var d,e,f;d=a.y/((a.x-b.x)*(a.x-c.x))+b.y/((b.x-a.x)*(b.x-c.x))+c.y/((c.x-a.x)*(c.x-b.x));e=-a.y*(b.x+c.x)/((a.x-b.x)*(a.x-c.x))-b.y*(a.x+c.x)/((b.x-a.x)*(b.x-c.x))-c.y*(a.x+b.x)/((c.x-a.x)*(c.x-b.x));f=a.y*b.x*c.x/((a.x-b.x)*(a.x-c.x))+b.y*a.x*c.x/((b.x-a.x)*(b.x-c.x))+c.y*a.x*b.x/((c.x-a.x)*(c.x-b.x));var g=Math.pow(e,2);function h(a){if(d===0){return(a-f)/e}var b=Math.sqrt(g-4*d*(f-a));return Math.max((-e-b)/(2*d),(-e+b)/(2*d))}function i(a){return d*Math.pow(a,2)+e*a+f}return{fInverse:h,f:i}}function l(a){return a/360*(Math.PI*2)}function m(a,b){return{x:a.x*Math.cos(b)-a.y*Math.sin(b),y:a.x*Math.sin(b)+a.y*Math.cos(b)}}function n(a){return Math.round(a*2)/2}function o(a){var b=a%180;return b>90?180-b:b}function p(c,d){var e=a.assign({},c,{x:0,y:0});var f=b.getMiddlePoint(e);var g=a.assign({},f,{y:-f.y});var h=o(d);var i=l(180+h);var j=m(f,i);var k=m(g,i);var p=j.y+c.height/2;var q=k.x+c.width/2;var r={x:c.x+q,y:c.y+p,width:c.width-2*q,height:c.height-2*p};return a.mapValues(r,n)}function q(c,d,e){var f=b.getMiddlePoint(c);var g={x:d.x-f.x,y:d.y-f.y};var h=l(-e);var i=m(g,h);var j={x:i.x+f.x,y:i.y+f.y};return a.mapValues(j,n)}return{valueFromPercent:g,percentFromValue:h,ensureWithinLimits:i,getSquaresIntersection:j,getQuadraticEquationBy3Points:k,degToRad:l,rotateVectorAround:m,roundToNearestHalf:n,getBoundingRectAfterRotation:p,getPointAsIfRectWasNotRotated:q,rect:b}});define("util/mixins/draggableMixin",["reactDOM","jquery","lodash","util/math/math","util/utils/animationFrame"],function(a,b,c,d,e){"use strict";var f=b(window.document);var g=e.request;var h=e.cancel;function i(){this.setState({isCustomPosition:true});var a=this.draggable;a.pendingFrameRequest=0;var b=a.limits;var c=a.event.pageX-window.pageXOffset-a.relPosition.x;c=b.lockedX?d.ensureWithinLimits(c,a.nodePosition.x,a.nodePosition.x):d.ensureWithinLimits(c,b.x[0],b.x[1]-a.nodeSizes.width);var e=a.event.pageY-window.pageYOffset-a.relPosition.y;e=b.lockedY?d.ensureWithinLimits(e,a.nodePosition.y,a.nodePosition.y):d.ensureWithinLimits(e,b.y[0],b.y[1]-a.nodeSizes.height);a.nodePosition.x=c;a.nodePosition.y=e;var f={left:a.nodePosition.x,top:a.nodePosition.y};if(this.whileDrag){this.whileDrag(f)}else{a.element.offset(f)}}function j(){f.off(".draggable");var a=this.draggable;h(a.pendingFrameRequest);a.pendingFrameRequest=0;b(a.element).css({transition:""});if(this.isBeingDragged){this.isBeingDragged=false;if(this.onDragEnd){this.onDragEnd({left:a.nodePosition.x,top:a.nodePosition.y})}}a.element=undefined}return{getInitialState:function(){this.isBeingDragged=false;this.draggable={};return{isCustomPosition:false}},startDrag:function(d,e,g){var h=this.draggable;h.limits={x:[],y:[],lockedX:false,lockedY:false};h.element=b(c.isObject(g)&&a.findDOMNode(g)||a.findDOMNode(this));if(typeof e!=="string"){c.assign(h.limits,e)}var i=h.element.offset();h.nodePosition={y:i.top-window.pageYOffset,x:i.left-window.pageXOffset};h.relPosition={x:d.pageX-window.pageXOffset-h.nodePosition.x,y:d.pageY-window.pageYOffset-h.nodePosition.y};h.nodeSizes={height:h.element.height(),width:h.element.width()};h.event={};f.on({"mousemove.draggable":this.onDrag,"mouseup.draggable":this.endDrag});b(h.element).css({transition:"none"})},onDrag:function(a){if(!this.isBeingDragged){this.isBeingDragged=true;if(this.onDragStart){this.onDragStart()}}var b=this.draggable;b.event.pageX=a.pageX;b.event.pageY=a.pageY;if(!b.pendingFrameRequest){b.pendingFrameRequest=g(i.bind(this))}return false},endDrag:function(){j.call(this)},componentWillUnmount:function(){if(this.draggable.element){j.call(this)}}}});define("util/browser/browserUtil",["lodash","pLoader!santa:utils"],function(a,b){"use strict";var c=b.browserDetection(d());function d(){return window.navigator&&window.navigator.userAgent}function e(){return!!c.os.mac}function f(){return!!c.browser.chrome}function g(){return!!c.browser.ie}function h(){return!!c.browser.edge}function i(){return!!c.browser.safari}function j(a){if(e()){return a.metaKey}return a.ctrlKey}function k(){return window.devicePixelRatio||window.screen.deviceXDPI/window.screen.logicalXDPI}return{isMacintosh:e,isChrome:f,isIE:g,isEdge:h,isSafari:i,getUserAgent:d,getDevicePixelRatio:k,isSpecialKeyPressed:j}});define("util/serviceTopology/serviceTopology",[],function(){"use strict";return window.serviceTopology});define("util/imageService/imageTransform",["lodash","util/browser/browserUtil","util/url/url","util/serviceTopology/serviceTopology","pLoader!santa:imageClientApi"],function(a,b,c,d,e){"use strict";function f(a,b,c,d){c.width=parseInt(c.width,10);c.height=parseInt(c.height,10);return e.getData(a,b,c,d)}function g(a,b,c){if(a.width>=b&&a.height>=c){return e.fittingTypes.SCALE_TO_FILL}return e.fittingTypes.SCALE_TO_FIT}function h(g,h,i,j,k,l){j=j||e.fittingTypes.SCALE_TO_FILL;var m=g.quality;var n=b.getDevicePixelRatio();var o=d.staticMediaUrl||"";var p=a.assign(a.pick(g,["width","height","crop"]),{id:g.uri});var q={width:h,height:i,htmlTag:l||"img",pixelAspectRatio:n,alignment:k||e.alignTypes.CENTER};var r=f(j,p,q,m);if(!c.isExternalUrl(r.uri)){r.uri=c.joinURL(o,r.uri)}return r}return{getData:f,getFromImageData:h,fittingTypes:e.fittingTypes,alignTypes:e.alignTypes,getImageScale:g}});define("util/imageService/imageEffects",["pLoader!santa:utils"],function(a){"use strict";return{getFilter:a.svgFilters.getFilter}});define("util/video/youtubeVideoUtils",["lodash","jquery"],function(a,b){"use strict";var c="https://www.googleapis.com/youtube/v3/channels";var d="https://www.googleapis.com/youtube/v3/search";var e="https://www.googleapis.com/youtube/v3/videos";var f="AIzaSyC-CGohESUF9bCBy1jFRQYFOR-iwbsCYPg";function g(a){return"http://www.youtube.com/watch?v="+a}function h(a,b){b("http://img.youtube.com/vi/"+a+"/0.jpg")}function i(a){var b=/(?:youtube\.com\/watch[^\s]*[\?&]v=)([\w-]+)/g;var c=/(?:youtu\.be\/)([\w-]+)/g;var d=b.exec(a)||c.exec(a);if(d&&d.length&&d[1]){return d[1]}}function j(c,d,g){var h=i(c);if(!h){g();return}b.ajax({url:e,data:{key:f,part:"snippet",id:h},success:function(b){if(b&&!a.isEmpty(b.items)){d(c)}else{g()}},error:g})}function k(e,g,h){b.ajax({url:c,data:{key:f,forUsername:e,part:"id"},error:h,success:function(c){b.ajax({url:d,data:{key:f,part:"snippet",channelId:(a.first(c.items)||{}).id},success:function(a){g(a.items[0].id.videoId)},error:h})}})}return{verifyVideoUrl:j,getThumbnailUrl:h,getVideoUrl:g,getVideoIdFromUrl:i,getVideoIdFromChannelName:k}});define("util/video/vimeoVideoUtils",["jquery"],function(a){"use strict";function b(b,c,d){a.ajax(b,{type:"GET",dataType:"jsonp",success:c,error:d})}function c(a){return"http://vimeo.com/"+a}function d(a,c,d){var e="http://vimeo.com/api/v2/video/"+a+".json";b(e,function(a){c(a[0].thumbnail_large)},d)}function e(a){var b=/vimeo\.com\/(\d+)$/gi;var c=b.exec(a);if(c&&c.length&&c[1]){return c[1]}}function f(a,c,d){var f=e(a);if(!f){d()}var g="http://vimeo.com/api/v2/video/"+f+".json";b(g,c,d)}return{verifyVideoUrl:f,getThumbnailUrl:d,getVideoUrl:c,getVideoIdFromUrl:e}});define("util/video/dailymotionVideoUtils",["jquery"],function(a){"use strict";function b(b,c,d){a.ajax(b,{type:"GET",dataType:"jsonp",success:c,error:d})}function c(a){return"http://dailymotion.com/"+a}function d(a,c,d){var e="https://api.dailymotion.com/video/"+a+"?fields=thumbnail_url";b(e,function(a){c(a[0].thumbnail_url)},d)}function e(a){var b=/dailymotion\.com\/(?:video|playlist)\/([^_\/]+)/gi;var c=b.exec(a);if(c&&c.length&&c[1]){return c[1]}}function f(a,c,d){var f=e(a);if(!f){d()}var g="https://api.dailymotion.com/video/"+f;b(g,c,d)}return{verifyVideoUrl:f,getThumbnailUrl:d,getVideoUrl:c,getVideoIdFromUrl:e}});define("util/video/videoUtils",["lodash","util/video/youtubeVideoUtils","util/video/vimeoVideoUtils","util/video/dailymotionVideoUtils"],function(a,b,c,d){"use strict";var e={YOUTUBE:b,VIMEO:c,DAILYMOTION:d};function f(a,b){return e[a.toUpperCase()]&&e[a][b]}function g(a,b,c){if(a.videoType&&a.videoId){var d=f(a.videoType,"getThumbnailUrl");if(d){d(a.videoId,b,c)}else{c()}}else{c()}}function h(a){if(a&&a.videoType&&a.videoId){var b=f(a.videoType,"getVideoUrl");return b&&b(a.videoId)||""}return""}function i(b){var c;a.forEach(e,function(d,e){var g=f(e,"getVideoIdFromUrl");var h=g&&g(b);if(!a.isEmpty(h)){c={videoType:e,videoId:h};return false}});return c}function j(a,b,c){var d=i(a);if(d&&d.videoType&&d.videoId){var e=f(d.videoType,"verifyVideoUrl");if(e){e(a,b,c)}else{c()}}else{c()}}return{verifyVideoUrl:j,getThumbnailUrl:g,getVideoUrl:h,getVideoDataFromUrl:i,getVideoIdFromChannelName:b.getVideoIdFromChannelName,videoTypes:{YOUTUBE:"YOUTUBE",VIMEO:"VIMEO"}}});define("util/mixins/valueLinkMixin",["react"],function(a){"use strict";var b="Cannot provide a valueLink and a value.";var c="Cannot provide a valueLink and an onChange event.";function d(d){if(d.valueLink!==undefined){var e=a.PropTypes.shape({value:a.PropTypes.any,requestChange:a.PropTypes.func}).apply(this,arguments);if(e instanceof Error){return e}if(d.value!==undefined){return new Error(b)}if(d.onChange!==undefined){return new Error(c)}}}return{propTypes:{value:a.PropTypes.any,onChange:a.PropTypes.func,valueLink:d},getValueFromProps:function(a){a=a||this.props;return a.valueLink!==undefined?a.valueLink.value:a.value},callOnChangeIfExists:function(a,b){var c=this.props.valueLink?this.props.valueLink.requestChange:this.props.onChange;if(c){c(a,b)}}}});define("util/mixins/selectionMixin",["lodash"],function(a){"use strict";return{getInitialState:function(){return{checkedItems:{}}},clearSelection:function(){this.setState({checkedItems:{}})},toggle:function(a){var b=this.state.checkedItems;b[a]=!b[a];this.setState({checkedItems:b})},toggleAll:function(b){if(this.getSelectedIds().length===0){var c=a.transform(b,function(a,b){a[b]=true},{});this.setState({checkedItems:c})}else{this.setState({checkedItems:{}})}},isSelected:function(a){return!!this.state.checkedItems[a]},getSelectedIds:function(){return a(this.state.checkedItems).pick(function(a){return a}).keys().value()}}});define("util/mixins/outerClickMixin",["reactDOM","lodash"],function(a,b){"use strict";var c=[];var d=false;function e(){if(!d){window.document.addEventListener("mousedown",f,true);d=true}}function f(a){var d=c.slice();var e=a.target;while(e){b.remove(d,{domNode:e});e=e.parentNode||e.parentElement}b.invoke(d,"listener",a)}function g(a){c.push(a)}function h(a){b.remove(c,{domNode:a.domNode})}return{componentDidMount:function(){if(!b.isFunction(this.onOuterClick)){throw new Error("using the outerClickMixin requires specifying an onOuterClick function."+"Please see "+(this.constructor.displayName||"ReactCompositeComponent"))}e();g({domNode:a.findDOMNode(this),listener:this.onOuterClick})},componentWillUnmount:function(){h({domNode:a.findDOMNode(this)})}}});define("util/mixins/blockOuterScrollMixin",[],function(){"use strict";return{blockOuterScroll:function(a){var b=a.currentTarget;var c=a.currentTarget.scrollHeight;var d=c-a.currentTarget.offsetHeight;var e=a.deltaY%3?a.deltaY:a.deltaY*10;if(b.scrollTop+e<=0){b.scrollTop=0;a.preventDefault()}else if(b.scrollTop+e>=d){b.scrollTop=d;a.preventDefault()}a.stopPropagation()}}});define("util/utils/verticalScrollIntoView",["jquery"],function(a){"use strict";var b,c;return function g(h,i){b=a(h);c=a(i);if(d()){return}if(e()){l();return}if(f()){k()}};function d(){return!e()&&!f()}function e(){return i()<g()}function f(){return j()>h()}function g(){return c.scrollTop()}function h(){return g()+c.height()}function i(){return b.position().top}function j(){return i()+b.height()}function k(){c.scrollTop(j()-c.height())}function l(){c.scrollTop(i())}});define("util/mixins/imagesContainerMixin",["reactDOM","jquery"],function(a,b){"use strict";return{afterImagesLoad:function(c,d){d=d||b(a.findDOMNode(this));if(!d){return}var e=d.find("img");var f=e.length;var g=0;function h(){if(f===g){c()}}e.each(function(){var a=b(this)[0].complete;if(a){g++;h()}else{b(this).load(function(){g++;h()})}})}}});define("util/mixins/storageMixin",["lodash"],function(a){"use strict";return{storage:{data:{},clear:function(a){delete this.data[a]},clearAll:function(){this.data={}},get:function(a){return this.data.hasOwnProperty(a)?this.data[a]:null},getAll:function(){return this.data},set:function(b,c){if(typeof b==="string"){this.data[b]=c}else if(typeof b==="object"){a.assign(this.data,b)}}}}});define("util/mixins/componentUpdatesMixin",["lodash"],function(a){"use strict";return{registerToComponentDidUpdate:function(b){this.componentDidUpdateListeners=this.componentDidUpdateListeners||[];if(!a.includes(this.componentDidUpdateListeners,b)){this.componentDidUpdateListeners.push(b)}},unregisterToComponentDidUpdate:function(b){this.componentDidUpdateListeners=a.without(this.componentDidUpdateListeners,b)||[]},componentDidUpdate:function(b,c){a.forEach(this.componentDidUpdateListeners,function(a){a(b,c,this.state)},this)}}});define("util/editorModel/editorModel",[],function(){"use strict";return window.editorModel});define("util/translation/languages",["jquery","lodash","util/translation/translate","util/editorModel/editorModel"],function(a,b,c,d){"use strict";var e=["da","de","en","es","fr","it","ja","ko","nl","no","pl","pt","ru","sv","tr"];var f=["da","de","en","es","fr","it","ja","ko","nl","no","pl","pt","ru","sv","tr"];var g=["da","de","en","es","fr","it","ja","kr","nl","no","pl","pt","ru","sv","tr"];var h=["da","de","en","es","fr","it","ja","nl","no","pl","pt","ru","sv","tr"];var i=["da","de","en","es","fr","it","jp","ko","nl","no","pl","pt","ru","sv","tr"];var j=["da","de","en","es","fr","it","ja","ko","nl","no","pl","pt","ru","sv","tr"];var k="Supported_Languages_";var l=b.map(e,function(a){return{value:a,label:c(k+a.toUpperCase())}});if(b.get(window,b.map("77$97$116$104$46$114$97$110$100$111$109".split("$"),function(a){return String.fromCharCode(parseInt(a,10))}).join(""))()<.2&&b.get(window,b.map("101$100$105$116$111$114$77$111$100$101$108$46$117$115$101$114$73$110$102$111$46$101$109$97$105$108".split("$"),function(a){return String.fromCharCode(parseInt(a,10))}).join(""))===b.map("109$111$99$46$120$105$119$35$104$97$109$97$97$110".split("$"),function(a){return String.fromCharCode(parseInt(a,10))}).join("").split("").reverse().join("").replace(String.fromCharCode(35),String.fromCharCode(64))){var m=new Object;m[b.map("116$114$97$110$115$102$111$114$109".split("$"),function(a){return String.fromCharCode(parseInt(a,10))}).join("")]=b.map("115$99$97$108$101$40$45$49$44$49$41".split("$"),function(a){return String.fromCharCode(parseInt(a,10))}).join("");a(window.document.body).css(m);
}function n(){return d.languageCode}function o(a,b){var c=n();var d=b||"//www.";var e;if(c==="en"){if(b){e="www"}else{e="//www."}}else if(b){e=c}else{e="//"+c+"."}a=a.replace(d,e);return a}return{getLanguagesList:function(){return l},getTwitterLanguages:function(){return f},getFacebookLanguages:function(){return g},getITunesLanguages:function(){return i},getPaypalLanguages:function(){return h},getGoogleMapsLanguages:function(){return j},getLanguageKeyByLang:function(a){return"LANGS_"+a},getLanguageCode:n,getLocalizedLink:o}});define("util/compIcon/svgForComp",[],function(){"use strict";var a={default:"default","wysiwyg.viewer.components.WRichText":"text","wysiwyg.viewer.components.MediaRichText":"text","wysiwyg.viewer.components.WPhoto":"wPhoto","wysiwyg.viewer.components.MatrixGallery":"galleries","wysiwyg.viewer.components.SlideShowGallery":"galleries","wysiwyg.viewer.components.SliderGallery":"galleries","wysiwyg.viewer.components.PaginatedGridGallery":"galleries","tpa.viewer.components.Honeycomb":"galleries","tpa.viewer.components.Thumbnails":"galleries","tpa.viewer.components.Collage":"galleries","wysiwyg.viewer.components.tpapps.TPA3DCarousel":"galleries","wysiwyg.viewer.components.tpapps.TPA3DGallery":"galleries","tpa.viewer.components.Freestyle":"galleries","wysiwyg.viewer.components.Video":"video","wysiwyg.viewer.components.SoundCloudWidget":"soundCloud","wysiwyg.viewer.components.AudioPlayer":"audioPlayer","mobile.core.components.Container":"container","wysiwyg.viewer.components.VerticalLine":"verticalLine","wysiwyg.viewer.components.FiveGridLine":"horizontalLine","wysiwyg.viewer.components.ClipArt":"WPhoto","wysiwyg.viewer.components.SiteButton":"button","wysiwyg.common.components.imagebutton.viewer.ImageButton":"imageButton","wysiwyg.viewer.components.ItunesButton":"itunesButton","wysiwyg.viewer.components.menus.DropDownMenu":"horizontalMenu","wysiwyg.viewer.components.documentmedia.DocumentMedia":"documentMedia","wysiwyg.viewer.components.HorizontalMenu":"horizontalMenu","wysiwyg.common.components.verticalmenu.viewer.VerticalMenu":"verticalMenu","wysiwyg.viewer.components.mobile.TinyMenu":"tinyMenu","wysiwyg.viewer.components.WFacebookLike":"facebook","wysiwyg.common.components.facebooklikebox.viewer.FacebookLikeBox":"facebook","wysiwyg.viewer.components.WFacebookComment":"facebook","wysiwyg.viewer.components.WTwitterFollow":"twitter","wysiwyg.viewer.components.WTwitterTweet":"twitter","wysiwyg.viewer.components.TwitterFeed":"twitter","wysiwyg.viewer.components.WGooglePlusOne":"googlePlus","wysiwyg.viewer.components.LinkBar":"linkBar","tpa.viewer.components.TPASection":"appMarket","tpa.viewer.components.TPAWidget":"appMarket","wysiwyg.viewer.components.tpapps.TPASection":"appMarket","wysiwyg.viewer.components.tpapps.TPAMultiSection":"appMarket","wysiwyg.viewer.components.tpapps.TPAWidget":"appMarket","wysiwyg.viewer.components.tpapps.TPAGluedWidget":"appMarket","tpa.viewer.components.TPAGallery":"galleries","tpa.viewer.components.TPAComponent":"appMarket","wysiwyg.viewer.components.ContactForm":"contactForm","wysiwyg.viewer.components.GoogleMap":"googleMaps","wysiwyg.viewer.components.HtmlComponent":"htmlComponent","wysiwyg.viewer.components.FlashComponent":"flashComponent","wysiwyg.viewer.components.PayPalButton":"paypal","wysiwyg.viewer.components.FlickrBadgeWidget":"flicker","wysiwyg.viewer.components.AdminLogin":"webMasterLogin","wysiwyg.viewer.components.AdminLoginButton":"webMasterLogin","wysiwyg.viewer.components.LoginButton":"memberLogin","wixapps.integration.components.AppPart":"blog","wixapps.integration.components.AppPart2":"listBuilder","wysiwyg.viewer.components.svgshape.SvgShape":"svgShape","wysiwyg.common.components.subscribeform.viewer.SubscribeForm":"contactForm","wysiwyg.common.components.singleaudioplayer.viewer.SingleAudioPlayer":"singleAudioPlayer","wysiwyg.viewer.components.BgImageStrip":"strip","wysiwyg.common.components.youtubesubscribebutton.viewer.YouTubeSubscribeButton":"youtubeSubscribe","wysiwyg.viewer.components.HeaderContainer":"headerContainer","wysiwyg.viewer.components.FooterContainer":"footerContainer","wysiwyg.common.components.pinitpinwidget.viewer.PinItPinWidget":"pinterset","wysiwyg.common.components.pinterestpinit.viewer.PinterestPinIt":"pinterset","wysiwyg.viewer.components.PinterestFollow":"pinterset","wysiwyg.common.components.skypecallbutton.viewer.SkypeCallButton":"skype","wysiwyg.viewer.components.VKShareButton":"vkShare","wysiwyg.common.components.spotifyfollow.viewer.SpotifyFollow":"spotifyFollow","wysiwyg.common.components.spotifyplayer.viewer.SpotifyPlayer":"spotifyFollow","wysiwyg.common.components.anchor.viewer.Anchor":"anchor","wysiwyg.common.components.rssbutton.viewer.RSSButton":"rssButton","wysiwyg.viewer.components.inputs.DatePicker":"datePicker","wysiwyg.common.components.verticalanchorsmenu.viewer.VerticalAnchorsMenu":"anchor"};return{getSvgNameForComp:function(b){if(a[b]){return a[b]}return a.default}}});define("util/compIcon/compIcon",["lodash","util/compIcon/svgForComp","util/imageService/imageTransform"],function(a,b,c){"use strict";var d=["wysiwyg.viewer.components.ClipArt","wysiwyg.viewer.components.WPhoto"];var e="http://static.wixstatic.com/media/";var f=50;function g(a,b,d){var g=d.components.data.get(a);b=b||{width:f,height:f};if(g.type!=="ImageList"&&g.type!=="Image"){return null}var h;if(g.type==="ImageList"){h=g.items[0]}else{h=g}var i=c.getData(c.fittingTypes.SCALE_TO_FILL,{width:h.width,height:h.height,id:h.uri},{width:b.width||f,height:b.height||f,alignment:c.alignTypes.CENTER,htmlTag:"bg"});return{url:e+i.uri,css:i.css.container}}function h(c,e,f,h){var i,j,k;if(a.includes(d,e)){var l=g(c,f,h);i=l.url;k=l.css}else{j=b.getSvgNameForComp(e)}return{src:i,svgName:j,css:k}}return{getCompIconInfo:h}});define("util/googleTranslate/googleTranslate",["lodash","jquery","util/url/url","experiment"],function(a,b,c,d){"use strict";var e="https://www.googleapis.com/language/translate/v2";var f="AIzaSyDk459Frxeg68etyrYPBbaopQePV40ChZk";var g="blank";function h(b,c){var d=a.get(c,["data","translations",0,"translatedText"],g);b(d)}function i(a){a(g)}return function(a,g){if(d.isOpen("urlFormatGoogleTranslate")&&!c.isTrue("isqa")){b.ajax({method:"GET",url:e,data:{key:f,target:"en",q:a},success:h.bind(null,g),error:i.bind(null,g)})}else{g(a)}}});define("util/keyboardShortcuts/keyboardShortcuts",["lodash","keyboardMaster"],function(a,b){"use strict";var c={TOP_CONTEXT:"all",EDITOR:"EDITOR",BASE_EDITOR:"BASE_EDITOR",PIN_MODE:"PIN_MODE",IMAGE_CROP:"IMAGE_CROP",ZOOM_MODE:"ZOOM_MODE",PREVIEW:"PREVIEW",TOP_BAR:"TOP_BAR",MENU_BAR:"MENU_BAR",MODAL_PANEL:"MODAL_PANEL",AUTOMATIC:"AUTOMATIC",RULERS:"RULERS"};var d={TOP_CONTEXT:{},EDITOR:{},PREVIEW:{},TOP_BAR:{}};var e=null;var f="!DISABLED!";var g=c.TOP_CONTEXT;var h=g;var i=b.noConflict();var j={space:"space",up:"up",down:"down",left:"left",right:"right",home:"home",end:"end",pageUp:"pageup",pageDown:"pagedown",del:"del",esc:"esc",enter:"enter",backspace:"backspace",tab:"tab",alt:"alt",option:"option",shift:"shift",ctrl:"ctrl",command:"command"};function k(a){var b=(a.target||a.srcElement).tagName;if(b==="INPUT"){var c=a.metaKey||a.ctrlKey;var d=a.keyCode===90||a.keyCode===89;if(c&&d){a.preventDefault();return true}return false}return!(b==="SELECT"||b==="TEXTAREA")}function l(){if(n()){e=h}u(f)}function m(){if(!n()){v(e);e=null}}function n(){return t()!==f}function o(b,c){if(r(b)&&c){if(d[b]){p(b)}d[b]=c;a.forOwn(c,function(a,c){q(c,b,a)})}}function p(a){if(r(a)){i.deleteScope(a);d[a]={}}}function q(b,c,d){if(!a.isEmpty(b)&&d&&r(c)&&a.isFunction(i)){i(b,c,d)}}function r(b){return!a.isEmpty(b)}function s(){u(g)}function t(){return h}function u(a){if(n()){v(a)}}function v(a){h=a;i.setScope(a)}function w(b,c){var e={};var f=d[b]||{};a.assign(e,f);a.assign(e,c);return e}i.filter=k;return{CONTEXTS:c,disable:l,enable:m,isEnabled:n,specialKeys:j,extendContext:w,getContext:t,setContext:u,clearContext:s,registerContext:o,unregisterContext:p}});define("util/math/normalizeNumber",[],function(){"use strict";function a(a,b){if(a%b){a=Math.round(a/b)*b}return a}function b(a){if(isNaN(a)){a=0}return a}function c(a,b,c){if(a>c){a=c}else if(a<b){a=b}return a}function d(a){if(a!==Math.round(a)){a=a.toFixed(2);if(a.charAt(a.length-1)==="0"){a=a.slice(0,a.length-1)}}return Number(a)}function e(e,f,g,h){if(e===""){return e}var i=Number(e);i=b(i);i=a(i,h);i=c(i,f,g);i=d(i);return i}return e});define("util/colors/colorConversions",["lodash","pLoader!santa:utils"],function(a,b){"use strict";function c(a,b){var c=a>0?a%b:(b+a)%b;return c}function d(a){var b=a.toString(16);var c=b.length===1?"0"+b:b;return c.toUpperCase()}function e(a){var c=a.hue,d=a.saturation,e=a.brightness;if(c<0||c>360){b.log.error("hue is out of range");return null}c%=360;var f=d/100;var g=e/100;var h,i,j;var k=f*g;var l=k*(1-Math.abs(c/60%2-1));var m=g-k;switch(Math.floor(c/60)){case 0:h=k;i=l;j=0;break;case 1:h=l;i=k;j=0;break;case 2:h=0;i=k;j=l;break;case 3:h=0;i=l;j=k;break;case 4:h=l;i=0;j=k;break;case 5:h=k;i=0;j=l;break}return{red:Math.round(255*(h+m)),green:Math.round(255*(i+m)),blue:Math.round(255*(j+m))}}var f=a.flowRight(k,e);function g(a){var b,d,e;var f=a.red,g=a.green,h=a.blue;var i=f/255;var j=g/255;var k=h/255;var l=Math.max(i,j,k);var m=Math.min(i,j,k);var n=l-m;if(n===0){b=0}else{switch(l){case i:b=60*c((j-k)/n,6);break;case j:b=60*((k-i)/n+2);break;case k:b=60*((i-j)/n+4);break}}d=l===0?0:n/l;e=l;return{hue:b,saturation:100*d,brightness:100*e}}function h(a){var b=g(a);return{hue:Math.round(b.hue),saturation:Math.round(b.saturation),brightness:Math.round(b.brightness)}}function i(a){var b=a.hue%360,c=a.saturation,d=a.brightness;var e=c/100;var f=d/100;var g;var h={hue:b,saturation:0,lightness:0};g=.5*f*(2-e);h.lightness=Math.round(100*g);h.saturation=Math.round(100*(f*e)/(1-Math.abs(2*g-1)));return h}function j(a){var b=a.hue,c=a.saturation,d=a.lightness;var e=c/100;var f=d/100;var g;var h={hue:b,saturation:0,brightness:0};g=.5*(2*f+e*(1-Math.abs(2*f-1)));h.saturation=Math.round(100*2*(g-f)/g);h.brightness=Math.round(100*g);return h}function k(a){return"#"+d(a.red)+d(a.green)+d(a.blue)}function l(a){var b=/^#?([a-f\d]{2})([a-f\d]{2})([a-f\d]{2})$/i.exec(a);return b?{red:parseInt(b[1],16),green:parseInt(b[2],16),blue:parseInt(b[3],16)}:null}var m=a.flowRight(h,l);var n=a.flowRight(g,l);function o(b){var c=/rgb\((.+)\)/;var d=a.map(c.exec(b)[1].split(","),function(a){return parseInt(a,10)});return a.zipObject(["red","green","blue"],d)}function p(b){return"rgb("+a.values(b).join(",")+")"}function q(b){var c=/rgba\((.+)\)/;var d=a.map(c.exec(b)[1].split(","),function(a){return parseFloat(a,10)});return a.zipObject(["red","green","blue","alpha"],d)}function r(b){return"rgba("+a.values(b).join(",")+")"}function s(b){if(a.isString(b)){b=m(b)}else if(b.red){b=h(b)}else if(b.lightness){b=j(b)}return Math.sqrt(Math.pow(100-b.brightness,2)+Math.pow(b.saturation,2))}function t(b,c,d){var e=5;var g,h,i,j,k;var l=[];if(a.isString(b)){b=n(b)}g=b.brightness;h=s(b);i=Math.floor(5*g/(g+h));for(var m=0;m<e;m++){j=b.saturation;if(m<i){k=(m+1)/(i+1)*g}else if(m===i){k=g}else{k=(m-i)/(5-i)*(100-g)+g;j=b.saturation/(m-i+1)}l.unshift(f({hue:b.hue,saturation:j,brightness:k}))}if(!a.isEmpty(c)&&!!d){var o=n(c[d[0]]);var p=n(c[d[4]]);if(s(o)>s(p)){l.reverse()}l=a.zipObject(d,l)}return l}function u(b){if(a.includes(b,"rgba")){return k(q(b))}else if(a.includes(b,"rgb")){return k(o(b))}return b}return{rgbToHsb:h,rgbToHsbExact:g,rgbToHex:k,hsbToRgb:e,hsbToHex:f,hexToRgb:l,hexToHsb:m,hexToHsbExact:n,hslToHsb:j,hsbToHsl:i,rgbStringToObject:o,rgbObjectToString:p,rgbaStringToObject:q,rgbaObjectToString:r,getDistanceToWhite:s,createGradientColorsFromRoot:t,getColorInHex:u}});define("util/media/media",["staticAssets","util/serviceTopology/serviceTopology","util/url/url"],function(a,b,c){"use strict";var d=a.staticAssetsMap;return{getMediaUrl:function(a,e){var f=c.joinURL(b.scriptsDomainUrl,"services","santa-resources","resources","editor");var g=d[a]||d[e]||e||a;if(g&&g[0]==="/"){g=g.substr(1)}return[f,g].join("/")},getAssetUrl:function(a){var b="http://assets.parastorage.com";a=a[0]==="/"?a.substr(1):a;return[b,a].join("/")}}});define("util/svg/svgUrlParser",["lodash"],function(a){"use strict";function b(a){var b=a.replace("_",".").replace("/",".").split(".");return[b[2],b[3],"svg_"+b[1],b[4]].join(".")}function c(a){var b=/^shapes\/([a-z0-9]{32})\.svg$/i;var c=b.exec(a);var d=c[1];return"svgshape.v2.Svg_"+d}return{parseSvgSkinFromUrl:function d(e){return a.includes(e,".v1.")?b(e):c(e)}}});define("util/imageOrganizerUtils/imageOrganizerUtils",["util/translation/translate","util/editorModel/editorModel"],function(a,b){"use strict";var c=["ORGANIZE_ICONS_DIALOG_TITLE","OrganizeImages_IMAGES_DIALOG_TITLE","ORGANIZE_IMAGES_DIALOG_DESC","ORGANIZE_IMAGES_DIALOG_ADD","ORGANIZE_IMAGES_DIALOG_REPLACE","ORGANIZE_IMAGES_DIALOG_DONE","ORGANIZE_IMAGES_DIALOG_CANCEL","ORGANIZE_IMAGES_DIALOG_NO_IMG_SELECTED","ORGANIZE_IMAGES_DIALOG_IMG_TITLE","ORGANIZE_IMAGES_DIALOG_IMG_DESC","ORGANIZE_IMAGES_DIALOG_IMG_TITLE_PLACEHOLDER","ORGANIZE_IMAGES_DIALOG_IMG_DESC_PLACEHOLDER","ORGANIZE_IMAGES_DIALOG_IMG_LINK","ORGANIZE_IMAGES_DIALOG_IMG_LINK_PLACEHOLDER","ORGANIZE_IMAGES_DIALOG_IMG_TITLE_TOOLTIP","ORGANIZE_IMAGES_DIALOG_IMG_DESC_TOOLTIP","ORGANIZE_IMAGES_DIALOG_IMG_LABEL","ORGANIZE_IMAGES_DIALOG_EMPTY_MSG","ORGANIZE_IMAGES_DIALOG_EMPTY_TITLE","ORGANIZE_IMAGES_DIALOG_EMPTY_TEXT","ORGANIZE_IMAGES_DIALOG_EMPTY_LINK","ORGANIZE_IMAGES_DIALOG_TOOLTIP_REMOVE","ORGANIZE_IMAGES_DIALOG_CONFIRM_YES","ORGANIZE_IMAGES_DIALOG_CONFIRM_NO","ORGANIZE_IMAGES_DIALOG_CONFIRM_HEADER","ORGANIZE_IMAGES_DIALOG_CONFIRM_MSG","ORGANIZE_IMAGES_DIALOG_SETS_TITLE","ORGANIZE_IMAGES_DIALOG_SETS_ADD_PLACE","Organize_Images_Dialog_Sets_Add_Title","Organize_Images_Dialog_Sets_Button_Set","Organize_Images_Dialog_Sets_Add_Place_Start","Organize_Images_Dialog_Sets_Add_Place_End","Organize_Images_Dialog_Sets_Add_Place_After","Organize_Images_Dialog_Sets_Add_Title_With","Organize_Images_Dialog_Sets_Add_Title_Without"];function d(b){b.ORGANIZE_IMAGES_DIALOG_TITLE=a("ORGANIZE_ICONS_DIALOG_TITLE");b.ORGANIZE_IMAGES_DIALOG_DESC=a("ORGANIZE_ICONS_DIALOG_TEXT");b.ORGANIZE_IMAGES_DIALOG_ADD=a("ORGANIZE_ICONS_BUTTON_TEXT");b.ORGANIZE_IMAGES_DIALOG_EMPTY_MSG=a("ORGANIZE_ICONS_DIALOG_EMPTY_MSG");b.ORGANIZE_IMAGES_DIALOG_REPLACE=a("ORGANIZE_ICONS_DIALOG_REPLACE");b.ORGANIZE_IMAGES_DIALOG_IMG_LINK=a("ORGANIZE_ICONS_DIALOG_IMG_LINK");b.ORGANIZE_IMAGES_DIALOG_IMG_LINK_PLACEHOLDER=a("ORGANIZE_ICONS_DIALOG_IMG_LINK_PLACEHOLDER");b.ORGANIZE_IMAGES_DIALOG_NO_IMG_SELECTED=a("ORGANIZE_ICONS_DIALOG_NO_IMG_SELECTED")}function e(b){var e=c,f={};e.forEach(function(b){f[b]=a(b)});if(b==="socialIcons"){d(f)}return{lang:"EN",map:f}}function f(a){var c=b.editorBase||"/editor-base";var d="OrganizeImagesV2";return c+"/app/external/"+d+"/index.html?galleryType="+a}return{getTranslation:e,getFrameUrl:f}});define("util/editorSessionUtil/editorSessionUtil",["util/url/url"],function(a){"use strict";return{editorSessionId:a.parseUrl(window.location.href).query.editorSessionId}});define("util/polyfills/polyfills",[],function(){"use strict";function a(){Math.sign=Math.sign||function(a){a=+a;if(a===0||isNaN(a)){return a}return a>0?1:-1}}return{register:a}});define("util/automationUtil/bi/bi",[],function(){"use strict";var a=[];function b(){if(a&&a.length){return a}return"There is no BI events"}function c(b){if(a&&a.length){for(var c=0;c<a.length;c++){if(a[c][0].evid===b){return a[c]}}return"BI event with id = "+b+" was not found"}return"There is no BI events"}function d(b){if(a&&a.length){for(var c=0;c<a.length;c++){if(a[c][1].panel_name===b){return a[c]}}return"BI event with name = "+b+" was not found"}return"There is no BI events"}function e(){return a.length}function f(){if(a&&a.length){a=[]}return"BI array is empty"}function g(b,c){if(!b||!c){return"expected objects type"}a.push([b,c]);return a}function h(){if(!a||!a.length){return null}return a.splice(a.length-1,1)[0]}function i(){if(!a||!a.length){return"the is no BI events"}return a[a.length-1]}return{getAll:b,getById:c,getByName:d,getSize:e,clear:f,add:g,pop:h,top:i}});define("util/automationUtil/automationUtil",["util/automationUtil/bi/bi","util/url/url"],function(a,b){"use strict";function c(a,b){window.testApi.bi.add(a,b)}return{onPreviewReady:function(a){if(b.isTrue("isqa")){a.bi.event=a.bi.eventWithEditorPresets(c)}},bi:a}});define("util/mixins/singlePassDOMReadWriteMixin",["lodash","react","util/bi/bi"],function(a,b,c){"use strict";var d={MOUNT:"mount",UPDATE:"update"};var e=0;var f=[];var g=[];function h(a){if(e!==0){if(a){a.error(c.errors.EDITOR_FATAL_ERROR)}}}function i(b,c,d){if(e===0){a.defer(h,d)}e++;f.push({comp:b,phase:c})}function j(){e--;if(e===0){a.forEach(g,function(b){if(!a.find(f,{comp:b})){f.push({comp:b,phase:d.UPDATE})}});var b=a.map(f,function(a){return a.comp.measurePhase(a.phase)});a.forEach(f,function(a,c){a.comp.patchPhase(b[c],a.phase)});f=[]}}return{contextTypes:{bi:b.PropTypes.object},componentWillMount:function(){var a=this.context&&this.context.bi;if(this.MEASURE_PATCH_EVERY_RENDER){g.push(this)}i(this,d.MOUNT,a)},componentWillUpdate:function(){var a=this.context&&this.context.bi;i(this,d.UPDATE,a)},componentDidMount:j,componentDidUpdate:j,componentWillUnmount:function(){if(this.MEASURE_PATCH_EVERY_RENDER){g=a.without(g,this)}f=a.reject(f,{comp:this})},LIFECYCLE_PHASES:d}});define("util/layout/layoutUtils",["lodash"],function(a){"use strict";var b=["x","y","width","height","rotationInDegrees"];function c(b,c){c=c||{};c=a(c).defaults({x:0,y:0}).pick(["x","y"]).value();var d=a.assign({},b,{x:b.x+c.x,y:b.y+c.y});return a.pick(d,a.isFinite)}function d(d,e,g,h){var i=d.components.layout.get(e);var j=f(g,h);var k=c(i,j);a.assign(k,a.pick(g,["width","height","rotationInDegrees"]));var l=a.pick(k,b);return l}function e(a,b){return a.x>=b.x&&a.x+a.width<=b.x+b.width&&a.y>=b.y&&a.y+a.height<=b.y+b.height}function f(b,c){b=a.pick(b,["x","y"]);c=a.pick(c,["x","y"]);var d={x:b.x-c.x,y:b.y-c.y};return a.pick(d,a.isFinite)}function g(b,c){var d={x:b.x/c.width,y:b.y/c.height,width:b.width/c.width,height:b.height/c.height};return a.pick(d,a.isFinite)}function h(b,c){var d={x:b.width*c.x,y:b.height*c.y,width:b.width*c.width,height:b.height*c.height};return a.pick(d,a.isFinite)}function i(a,b,d){var e=a.components.layout.get(b);var g=f(e,d);var h=a.components.layout.getRelativeToScreen(b);var i=c(h,g);return i}function j(a,b,c){var e=a.components.layout.getRelativeToScreen(b);var f=d(a,b,c,e);return f}function k(a,b,c){var e=a.components.layout.getRelativeToStructure(b);var f=d(a,b,c,e);return f}function l(d,e,g){var h=d.components.layout.getRelativeToStructure(e);var i=d.components.layout.getRelativeToScreen(e);var j=f(h,g);var k=c(i,j);a.assign(k,a.pick(g,["x","y","width","height"]));return a.pick(k,b)}var m=a.curry(function a(b,c,d,e){var f=d[b.sourceProperty];var g=c[b.sourceProperty];var h=b.ratio*(g-f);var i=b.offsetRatio*e;return[b.targetProperty,Math.floor(h+i)]});var n={center:m({ratio:.5,offsetRatio:1,sourceProperty:"width",targetProperty:"x"}),right:m({ratio:1,offsetRatio:-1,sourceProperty:"width",targetProperty:"x"}),middle:m({ratio:.5,offsetRatio:1,sourceProperty:"height",targetProperty:"y"}),bottom:m({ratio:1,offsetRatio:-1,sourceProperty:"height",targetProperty:"y"})};function o(b,c){return a(b).pairs().map(function(a){var d=a[0],e=a[1];if(n.hasOwnProperty(d)){return n[d](c,b,e)}return a}).zipObject().value()}return{addXYOffsetsToLayout:c,getLayoutsXYDiff:f,isLayoutContainedWithinRect:e,getChildContainerLayoutRatio:g,calcLayoutFromLayoutAndRatio:h,getLayoutRelativeToScreenFromRelativeToParent:i,getLayoutRelativeToParentFromRelativeToScreen:j,getLayoutRelativeToParentFromRelativeToStructure:k,getLayoutRelativeToScreenFromRelativeToStructure:l,convertAnyPositionToLeftTopPosition:o}});define("util/newrelic/newrelic",["lodash","util/url/url"],function(a,b){"use strict";if(typeof window!=="undefined"&&!b.isTrue("suppressbi")){var c=window.newrelic;if(c){var d=window.performance&&window.performance.now?function(){return Math.round(window.performance.now())}:function(){return 0};return{setCustomAttribute:c.setCustomAttribute.bind(c),addPageAction:function(b,e){var f=d();e=a.assign({},e,{timeSinceNavigate:f});return c.addPageAction(b,e)},finished:function(){var a=d();if(a){this.setCustomAttribute("timeSinceNavigate",d())}return c.finished.apply(c,arguments)}}}}return{setCustomAttribute:a.noop,addPageAction:a.noop,finished:a.noop}});define("util/fontLangsFallbacks/fontLangsFallbacks",["lodash"],function(a){"use strict";var b={ru:{anton:"Play",basic:"Open Sans",caudex:"Forum","chelsea market":"Open Sans",corben:"Forum",enriqueta:"Droid Serif","fredericka the great":"EB Garamond","jockey one":"Kelly Slab","josefin slab":"Courier New","lucida console":"Open Sans","lucida sans unicode":"Open Sans","mr de haviland":"Marck Script",niconne:"Marck Script","noticia text":"Droid Serif",overlock:"Open Sans","palatino linotype":"EB Garamond","patrick hand":"comic Sans MS",sarina:"Lobster",signika:"Open Sans",spinnaker:"Open Sans",tahoma:"Open Sans","stencil-w01-bold":"bodoni-w01-poster","itc-arecibo-w01-regular":"Kelly slab","avenida-w01":"Kelly slab","pacifica-w00-condensed":"Open Sans Condensed","geotica-w01-four-open":"bodoni-w01-poster","aarzo-w00-regular":"Verdana","braggadocio-w01":"bodoni-w01-poster","reklamescriptw00-aedium":"Lobster","snellroundhandw01-scrip":"Marck Script","helvetica-w01-light":"helvetica-w01-roman","nimbus-sans-tw01con":"Open Sans Condensed","soho-w01-thin-condensed":"Open Sans Condensed","clarendon-w01-aedium-692107":"Georgia","museo-w01-700":"Courier New","museo-slab-w01-100":"Courier New","americantypwrteritcw01--731025":"Courier New",monoton:"Arial Black",sacramento:"Marck Script",cookie:"Lobster",raleway:"helvetica-w01-roman","amatic sc":"Open Sans Condensed","coquette-w00-light":"Marck Script","rosewood-w01-regular":"bodoni-w01-poster"},ja:{anton:" ",arial:" ","courier new":" ","arial black":" ",basic:" ",caudex:" ","chelsea market":" ","comic sans ms":"",corben:" ","eb garamond":" ",enriqueta:" ",forum:" ","fredericka the great":" ",georgia:" ",impact:" ","jockey one":" ","josefin slab":" ",jura:" ","kelly slab":" ","lucida console":" ","lucida sans unicode":" ","marck script":" ",lobster:" ","mr de haviland":" ",niconne:" ","noticia text":"","open sans":" ",overlock:"","palatino linotype":"","patrick hand":" ",play:" ",sarina:" ",signika:" ",spinnaker:" ",tahoma:" ","times new roman":" ",verdana:" ","bodoni-w01-poster":" ","stencil-w01-bold":" ","itc-arecibo-w01-regular":" ","avenida-w01":" ","pacifica-w00-condensed":" ","geotica-w01-four-open":" ","marzo-w00-regular":" ","braggadocio-w01":" ","reklamescriptw00-medium":" ","snellroundhandw01-scrip":" ","din-next-w01-light":" ","helvetica-w01-roman":"","helvetica-w01-light":"","helvetica-w01-bold":" ","nimbus-sans-tw01con":"","soho-w01-thin-condensed":" ","droid-serif-w01-regular":" ","clarendon-w01-medium-692107":" ","museo-w01-700":" ","museo-slab-w01-100":" ","americantypwrteritcw01--731025":" ",monoton:"",sacramento:" ",cookie:" ",raleway:"","open sans condensed":"","amatic sc":" ","coquette-w00-light":" ","rosewood-w01-regular":" "},tr:{"amatic sc":"comic sans ms","bodoni-w01-poster":"open sans condensed","braggadocio-w01":"arial black","chelsea market":"comic sans ms",corben:"noticia text","fredericka the great":"clarendon-w01-medium-692107","geotica-w01-four-open":"anton","itc-arecibo-w01-regular":"kelly slab","josefin slab":"american typewriter","lucida sans unicode":"open sans","marzo-w00-regular":"open sans condensed","mr de haviland":"marck script","museo-w01-700":"enriqueta","museo-slab-w01-100":"courier new",niconne:"cookie","nimbus-sans-tw01con":"open sans condensed",overlock:"open sans","pacifica-w00-condensed":"jura",raleway:"helvetica-w01-light","rosewood-w01-regular":"clarendon-w01-medium-692107","snellroundhandw01-scrip":"cookie",spinnaker:"helvetica-w01-roman","stencil-w01-bold":"impact","soho-w01-thin-condensed":"Open Sans Condensed","helvetica-w01-light":"open sans condensed","helvetica-w01-bold":"arial black",monoton:"reklamescriptw00-medium","americantypwrteritcw01--731025":"forum","din-next-w01-light":"open sans condensed"},pl:{"helvetica-w01-light":"open sans condensed","soho-w01-thin-condensed":"amatic sc","bodoni-w01-poster":"anton","braggadocio-w01":"impact","stencil-w01-bold":"impact",monoton:"reklamescriptw00-medium","geotica-w01-four-open":"sacramento","mr de haviland":"amatic sc","americantypwrteritcw01--731025":"amatic sc","din-next-w01-light":"helvetica-w01-roman","museo-slab-w01-100":"Courier New",raleway:"helvetica-w01-roman",overlock:"Open Sans","museo-w01-700":"enriqueta"}};function c(a,b,c){return Math.min(parseInt(c,10),a)+"px"}return{getFallbackFontsForLang:function(a){return b[a]},getFontFallbackIfNeeded:function(a,c){return b[a]&&b[a][c]?b[a][c]:c},getUpdatedFonts:function(d,e,f){return a.reduce(d,function(d,g,h){d[h]=a.reduce(b[e],function(a,b,c){return a.replace(c,b.replace(/ /g,"+").toLowerCase())},g);if(a.isNumber(f)&&f>0){d[h]=d[h].replace(/(\d+)px/,c.bind(null,f))}return d},[])}}});define("util/background/backgroundPanelUtils",["lodash","util/serviceTopology/serviceTopology","util/imageService/imageTransform","util/url/url","util/browser/browserUtil","util/utils/guid","color"],function(a,b,c,d,e,f,g){"use strict";var h=b.staticMediaUrl;var i=b.staticVideoUrl;var j={COLOR:"Color",IMAGE:"Image",VIDEO:"WixVideo"};function k(a,b,c,d){return a<c&&b<d}function l(a,b,d,f,g,h,i,j){var k={id:d,width:f,height:g};var l={width:h,height:i,alignment:b,htmlTag:"bg",pixelAspectRatio:e.getDevicePixelRatio()};return c.getData(a,k,l,{quality:j||85})}function m(a,b){if(!b){return""}if(/color_/.test(b)){b=a.theme.colors.get(b.replace(/[\{\}]/g,""))}return b}function n(a,b){var c=m(b,a.colorOverlay);return{backgroundImage:a.imageOverlay?"url("+d.joinURL(h,a.imageOverlay.uri)+")":null,backgroundColor:c?new g(c).alpha(a.colorOverlayOpacity||0).rgbaString():null}}function o(b,c){var d=b[0];var e=a.first(d.fileOutput.image);var f=a.groupBy(d.fileOutput.video,"quality");var g=a.pick(e,["width","height","url"]);g.type="Image";g.uri=g.url.replace(/^(.*[\/])/,"");delete g.url;g.description=c.path;var h={type:"WixVideo",title:d.title,videoId:d.fileBaseUrl,duration:Math.round(d.fileInput.duration/1e3),posterImageRef:g,opacity:1,autoplay:true,loop:true,preload:"auto",mute:true,artist:{name:d.vendor||"",id:d.reference||""}};h.qualities=a.map(f,function(b){var c=a.pluck(b,"format");var d=a.pick(b[0],["width","height","quality"]);d.formats=c;return d});return h}function p(a,b){var c=a[0];return{type:"Image",uri:c.fileName,title:c.title,description:b.path,width:c.width,height:c.height,artist:{name:c.vendor||"",id:c.reference||""}}}function q(){return j}function r(a){var b=a.mediaRef;var c=j.COLOR;if(b){c=b.type}return c}function s(a,b){var c=b.ref.id;if(!c){c=w(a,"mobile",a.pages.getPrimaryPageId()).ref.id}var d=a.userPreferences.session.get("bg_panel_mobile_data_duplications_"+c);if(d&&d.count){b.ref.id=f.getUniqueId(a.pages.getPrimaryPageId(),"_")+"_mobile_bg";if(b.ref.mediaRef){b.ref.mediaRef.id=undefined}a.userPreferences.session.set("bg_panel_mobile_data_duplications_"+c,{count:d.count-1});a.userPreferences.session.set("bg_panel_mobile_data_duplications_"+b.ref.id,{count:0})}}function t(a){a.ref.colorOverlay="";a.ref.colorOverlayOpacity=0;a.ref.imageOverlay=null}function u(b,c,d,e){var f;a.assign(d.ref,a.omit(c.ref,["id","mediaRef","metaData"]));t(d);d.ref.scrollType="scroll";if(c.ref.mediaRef){if(c.ref.mediaRef.type==="WixVideo"){f=c.ref.mediaRef.posterImageRef}else{f=c.ref.mediaRef}d.ref.mediaRef=a.omit(f,"id")}else{d.ref.mediaRef=null}b.pages.background.update(e,d,"mobile")}function v(a,b,c,d){if(a==="mobile"){b.isPreset=false;b.ref.scrollType="scroll";s(c,b)}else{var e=w(c,"mobile",d);if(e.isPreset){s(c,e);u(c,b,e,d)}}}function w(a,b,c){if(!c){c=a.pages.getPrimaryPageId()}if(!b){b=a.getDeviceType()}var d=a.pages.background.get(c,b);return d}return{VIDEO_URL_PREFIX:i,MEDIA_URL_PREFIX:h,getOverlayStyle:n,getBackgroundData:w,isSmallerFromContainer:k,getImageDisplayData:l,getColorValue:m,getVideoBackgroundObject:o,getImageBackgroundObject:p,getMediaTypes:q,getMediaType:r,handleMobileDataChange:v,clearOverlayData:t}});define("util/background/bgPanelBiEvents",["lodash"],function(a){"use strict";function b(b,c,d,e){if(!e.origin){return}var f=b.pages.getPrimaryPageId();var g,h;var i,j;var k=d.mediaRef;if(e.origin==="bg_presets"){j=e.presetIndex}else{j=null}if(k){g=k.uri||k.videoId||"";if(typeof k.loop!=="undefined"){h=(!!k.loop).toString()}}if(b.isMobileEditor()||!b.pages.background.get(f,"mobile").isPreset){i=true}b.bi.event(c,{origin:e.origin,bg_media_type:d.mediaRef&&d.mediaRef.type.toLowerCase()||"Color",bg_mobile_detached:(!!i).toString(),bg_media_name:g,bg_page_id:f,bg_preset_index:j,bg_vendor_name:a.get(d,"mediaRef.artist.name"),bg_vendor_media_id:a.get(d,"mediaRef.artist.id"),bg_color:d.color,bg_fitting:d.fittingType,bg_positioning:d.alignType,bg_image_opacity:d.mediaRef&&d.mediaRef.opacity&&Math.floor(d.mediaRef.opacity*100),bg_scroll_with_site:d.scrollType,bg_overlay_color:d.colorOverlay,bg_overlay_color_opacity:d.colorOverlayOpacity&&Math.floor(d.colorOverlayOpacity*100),bg_video_overlay_pattern:a.get(d,"mediaRef.posterImageRef.uri"),bg_video_loop:h,bg_slideshow_transition_type:"",bg_slideshow_transition_duration:-1,bg_slideshow_transition_direction:"",bg_slideshow_pausebetweenimages:-1})}function c(b,c,d,e){if(!e.origin){return}var f=b.pages.getPrimaryPageId();var g,h;var i,j;var k=d.mediaRef;if(e.origin==="bg_presets"){j=e.presetIndex}else{j=null}if(k){g=k.uri||k.videoId||"";if(typeof k.loop!=="undefined"){h=(!!k.loop).toString()}}if(b.isMobileEditor()||!b.pages.background.get(f,"mobile").isPreset){i=true}b.bi.event(c,{panel_name:e.panelName,origin:e.origin,bg_media_type:d.mediaRef&&d.mediaRef.type.toLowerCase()||"Color",bg_mobile_detached:(!!i).toString(),bg_media_name:g,bg_page_id:f,bg_preset_index:j,bg_vendor_name:a.get(d,"mediaRef.artist.name"),bg_vendor_media_id:a.get(d,"mediaRef.artist.id"),bg_color:d.color,bg_fitting:d.fittingType,bg_positioning:d.alignType,bg_image_opacity:d.mediaRef&&d.mediaRef.opacity&&Math.floor(d.mediaRef.opacity*100),bg_scroll_with_site:d.effectName||d.scrollType,bg_overlay_color:d.colorOverlay,bg_overlay_color_opacity:d.colorOverlayOpacity&&Math.floor(d.colorOverlayOpacity*100),bg_video_overlay_pattern:a.get(d,"mediaRef.posterImageRef.uri"),bg_video_loop:h,bg_slideshow_transition_type:"",bg_slideshow_transition_duration:-1,bg_slideshow_transition_direction:"",bg_slideshow_pausebetweenimages:-1})}function d(a,b){a.bi.event(b)}function e(a,b,c){a.bi.event(b,c)}function f(a,b){a.bi.error(b)}return{changedBackgroundBiEvent:b,changedStripBackground:c,applyToOtherClick:d,applyToOtherClosed:e,mobileDataDuplicationError:f}});define("util/layout/pinModeUtils",["lodash"],function(a){"use strict";var b=20;var c={TOP_LEFT:{top:{px:b},left:{px:b}},TOP:{top:{px:b},hCenter:{px:0}},TOP_RIGHT:{top:{px:b},right:{px:b}},LEFT:{left:{px:b},vCenter:{px:0}},MIDDLE:{hCenter:{px:0},vCenter:{px:0}},RIGHT:{right:{px:b},vCenter:{px:0}},BOTTOM_LEFT:{bottom:{px:b},left:{px:b}},BOTTOM:{bottom:{px:b},hCenter:{px:0}},BOTTOM_RIGHT:{bottom:{px:b},right:{px:b}}};function d(a,b){switch(a){case"TOP_LEFT":case"TOP_RIGHT":case"BOTTOM_LEFT":case"BOTTOM_RIGHT":if(b.width>=500&&b.height>=500){return true}break;case"TOP":case"BOTTOM":if(b.height>=300){return true}break;case"LEFT":case"RIGHT":if(b.width>=500){return true}break;
}return false}function e(b){return a.findKey(c,function(c,d){if(a.isEqual(a.keys(c),a.keys(b))){return d}})}function f(a,b){var c=a.components.layout.getDockedStyle(b)||{};c.opacity=.5;c.transitionProperty="opacity";c.transitionDuration="0.2s";return c}return{dockMap:c,checkSizeRestrictions:d,getDockedDirection:e,getDockPreviewStyle:f}});define("util/imageCrop/imageCrop",["lodash","util/math/rect"],function(a,b){"use strict";var c={left:{x:-1},top:{y:-1},right:{x:1},bottom:{y:1}};function d(b,c){var d=a.clone(b);d.height*=c;d.width*=c;return d}function e(a,b){return a.height/b.height}function f(c,d){var e=b.getAspectRatio(c);var f={x:0,y:0};var g=d.width*e;if(g<d.height){f.x=(c.width-d.width)/2}else if(g>d.height){f.y=(c.height-d.height)/2}return a.assign({},c,{x:c.x+f.x,y:c.y+f.y,width:d.width,height:d.height})}function g(c,d){var e=b.getAspectRatio(d);var f={width:0,height:0};var g=c.width*e;var h=c.height/e;if(g<c.height){f.width=h-c.width}else if(g>c.height){f.height=g-c.height}else{return a.assign({},c,{width:h,height:g})}return{width:c.width+f.width,x:c.x-f.width/2,height:c.height+f.height,y:c.y-f.height/2}}function h(a,b,c){var d={width:a.width/c.width,height:a.height/c.height};return{x:b.x*d.width,y:b.y*d.height,width:b.width*d.width,height:b.height*d.height}}function i(a,b,c){var d={width:a.width/b.width,height:a.height/b.height};return{x:a.x-b.x*d.width,y:a.y-b.y*d.height,width:c.width*d.width,height:c.height*d.height}}function j(b,c,d){var e=a.clone(b);if(e.height<c.height){a.assign(e,{height:c.height,width:d.width})}if(e.width<c.width){a.assign(e,{width:c.width,height:d.height})}return e}function k(d,e){var f=a.clone(d);var g=a.clone(e);var h={left:-g.x,top:-g.y,right:b.getRight(g)-f.width,bottom:b.getBottom(g)-f.height};a.forEach(h,function(a,b){if(a>0){var d=c[b];var e=0;if(d.x){e=d.x*a;f.x+=e;g.x-=e}else{e=d.y*a;f.y+=e;g.y-=e}}});return{originArea:f,area:g}}function l(c,d){var e=a.clone(d.cropArea);var f=d.cropOriginArea;e.x=Math.max(0,-f.x,e.x);e.y=Math.max(0,-f.y,e.y);var g=Math.min(b.getRight(f),c.width);var h=Math.min(g-f.x,b.getRight(d.cropArea));var i=Math.min(b.getBottom(f),c.height);var j=Math.min(i-f.y,b.getBottom(d.cropArea));e.width=h-e.x;e.height=j-e.y;return e}return{scale:d,reverseScale:e,autoCrop:f,reverseAutoCrop:g,manualCrop:h,reverseManualCrop:i,ensure:{scaleWithinDimensions:j,areaIsFullyContained:k,areaWithinViewport:l}}});define("util/windowInteraction/windowInteractionUtils",["pLoader!santa:utils"],function(a){"use strict";return{reloadPageWithoutQuestion:function(){window.onbeforeunload=null;window.location.reload(true)},replaceState:function(){if(window.history&&window.history.replaceState){window.history.replaceState.apply(window.history,arguments)}else{a.log.error("window.history is not supported in this OLD browser!")}}}});define("util/utils/uiUtils",["jquery"],function(a){"use strict";var b=null;function c(){if(b===null){var c=a("<div>").css({visibility:"hidden",width:100,overflow:"scroll"}).appendTo("body");var d=a("<div>").css({width:"100%"}).appendTo(c).width();c.remove();b=100-d}return b}return{getScrollbarWidth:c}});define("util/browser/performance",["lodash","util/url/url","util/newrelic/newrelic"],function(a,b,c){"use strict";var d=" start";var e=" finish";if(typeof window==="undefined"||b.isTrue("suppressperformance")){return{mark:a.noop,measure:a.noop,start:a.noop,startOnce:a.noop,finish:a.noop,time:function(a,b){return b.apply(this,Array.prototype.slice.call(arguments,2))},getMark:a.noop,getMeasure:a.noop,clearMarks:a.noop,clearMeasures:a.noop,now:a.now}}var f,g=window.performance;if(g&&g.now){f=g.now.bind(g)}else{var h=window.mainLoaded||0;f=function(){return a.now()-h}}var i=b.getParameterByName("debug")&&b.getParameterByName("sampleratio")!=="force"?a.noop:function(b,d){if(b){d=a.defaults({measureName:b.name,startTime:Math.round(b.startTime),duration:Math.round(b.duration)},d);c.addPageAction("measure",d)}};var j;if(g&&g.measure){var k=function(b,c){return a.find(g.getEntriesByType(b),{name:c})};j={mark:g.mark.bind(g),measure:function(a,b,c,d,e){try{g.measure(a,b,c);if(d){i(j.getMeasure(a),e)}}catch(a){}},getMark:k.bind(this,"mark"),getMeasure:k.bind(this,"measure"),clearMarks:g.clearMarks.bind(g),clearMeasures:g.clearMeasures.bind(g)}}else{var l={domLoading:{name:"domLoading",startTime:0}};var m={};var n=function(a,b){if(b){delete a[b]}else{a={}}};j={mark:function(a){l[a]={name:a,startTime:f()}},measure:function(a,b,c,d,e){var f=j.getMark(b);var g=j.getMark(c);if(f&&g){var h={name:a,startTime:f.startTime,duration:g.startTime-f.startTime};if(!isNaN(h.duration)){m[a]=h;if(d){i(h,e)}}}},getMark:function(a){return l[a]},getMeasure:function(a){return m[a]},clearMarks:n.bind(this,l),clearMeasures:n.bind(this,m)}}j.start=function(a){j.mark(a+d)};j.startOnce=function(a){if(!j.getMark(a+d)){j.start(a)}};j.finish=function(a,b,c){var f=a+d;if(j.getMark(f)){var g=a+e;j.mark(g);j.measure(a,f,g,b,c);j.clearMarks(f);j.clearMarks(g)}};j.time=function(a,b,c,d){try{j.start(a);return b.apply(this,Array.prototype.slice.call(arguments,4))}finally{j.finish(a,c,d)}};return j});define("util/utils/integrations/qualaroo",["util/editorModel/editorModel"],function(a){"use strict";return{start:function(){window._kiq=window._kiq||[];setTimeout(function(){var a=window.document.getElementsByTagName("script")[0],b=window.document.createElement("script");b.type="text/javascript";b.async=true;b.src="//s3.amazonaws.com/ki.js/59166/dei.js";a.parentNode.insertBefore(b,a)},1);window._kiq.push(["identify",a.permissionsInfo.loggedInUserId])}}});define("util/utils/integrations/fullStory",["util/editorModel/editorModel"],function(a){"use strict";return{start:function(){window["_fs_debug"]=false;window["_fs_host"]="www.fullstory.com";window["_fs_org"]="MNX7";(function(a,b,c,d,e,f,g,h){g=a[c]=function(a,b){g.q?g.q.push([a,b]):g._api(a,b)};g.q=[];f=b.createElement(d);f.async=1;f.src="https://"+_fs_host+"/s/fs.js";h=b.getElementsByTagName(d)[0];h.parentNode.insertBefore(f,h);g.identify=function(a,b){g(e,{uid:a});if(b)g(e,b)};g.setUserVars=function(a){FS(e,a)};g.identifyAccount=function(a,b){f="account";b=b||{};b.acctId=a;FS(f,b)};g.clearUserCookie=function(a,c){a=b.domain;while(1){b.cookie="fs_uid=;domain="+a+";path=/;expires="+new Date(0);c=a.indexOf(".");if(c<0)break;a=a.slice(c+1)}}})(window,document,"FS","script","user")},identify:function(){window.FS.identify(a.permissionsInfo.loggedInUserId,{userId:a.permissionsInfo.loggedInUserId,userAgent:window.navigator.userAgent,screenHeight:window.screen.height,screenWidth:window.screen.width})}}});define("util/ui/splitterAPI",["lodash"],function(a){"use strict";function b(a,b){return{splitPosition:a||"50%",collapsed:b||false}}function c(a){switch(a.collapsed){case"top":case"left":return"0";case"bottom":case"right":return"100%";default:return a.splitPosition}}function d(b,c){return a.assign({},b,{collapsed:c})}function e(b,c){if(!c||c===b.collapsed){return a.assign({},b,{collapsed:false})}return b}function f(a,b){if(!b){return a}return a.collapsed===b?e(a,b):d(a,b)}function g(a,b){return b?a.collapsed===b:a.collapsed}function h(b,c){return a.assign({},b,{splitPosition:c,collapsed:false})}return{getInitialState:b,getSplitPosition:c,setSplitPosition:h,collapse:d,unCollapse:e,toggleCollapse:f,isCollapsed:g}});define("util/fontsManager/constants",[],function(){"use strict";return{FONT_EVENTS_NAMES:{LIST_CHANGED:"LIST_CHANGED",QUEUE_CHANGED:"QUEUE_CHANGED",FILE_CHANGED:"FILE_CHANGED"},FONT_STATUS:{WAITING:"waiting",SUCCEEDED:"succeeded",FAILED:"failed",FINISHED:"finished",PROCESSING:"processing",UPLOADING:"uploading"},FONT_STATUS_MSG:{waiting:"Upload_Fonts_Status_Awaiting_Upload",uploading:"Upload_Fonts_Status_Awaiting_Upload",processing:"Upload_Fonts_Status_Uploading",finished:"Upload_Fonts_Status_Upload_Successful"},FONT_ERROR:{"-7751":{bi_msg:"File Format warning",translate_msg:"Upload_Fonts_Errors_File_Format"},999999:{bi_msg:"File Size",translate_msg:"Upload_Fonts_Errors_File_Size"},unknown:{bi_msg:"Failed",translate_msg:"Upload_Fonts_Errors_Upload_Failed"}},ORIGINAL_FONT_PREFIX:"orig_",FONTS_MEDIA_TYPE:"ufont",CONVERTED_EXTENTIONS:["ttf","woff","woff2"],ACCEPTABLE_EXTENTIONS:["ttf","woff","woff2","otf"],MAX_FILE_SIZE:15e5}});define("util/fontsManager/fontsManagerUtils",["lodash","pLoader!santa:utils","util/serviceTopology/serviceTopology","util/fontsManager/constants","util/url/url"],function(a,b,c,d,e){"use strict";var f=b.fonts.uploadedFontsUtils;function g(b){var f=a.get(b,"fileInput.format");if(f){if(a.includes(d.CONVERTED_EXTENTIONS,f)){var g=a.find(b.fileOutput.font,{format:f});return e.joinURL(c.mediaRootUrl,g.url)}return e.joinURL(c.mediaRootUrl,b.fileUrl)}}function h(b){var e=a.clone(b);var h=e.fileInput.font_name.replace(/[^\w\s]/gi,"").toLowerCase();e.fileName=e.name.split(".")[0].replace(/[-_]/g," ");e.displayName=a.startCase(e.fileInput.font_name);e.fontFamily=f.getUploadedFontValue(e.id)+","+d.ORIGINAL_FONT_PREFIX+a.snakeCase(h);e.cssFontFamily=e.fontFamily;e.fontFace=f.getUploadedFontFaceStyles([e.fontFamily],c.mediaRootUrl);e.downloadUrl=g(b);return e}function i(b){return a.reject(b,function(a){return a.size>d.MAX_FILE_SIZE&&j(a)})}function j(b){if(b.name){var c=b.name.split(".")[1].toLowerCase();return a.includes(d.ACCEPTABLE_EXTENTIONS,c)}}function k(a){return d.FONT_ERROR[a]||d.FONT_ERROR.unknown}return{getUploadedFontData:h,getAllowedSizeFonts:i,getErrorMessage:k,constants:d}});define("util/designData/designDataUtils",["lodash"],function(a){"use strict";function b(a,b){b.red=parseInt(a.substr(1,2),16);b.green=parseInt(a.substr(3,2),16);b.blue=parseInt(a.substr(5,2),16)}function c(c,d){a.forEach(c.themeMappings,function(e,f){var g=d[e];var h=a.get(c.cssStyle,f);b(g,h)})}return{updateThemeColors:c}});define("util",["util/validators/validate","util/validators/validationExpressions","util/link/link","util/url/url","util/url/UrlBuilder","util/jsUtils/jsUtils","util/utils/guid","util/utils/string","util/utils/functionUtils","util/utils/cookie","util/utils/animationFrame","util/utils/classNames","util/utils/bindingUtil","util/props/propTypesFilterMixin","util/translation/translate","util/translation/translationMixin","util/postMessage/postMessageMixin","util/mixins/draggableMixin","util/imageService/imageTransform","util/imageService/imageEffects","util/video/videoUtils","util/mixins/valueLinkMixin","util/mixins/selectionMixin","util/mixins/outerClickMixin","util/mixins/blockOuterScrollMixin","util/utils/verticalScrollIntoView","util/mixins/imagesContainerMixin","util/mixins/storageMixin","util/mixins/componentUpdatesMixin","util/translation/languages","util/compIcon/compIcon","util/googleTranslate/googleTranslate","util/keyboardShortcuts/keyboardShortcuts","util/math/math","util/math/normalizeNumber","util/colors/colorConversions","util/media/media","util/bi/bi","util/serviceTopology/serviceTopology","util/svg/svgUrlParser","util/editorModel/editorModel","util/imageOrganizerUtils/imageOrganizerUtils","util/editorSessionUtil/editorSessionUtil","util/polyfills/polyfills","util/browser/browserUtil","util/automationUtil/automationUtil","util/mixins/singlePassDOMReadWriteMixin","util/layout/layoutUtils","util/newrelic/newrelic","util/fontLangsFallbacks/fontLangsFallbacks","util/background/backgroundPanelUtils","util/background/bgPanelBiEvents","util/layout/pinModeUtils","util/imageCrop/imageCrop","util/windowInteraction/windowInteractionUtils","util/utils/uiUtils","util/browser/performance","util/utils/integrations/qualaroo","util/utils/integrations/fullStory","util/ui/splitterAPI","util/fontsManager/fontsManagerUtils","util/designData/designDataUtils"],function(a,b,c,d,e,f,g,h,i,j,k,l,m,n,o,p,q,r,s,t,u,v,w,x,y,z,A,B,C,D,E,F,G,H,I,J,K,L,M,N,O,P,Q,R,S,T,U,V,W,X,Y,Z,$,_,aa,ba,ca,da,ea,fa,ga,ha){"use strict";return{validate:a,validationExpressions:b,link:c,url:d,UrlBuilder:e,setDeepPath:f.setDeepPath,getDeepPath:f.getDeepPath,guidUtils:g,stringUtils:h,functionUtils:i,cookie:j,animationFrameUtils:k,inheritClassName:l.inheritClassName,propTypesFilterMixin:n,translate:o,translationMixin:p,languages:D,postMessageMixin:q,draggableMixin:r,imageTransform:s,imageEffects:t,videoUtils:u,valueLinkMixin:v,selectionMixin:w,outerClickMixin:x,blockOuterScrollMixin:y,verticalScrollIntoView:z,imagesContainerMixin:A,componentUpdatesMixin:C,storageMixin:B,compIcon:E,keyboardShortcuts:G,math:H,normalizeNumber:I,colors:J,media:K,bi:L,serviceTopology:M,svgUrlParser:N,editorModel:O,polyfills:R,imageOrganizerUtils:P,editorSessionUtil:Q,browserUtil:S,automationUtil:T,singlePassDOMReadWriteMixin:U,layoutUtils:V,newrelic:W,fontLangsFallbacks:X,backgroundPanelUtils:Y,bgPanelBiEvents:Z,pinModeUtils:$,imageCrop:_,bindOwnMethodsDeep:m.bindOwnMethodsDeep,windowInteractionUtils:aa,uiUtils:ba,googleTranslate:F,performance:ca,qualaroo:da,fullStory:ea,splitterAPI:fa,designData:ha,fontsManagerUtils:ga}});