define("superAppMenuInfra/panels/firstTimeTour/slidesProvider",["lodash"],function(a){"use strict";var b={PROMOTIONAL:"promotional",MANUALLY_INSTALLED:"manuallyInstalled",TEMPLATE:"template"};function c(a,c){switch(c){case b.PROMOTIONAL:return a.firstTimeTour.promotionalFlow;case b.MANUALLY_INSTALLED:return a.firstTimeTour.manuallyInstalledFlow;case b.TEMPLATE:return a.firstTimeTour.templateFlow;default:return[]}}function d(a,b){var c;if(b===undefined){c=a[0]}else if(b.index===-1){c=undefined}else{c=a[b.index]}return c}function e(e,f,g,h){if(!a.includes(a.values(b),g)){throw new Error("illegal flowName "+g)}var i=e.getUserPreferences().site;var j=f.id+"/first_time_tour_last_seen_slide";var k=c(f,g);var l;if(h!==undefined){l=k[k.indexOf(h)+1]}else{var m=i.get(j);if(m&&m.flow!==g){m.index=0}l=d(k,m)}i.set(j,{flow:g,index:k.indexOf(l)});return l}return{FLOW_NAMES:b,getNextSlide:e}});define("superAppMenuInfra/utils/experiments",["experiment"],function(a){"use strict";function b(b){return{wixBookings:a.isOpen("wixBookingsButton"),blog:true,wixStore:a.isOpen("PromotionalWixStore")}[b]}function c(b){return{blog:true,wixStore:a.isOpen("WaitForClickWixStore"),shoutout:a.isOpen("WaitForClickShoutOut")}[b]}function d(){return a.isOpen("SuperAppLearnMorePanelView")}return{isPromotionalExperimentOn:b,isLearnMoreExperimentOn:d,isWaitForClickExperimentOn:c}});define("superAppMenuInfra/panels/firstTimeTour/superAppFirstTimeTourPanel.rt",["react","lodash","baseUI","baseUILib"],function(a,b,c,d){"use strict";return function(){return a.createElement("div",{className:"super-app-first-time-tour-panel"},a.createElement(d.customScroll,{heightRelativeToParent:"100%"},this.state.currentSlide!==undefined?a.createElement(this.state.currentSlide,{key:"currentSlide",onClose:this.props.onClose,superApp:this.props.superApp,nextSlide:this.nextSlide,isFirstSlide:this.state.isFirstSlide,appWasManuallyInstalled:this.props.appWasManuallyInstalled}):null))}});define("superAppMenuInfra/panels/firstTimeTour/superAppFirstTimeTourPanel",["lodash","react","core","superAppMenuInfra/panels/firstTimeTour/slidesProvider","superAppMenuInfra/utils/experiments","superAppMenuInfra/panels/firstTimeTour/superAppFirstTimeTourPanel.rt"],function(a,b,c,d,e,f){"use strict";return b.createClass({displayName:"superAppFirstTimeTourPanel",propTypes:{superApp:b.PropTypes.object.isRequired,onClose:b.PropTypes.func.isRequired,onTourEnd:b.PropTypes.func.isRequired,appWasManuallyInstalled:b.PropTypes.bool,flowType:b.PropTypes.string},mixins:[c.mixins.editorAPIMixin],_getFlowName:function(){var a=this._getUserFlowFromUserPreferences();if(a&&a.flow&&a.flow!==d.FLOW_NAMES.PROMOTIONAL){return a.flow}return this._calculatedFlow()},_getUserFlowFromUserPreferences:function(){var a=this.props.superApp.id+"/first_time_tour_last_seen_slide";return this.getEditorAPI().getUserPreferences().site.get(a)},_calculatedFlow:function(){var a;if(!this.props.superApp.isAppInstalled(this.getEditorAPI())&&e.isPromotionalExperimentOn(this.props.superApp.id)){a=d.FLOW_NAMES.PROMOTIONAL}else{a=this.props.appWasManuallyInstalled||this.getEditorAPI().wixStores.isSiteInWixStoreTestDrive()?d.FLOW_NAMES.MANUALLY_INSTALLED:d.FLOW_NAMES.TEMPLATE}return a},getInitialState:function(){var a=d.getNextSlide(this.getEditorAPI(),this.props.superApp,this._getFlowName());return{currentSlide:a,isFirstSlide:true}},componentDidMount:function(){if(this.state.currentSlide===undefined){this.props.onTourEnd()}},nextSlide:function(){var a=d.getNextSlide(this.getEditorAPI(),this.props.superApp,this._getFlowName(),this.state.currentSlide);this.setState({currentSlide:a,isFirstSlide:false});if(a===undefined){this.props.onTourEnd()}},render:f})});define("superAppMenuInfra/bi/superAppEvents",["core"],function(a){"use strict";var b={appButton:{MAIN_BUTTON_HOVER:{evid:"x",src:"x",endpoint:"editor",fields:{app_name:"string",app_id:"string",button_state:"string"}},MAIN_BUTTON_CLICK:{evid:"x",src:"x",endpoint:"editor",fields:{app_name:"string",app_id:"string",button_state:"string",is_first:"boolean"}},MENU_OPENED:{evid:"x",src:"x",endpoint:"editor",fields:{app_name:"string",app_id:"string",button_state:"string",app_state:"string",origin:"string",is_first:"boolean"}}},firstTimeTour:{template:{STEP_1_CONTINUE_CLICK:{evid:198,src:38,endpoint:"editor",fields:{app_id:"string",app_name:"string"}},STEP_1_CLOSE_CLICK:{evid:199,src:38,endpoint:"editor",fields:{app_id:"string",app_name:"string"}},STEP_2_WELCOME_CONTINUE_CLICK:{evid:200,src:38,endpoint:"editor",fields:{app_id:"string",app_name:"string"}},STEP_2_WELCOME_CLOSE_CLICK:{evid:201,src:38,endpoint:"editor",fields:{app_id:"string",app_name:"string"}},STEP_1_WELCOME_CONTINUE_CLICK:{evid:202,src:38,endpoint:"editor",fields:{app_id:"string",app_name:"string"}},STEP_1_WELCOME_CLOSE_CLICK:{evid:204,src:38,endpoint:"editor",fields:{app_id:"string",app_name:"string"}}},manuallyInstalled:{STEP_1_WELCOME_CONTINUE_CLICK:{evid:202,src:38,endpoint:"editor",fields:{app_id:"string",app_name:"string"}},STEP_1_WELCOME_CLOSE_CLICK:{evid:204,src:38,endpoint:"editor",fields:{app_id:"string",app_name:"string"}}},promotional:{INSTALL_AGREE_CLICK:{evid:193,src:38,endpoint:"editor",fields:{app_id:"string",app_name:"string"}},INSTALL_CLOSE_CLICK:{evid:194,src:38,endpoint:"editor",fields:{app_id:"string",app_name:"string"}},INSTALL_FOUND_OUT_MORE_CLICK:{evid:195,src:38,endpoint:"editor",fields:{app_id:"string",app_name:"string"}},STEP_2_WELCOME_CONTINUE_CLICK:{evid:196,src:38,endpoint:"editor",fields:{app_id:"string",app_name:"string"}},STEP_2_WELCOME_CLOSE_CLICK:{evid:197,src:38,endpoint:"editor",fields:{app_id:"string",app_name:"string"}}}},PANEL_SELECT:{evid:204,src:38,endpoint:"editor",fields:{panel:"string",app_id:"string",app_name:"string"}},MANAGE_PANEL_BUTTON_CLICK:{evid:205,src:38,endpoint:"editor",fields:{button_name:"string",app_id:"string",app_name:"string"}},UPGRADE_TOOLTIP_OPENED:{evid:206,src:38,endpoint:"editor",fields:{origin:"string",app_id:"string",app_name:"string"}},UPGRADE_CLICK:{evid:207,src:38,endpoint:"editor",fields:{origin:"string",app_id:"string",app_name:"string"}},LEARN_MORE_PANEL_CATEGORY_CLICK:{evid:209,src:38,endpoint:"editor",fields:{category:"string",app_id:"string",app_name:"string"}},HELP_ICON_CLICK:{evid:210,src:38,endpoint:"editor",fields:{panel:"string",app_id:"string",app_name:"string"}}};var c=function(){this.getEditorAPI().bi.register("components","event",b)};return{mixins:[a.mixins.editorAPIMixin],superAppEvents:b,registerEvents:c}});define("superAppMenuInfra/bi/superAppBi",["superAppMenuInfra/bi/superAppEvents"],function(a){"use strict";return{events:a.superAppEvents,registerEvents:a.registerEvents}});define("superAppMenuInfra/panels/superAppTooltipUpgrade.rt",["react","lodash","util","baseUI","symbols"],function(a,b,c,d,e){"use strict";function f(a){this.props.upgrade()}function g(){var g=this.getEditorAPI().wixStores.isSiteInWixStoreTestDrive();return a.createElement("div",{className:b({superAppTooltipUpgrade:true,"test-drive":g}).transform(function(a,b,c){if(b){a.push(c)}},[]).join(" ")},a.createElement("div",{className:"wix-store-upgrade-left"},!!this.props.title?a.createElement("h3",{className:"upgrade-title",key:"upgradeTitle"},c.translate(this.props.title)):null,!!this.props.text?a.createElement("p",{className:"upgrade-content",key:"upgradeContent"},c.translate(this.props.text)):null,a.createElement(d.button,{className:b({"upgrade-button":true,"migration-button":g}).transform(function(a,b,c){if(b){a.push(c)}},[]).join(" "),label:this.props.label,onClick:f.bind(this,g)})),a.createElement(e.symbol,{name:this.props.image}))}return function(){return g.apply(this,[])}});define("superAppMenuInfra/panels/superAppTooltipUpgrade",["react","lodash","core","superAppMenuInfra/panels/superAppTooltipUpgrade.rt"],function(a,b,c,d){"use strict";return a.createClass({displayName:"superAppTooltipUpgrade",mixins:[c.mixins.editorAPIMixin],propTypes:{title:a.PropTypes.string,text:a.PropTypes.string,label:a.PropTypes.string,image:a.PropTypes.string,upgrade:a.PropTypes.func},render:d})});define("superAppMenuInfra/panels/menuPanels/superAppManagePanel.rt",["react","lodash","baseUI"],function(a,b,c){"use strict";return function(){return a.createElement("div",{className:"super-app-manage-panel"},a.createElement(this.props.superApp.panel.manage.template,{}))}});define("superAppMenuInfra/panels/menuPanels/superAppManagePanel",["lodash","react","superAppMenuInfra/panels/menuPanels/superAppManagePanel.rt"],function(a,b,c){"use strict";return b.createClass({displayName:"superAppManagePanel",propTypes:{superApp:b.PropTypes.object.isRequired},render:c})});define("superAppMenuInfra/panels/menuPanels/superAppPagesPanel.rt",["react","lodash"],function(a,b){"use strict";return function(){return a.createElement("div",{className:"site-app-pages-panel"},a.createElement(this.props.superApp.panel.pages.template,{}))}});define("superAppMenuInfra/panels/menuPanels/superAppPagesPanel",["lodash","react","core","superAppMenuInfra/panels/menuPanels/superAppPagesPanel.rt"],function(a,b,c,d){"use strict";return b.createClass({displayName:"superAppPagesPanel",render:d})});define("superAppMenuInfra/panels/menuPanels/superAppAddElementsPanel.rt",["react","lodash","util","addPanelInfra","baseUI","core","symbols"],function(a,b,c,d,e,f,g){"use strict";function h(){var e=this.props.superApp.panel.addElements;var f=this.isMobile();return a.createElement("div",{className:"super-app-add-elements-panel category-view-wrapper"},!f?a.createElement(d.categoryView,b.assign({},{key:"categoryView",teaser:this.getTeaser(),origin:"vertical_button",items:this.getSections()},this.getCategoryViewProps())):null,f?a.createElement("div",{className:"super-app-mobile-view",key:"mobileView"},a.createElement(g.symbol,{name:this.props.superApp.panel.addElements.mobileImage}),a.createElement("p",{className:"bigger-text"},c.translate(e.disabledInMobileMessageTitle)),a.createElement("p",{},"\n            ",c.translate(e.disabledInMobileMessageDescription)," ",a.createElement("a",{onClick:this.goToDesktop},c.translate(e.disabledInMobileMessageDescriptionLink)))):null)}return function(){return h.apply(this,[])}});define("superAppMenuInfra/panels/menuPanels/superAppAddElementsPanel",["lodash","react","core","addPanelData","addPanelInfra","superAppMenuInfra/panels/menuPanels/superAppAddElementsPanel.rt"],function(a,b,c,d,e,f){"use strict";return b.createClass({displayName:"superAppAddElementsPanel",mixins:[c.mixins.editorAPIMixin,e.dragToStageMixin],getInitialState:function(){return{firstTimeInfoBoxHeight:0}},propTypes:{superApp:b.PropTypes.object.isRequired},isMobile:function(){return this.getEditorAPI().viewMode.get()===this.getEditorAPI().viewMode.VIEW_MODES.MOBILE},needToNotifyInnerNavigationToCalculateSections:function(a){this.setState({firstTimeInfoBoxHeight:a})},getSections:function(){var b=this.props.superApp.panel.addElements.sections;if(a.isFunction(b)){b=b(this.getEditorAPI())}if(a.isUndefined(b)){b=d.getCategory(this.getEditorAPI(),this.props.superApp.panel.addElements.categoryId).items}return b},getTeaser:function(){var b=this.props.superApp.panel.addElements.teaser;if(a.isFunction(b)){b=b(this.getEditorAPI())}return b},getCategoryViewProps:function(){return a.assign({},this.props,{changeStateOnInnerNavigationOpen:this.changeStateOnInnerNavigationOpen,firstTimeInfoBoxHeight:this.state.firstTimeInfoBoxHeight,onItemDrag:this.startItemDrag})},changeStateOnInnerNavigationOpen:function(a){this.props.onChangeStateOnInnerNavigationOpen(a)},goToDesktop:function(){this.getEditorAPI().setDesktopEditor()},render:f})});define("superAppMenuInfra/panels/menuPanels/superAppLearnMorePanel.rt",["react","lodash","util","panels","symbols","baseUI","baseUILib"],function(a,b,c,d,e,f,g){"use strict";function h(){this.openPanel("helpCenterPopUp","viewA");this.reportBiEvent("HelpCenter")}function i(){this.reportBiEvent("Forums")}function j(){this.reportBiEvent("FromTheWixBlog")}function k(a,b,c,d){this.openPanel(c.link)}function l(b,c,d,f){return a.createElement("div",{className:"content-wrapper",onClick:k.bind(this,b,c,d,f)},a.createElement("img",{src:d.image,alt:true}),a.createElement("div",{className:"description"},d.description),a.createElement("span",{className:"arrow-wrapper"},a.createElement(e.symbol,{name:"actionArrowRight",className:"actionArrowRight"})))}function m(d,e){return a.createElement.apply(this,["div",{className:"section-container"},a.createElement("div",{className:"section-top"},a.createElement("h4",{className:"title"},c.translate(d.title)),a.createElement("a",{className:"see-all-link",href:d.link},"See All")),b.map(d.data,l.bind(this,d,e))])}return function(){return a.createElement("div",{className:"site-app-learn-more"},a.createElement(g.customScroll,{heightRelativeToParent:"100%"},!this.isLearnMoreExperimentOpen()?a.createElement("div",{className:"first-view",key:"firstView"},a.createElement("div",{className:"image-container",onClick:h.bind(this)},a.createElement("div",{className:"active-layer"}),a.createElement("img",{src:this.props.superApp.panel.learnMore.data.viewA.helpCenterPopUp.image,alt:"WixStores Help Center"}),a.createElement("div",{className:"link-container"},a.createElement("p",{},c.translate(this.props.superApp.panel.learnMore.section1HeaderViewA)),a.createElement(e.symbol,{name:"arrowWithStates"}))),a.createElement("a",{className:"image-container",onClick:i.bind(this),target:"_blank",href:this.props.superApp.panel.learnMore.data.viewA.supportForumsPopUp.link},a.createElement("div",{className:"active-layer"}),a.createElement("img",{src:this.props.superApp.panel.learnMore.data.viewA.supportForumsPopUp.image,alt:"WixStores Support Forum"}),a.createElement("div",{className:"link-container"},a.createElement("p",{},c.translate(this.props.superApp.panel.learnMore.section2HeaderViewA)),a.createElement(e.symbol,{name:"arrowWithStates"}))),a.createElement("a",{className:"image-container",onClick:j.bind(this),target:"_blank",href:this.props.superApp.panel.learnMore.data.viewA.wixTipsBlog.link},a.createElement("div",{className:"active-layer"}),a.createElement("img",{src:this.props.superApp.panel.learnMore.data.viewA.wixTipsBlog.image,alt:"Tips from the Wix Blog"}),a.createElement("div",{className:"link-container"},a.createElement("p",{},c.translate(this.props.superApp.panel.learnMore.section3HeaderViewA)),a.createElement(e.symbol,{name:"arrowWithStates"})))):null,this.isLearnMoreExperimentOpen()?a.createElement.apply(this,["div",{className:"second-view",key:"secondView"},b.map(this.getLearnMoreDataForViewB(),m.bind(this))]):null))}});define("superAppMenuInfra/panels/menuPanels/superAppLearnMorePanel",["react","core","panels","superAppMenuInfra/bi/superAppBi","superAppMenuInfra/utils/experiments","superAppMenuInfra/panels/menuPanels/superAppLearnMorePanel.rt"],function(a,b,c,d,e,f){"use strict";return a.createClass({displayName:"superAppLearnMorePanel",mixins:[b.mixins.editorAPIMixin],getUrl:function(a,b){return b==="viewA"?this.props.superApp.panel.learnMore.data[b][a].link:a},openPanel:function(a,d){var e={panel_name:a,origin:b.constants.BI.HELP.ORIGIN.LEFTBAR,component:this.props.superApp.appName,learn_more:true};c.panelManager.openHelpCenter(this.getUrl(a,d),null,e)},reportBiEvent:function(a){var b=this.props.superApp;var c={category:a,app_id:b.appDefId,app_name:b.appName};this.getEditorAPI().bi.event(d.events.LEARN_MORE_PANEL_CATEGORY_CLICK,c)},getLearnMoreDataForViewB:function(){return this.props.superApp.panel.learnMore.data.viewB},isLearnMoreExperimentOpen:function(){return e.isLearnMoreExperimentOn()},render:f})});define("superAppMenuInfra/panels/superAppMenuPanel.rt",["react","lodash","util","baseUI","symbols"],function(a,b,c,d,e){"use strict";function f(a,b,c){this.selectTab(b)}function g(b,d,e){return a.createElement("li",{onClick:f.bind(this,b,d,e),className:"tab",style:{height:"100px"}},a.createElement("span",{className:"tabNameWrapper "+(b===d?"isSelected":"")},a.createElement("span",{className:"tabName"},c.translate(d.title))))}function h(){var f=this.getSelectedTab();return a.createElement("div",{className:"super-app-menu-panel left-panel-frame-content "+(f.isDynamicHeight?"dynamic-height":""),onWheel:this.blockOuterScroll},a.createElement("div",{className:"tabs"},a.createElement.apply(this,["ul",{},b.map(this.getTabs(),g.bind(this,f))]),this.showPremiumLink()?a.createElement("div",{key:"premium"},a.createElement("div",{className:"separator"}),a.createElement("div",{className:"premium"},a.createElement(d.tooltip,{value:this.getTooltipValue(),alignment:d.uiConstants.TOOLTIP.ALIGNMENT.BOTTOM,styleType:d.uiConstants.TOOLTIP.STYLE_TYPE.NORMAL,interactive:true,width:"432px",id:"superAppUpgradePopoverId"},a.createElement("p",{},c.translate(this.props.superApp.upgradeLinkText))))):null),a.createElement("div",{className:b({content:true,"inner-navigation-open":this.state.isInnerNavigationOpened}).transform(function(a,b,c){if(b){a.push(c)}},[]).join(" ")},a.createElement("div",{className:"header"},a.createElement("label",{className:"title"},c.translate(f.title)),a.createElement("div",{className:"actions"},f.helpId?a.createElement("div",{key:"helpButton",className:"button help",onClick:this.onHelpButtonClick},"\n                   ?\n                "):null,a.createElement("div",{className:"button close",onClick:this.props.onClose},a.createElement(e.symbol,{name:"headerCloseButton"})))),a.createElement("div",{className:"selected-content-wrapper "+(f.isDynamicHeight?"dynamic-height":"")},a.createElement(f.content,{superApp:this.props.superApp,onChangeStateOnInnerNavigationOpen:this.onChangeStateOnInnerNavigationOpen}))))}return function(){return h.apply(this,[])}});define("superAppMenuInfra/panels/superAppMenuPanel",["lodash","react","core","baseUI","util","panels","superAppMenuInfra/bi/superAppBi","addPanelData","superAppMenuInfra/panels/superAppTooltipUpgrade","superAppMenuInfra/panels/menuPanels/superAppManagePanel","superAppMenuInfra/panels/menuPanels/superAppPagesPanel","superAppMenuInfra/panels/menuPanels/superAppAddElementsPanel","superAppMenuInfra/panels/menuPanels/superAppLearnMorePanel","superAppMenuInfra/panels/superAppMenuPanel.rt"],function(a,b,c,d,e,f,g,h,i,j,k,l,m,n){"use strict";return b.createClass({displayName:"SuperAppMenuPanel",mixins:[c.mixins.editorAPIMixin,e.blockOuterScrollMixin],propTypes:{superApp:b.PropTypes.object.isRequired,onClose:b.PropTypes.func.isRequired,selectedTabName:b.PropTypes.string},getInitialState:function(){var b=this.getTabs();var c=a.findWhere(b,{name:this.props.selectedTabName})||b[0];return{selectedTab:c}},getTabs:function(){var a=this.props.superApp;var b=[{name:"Manage",isDynamicHeight:false,title:a.panel.manage.title,helpId:a.panel.manage.helpId,content:j},{name:"Pages",isDynamicHeight:true,title:a.panel.pages.title,helpId:a.panel.pages.helpId,content:k},{name:"Add",isDynamicHeight:true,title:a.panel.addElements.title,helpId:a.panel.addElements.helpId,content:l},{name:"LearnMore",isDynamicHeight:false,title:a.panel.learnMore.title,content:m}];if(a.extraTabs){a.extraTabs.forEach(function(a){b.splice(a.index,0,{name:"Manage",isDynamicHeight:a.isDynamicHeight,title:a.title,helpId:a.helpId,content:a.template})})}this.tabs=this.tabs||b;return this.tabs},showPremiumLink:function(){var a=this.props.superApp;return a.hasPremiumPlan&&(this.getEditorAPI().wixStores.isSiteInWixStoreTestDrive()||!a.isPremium(this.getEditorAPI()))},selectTab:function(a){var b=this.props.superApp;var c={panel:a.name,app_id:b.appDefId,app_name:b.appName};this.getEditorAPI().bi.event(g.events.PANEL_SELECT,c);this.setState({selectedTab:a,isInnerNavigationOpened:false})},getSelectedTab:function(){return this.state.selectedTab},openAppPremiumPackagePicker:function(){var a=this.props.superApp;var b={origin:"TooltipUpgradeLink",app_id:a.appDefId,app_name:a.appName};this.getEditorAPI().bi.event(g.events.UPGRADE_CLICK,b);a.openAppPremiumPackagePicker(this.getEditorAPI());d.tooltipManager.hide("superAppUpgradePopoverId",true)},openMigrationPopup:function(){this.props.superApp.openSwitchSitesPopup(this.getEditorAPI());this.getEditorAPI().bi.event(c.bi.events.wixstores.WIXSTORES_MIGRATION_UPGRADE_CLICKED,{origin:"upgrade_popup"});d.tooltipManager.hide("superAppUpgradePopoverId",true)},getStyle:function(){return{width:h.addPanelDataConsts.CATEGORY_VIEW.TOTAL_WIDTH}},onHelpButtonClick:function(){var a=this.props.superApp;var b={panel:this.state.selectedTab.name,app_id:a.appDefId,app_name:a.appName};this.getEditorAPI().bi.event(g.events.HELP_ICON_CLICK,b);var d={panel_name:this.state.selectedTab.name,origin:c.constants.BI.HELP.ORIGIN.LEFTBAR,component:a.appName,learn_more:false};f.panelManager.openHelpCenter(this.getSelectedTab().helpId,null,d)},getTooltipValue:function(){if(this.getEditorAPI().wixStores.isSiteInWixStoreTestDrive()){return b.createElement(i,{title:"SiteApp_WixStores_Migration_UpgradeTooltip_Title",text:"SiteApp_WixStores_Migration_UpgradeTooltip_Paragraph1",label:"SiteApp_WixStores_Migration_UpgradeTooltip_Button_Label",image:"onlineStoreSpecialBtnPromotional",upgrade:this.openMigrationPopup})}return b.createElement(i,{title:"SiteApp_WixStores_UpgradeTooltip_Title",text:"SiteApp_WixStores_UpgradeTooltip_Paragraph1",label:"SiteApp_WixStores_UpgradeTooltip_Button_Label",image:"menubarUpgradePromotionDark",upgrade:this.openAppPremiumPackagePicker})},onChangeStateOnInnerNavigationOpen:function(a){this.setState({isInnerNavigationOpened:a})},render:n})});define("superAppMenuInfra/panels/superAppPanel.rt",["react","lodash","panels","superAppMenuInfra/panels/firstTimeTour/superAppFirstTimeTourPanel","superAppMenuInfra/panels/superAppMenuPanel"],function(a,b,c,d,e){"use strict";return function(){return a.createElement(c.frames.leftPanelFrame,{ref:"superAppPanel",styleOverride:{overflow:"visible"},panelName:this.props.superApp.panel.name,panelClass:"super-app-panel "+this.props.panelClass,panelIndex:this.props.panelIndex},this.isInFirstTimeTour()?a.createElement(d,{key:"firstTimeTour",superApp:this.props.superApp,appWasManuallyInstalled:this.props.appWasManuallyInstalled,onTourEnd:this.finishFirstTimeTour,onClose:this.closePanel}):null,!this.isInFirstTimeTour()?a.createElement(e,{key:"AppMenu",superApp:this.props.superApp,selectedTabName:this.props.selectedTabName,onClose:this.closePanel}):null)}});define("superAppMenuInfra/panels/superAppPanel",["lodash","react","core","superAppMenuInfra/panels/superAppPanel.rt"],function(a,b,c,d){"use strict";return b.createClass({displayName:"SuperAppPanel",propTypes:{superApp:b.PropTypes.object.isRequired,appWasManuallyInstalled:b.PropTypes.bool,selectedTabName:b.PropTypes.string},mixins:[c.mixins.editorAPIMixin],getInitialState:function(){var a=this.props.superApp.id+"/in_first_time_tour";var b=this.getEditorAPI().getUserPreferences().site.get(a);return{inFirstTimeTour:b?b!=="false":true}},isInFirstTimeTour:function(){return this.state.inFirstTimeTour},finishFirstTimeTour:function(){var a=this.props.superApp.id+"/in_first_time_tour";this.getEditorAPI().getUserPreferences().site.set(a,"false");this.setState({inFirstTimeTour:false})},closePanel:function(){this.refs.superAppPanel.close()},render:d})});define("superAppMenuInfra/utils/button",["lodash","core","panels","superAppMenuInfra/utils/experiments"],function(a,b,c,d){"use strict";function e(a,b,c,e,g,h,i,j,k){a.registerInitUserPrefsCallback(function l(){var m;var n=a.getUserPreferences().site.get(f(e));if(c){m=g;k=true}else if(d.isPromotionalExperimentOn(b)&&!n){m=h}if(m!==undefined){k=k||false;var o=d.isWaitForClickExperimentOn(b)&&c;a.leftBar.superApps.addButton(e,{},m,i,j,false,o,k)}})}function f(a){return a+"/calledUnRegisterButton"}function g(a,b){a.leftBar.superApps.removeButton(b);a.getUserPreferences().site.set(f(b),true)}function h(b,d,e,f,g,h){i.registerButton(b,d,true,e,f,null,g,h,true);if(a.find(c.panelManager.getOpenPanels(),{name:e})===undefined){c.panelManager.openPanel(e,{appWasManuallyInstalled:true})}}var i={registerButton:e,unRegisterButton:g,onAppInstalled:h};return i});define("superAppMenuInfra/panels/firstTimeTour/slides/getStartedSlide.rt",["react","lodash","util","baseUI","symbols"],function(a,b,c,d,e){"use strict";function f(b,d){return a.createElement("li",{className:"bullet"},a.createElement("span",{className:"bullet-symbol"},a.createElement(e.symbol,{name:"cyclePickerV",className:"cyclePickerV"})),a.createElement("p",{className:"bullet-text"},c.translate(b)))}function g(a){this.openAppPremiumPackagePicker(a)}return function(){return a.createElement("div",{className:"get-started-slide"},a.createElement("div",{className:"button",onClick:this.onClose},a.createElement(e.symbol,{name:"headerCloseButton"})),a.createElement(e.symbol,{className:"main-image",name:this.props.mainImage}),a.createElement("h1",{className:"title"},c.translate(this.props.title)),a.createElement("p",{className:"sub-title"},c.translate(this.props.subTitle)),a.createElement("div",{className:"bullets-wrapper"},a.createElement.apply(this,["ul",{className:"tip-bullets"},b.map(this.props.pros,f.bind(this))])),this.props.teaser?a.createElement("p",{key:"teaser",className:"teaser"},c.translate(this.props.teaser)):null,a.createElement(d.button,{label:this.props.nextButtonLabel,onClick:this.onNextButtonClick,className:"get-started-add-btn"}),this.props.footer?a.createElement("footer",{key:"footer"},a.createElement("p",{},c.translate(this.props.footer),"\n            ",a.createElement("a",{href:true,onClick:g.bind(this)},c.translate(this.props.upgradeLink)))):null)}});define("superAppMenuInfra/panels/firstTimeTour/slides/getStartedSlide",["react","core","superAppMenuInfra/bi/superAppBi","superAppMenuInfra/panels/firstTimeTour/slides/getStartedSlide.rt"],function(a,b,c,d){"use strict";return a.createClass({displayName:"GetStartedSlide",mixins:[b.mixins.editorAPIMixin],propTypes:{onClose:a.PropTypes.func.isRequired,nextSlide:a.PropTypes.func.isRequired,superApp:a.PropTypes.object.isRequired,title:a.PropTypes.string.isRequired,subTitle:a.PropTypes.string.isRequired,pros:a.PropTypes.arrayOf(a.PropTypes.string).isRequired,teaser:a.PropTypes.string,nextButtonLabel:a.PropTypes.string.isRequired,mainImage:a.PropTypes.string.isRequired,footer:a.PropTypes.string,upgradeLink:a.PropTypes.string,upgrade:a.PropTypes.func},onClose:function(){var a=this.props.superApp;var b={app_id:a.appDefId,app_name:a.appName};var d=this.props.appWasManuallyInstalled?"manuallyInstalled":"template";var e=c.events.firstTimeTour[d].STEP_1_WELCOME_CLOSE_CLICK;if(e){this.getEditorAPI().bi.event(e,b)}this.props.onClose()},onNextButtonClick:function(){var a=this.props.superApp;var b={app_id:a.appDefId,app_name:a.appName};var d=this.props.appWasManuallyInstalled?"manuallyInstalled":"template";var e=c.events.firstTimeTour[d].STEP_1_WELCOME_CONTINUE_CLICK;if(e){this.getEditorAPI().bi.event(e,b)}this.props.nextSlide()},openAppPremiumPackagePicker:function(a){a.preventDefault();var b=this.props.superApp;var d={origin:"TooltipUpgradeLink",app_id:b.appDefId,app_name:b.appName};this.getEditorAPI().bi.event(c.events.UPGRADE_CLICK,d);b.openAppPremiumPackagePicker(this.getEditorAPI())},render:d})});define("superAppMenuInfra/panels/firstTimeTour/slides/innerImageGallery/innerImageGallery.rt",["react","lodash"],function(a,b){"use strict";function c(b,c){return a.createElement("li",{className:"slide "+this._getAlignment(c)},a.createElement("img",{src:b,alt:true}))}function d(a,b,c){this.slideToIndex(b,c)}function e(b,c){return a.createElement("li",{className:"bullet "+(this.state.currentIndex===c?"active":""),onClick:d.bind(this,b,c)})}return function(){return a.createElement("div",{className:"inner-image-gallery"},a.createElement("div",{className:"gallery-viewport"},a.createElement.apply(this,["ul",{className:"gallery-images"},b.map(this.props.items,c.bind(this))])),this.props.showBullets?a.createElement("nav",{className:"gallery-navigation-wrapper",key:"bullets"},a.createElement.apply(this,["ul",{className:"navigation-bullets"},b.map(this.props.items,e.bind(this))])):null)}});define("superAppMenuInfra/panels/firstTimeTour/slides/innerImageGallery/innerImageGallery",["lodash","react","superAppMenuInfra/panels/firstTimeTour/slides/innerImageGallery/innerImageGallery.rt"],function(a,b,c){"use strict";return b.createClass({displayName:"innerImageGallery",propTypes:{items:b.PropTypes.array.isRequired,showBullets:b.PropTypes.bool,autoPlay:b.PropTypes.bool,slideInterval:b.PropTypes.number},getDefaultProps:function(){return{showBullets:false,autoPlay:false,slideInterval:4e3}},getInitialState:function(){return{currentIndex:0,containerWidth:0}},componentDidMount:function(){if(this.props.autoPlay){this.play()}},componentWillUnmount:function(){this.pause()},slideToIndex:function(a,b){var c=this.props.items.length-1;if(a<0){this.setState({currentIndex:c})}else if(a>c){this.setState({currentIndex:0})}else{this.setState({currentIndex:a})}if(b){if(this._intervalId){this.pause();this.play()}b.preventDefault()}},play:function(){if(this._intervalId){return}this._intervalId=window.setInterval(function(){this.slideToIndex(this.state.currentIndex+1)}.bind(this),this.props.slideInterval)},pause:function(){if(this._intervalId){window.clearInterval(this._intervalId);this._intervalId=null}},_getAlignment:function(a){var b=this.state.currentIndex;var c="";switch(a){case b-1:c="left";break;case b:c="center";if(this.props.items.length<=3){c+=" relative"}break;case b+1:c="right";break}if(this.props.items.length>=3){if(a===0&&b===this.props.items.length-1){c="right"}else if(a===this.props.items.length-1&&b===0){c="left"}}return c},render:c})});define("superAppMenuInfra/panels/firstTimeTour/slides/installAppSlide.rt",["react","lodash","util","baseUI","symbols","superAppMenuInfra/panels/firstTimeTour/slides/innerImageGallery/innerImageGallery"],function(a,b,c,d,e,f){"use strict";function g(b,d){return a.createElement("li",{className:"bullet"},a.createElement("span",{className:"bullet-symbol"},a.createElement(e.symbol,{name:"cyclePickerV",className:"cyclePickerV"})),a.createElement("p",{className:"bullet-text"},c.translate(b)))}function h(a){a.preventDefault();this.openAppMarket()}function i(a){a.preventDefault();this.openAppPremiumPackagePicker}return function(){return a.createElement("div",{className:"first-time-install-app "+this.props.wixStoreClassName},!this.props.wixStoreClassName?a.createElement("div",{className:"close white",onClick:this.onClose,key:"wixStoreClassName"},a.createElement(e.symbol,{name:"headerCloseButton",className:"headerCloseButton"})):null,!this.state.isInstalling?a.createElement("div",{key:"isInstalling",className:"pre-install-section"},a.createElement(f,b.assign({},{items:this.props.sliderImages},{autoPlay:true,showBullets:true})),a.createElement("h1",{className:"title"},c.translate(this.props.title)," "),a.createElement("p",{className:"sub-title"},c.translate(this.props.subTitle)),a.createElement("div",{},a.createElement.apply(this,["ul",{className:"tip-bullets"},b.map(this.props.pros,g.bind(this))])),this.props.teaser?a.createElement("p",{className:"helper-text",key:"helpText"},c.translate(this.props.teaser)):null,a.createElement(d.button,{label:this.props.nextButtonLabel,onClick:this.installApp,disabled:this.state.isInstalling,icon:"plus",className:"promotional-add-btn"}),a.createElement("a",{href:"#",onClick:h.bind(this),className:"promotional-link"},"\n            ",c.translate(this.props.openAppMarketLabel),"\n        "),this.props.footer?a.createElement("footer",{key:"footer"},a.createElement("p",{},c.translate(this.props.footer)),a.createElement("a",{href:true,onClick:i.bind(this)},c.translate(this.props.upgradeLink))):null):null,this.state.isInstalling&&!this.props.wixStoreClassName?a.createElement("div",{className:"install-section",key:"installSection"},a.createElement(e.symbol,{className:"installed-image",name:this.props.installImage}),a.createElement("p",{},c.translate(this.props.loadingLabel)),a.createElement("div",{className:"install-preloader"},a.createElement(d.preloader,{}))):null);
}});define("superAppMenuInfra/panels/firstTimeTour/slides/installAppSlide",["lodash","react","core","superAppMenuInfra/bi/superAppBi","superAppMenuInfra/utils/button","superAppMenuInfra/panels/firstTimeTour/slides/installAppSlide.rt"],function(a,b,c,d,e,f){"use strict";var g=2e3;return b.createClass({displayName:"InstallAppSlide",propTypes:{onClose:b.PropTypes.func.isRequired,nextSlide:b.PropTypes.func.isRequired,installApp:b.PropTypes.func.isRequired,superAppPanelName:b.PropTypes.string.isRequired,superAppButtonLabel:b.PropTypes.string.isRequired,superAppPanelClassName:b.PropTypes.string.isRequired,superAppSymbolName:b.PropTypes.string.isRequired,title:b.PropTypes.string.isRequired,subTitle:b.PropTypes.string.isRequired,pros:b.PropTypes.arrayOf(b.PropTypes.string).isRequired,teaser:b.PropTypes.string,footer:b.PropTypes.string,upgradeLink:b.PropTypes.string,nextButtonLabel:b.PropTypes.string.isRequired,openAppMarketLabel:b.PropTypes.string.isRequired,openAppMarket:b.PropTypes.func.isRequired,loadingLabel:b.PropTypes.string.isRequired,sliderImages:b.PropTypes.array.isRequired,installImage:b.PropTypes.string.isRequired},mixins:[c.mixins.editorAPIMixin],getInitialState:function(){return{isInstalling:false,installationDone:false,minimumInstallationDurationPassed:false}},installApp:function(){var a=this.props.superApp;var b={app_id:a.appDefId,app_name:a.appName,origin:this.props.origin};this.getEditorAPI().bi.event(d.events.firstTimeTour.promotional.INSTALL_AGREE_CLICK,b);this.setState({isInstalling:true});this.props.installApp(this._appInstalled);if(this.props.superAppPanelName!=="wixStore"){setTimeout(this._minimumInstallationDurationPassed,g)}},_appInstalled:function(){this._installationStepCompleted("installationDone");e.onAppInstalled(this.getEditorAPI(),this.props.superApp.id,this.props.superAppPanelName,this.props.superAppButtonLabel,this.props.superAppPanelClassName,this.props.superAppSymbolName)},_minimumInstallationDurationPassed:function(){this._installationStepCompleted("minimumInstallationDurationPassed")},_installationStepCompleted:function(a){var b={};b[a]=true;this.setState(b);if(this.state.installationDone&&this.state.minimumInstallationDurationPassed){this.props.nextSlide()}},openAppMarket:function(){var a=this.props.superApp;if(a&&a.appDefId&&a.appName){var b={app_id:a.appDefId,app_name:a.appName};this.getEditorAPI().bi.event(d.events.firstTimeTour.promotional.INSTALL_FOUND_OUT_MORE_CLICK,b)}this.props.openAppMarket()},onClose:function(){var a=this.props.superApp;var b={app_id:a.appDefId,app_name:a.appName};this.getEditorAPI().bi.event(d.events.firstTimeTour.promotional.INSTALL_CLOSE_CLICK,b);this.props.onClose()},openAppPremiumPackagePicker:function(){var a=this.props.superApp;var b={origin:"TooltipUpgradeLink",app_id:a.appDefId,app_name:a.appName};this.getEditorAPI().bi.event(d.events.UPGRADE_CLICK,b);a.openAppPremiumPackagePicker(this.getEditorAPI())},render:f})});define("superAppMenuInfra/panels/firstTimeTour/slides/welcomeSlide.rt",["react","lodash","util","baseUI","symbols"],function(a,b,c,d,e){"use strict";return function(){return a.createElement("div",{className:"welcome-slide"},a.createElement("div",{className:"close",onClick:this.onClose},a.createElement(e.symbol,{name:"headerCloseButton",className:"headerCloseButton"})),a.createElement(e.symbol,{className:"installed-image",name:this.props.installedImage}),a.createElement("h1",{className:"title"},c.translate(this.props.title)),a.createElement("p",{className:"sub-title"},c.translate(this.props.details)),this.props.teaser?a.createElement("p",{key:"teaser"},c.translate(this.props.teaser)):null,a.createElement(d.button,{label:this.props.nextButtonLabel,onClick:this.onNextClick,className:"welcome-add-btn"}))}});define("superAppMenuInfra/panels/firstTimeTour/slides/welcomeSlide",["lodash","react","core","superAppMenuInfra/bi/superAppBi","superAppMenuInfra/panels/firstTimeTour/slides/welcomeSlide.rt"],function(a,b,c,d,e){"use strict";return b.createClass({displayName:"WelcomeSlide",mixins:[c.mixins.editorAPIMixin],propTypes:{onClose:b.PropTypes.func.isRequired,nextSlide:b.PropTypes.func.isRequired,title:b.PropTypes.string.isRequired,type:b.PropTypes.string.isRequired,details:b.PropTypes.string.isRequired,nextButtonLabel:b.PropTypes.string.isRequired,teaser:b.PropTypes.string,installedImage:b.PropTypes.string.isRequired},onNextClick:function(){var a=this.props.superApp;var b={app_id:a.appDefId,app_name:a.appName};this.getEditorAPI().bi.event(d.events.firstTimeTour[this.props.type].STEP_2_WELCOME_CONTINUE_CLICK,b);this.props.nextSlide()},onClose:function(){var a=this.props.superApp;var b={app_id:a.appDefId,app_name:a.appName};this.getEditorAPI().bi.event(d.events.firstTimeTour[this.props.type].STEP_2_WELCOME_CLOSE_CLICK,b);this.props.onClose()},render:e})});define("superAppMenuInfra/panels/firstTimeTour/slides/welcomeSlideWithNavigation.rt",["react","lodash","superAppMenuInfra/panels/firstTimeTour/slides/welcomeSlide"],function(a,b,c){"use strict";return function(){return a.createElement(c,b.assign({},{type:"template"},this.filteredProps()))}});define("superAppMenuInfra/panels/firstTimeTour/slides/welcomeSlideWithNavigation",["lodash","react","core","util","superAppMenuInfra/panels/firstTimeTour/slides/welcomeSlideWithNavigation.rt"],function(a,b,c,d,e){"use strict";return b.createClass({displayName:"WelcomeSlideWithNavigation",mixins:[c.mixins.editorAPIMixin,d.propTypesFilterMixin],propTypes:{superAppMainPageId:b.PropTypes.string.isRequired,isFirstSlide:b.PropTypes.bool.isRequired},componentDidMount:function(){if(this.props.isFirstSlide||this.getEditorAPI().pages.getFocusedPageId()!==this.props.superAppMainPageId){this._navigateToAppMainPage()}},_navigateToAppMainPage:function(){return this.getEditorAPI().pages.navigateTo(this.props.superAppMainPageId)},render:e})});define("superAppMenuInfra",["superAppMenuInfra/panels/superAppPanel","superAppMenuInfra/utils/button","superAppMenuInfra/panels/firstTimeTour/slides/getStartedSlide","superAppMenuInfra/panels/firstTimeTour/slides/installAppSlide","superAppMenuInfra/panels/firstTimeTour/slides/welcomeSlide","superAppMenuInfra/panels/firstTimeTour/slides/welcomeSlideWithNavigation"],function(a,b,c,d,e,f){"use strict";return{superAppPanel:a,firstTimeTourPanels:{getStartedSlide:c,installAppSlide:d,welcomeSlide:e,welcomeSlideWithNavigation:f},button:b}});