!function(){function t(t,e){if(!(t instanceof e))throw new TypeError("Cannot call a class as a function")}var e,n,r;!function(t){function i(t,e){return C.call(t,e)}function o(t,e){var n,r,i,o,u,a,c,l,s,f,d,h,m=e&&e.split("/"),p=y.map,g=p&&p["*"]||{};if(t){for(t=t.split("/"),u=t.length-1,y.nodeIdCompat&&x.test(t[u])&&(t[u]=t[u].replace(x,"")),"."===t[0].charAt(0)&&m&&(h=m.slice(0,m.length-1),t=h.concat(t)),s=0;s<t.length;s++)if(d=t[s],"."===d)t.splice(s,1),s-=1;else if(".."===d){if(0===s||1===s&&".."===t[2]||".."===t[s-1])continue;s>0&&(t.splice(s-1,2),s-=2)}t=t.join("/")}if((m||g)&&p){for(n=t.split("/"),s=n.length;s>0;s-=1){if(r=n.slice(0,s).join("/"),m)for(f=m.length;f>0;f-=1)if(i=p[m.slice(0,f).join("/")],i&&(i=i[r])){o=i,a=s;break}if(o)break;!c&&g&&g[r]&&(c=g[r],l=s)}!o&&c&&(o=c,a=l),o&&(n.splice(0,a,o),t=n.join("/"))}return t}function u(e,n){return function(){var r=T.call(arguments,0);return"string"!=typeof r[0]&&1===r.length&&r.push(null),m.apply(t,r.concat([e,n]))}}function a(t){return function(e){return o(e,t)}}function c(t){return function(e){v[t]=e}}function l(e){if(i(_,e)){var n=_[e];delete _[e],E[e]=!0,h.apply(t,n)}if(!i(v,e)&&!i(E,e))throw new Error("No "+e);return v[e]}function s(t){var e,n=t?t.indexOf("!"):-1;return n>-1&&(e=t.substring(0,n),t=t.substring(n+1,t.length)),[e,t]}function f(t){return t?s(t):[]}function d(t){return function(){return y&&y.config&&y.config[t]||{}}}var h,m,p,g,v={},_={},y={},E={},C=Object.prototype.hasOwnProperty,T=[].slice,x=/\.js$/;p=function(t,e){var n,r=s(t),i=r[0],u=e[1];return t=r[1],i&&(i=o(i,u),n=l(i)),i?t=n&&n.normalize?n.normalize(t,a(u)):o(t,u):(t=o(t,u),r=s(t),i=r[0],t=r[1],i&&(n=l(i))),{f:i?i+"!"+t:t,n:t,pr:i,p:n}},g={require:function(t){return u(t)},exports:function(t){var e=v[t];return"undefined"!=typeof e?e:v[t]={}},module:function(t){return{id:t,uri:"",exports:v[t],config:d(t)}}},h=function(e,n,r,o){var a,s,d,h,m,y,C,T=[],x=typeof r;if(o=o||e,y=f(o),"undefined"===x||"function"===x){for(n=!n.length&&r.length?["require","exports","module"]:n,m=0;m<n.length;m+=1)if(h=p(n[m],y),s=h.f,"require"===s)T[m]=g.require(e);else if("exports"===s)T[m]=g.exports(e),C=!0;else if("module"===s)a=T[m]=g.module(e);else if(i(v,s)||i(_,s)||i(E,s))T[m]=l(s);else{if(!h.p)throw new Error(e+" missing "+s);h.p.load(h.n,u(o,!0),c(s),{}),T[m]=v[s]}d=r?r.apply(v[e],T):void 0,e&&(a&&a.exports!==t&&a.exports!==v[e]?v[e]=a.exports:d===t&&C||(v[e]=d))}else e&&(v[e]=r)},e=n=m=function(e,n,r,i,o){if("string"==typeof e)return g[e]?g[e](n):l(p(e,f(n)).f);if(!e.splice){if(y=e,y.deps&&m(y.deps,y.callback),!n)return;n.splice?(e=n,n=r,r=null):e=t}return n=n||function(){},"function"==typeof r&&(r=i,i=o),i?h(t,e,n,r):setTimeout(function(){h(t,e,n,r)},4),m},m.config=function(t){return m(t)},e._defined=v,r=function(t,e,n){if("string"!=typeof t)throw new Error("See almond README: incorrect module build, no module name");e.splice||(n=e,e=[]),i(v,t)||i(_,t)||(_[t]=[t,e,n])},r.amd={jQuery:!0}}(),r("../node_modules/almond/almond",function(){});var i="function"==typeof Symbol&&"symbol"==typeof Symbol.iterator?function(t){return typeof t}:function(t){return t&&"function"==typeof Symbol&&t.constructor===Symbol&&t!==Symbol.prototype?"symbol":typeof t};!function(){function t(t,e){return t.set(e[0],e[1]),t}function e(t,e){return t.add(e),t}function n(t,e,n){switch(n.length){case 0:return t.call(e);case 1:return t.call(e,n[0]);case 2:return t.call(e,n[0],n[1]);case 3:return t.call(e,n[0],n[1],n[2])}return t.apply(e,n)}function o(t,e,n,r){for(var i=-1,o=t.length;++i<o;){var u=t[i];e(r,u,n(u),t)}return r}function u(t,e){for(var n=-1,r=t.length;++n<r&&!1!==e(t[n],n,t););return t}function a(t,e){for(var n=-1,r=t.length;++n<r;)if(!e(t[n],n,t))return!1;return!0}function c(t,e){for(var n=-1,r=t.length,i=0,o=[];++n<r;){var u=t[n];e(u,n,t)&&(o[i++]=u)}return o}function l(t,e){return!!t.length&&-1<y(t,e,0)}function s(t,e,n){for(var r=-1,i=t.length;++r<i;)if(n(e,t[r]))return!0;return!1}function f(t,e){for(var n=-1,r=t.length,i=Array(r);++n<r;)i[n]=e(t[n],n,t);return i}function d(t,e){for(var n=-1,r=e.length,i=t.length;++n<r;)t[i+n]=e[n];return t}function h(t,e,n,r){var i=-1,o=t.length;for(r&&o&&(n=t[++i]);++i<o;)n=e(n,t[i],i,t);return n}function m(t,e,n,r){var i=t.length;for(r&&i&&(n=t[--i]);i--;)n=e(n,t[i],i,t);return n}function p(t,e){for(var n=-1,r=t.length;++n<r;)if(e(t[n],n,t))return!0;return!1}function g(t,e,n){for(var r=-1,i=t.length;++r<i;){var o=t[r],u=e(o);if(null!=u&&(a===M?u===u:n(u,a)))var a=u,c=o}return c}function v(t,e,n,r){var i;return n(t,function(t,n,o){return e(t,n,o)?(i=r?n:t,!1):void 0}),i}function _(t,e,n){for(var r=t.length,i=n?r:-1;n?i--:++i<r;)if(e(t[i],i,t))return i;return-1}function y(t,e,n){if(e!==e)return K(t,n);--n;for(var r=t.length;++n<r;)if(t[n]===e)return n;return-1}function E(t,e,n,r){--n;for(var i=t.length;++n<i;)if(r(t[n],e))return n;return-1}function C(t,e,n,r,i){return i(t,function(t,i,o){n=r?(r=!1,t):e(n,t,i,o)}),n}function T(t,e){var n=t.length;for(t.sort(e);n--;)t[n]=t[n].c;return t}function x(t,e){for(var n,r=-1,i=t.length;++r<i;){var o=e(t[r]);o!==M&&(n=n===M?o:n+o)}return n}function b(t,e){for(var n=-1,r=Array(t);++n<t;)r[n]=e(n);return r}function O(t,e){return f(e,function(e){return[e,t[e]]})}function S(t){return function(e){return t(e)}}function I(t,e){return f(e,function(e){return t[e]})}function k(t,e){for(var n=-1,r=t.length;++n<r&&-1<y(e,t[n],0););return n}function R(t,e){for(var n=t.length;n--&&-1<y(e,t[n],0););return n}function w(t){return t&&t.Object===Object?t:null}function D(t,e){if(t!==e){var n=null===t,r=t===M,i=t===t,o=null===e,u=e===M,a=e===e;if(t>e&&!o||!i||n&&!u&&a||r&&a)return 1;if(e>t&&!n||!a||o&&!r&&i||u&&i)return-1}return 0}function A(t){return Lt[t]}function N(t){return jt[t]}function B(t){return"\\"+Pt[t]}function K(t,e,n){var r=t.length;for(e+=n?0:-1;n?e--:++e<r;){var i=t[e];if(i!==i)return e}return-1}function L(t){var e=!1;if(null!=t&&"function"!=typeof t.toString)try{e=!!(t+"")}catch(n){}return e}function j(t,e){return t="number"==typeof t||Et.test(t)?+t:-1,t>-1&&0==t%1&&(null==e?9007199254740991:e)>t}function F(t){for(var e,n=[];!(e=t.next()).done;)n.push(e.value);return n}function U(t){var e=-1,n=Array(t.size);return t.forEach(function(t,r){n[++e]=[r,t]}),n}function P(t,e){for(var n=-1,r=t.length,i=0,o=[];++n<r;){var u=t[n];u!==e&&"__lodash_placeholder__"!==u||(t[n]="__lodash_placeholder__",o[i++]=n)}return o}function W(t){var e=-1,n=Array(t.size);return t.forEach(function(t){n[++e]=t}),n}function H(t){if(!t||!Rt.test(t))return t.length;for(var e=kt.lastIndex=0;kt.test(t);)e++;return e}function q(t){return Ft[t]}function G(r){function w(t){if(br(t)&&!Go(t)&&!(t instanceof Ot)){if(t instanceof bt)return t;if(fi.call(t,"__wrapped__"))return Mn(t)}return new bt(t)}function Et(){}function bt(t,e){this.__wrapped__=t,this.__actions__=[],this.__chain__=!!e,this.__index__=0,this.__values__=M}function Ot(t){this.__wrapped__=t,this.__actions__=[],this.__dir__=1,this.__filtered__=!1,this.__iteratees__=[],this.__takeCount__=4294967295,this.__views__=[]}function St(){}function Lt(t){var e=-1,n=t?t.length:0;for(this.clear();++e<n;){var r=t[e];this.set(r[0],r[1])}}function jt(t){var e=-1,n=t?t.length:0;for(this.__data__=new Lt;++e<n;)this.push(t[e])}function Ft(t,e){var n=t.__data__;return Un(e)?(n=n.__data__,"__lodash_hash_undefined__"===("string"==typeof e?n.string:n.hash)[e]):n.has(e)}function Ut(t){var e=-1,n=t?t.length:0;for(this.clear();++e<n;){var r=t[e];this.set(r[0],r[1])}}function Pt(t,e){var n=Gt(t,e);return 0>n?!1:(n==t.length-1?t.pop():Ri.call(t,n,1),!0)}function qt(t,e){var n=Gt(t,e);return 0>n?M:t[n][1]}function Gt(t,e){for(var n=t.length;n--;)if(mr(t[n][0],e))return n;return-1}function $t(t,e,n){var r=Gt(t,e);0>r?t.push([e,n]):t[r][1]=n}function Xt(t,e,n,r){return t===M||mr(t,li[n])&&!fi.call(r,n)?e:t}function zt(t,e,n){(n===M||mr(t[e],n))&&("number"!=typeof e||n!==M||e in t)||(t[e]=n)}function Yt(t,e,n){var r=t[e];fi.call(t,e)&&mr(r,n)&&(n!==M||e in t)||(t[e]=n)}function Jt(t,e,n,r){return Qi(t,function(t,i,o){e(r,t,n(t),o)}),r}function Qt(t,e){return t&&en(e,Hr(e),t)}function te(t,e){for(var n=-1,r=null==t,i=e.length,o=Array(i);++n<i;)o[n]=r?M:Ur(t,e[n]);return o}function ee(t){return _r(t)?t:[]}function ne(t){return"function"==typeof t?t:Vr}function re(t){return Go(t)?t:Gn(t)}function ie(t,e,n){return t===t&&(n!==M&&(t=t>n?n:t),e!==M&&(t=e>t?e:t)),t}function oe(t,e,n,r,i,o,a){var c;if(r&&(c=o?r(t,i,o,a):r(t)),c!==M)return c;if(!xr(t))return t;if(i=Go(t)){if(c=Nn(t),!e)return tn(t,c)}else{var l=Dn(t),s="[object Function]"==l||"[object GeneratorFunction]"==l;if(Mo(t))return Ze(t,e);if("[object Object]"==l||"[object Arguments]"==l||s&&!o){if(L(t))return o?t:{};if(c=Bn(s?{}:t),!e)return c=Qt(c,t),n?rn(t,c):c}else{if(!Kt[l])return o?t:{};c=Kn(t,l,e)}}return a||(a=new Ut),(o=a.get(t))?o:(a.set(t,c),(i?u:me)(t,function(i,o){Yt(c,o,oe(i,e,n,r,o,t,a))}),n&&!i?rn(t,c):c)}function ue(t){var e=Hr(t),n=e.length;return function(r){if(null==r)return!n;for(var i=n;i--;){var o=e[i],u=t[o],a=r[o];if(a===M&&!(o in Object(r))||!u(a))return!1}return!0}}function ae(t){return xr(t)?Si(t):{}}function ce(t,e,n){if("function"!=typeof t)throw new ai("Expected a function");return ki(function(){t.apply(M,n)},e)}function le(t,e,n,r){var i=-1,o=l,u=!0,a=t.length,c=[],d=e.length;if(!a)return c;n&&(e=f(e,S(n))),r?(o=s,u=!1):e.length>=200&&(o=Ft,u=!1,e=new jt(e));t:for(;++i<a;){var h=t[i],m=n?n(h):h;if(u&&m===m){for(var p=d;p--;)if(e[p]===m)continue t;c.push(h)}else o(e,m,r)||c.push(h)}return c}function se(t,e){var n=!0;return Qi(t,function(t,r,i){return n=!!e(t,r,i)}),n}function fe(t,e){var n=[];return Qi(t,function(t,r,i){e(t,r,i)&&n.push(t)}),n}function de(t,e,n,r){r||(r=[]);for(var i=-1,o=t.length;++i<o;){var u=t[i];e>0&&_r(u)&&(n||Go(u)||gr(u))?e>1?de(u,e-1,n,r):d(r,u):n||(r[r.length]=u)}return r}function he(t,e){return null==t?t:eo(t,e,qr)}function me(t,e){return t&&eo(t,e,Hr)}function pe(t,e){return t&&no(t,e,Hr)}function ge(t,e){return c(e,function(e){return Er(t[e])})}function ve(t,e){e=Fn(e,t)?[e+""]:re(e);for(var n=0,r=e.length;null!=t&&r>n;)t=t[e[n++]];return n&&n==r?t:M}function _e(t,e){return fi.call(t,e)||"object"==("undefined"==typeof t?"undefined":i(t))&&e in t&&null===xi(t)}function ye(t,e){return e in Object(t)}function Ee(t,e,n){for(var r=n?s:l,i=t[0].length,o=t.length,u=o,a=Array(o),c=1/0,d=[];u--;){var h=t[u];u&&e&&(h=f(h,S(e))),c=Li(h.length,c),a[u]=n||!e&&(120>i||120>h.length)?M:new jt(u&&h)}var h=t[0],m=-1,p=a[0];t:for(;++m<i&&c>d.length;){var g=h[m],v=e?e(g):g;if(p?!Ft(p,v):!r(d,v,n)){for(u=o;--u;){var _=a[u];if(_?!Ft(_,v):!r(t[u],v,n))continue t}p&&p.push(v),d.push(g)}}return d}function Ce(t,e,n,r){return me(t,function(t,i,o){e(r,n(t),i,o)}),r}function Te(t,e,r){return Fn(e,t)||(e=re(e),t=qn(t,e),e=Yn(e)),e=null==t?t:t[e],null==e?M:n(e,t,r)}function xe(t,e,n,r,i){if(t===e)return!0;if(null==t||null==e||!xr(t)&&!br(e))return t!==t&&e!==e;t:{var o=Go(t),u=Go(e),a="[object Array]",c="[object Array]";o||(a=Dn(t),a="[object Arguments]"==a?"[object Object]":a),u||(c=Dn(e),c="[object Arguments]"==c?"[object Object]":c);var l="[object Object]"==a&&!L(t),u="[object Object]"==c&&!L(e);if((c=a==c)&&!l)i||(i=new Ut),t=o||Dr(t)?bn(t,e,xe,n,r,i):On(t,e,a,xe,n,r,i);else{if(!(2&r)&&(o=l&&fi.call(t,"__wrapped__"),a=u&&fi.call(e,"__wrapped__"),o||a)){i||(i=new Ut),t=xe(o?t.value():t,a?e.value():e,n,r,i);break t}if(c)e:if(i||(i=new Ut),o=2&r,a=Hr(t),u=a.length,c=Hr(e).length,u==c||o){for(l=u;l--;){var s=a[l];if(!(o?s in e:_e(e,s))){t=!1;break e}}if(c=i.get(t))t=c==e;else{c=!0,i.set(t,e);for(var f=o;++l<u;){var s=a[l],d=t[s],h=e[s];if(n)var m=o?n(h,d,s,e,t,i):n(d,h,s,t,e,i);if(m===M?d!==h&&!xe(d,h,n,r,i):!m){c=!1;break}f||(f="constructor"==s)}c&&!f&&(n=t.constructor,r=e.constructor,n!=r&&"constructor"in t&&"constructor"in e&&!("function"==typeof n&&n instanceof n&&"function"==typeof r&&r instanceof r)&&(c=!1)),i["delete"](t),t=c}}else t=!1;else t=!1}}return t}function be(t,e,n,r){var i=n.length,o=i,u=!r;if(null==t)return!o;for(t=Object(t);i--;){var a=n[i];if(u&&a[2]?a[1]!==t[a[0]]:!(a[0]in t))return!1}for(;++i<o;){var a=n[i],c=a[0],l=t[c],s=a[1];if(u&&a[2]){if(l===M&&!(c in t))return!1}else if(a=new Ut,c=r?r(l,s,c,t,e,a):M,c===M?!xe(s,l,r,3,a):!c)return!1}return!0}function Oe(t){var e="undefined"==typeof t?"undefined":i(t);return"function"==e?t:null==t?Vr:"object"==e?Go(t)?Re(t[0],t[1]):ke(t):ei(t)}function Se(t){t=null==t?t:Object(t);var e,n=[];for(e in t)n.push(e);return n}function Ie(t,e){var n=-1,r=vr(t)?Array(t.length):[];return Qi(t,function(t,i,o){r[++n]=e(t,i,o)}),r}function ke(t){var e=kn(t);if(1==e.length&&e[0][2]){var n=e[0][0],r=e[0][1];return function(t){return null==t?!1:t[n]===r&&(r!==M||n in Object(t))}}return function(n){return n===t||be(n,t,e)}}function Re(t,e){return function(n){var r=Ur(n,t);return r===M&&r===e?Wr(n,t):xe(e,r,M,3)}}function we(t,e,n,r,i){if(t!==e){var o=Go(e)||Dr(e)?M:qr(e);u(o||e,function(u,a){if(o&&(a=u,u=e[a]),xr(u)){i||(i=new Ut);var c=a,l=i,s=t[c],f=e[c],d=l.get(f);if(!d){var d=r?r(s,f,c+"",t,e,l):M,h=d===M;h&&(d=f,Go(f)||Dr(f)?Go(s)?d=s:_r(s)?d=tn(s):(h=!1,d=oe(f,!r)):Ir(f)||gr(f)?gr(s)?d=jr(s):!xr(s)||n&&Er(s)?(h=!1,d=oe(f,!r)):d=s:h=!1),l.set(f,d),h&&we(d,f,n,r,l),l["delete"](f)}zt(t,c,d)}else c=r?r(t[a],u,a+"",t,e,i):M,c===M&&(c=u),zt(t,a,c)})}}function De(t,e,n){var r=-1;return e=f(e.length?e:Array(1),In()),t=Ie(t,function(t,n,i){return{a:f(e,function(e){return e(t)}),b:++r,c:t}}),T(t,function(t,e){var r;t:{r=-1;for(var i=t.a,o=e.a,u=i.length,a=n.length;++r<u;){var c=D(i[r],o[r]);if(c){if(r>=a){r=c;break t}r=c*("desc"==n[r]?-1:1);break t}}r=t.b-e.b}return r})}function Ae(t,e){return t=Object(t),h(e,function(e,n){return n in t&&(e[n]=t[n]),e},{})}function Ne(t,e){var n={};return he(t,function(t,r){e(t,r)&&(n[r]=t)}),n}function Be(t){return function(e){return null==e?M:e[t]}}function Ke(t){return function(e){return ve(e,t)}}function Le(t,e,n,r){var i=r?E:y,o=-1,u=e.length,a=t;for(n&&(a=f(t,S(n)));++o<u;)for(var c=0,l=e[o],l=n?n(l):l;-1<(c=i(a,l,c,r));)a!==t&&Ri.call(a,c,1),Ri.call(t,c,1);return t}function je(t,e){for(var n=t?e.length:0,r=n-1;n--;){var i=e[n];if(r==n||i!=o){var o=i;if(j(i))Ri.call(t,i,1);else if(Fn(i,t))delete t[i];else{var i=re(i),u=qn(t,i);null!=u&&delete u[Yn(i)]}}}return t}function Fe(t,e){return t+Di(Fi()*(e-t+1))}function Ue(t,e,n,r){e=Fn(e,t)?[e+""]:re(e);for(var i=-1,o=e.length,u=o-1,a=t;null!=a&&++i<o;){var c=e[i];if(xr(a)){var l=n;if(i!=u){var s=a[c],l=r?r(s,c,a):M;l===M&&(l=null==s?j(e[i+1])?[]:{}:s)}Yt(a,c,l)}a=a[c]}return t}function Pe(t,e,n){var r=-1,i=t.length;for(0>e&&(e=-e>i?0:i+e),n=n>i?i:n,0>n&&(n+=i),i=e>n?0:n-e>>>0,e>>>=0,n=Array(i);++r<i;)n[r]=t[r+e];return n}function We(t,e){var n;return Qi(t,function(t,r,i){return n=e(t,r,i),!n}),!!n}function He(t,e,n){var r=0,i=t?t.length:r;if("number"==typeof e&&e===e&&2147483647>=i){for(;i>r;){var o=r+i>>>1,u=t[o];(n?e>=u:e>u)&&null!==u?r=o+1:i=o}return i}return qe(t,e,Vr,n)}function qe(t,e,n,r){e=n(e);for(var i=0,o=t?t.length:0,u=e!==e,a=null===e,c=e===M;o>i;){var l=Di((i+o)/2),s=n(t[l]),f=s!==M,d=s===s;(u?d||r:a?d&&f&&(r||null!=s):c?d&&(r||f):null==s?0:r?e>=s:e>s)?i=l+1:o=l}return Li(o,4294967294)}function Ge(t,e){for(var n=0,r=t.length,i=t[0],o=e?e(i):i,u=o,a=1,c=[i];++n<r;)i=t[n],o=e?e(i):i,mr(o,u)||(u=o,c[a++]=i);return c}function Me(t,e,n){var r=-1,i=l,o=t.length,u=!0,a=[],c=a;if(n)u=!1,i=s;else if(200>o)c=e?[]:a;else{if(i=e?null:io(t))return W(i);u=!1,i=Ft,c=new jt}t:for(;++r<o;){var f=t[r],d=e?e(f):f;if(u&&d===d){for(var h=c.length;h--;)if(c[h]===d)continue t;e&&c.push(d),a.push(f)}else i(c,d,n)||(c!==a&&c.push(d),a.push(f))}return a}function $e(t,e,n,r){for(var i=t.length,o=r?i:-1;(r?o--:++o<i)&&e(t[o],o,t););return n?Pe(t,r?0:o,r?o+1:i):Pe(t,r?o+1:0,r?i:o)}function Xe(t,e){var n=t;return n instanceof Ot&&(n=n.value()),h(e,function(t,e){return e.func.apply(e.thisArg,d([t],e.args))},n)}function ze(t,e,n){for(var r=-1,i=t.length;++r<i;)var o=o?d(le(o,t[r],e,n),le(t[r],o,e,n)):t[r];return o&&o.length?Me(o,e,n):[]}function Ye(t,e,n){for(var r=-1,i=t.length,o=e.length,u={};++r<i;)n(u,t[r],o>r?e[r]:M);return u}function Ze(t,e){if(e)return t.slice();var n=new t.constructor(t.length);return t.copy(n),n}function Ve(t){var e=new t.constructor(t.byteLength);return new Ei(e).set(new Ei(t)),e}function Je(t,e,n,r){var i=-1,o=t.length,u=n.length,a=-1,c=e.length,l=Ki(o-u,0),s=Array(c+l);for(r=!r;++a<c;)s[a]=e[a];for(;++i<u;)(r||o>i)&&(s[n[i]]=t[i]);for(;l--;)s[a++]=t[i++];return s}function Qe(t,e,n,r){var i=-1,o=t.length,u=-1,a=n.length,c=-1,l=e.length,s=Ki(o-a,0),f=Array(s+l);for(r=!r;++i<s;)f[i]=t[i];for(s=i;++c<l;)f[s+c]=e[c];for(;++u<a;)(r||o>i)&&(f[s+n[u]]=t[i++]);return f}function tn(t,e){var n=-1,r=t.length;for(e||(e=Array(r));++n<r;)e[n]=t[n];return e}function en(t,e,n){return nn(t,e,n)}function nn(t,e,n,r){n||(n={});for(var i=-1,o=e.length;++i<o;){var u=e[i],a=r?r(n[u],t[u],u,n,t):t[u];Yt(n,u,a)}return n}function rn(t,e){return en(t,ao(t),e)}function on(t,e){return function(n,r){var i=Go(n)?o:Jt,u=e?e():{};return i(n,t,In(r),u)}}function un(t){return hr(function(e,n){var r=-1,i=n.length,o=i>1?n[i-1]:M,u=i>2?n[2]:M,o="function"==typeof o?(i--,o):M;for(u&&jn(n[0],n[1],u)&&(o=3>i?M:o,i=1),e=Object(e);++r<i;)(u=n[r])&&t(e,u,r,o);return e})}function an(t,e){return function(n,r){if(null==n)return n;if(!vr(n))return t(n,r);for(var i=n.length,o=e?i:-1,u=Object(n);(e?o--:++o<i)&&!1!==r(u[o],o,u););return n}}function cn(t){return function(e,n,r){var i=-1,o=Object(e);r=r(e);for(var u=r.length;u--;){var a=r[t?u:++i];if(!1===n(o[a],a,o))break}return e}}function ln(t,e,n){function r(){return(this&&this!==Zt&&this instanceof r?o:t).apply(i?n:this,arguments)}var i=1&e,o=dn(t);return r}function sn(t){return function(e){e=Fr(e);var n=Rt.test(e)?e.match(kt):M,r=n?n[0]:e.charAt(0);return e=n?n.slice(1).join(""):e.slice(1),r[t]()+e}}function fn(t){return function(e){return h(Yr(Xr(e)),t,"")}}function dn(t){return function(){var e=arguments;switch(e.length){case 0:return new t;case 1:return new t(e[0]);case 2:return new t(e[0],e[1]);case 3:return new t(e[0],e[1],e[2]);case 4:return new t(e[0],e[1],e[2],e[3]);case 5:return new t(e[0],e[1],e[2],e[3],e[4]);case 6:return new t(e[0],e[1],e[2],e[3],e[4],e[5]);case 7:return new t(e[0],e[1],e[2],e[3],e[4],e[5],e[6])}var n=ae(t.prototype),e=t.apply(n,e);return xr(e)?e:n}}function hn(t,e,r){function i(){for(var u=arguments.length,a=Array(u),c=u,l=wn(i);c--;)a[c]=arguments[c];return c=3>u&&a[0]!==l&&a[u-1]!==l?[]:P(a,l),u-=c.length,r>u?Cn(t,e,pn,i.placeholder,M,a,c,M,M,r-u):n(this&&this!==Zt&&this instanceof i?o:t,this,a)}var o=dn(t);return i}function mn(t){return hr(function(e){e=de(e,1);var n=e.length,r=n,i=bt.prototype.thru;for(t&&e.reverse();r--;){var o=e[r];if("function"!=typeof o)throw new ai("Expected a function");if(i&&!u&&"wrapper"==Sn(o))var u=new bt([],!0)}for(r=u?r:n;++r<n;)var o=e[r],i=Sn(o),a="wrapper"==i?oo(o):M,u=a&&Pn(a[0])&&424==a[1]&&!a[4].length&&1==a[9]?u[Sn(a[0])].apply(u,a[3]):1==o.length&&Pn(o)?u[i]():u.thru(o);return function(){var t=arguments,r=t[0];if(u&&1==t.length&&Go(r)&&r.length>=200)return u.plant(r).value();for(var i=0,t=n?e[i].apply(this,t):r;++i<n;)t=e[i].call(this,t);return t}})}function pn(t,e,n,r,i,o,u,a,c,l){function s(){for(var v=arguments.length,_=v,y=Array(v);_--;)y[_]=arguments[_];if(m){var E,C=wn(s),_=y.length;for(E=0;_--;)y[_]===C&&E++}if(r&&(y=Je(y,r,i,m)),o&&(y=Qe(y,o,u,m)),v-=E,m&&l>v)return C=P(y,C),Cn(t,e,pn,s.placeholder,n,y,C,a,c,l-v);if(C=d?n:this,_=h?C[t]:t,v=y.length,a){E=y.length;for(var T=Li(a.length,E),x=tn(y);T--;){var b=a[T];y[T]=j(b,E)?x[b]:M}}else p&&v>1&&y.reverse();return f&&v>c&&(y.length=c),this&&this!==Zt&&this instanceof s&&(_=g||dn(_)),_.apply(C,y)}var f=128&e,d=1&e,h=2&e,m=24&e,p=512&e,g=h?M:dn(t);return s}function gn(t,e){return function(n,r){return Ce(n,t,e(r),{})}}function vn(t){return hr(function(e){return e=f(de(e,1),In()),hr(function(r){var i=this;return t(e,function(t){return n(t,i,r)})})})}function _n(t,e,n){return e=Br(e),t=H(t),e&&e>t?(e-=t,n=n===M?" ":n+"",t=zr(n,wi(e/H(n))),Rt.test(n)?t.match(kt).slice(0,e).join(""):t.slice(0,e)):""}function yn(t,e,r,i){function o(){for(var e=-1,c=arguments.length,l=-1,s=i.length,f=Array(s+c),d=this&&this!==Zt&&this instanceof o?a:t;++l<s;)f[l]=i[l];for(;c--;)f[l++]=arguments[++e];return n(d,u?r:this,f)}var u=1&e,a=dn(t);return o}function En(t){return function(e,n,r){r&&"number"!=typeof r&&jn(e,n,r)&&(n=r=M),e=Lr(e),e=e===e?e:0,n===M?(n=e,e=0):n=Lr(n)||0,r=r===M?n>e?1:-1:Lr(r)||0;var i=-1;n=Ki(wi((n-e)/(r||1)),0);for(var o=Array(n);n--;)o[t?n:++i]=e,e+=r;return o}}function Cn(t,e,n,r,i,o,u,a,c,l){var s=8&e;a=a?tn(a):M;var f=s?u:M;u=s?M:u;var d=s?o:M;return o=s?M:o,e=(e|(s?32:64))&~(s?64:32),4&e||(e&=-4),e=[t,e,i,d,f,o,u,a,c,l],n=n.apply(M,e),Pn(t)&&co(n,e),n.placeholder=r,n}function Tn(t){var e=oi[t];return function(t,n){if(t=Lr(t),n=Br(n)){var r=(Fr(t)+"e").split("e"),r=e(r[0]+"e"+(+r[1]+n)),r=(Fr(r)+"e").split("e");return+(r[0]+"e"+(+r[1]-n))}return e(t)}}function xn(t,e,n,r,i,o,u,a){var c=2&e;if(!c&&"function"!=typeof t)throw new ai("Expected a function");var l=r?r.length:0;if(l||(e&=-97,r=i=M),u=u===M?u:Ki(Br(u),0),a=a===M?a:Br(a),l-=i?i.length:0,64&e){var s=r,f=i;r=i=M}var d=c?M:oo(t);return o=[t,e,n,r,i,s,f,o,u,a],d&&(n=o[1],t=d[1],e=n|t,r=128==t&&8==n||128==t&&256==n&&d[8]>=o[7].length||384==t&&d[8]>=d[7].length&&8==n,131>e||r)&&(1&t&&(o[2]=d[2],e|=1&n?0:4),(n=d[3])&&(r=o[3],o[3]=r?Je(r,n,d[4]):tn(n),o[4]=r?P(o[3],"__lodash_placeholder__"):tn(d[4])),(n=d[5])&&(r=o[5],o[5]=r?Qe(r,n,d[6]):tn(n),o[6]=r?P(o[5],"__lodash_placeholder__"):tn(d[6])),(n=d[7])&&(o[7]=tn(n)),128&t&&(o[8]=null==o[8]?d[8]:Li(o[8],d[8])),null==o[9]&&(o[9]=d[9]),o[0]=d[0],o[1]=e),t=o[0],e=o[1],n=o[2],r=o[3],i=o[4],a=o[9]=null==o[9]?c?0:t.length:Ki(o[9]-l,0),!a&&24&e&&(e&=-25),c=e&&1!=e?8==e||16==e?hn(t,e,a):32!=e&&33!=e||i.length?pn.apply(M,o):yn(t,e,n,r):ln(t,e,n),(d?ro:co)(c,o)}function bn(t,e,n,r,i,o){var u=-1,a=2&i,c=1&i,l=t.length,s=e.length;if(!(l==s||a&&s>l))return!1;if(s=o.get(t))return s==e;for(s=!0,o.set(t,e);++u<l;){var f=t[u],d=e[u];if(r)var h=a?r(d,f,u,e,t,o):r(f,d,u,t,e,o);if(h!==M){if(h)continue;s=!1;break}if(c){if(!p(e,function(t){return f===t||n(f,t,r,i,o)})){s=!1;break}}else if(f!==d&&!n(f,d,r,i,o)){s=!1;break}}return o["delete"](t),s}function On(t,e,n,r,i,o,u){switch(n){case"[object ArrayBuffer]":if(t.byteLength!=e.byteLength||!r(new Ei(t),new Ei(e)))break;return!0;case"[object Boolean]":case"[object Date]":return+t==+e;case"[object Error]":return t.name==e.name&&t.message==e.message;case"[object Number]":return t!=+t?e!=+e:t==+e;case"[object RegExp]":case"[object String]":return t==e+"";case"[object Map]":var a=U;case"[object Set]":if(a||(a=W),t.size!=e.size&&!(2&o))break;return(n=u.get(t))?n==e:bn(a(t),a(e),r,i,1|o,u.set(t,e));case"[object Symbol]":if(Vi)return Vi.call(t)==Vi.call(e)}return!1}function Sn(t){for(var e=t.name+"",n=$i[e],r=fi.call($i,e)?n.length:0;r--;){var i=n[r],o=i.func;if(null==o||o==t)return i.name}return e}function In(){var t=w.iteratee||Jr,t=t===Jr?Oe:t;return arguments.length?t(arguments[0],arguments[1]):t}function kn(t){t=Gr(t);for(var e=t.length;e--;){var n,r=t[e];n=t[e][1],n=n===n&&!xr(n),r[2]=n}return t}function Rn(t,e){var n=t[e];return Or(n)?n:M}function wn(t){return(fi.call(w,"placeholder")?w:t).placeholder}function Dn(t){return mi.call(t)}function An(t,e,n){if(null==t)return!1;var r=n(t,e);return r||Fn(e)||(e=re(e),t=qn(t,e),null!=t&&(e=Yn(e),r=n(t,e))),n=t?t.length:M,r||!!n&&Tr(n)&&j(e,n)&&(Go(t)||Rr(t)||gr(t))}function Nn(t){var e=t.length,n=t.constructor(e);return e&&"string"==typeof t[0]&&fi.call(t,"index")&&(n.index=t.index,n.input=t.input),n}function Bn(t){return"function"!=typeof t.constructor||Wn(t)?{}:ae(xi(t))}function Kn(n,r,i){var o=n.constructor;switch(r){case"[object ArrayBuffer]":return Ve(n);case"[object Boolean]":case"[object Date]":return new o(+n);case"[object Float32Array]":case"[object Float64Array]":case"[object Int8Array]":case"[object Int16Array]":case"[object Int32Array]":case"[object Uint8Array]":case"[object Uint8ClampedArray]":case"[object Uint16Array]":case"[object Uint32Array]":return r=i?Ve(n.buffer):n.buffer,new n.constructor(r,n.byteOffset,n.length);case"[object Map]":return h(U(n),t,new n.constructor);case"[object Number]":case"[object String]":return new o(n);case"[object RegExp]":return r=new n.constructor(n.source,mt.exec(n)),r.lastIndex=n.lastIndex,r;case"[object Set]":return h(W(n),e,new n.constructor);case"[object Symbol]":return Vi?Object(Vi.call(n)):{}}}function Ln(t){var e=t?t.length:M;return Tr(e)&&(Go(t)||Rr(t)||gr(t))?b(e,String):null}function jn(t,e,n){if(!xr(n))return!1;var r="undefined"==typeof e?"undefined":i(e);return("number"==r?vr(n)&&j(e,n.length):"string"==r&&e in n)?mr(n[e],t):!1}function Fn(t,e){return"number"==typeof t?!0:!Go(t)&&(ot.test(t)||!it.test(t)||null!=e&&t in Object(e))}function Un(t){var e="undefined"==typeof t?"undefined":i(t);return"number"==e||"boolean"==e||"string"==e&&"__proto__"!=t||null==t}function Pn(t){var e=Sn(t),n=w[e];return"function"==typeof n&&e in Ot.prototype?t===n?!0:(e=oo(n),!!e&&t===e[0]):!1}function Wn(t){var e=t&&t.constructor;return t===("function"==typeof e&&e.prototype||li)}function Hn(t,e,n,r,i,o){return xr(t)&&xr(e)&&we(t,e,M,Hn,o.set(e,t)),t}function qn(t,e){return 1==e.length?t:Ur(t,Pe(e,0,-1))}function Gn(t){var e=[];return Fr(t).replace(ut,function(t,n,r,i){e.push(r?i.replace(dt,"$1"):n||t)}),e}function Mn(t){if(t instanceof Ot)return t.clone();var e=new bt(t.__wrapped__,t.__chain__);return e.__actions__=tn(t.__actions__),e.__index__=t.__index__,e.__values__=t.__values__,e}function $n(t,e,n){var r=t?t.length:0;return r?(e=n||e===M?1:Br(e),Pe(t,0>e?0:e,r)):[]}function Xn(t,e,n){var r=t?t.length:0;return r?(e=n||e===M?1:Br(e),e=r-e,Pe(t,0,0>e?0:e)):[]}function zn(t){return t?t[0]:M}function Yn(t){var e=t?t.length:0;return e?t[e-1]:M}function Zn(t,e){return t&&t.length&&e&&e.length?Le(t,e):t}function Vn(t){return t?Ui.call(t):t}function Jn(t){if(!t||!t.length)return[];var e=0;return t=c(t,function(t){return _r(t)?(e=Ki(t.length,e),!0):void 0}),b(e,function(e){return f(t,Be(e))})}function Qn(t,e){if(!t||!t.length)return[];var r=Jn(t);return null==e?r:f(r,function(t){return n(e,M,t)})}function tr(t){return t=w(t),t.__chain__=!0,t}function er(t,e){return e(t)}function nr(){return this}function rr(t,e){return"function"==typeof e&&Go(t)?u(t,e):Qi(t,ne(e))}function ir(t,e){var n;if("function"==typeof e&&Go(t)){for(n=t.length;n--&&!1!==e(t[n],n,t););n=t}else n=to(t,ne(e));return n}function or(t,e){return(Go(t)?f:Ie)(t,In(e,3))}function ur(t,e){var n=-1,r=Nr(t),i=r.length,o=i-1;for(e=ie(Br(e),0,i);++n<e;){var i=Fe(n,o),u=r[i];r[i]=r[n],r[n]=u}return r.length=e,r}function ar(t,e,n){return e=n?M:e,e=t&&null==e?t.length:e,xn(t,128,M,M,M,M,e)}function cr(t,e){var n;if("function"!=typeof e)throw new ai("Expected a function");return t=Br(t),function(){return 0<--t&&(n=e.apply(this,arguments)),1>=t&&(e=M),n}}function lr(t,e,n){return e=n?M:e,t=xn(t,8,M,M,M,M,M,e),t.placeholder=lr.placeholder,t}function sr(t,e,n){return e=n?M:e,t=xn(t,16,M,M,M,M,M,e),t.placeholder=sr.placeholder,t}function fr(t,e,n){function r(){h&&Ci(h),l&&Ci(l),p=0,c=l=d=h=m=M}function i(e,n){n&&Ci(n),l=h=m=M,e&&(p=Ko(),s=t.apply(d,c),h||l||(c=d=M))}function o(){var t=e-(Ko()-f);0>=t||t>e?i(m,l):h=ki(o,t)}function u(){i(_,h)}function a(){if(c=arguments,f=Ko(),d=this,m=_&&(h||!g),!1===v)var n=g&&!h;else{p||l||g||(p=f);var r=v-(f-p),i=(0>=r||r>v)&&(g||l);i?(l&&(l=Ci(l)),p=f,s=t.apply(d,c)):l||(l=ki(u,r))}return i&&h?h=Ci(h):h||e===v||(h=ki(o,e)),n&&(i=!0,s=t.apply(d,c)),!i||h||l||(c=d=M),s}var c,l,s,f,d,h,m,p=0,g=!1,v=!1,_=!0;if("function"!=typeof t)throw new ai("Expected a function");return e=Lr(e)||0,xr(n)&&(g=!!n.leading,v="maxWait"in n&&Ki(Lr(n.maxWait)||0,e),_="trailing"in n?!!n.trailing:_),a.cancel=r,a.flush=function(){return(h&&m||l&&_)&&(s=t.apply(d,c)),r(),s},a}function dr(t,e){if("function"!=typeof t||e&&"function"!=typeof e)throw new ai("Expected a function");var n=function r(){var n=arguments,i=e?e.apply(this,n):n[0],o=r.cache;return o.has(i)?o.get(i):(n=t.apply(this,n),r.cache=o.set(i,n),n)};return n.cache=new dr.Cache,n}function hr(t,e){if("function"!=typeof t)throw new ai("Expected a function");return e=Ki(e===M?t.length-1:Br(e),0),function(){for(var r=arguments,i=-1,o=Ki(r.length-e,0),u=Array(o);++i<o;)u[i]=r[e+i];switch(e){case 0:return t.call(this,u);case 1:return t.call(this,r[0],u);case 2:return t.call(this,r[0],r[1],u)}for(o=Array(e+1),i=-1;++i<e;)o[i]=r[i];return o[e]=u,n(t,this,o)}}function mr(t,e){return t===e||t!==t&&e!==e}function pr(t,e){return t>e}function gr(t){return _r(t)&&fi.call(t,"callee")&&(!Ii.call(t,"callee")||"[object Arguments]"==mi.call(t))}function vr(t){return null!=t&&Tr(uo(t))&&!Er(t)}function _r(t){return br(t)&&vr(t)}function yr(t){return br(t)?"[object Error]"==mi.call(t)||"string"==typeof t.message&&"string"==typeof t.name:!1}function Er(t){return t=xr(t)?mi.call(t):"","[object Function]"==t||"[object GeneratorFunction]"==t}function Cr(t){return"number"==typeof t&&t==Br(t)}function Tr(t){return"number"==typeof t&&t>-1&&0==t%1&&9007199254740991>=t}function xr(t){var e="undefined"==typeof t?"undefined":i(t);return!!t&&("object"==e||"function"==e)}function br(t){return!!t&&"object"==("undefined"==typeof t?"undefined":i(t))}function Or(t){return null==t?!1:Er(t)?gi.test(si.call(t)):br(t)&&(L(t)?gi:_t).test(t)}function Sr(t){return"number"==typeof t||br(t)&&"[object Number]"==mi.call(t)}function Ir(t){return!br(t)||"[object Object]"!=mi.call(t)||L(t)?!1:(t=xi(t),null===t?!0:(t=t.constructor,"function"==typeof t&&t instanceof t&&si.call(t)==hi))}function kr(t){return xr(t)&&"[object RegExp]"==mi.call(t)}function Rr(t){return"string"==typeof t||!Go(t)&&br(t)&&"[object String]"==mi.call(t)}function wr(t){return"symbol"==("undefined"==typeof t?"undefined":i(t))||br(t)&&"[object Symbol]"==mi.call(t)}function Dr(t){return br(t)&&Tr(t.length)&&!!Bt[mi.call(t)]}function Ar(t,e){return e>t}function Nr(t){if(!t)return[];if(vr(t))return Rr(t)?t.match(kt):tn(t);if(Oi&&t[Oi])return F(t[Oi]());var e=Dn(t);return("[object Map]"==e?U:"[object Set]"==e?W:Mr)(t)}function Br(t){if(!t)return 0===t?t:0;if(t=Lr(t),t===$||t===-$)return 1.7976931348623157e308*(0>t?-1:1);var e=t%1;return t===t?e?t-e:t:0}function Kr(t){return t?ie(Br(t),0,4294967295):0}function Lr(t){if(xr(t)&&(t=Er(t.valueOf)?t.valueOf():t,t=xr(t)?t+"":t),"string"!=typeof t)return 0===t?t:+t;t=t.replace(lt,"");var e=vt.test(t);return e||yt.test(t)?Ht(t.slice(2),e?2:8):gt.test(t)?X:+t}function jr(t){return en(t,qr(t))}function Fr(t){if("string"==typeof t)return t;if(null==t)return"";if(wr(t))return Ji?Ji.call(t):"";var e=t+"";return"0"==e&&1/t==-$?"-0":e}function Ur(t,e,n){return t=null==t?M:ve(t,e),t===M?n:t}function Pr(t,e){return An(t,e,_e)}function Wr(t,e){return An(t,e,ye)}function Hr(t){var e=Wn(t);if(!e&&!vr(t))return Bi(Object(t));var n,r=Ln(t),i=!!r,r=r||[],o=r.length;for(n in t)!_e(t,n)||i&&("length"==n||j(n,o))||e&&"constructor"==n||r.push(n);return r}function qr(t){for(var e=-1,n=Wn(t),r=Se(t),i=r.length,o=Ln(t),u=!!o,o=o||[],a=o.length;++e<i;){var c=r[e];u&&("length"==c||j(c,a))||"constructor"==c&&(n||!fi.call(t,c))||o.push(c)}return o}function Gr(t){return O(t,Hr(t))}function Mr(t){return t?I(t,Hr(t)):[]}function $r(t){return su(Fr(t).toLowerCase())}function Xr(t){return(t=Fr(t))&&t.replace(Ct,A).replace(It,"")}function zr(t,e){t=Fr(t),e=Br(e);var n="";if(!t||1>e||e>9007199254740991)return n;do e%2&&(n+=t),e=Di(e/2),t+=t;while(e);return n}function Yr(t,e,n){return t=Fr(t),e=n?M:e,e===M&&(e=At.test(t)?Dt:wt),t.match(e)||[]}function Zr(t){return function(){return t}}function Vr(t){return t}function Jr(t){return Oe("function"==typeof t?t:oe(t,!0))}function Qr(t,e,n){var r=Hr(e),i=ge(e,r);null!=n||xr(e)&&(i.length||!r.length)||(n=e,e=t,t=this,i=ge(e,Hr(e)));var o=xr(n)&&"chain"in n?n.chain:!0,a=Er(t);return u(i,function(n){var r=e[n];t[n]=r,a&&(t.prototype[n]=function(){var e=this.__chain__;if(o||e){var n=t(this.__wrapped__);return(n.__actions__=tn(this.__actions__)).push({
func:r,args:arguments,thisArg:t}),n.__chain__=e,n}return r.apply(t,d([this.value()],arguments))})}),t}function ti(){}function ei(t){return Fn(t)?Be(t):Ke(t)}function ni(t){return t&&t.length?x(t,Vr):0}r=r?Vt.defaults({},r,Vt.pick(Zt,Nt)):Zt;var ri=r.Date,ii=r.Error,oi=r.Math,ui=r.RegExp,ai=r.TypeError,ci=r.Array.prototype,li=r.Object.prototype,si=r.Function.prototype.toString,fi=li.hasOwnProperty,di=0,hi=si.call(Object),mi=li.toString,pi=Zt._,gi=ui("^"+si.call(fi).replace(at,"\\$&").replace(/hasOwnProperty|(function).*?(?=\\\()| for .+?(?=\\\])/g,"$1.*?")+"$"),vi=Mt?r.Buffer:M,_i=r.Reflect,yi=r.Symbol,Ei=r.Uint8Array,Ci=r.clearTimeout,Ti=_i?_i.enumerate:M,xi=Object.getPrototypeOf,bi=Object.getOwnPropertySymbols,Oi="symbol"==i(Oi=yi&&yi.iterator)?Oi:M,Si=Object.create,Ii=li.propertyIsEnumerable,ki=r.setTimeout,Ri=ci.splice,wi=oi.ceil,Di=oi.floor,Ai=r.isFinite,Ni=ci.join,Bi=Object.keys,Ki=oi.max,Li=oi.min,ji=r.parseInt,Fi=oi.random,Ui=ci.reverse,Pi=Rn(r,"Map"),Wi=Rn(r,"Set"),Hi=Rn(r,"WeakMap"),qi=Rn(Object,"create"),Gi=Hi&&new Hi,Mi=!Ii.call({valueOf:1},"valueOf"),$i={},Xi=Pi?si.call(Pi):"",zi=Wi?si.call(Wi):"",Yi=Hi?si.call(Hi):"",Zi=yi?yi.prototype:M,Vi=Zi?Zi.valueOf:M,Ji=Zi?Zi.toString:M;w.templateSettings={escape:et,evaluate:nt,interpolate:rt,variable:"",imports:{_:w}};var Qi=an(me),to=an(pe,!0),eo=cn(),no=cn(!0);Ti&&!Ii.call({valueOf:1},"valueOf")&&(Se=function(t){return F(Ti(t))});var ro=Gi?function(t,e){return Gi.set(t,e),t}:Vr,io=Wi&&2===new Wi([1,2]).size?function(t){return new Wi(t)}:ti,oo=Gi?function(t){return Gi.get(t)}:ti,uo=Be("length"),ao=bi||function(){return[]};(Pi&&"[object Map]"!=Dn(new Pi)||Wi&&"[object Set]"!=Dn(new Wi)||Hi&&"[object WeakMap]"!=Dn(new Hi))&&(Dn=function(t){var e=mi.call(t);if(t="[object Object]"==e?t.constructor:null,t="function"==typeof t?si.call(t):"")switch(t){case Xi:return"[object Map]";case zi:return"[object Set]";case Yi:return"[object WeakMap]"}return e});var co=function(){var t=0,e=0;return function(n,r){var i=Ko(),o=16-(i-e);if(e=i,o>0){if(150<=++t)return n}else t=0;return ro(n,r)}}(),lo=hr(function(t,e){Go(t)||(t=null==t?[]:[Object(t)]),e=de(e,1);for(var n=t,r=e,i=-1,o=n.length,u=-1,a=r.length,c=Array(o+a);++i<o;)c[i]=n[i];for(;++u<a;)c[i++]=r[u];return c}),so=hr(function(t,e){return _r(t)?le(t,de(e,1,!0)):[]}),fo=hr(function(t,e){var n=Yn(e);return _r(n)&&(n=M),_r(t)?le(t,de(e,1,!0),In(n)):[]}),ho=hr(function(t,e){var n=Yn(e);return _r(n)&&(n=M),_r(t)?le(t,de(e,1,!0),M,n):[]}),mo=hr(function(t){var e=f(t,ee);return e.length&&e[0]===t[0]?Ee(e):[]}),po=hr(function(t){var e=Yn(t),n=f(t,ee);return e===Yn(n)?e=M:n.pop(),n.length&&n[0]===t[0]?Ee(n,In(e)):[]}),go=hr(function(t){var e=Yn(t),n=f(t,ee);return e===Yn(n)?e=M:n.pop(),n.length&&n[0]===t[0]?Ee(n,M,e):[]}),vo=hr(Zn),_o=hr(function(t,e){e=f(de(e,1),String);var n=te(t,e);return je(t,e.sort(D)),n}),yo=hr(function(t){return Me(de(t,1,!0))}),Eo=hr(function(t){var e=Yn(t);return _r(e)&&(e=M),Me(de(t,1,!0),In(e))}),Co=hr(function(t){var e=Yn(t);return _r(e)&&(e=M),Me(de(t,1,!0),M,e)}),To=hr(function(t,e){return _r(t)?le(t,e):[]}),xo=hr(function(t){return ze(c(t,_r))}),bo=hr(function(t){var e=Yn(t);return _r(e)&&(e=M),ze(c(t,_r),In(e))}),Oo=hr(function(t){var e=Yn(t);return _r(e)&&(e=M),ze(c(t,_r),M,e)}),So=hr(Jn),Io=hr(function(t){var e=t.length,e=e>1?t[e-1]:M,e="function"==typeof e?(t.pop(),e):M;return Qn(t,e)}),ko=hr(function(t){t=de(t,1);var e=t.length,n=e?t[0]:0,r=this.__wrapped__,i=function(e){return te(e,t)};return 1>=e&&!this.__actions__.length&&r instanceof Ot&&j(n)?(r=r.slice(n,+n+(e?1:0)),r.__actions__.push({func:er,args:[i],thisArg:M}),new bt(r,this.__chain__).thru(function(t){return e&&!t.length&&t.push(M),t})):this.thru(i)}),Ro=on(function(t,e,n){fi.call(t,n)?++t[n]:t[n]=1}),wo=on(function(t,e,n){fi.call(t,n)?t[n].push(e):t[n]=[e]}),Do=hr(function(t,e,r){var i=-1,o="function"==typeof e,u=Fn(e),a=vr(t)?Array(t.length):[];return Qi(t,function(t){var c=o?e:u&&null!=t?t[e]:M;a[++i]=c?n(c,t,r):Te(t,e,r)}),a}),Ao=on(function(t,e,n){t[n]=e}),No=on(function(t,e,n){t[n?0:1].push(e)},function(){return[[],[]]}),Bo=hr(function(t,e){if(null==t)return[];var n=e.length;return n>1&&jn(t,e[0],e[1])?e=[]:n>2&&jn(e[0],e[1],e[2])&&(e.length=1),De(t,de(e,1),[])}),Ko=ri.now,Lo=hr(function(t,e,n){var r=1;if(n.length)var i=P(n,wn(Lo)),r=32|r;return xn(t,r,e,n,i)}),jo=hr(function(t,e,n){var r=3;if(n.length)var i=P(n,wn(jo)),r=32|r;return xn(e,r,t,n,i)}),Fo=hr(function(t,e){return ce(t,1,e)}),Uo=hr(function(t,e,n){return ce(t,Lr(e)||0,n)}),Po=hr(function(t,e){e=f(de(e,1),In());var r=e.length;return hr(function(i){for(var o=-1,u=Li(i.length,r);++o<u;)i[o]=e[o].call(this,i[o]);return n(t,this,i)})}),Wo=hr(function(t,e){var n=P(e,wn(Wo));return xn(t,32,M,e,n)}),Ho=hr(function(t,e){var n=P(e,wn(Ho));return xn(t,64,M,e,n)}),qo=hr(function(t,e){return xn(t,256,M,M,M,de(e,1))}),Go=Array.isArray,Mo=vi?function(t){return t instanceof vi}:Zr(!1),$o=un(function(t,e){if(Mi||Wn(e)||vr(e))en(e,Hr(e),t);else for(var n in e)fi.call(e,n)&&Yt(t,n,e[n])}),Xo=un(function(t,e){if(Mi||Wn(e)||vr(e))en(e,qr(e),t);else for(var n in e)Yt(t,n,e[n])}),zo=un(function(t,e,n,r){nn(e,qr(e),t,r)}),Yo=un(function(t,e,n,r){nn(e,Hr(e),t,r)}),Zo=hr(function(t,e){return te(t,de(e,1))}),Vo=hr(function(t){return t.push(M,Xt),n(zo,M,t)}),Jo=hr(function(t){return t.push(M,Hn),n(ru,M,t)}),Qo=gn(function(t,e,n){t[e]=n},Zr(Vr)),tu=gn(function(t,e,n){fi.call(t,e)?t[e].push(n):t[e]=[n]},In),eu=hr(Te),nu=un(function(t,e,n){we(t,e,n)}),ru=un(function(t,e,n,r){we(t,e,n,r)}),iu=hr(function(t,e){return null==t?{}:(e=f(de(e,1),String),Ae(t,le(qr(t),e)))}),ou=hr(function(t,e){return null==t?{}:Ae(t,de(e,1))}),uu=fn(function(t,e,n){return e=e.toLowerCase(),t+(n?$r(e):e)}),au=fn(function(t,e,n){return t+(n?"-":"")+e.toLowerCase()}),cu=fn(function(t,e,n){return t+(n?" ":"")+e.toLowerCase()}),lu=sn("toLowerCase"),su=sn("toUpperCase"),fu=fn(function(t,e,n){return t+(n?"_":"")+e.toLowerCase()}),du=fn(function(t,e,n){return t+(n?" ":"")+$r(e)}),hu=fn(function(t,e,n){return t+(n?" ":"")+e.toUpperCase()}),mu=hr(function(t,e){try{return n(t,M,e)}catch(r){return yr(r)?r:new ii(r)}}),pu=hr(function(t,e){return u(de(e,1),function(e){t[e]=Lo(t[e],t)}),t}),gu=mn(),vu=mn(!0),_u=hr(function(t,e){return function(n){return Te(n,t,e)}}),yu=hr(function(t,e){return function(n){return Te(t,n,e)}}),Eu=vn(f),Cu=vn(a),Tu=vn(p),xu=En(),bu=En(!0),Ou=Tn("ceil"),Su=Tn("floor"),Iu=Tn("round");return w.prototype=Et.prototype,w.prototype.constructor=w,bt.prototype=ae(Et.prototype),bt.prototype.constructor=bt,Ot.prototype=ae(Et.prototype),Ot.prototype.constructor=Ot,St.prototype=qi?qi(null):li,Lt.prototype.clear=function(){this.__data__={hash:new St,map:Pi?new Pi:[],string:new St}},Lt.prototype["delete"]=function(t){var e=this.__data__;return Un(t)?(e="string"==typeof t?e.string:e.hash,(qi?e[t]!==M:fi.call(e,t))&&delete e[t]):Pi?e.map["delete"](t):Pt(e.map,t)},Lt.prototype.get=function(t){var e=this.__data__;return Un(t)?(e="string"==typeof t?e.string:e.hash,qi?(t=e[t],t="__lodash_hash_undefined__"===t?M:t):t=fi.call(e,t)?e[t]:M,t):Pi?e.map.get(t):qt(e.map,t)},Lt.prototype.has=function(t){var e=this.__data__;return Un(t)?(e="string"==typeof t?e.string:e.hash,t=qi?e[t]!==M:fi.call(e,t)):t=Pi?e.map.has(t):-1<Gt(e.map,t),t},Lt.prototype.set=function(t,e){var n=this.__data__;return Un(t)?("string"==typeof t?n.string:n.hash)[t]=qi&&e===M?"__lodash_hash_undefined__":e:Pi?n.map.set(t,e):$t(n.map,t,e),this},jt.prototype.push=function(t){var e=this.__data__;Un(t)?(e=e.__data__,("string"==typeof t?e.string:e.hash)[t]="__lodash_hash_undefined__"):e.set(t,"__lodash_hash_undefined__")},Ut.prototype.clear=function(){this.__data__={array:[],map:null}},Ut.prototype["delete"]=function(t){var e=this.__data__,n=e.array;return n?Pt(n,t):e.map["delete"](t)},Ut.prototype.get=function(t){var e=this.__data__,n=e.array;return n?qt(n,t):e.map.get(t)},Ut.prototype.has=function(t){var e=this.__data__,n=e.array;return n?-1<Gt(n,t):e.map.has(t)},Ut.prototype.set=function(t,e){var n=this.__data__,r=n.array;return r&&(199>r.length?$t(r,t,e):(n.array=null,n.map=new Lt(r))),(n=n.map)&&n.set(t,e),this},dr.Cache=Lt,w.after=function(t,e){if("function"!=typeof e)throw new ai("Expected a function");return t=Br(t),function(){return 1>--t?e.apply(this,arguments):void 0}},w.ary=ar,w.assign=$o,w.assignIn=Xo,w.assignInWith=zo,w.assignWith=Yo,w.at=Zo,w.before=cr,w.bind=Lo,w.bindAll=pu,w.bindKey=jo,w.castArray=function(){if(!arguments.length)return[];var t=arguments[0];return Go(t)?t:[t]},w.chain=tr,w.chunk=function(t,e){e=Ki(Br(e),0);var n=t?t.length:0;if(!n||1>e)return[];for(var r=0,i=0,o=Array(wi(n/e));n>r;)o[i++]=Pe(t,r,r+=e);return o},w.compact=function(t){for(var e=-1,n=t?t.length:0,r=0,i=[];++e<n;){var o=t[e];o&&(i[r++]=o)}return i},w.concat=lo,w.cond=function(t){var e=t?t.length:0,r=In();return t=e?f(t,function(t){if("function"!=typeof t[1])throw new ai("Expected a function");return[r(t[0]),t[1]]}):[],hr(function(r){for(var i=-1;++i<e;){var o=t[i];if(n(o[0],this,r))return n(o[1],this,r)}})},w.conforms=function(t){return ue(oe(t,!0))},w.constant=Zr,w.countBy=Ro,w.create=function(t,e){var n=ae(t);return e?Qt(n,e):n},w.curry=lr,w.curryRight=sr,w.debounce=fr,w.defaults=Vo,w.defaultsDeep=Jo,w.defer=Fo,w.delay=Uo,w.difference=so,w.differenceBy=fo,w.differenceWith=ho,w.drop=$n,w.dropRight=Xn,w.dropRightWhile=function(t,e){return t&&t.length?$e(t,In(e,3),!0,!0):[]},w.dropWhile=function(t,e){return t&&t.length?$e(t,In(e,3),!0):[]},w.fill=function(t,e,n,r){var i=t?t.length:0;if(!i)return[];for(n&&"number"!=typeof n&&jn(t,e,n)&&(n=0,r=i),i=t.length,n=Br(n),0>n&&(n=-n>i?0:i+n),r=r===M||r>i?i:Br(r),0>r&&(r+=i),r=n>r?0:Kr(r);r>n;)t[n++]=e;return t},w.filter=function(t,e){return(Go(t)?c:fe)(t,In(e,3))},w.flatMap=function(t,e){return de(or(t,e),1)},w.flatten=function(t){return t&&t.length?de(t,1):[]},w.flattenDeep=function(t){return t&&t.length?de(t,$):[]},w.flattenDepth=function(t,e){return t&&t.length?(e=e===M?1:Br(e),de(t,e)):[]},w.flip=function(t){return xn(t,512)},w.flow=gu,w.flowRight=vu,w.fromPairs=function(t){for(var e=-1,n=t?t.length:0,r={};++e<n;){var i=t[e];r[i[0]]=i[1]}return r},w.functions=function(t){return null==t?[]:ge(t,Hr(t))},w.functionsIn=function(t){return null==t?[]:ge(t,qr(t))},w.groupBy=wo,w.initial=function(t){return Xn(t,1)},w.intersection=mo,w.intersectionBy=po,w.intersectionWith=go,w.invert=Qo,w.invertBy=tu,w.invokeMap=Do,w.iteratee=Jr,w.keyBy=Ao,w.keys=Hr,w.keysIn=qr,w.map=or,w.mapKeys=function(t,e){var n={};return e=In(e,3),me(t,function(t,r,i){n[e(t,r,i)]=t}),n},w.mapValues=function(t,e){var n={};return e=In(e,3),me(t,function(t,r,i){n[r]=e(t,r,i)}),n},w.matches=function(t){return ke(oe(t,!0))},w.matchesProperty=function(t,e){return Re(t,oe(e,!0))},w.memoize=dr,w.merge=nu,w.mergeWith=ru,w.method=_u,w.methodOf=yu,w.mixin=Qr,w.negate=function(t){if("function"!=typeof t)throw new ai("Expected a function");return function(){return!t.apply(this,arguments)}},w.nthArg=function(t){return t=Br(t),function(){return arguments[t]}},w.omit=iu,w.omitBy=function(t,e){return e=In(e),Ne(t,function(t,n){return!e(t,n)})},w.once=function(t){return cr(2,t)},w.orderBy=function(t,e,n,r){return null==t?[]:(Go(e)||(e=null==e?[]:[e]),n=r?M:n,Go(n)||(n=null==n?[]:[n]),De(t,e,n))},w.over=Eu,w.overArgs=Po,w.overEvery=Cu,w.overSome=Tu,w.partial=Wo,w.partialRight=Ho,w.partition=No,w.pick=ou,w.pickBy=function(t,e){return null==t?{}:Ne(t,In(e))},w.property=ei,w.propertyOf=function(t){return function(e){return null==t?M:ve(t,e)}},w.pull=vo,w.pullAll=Zn,w.pullAllBy=function(t,e,n){return t&&t.length&&e&&e.length?Le(t,e,In(n)):t},w.pullAllWith=function(t,e,n){return t&&t.length&&e&&e.length?Le(t,e,M,n):t},w.pullAt=_o,w.range=xu,w.rangeRight=bu,w.rearg=qo,w.reject=function(t,e){var n=Go(t)?c:fe;return e=In(e,3),n(t,function(t,n,r){return!e(t,n,r)})},w.remove=function(t,e){var n=[];if(!t||!t.length)return n;var r=-1,i=[],o=t.length;for(e=In(e,3);++r<o;){var u=t[r];e(u,r,t)&&(n.push(u),i.push(r))}return je(t,i),n},w.rest=hr,w.reverse=Vn,w.sampleSize=ur,w.set=function(t,e,n){return null==t?t:Ue(t,e,n)},w.setWith=function(t,e,n,r){return r="function"==typeof r?r:M,null==t?t:Ue(t,e,n,r)},w.shuffle=function(t){return ur(t,4294967295)},w.slice=function(t,e,n){var r=t?t.length:0;return r?(n&&"number"!=typeof n&&jn(t,e,n)?(e=0,n=r):(e=null==e?0:Br(e),n=n===M?r:Br(n)),Pe(t,e,n)):[]},w.sortBy=Bo,w.sortedUniq=function(t){return t&&t.length?Ge(t):[]},w.sortedUniqBy=function(t,e){return t&&t.length?Ge(t,In(e)):[]},w.split=function(t,e,n){return Fr(t).split(e,n)},w.spread=function(t,e){if("function"!=typeof t)throw new ai("Expected a function");return e=e===M?0:Ki(Br(e),0),hr(function(r){var i=r[e];return r=r.slice(0,e),i&&d(r,i),n(t,this,r)})},w.tail=function(t){return $n(t,1)},w.take=function(t,e,n){return t&&t.length?(e=n||e===M?1:Br(e),Pe(t,0,0>e?0:e)):[]},w.takeRight=function(t,e,n){var r=t?t.length:0;return r?(e=n||e===M?1:Br(e),e=r-e,Pe(t,0>e?0:e,r)):[]},w.takeRightWhile=function(t,e){return t&&t.length?$e(t,In(e,3),!1,!0):[]},w.takeWhile=function(t,e){return t&&t.length?$e(t,In(e,3)):[]},w.tap=function(t,e){return e(t),t},w.throttle=function(t,e,n){var r=!0,i=!0;if("function"!=typeof t)throw new ai("Expected a function");return xr(n)&&(r="leading"in n?!!n.leading:r,i="trailing"in n?!!n.trailing:i),fr(t,e,{leading:r,maxWait:e,trailing:i})},w.thru=er,w.toArray=Nr,w.toPairs=Gr,w.toPairsIn=function(t){return O(t,qr(t))},w.toPath=function(t){return Go(t)?f(t,String):Gn(t)},w.toPlainObject=jr,w.transform=function(t,e,n){var r=Go(t)||Dr(t);if(e=In(e,4),null==n)if(r||xr(t)){var i=t.constructor;n=r?Go(t)?new i:[]:Er(i)?ae(xi(t)):{}}else n={};return(r?u:me)(t,function(t,r,i){return e(n,t,r,i)}),n},w.unary=function(t){return ar(t,1)},w.union=yo,w.unionBy=Eo,w.unionWith=Co,w.uniq=function(t){return t&&t.length?Me(t):[]},w.uniqBy=function(t,e){return t&&t.length?Me(t,In(e)):[]},w.uniqWith=function(t,e){return t&&t.length?Me(t,M,e):[]},w.unset=function(t,e){var n;if(null==t)n=!0;else{n=t;var r=e,r=Fn(r,n)?[r+""]:re(r);n=qn(n,r),r=Yn(r),n=null!=n&&Pr(n,r)?delete n[r]:!0}return n},w.unzip=Jn,w.unzipWith=Qn,w.update=function(t,e,n){return null!=t&&(n=ne(n),t=Ue(t,e,n(ve(t,e)),void 0)),t},w.updateWith=function(t,e,n,r){return r="function"==typeof r?r:M,null!=t&&(n=ne(n),t=Ue(t,e,n(ve(t,e)),r)),t},w.values=Mr,w.valuesIn=function(t){return null==t?[]:I(t,qr(t))},w.without=To,w.words=Yr,w.wrap=function(t,e){return e=null==e?Vr:e,Wo(e,t)},w.xor=xo,w.xorBy=bo,w.xorWith=Oo,w.zip=So,w.zipObject=function(t,e){return Ye(t||[],e||[],Yt)},w.zipObjectDeep=function(t,e){return Ye(t||[],e||[],Ue)},w.zipWith=Io,w.extend=Xo,w.extendWith=zo,Qr(w,w),w.add=function(t,e){var n;return t===M&&e===M?0:(t!==M&&(n=t),e!==M&&(n=n===M?e:n+e),n)},w.attempt=mu,w.camelCase=uu,w.capitalize=$r,w.ceil=Ou,w.clamp=function(t,e,n){return n===M&&(n=e,e=M),n!==M&&(n=Lr(n),n=n===n?n:0),e!==M&&(e=Lr(e),e=e===e?e:0),ie(Lr(t),e,n)},w.clone=function(t){return oe(t,!1,!0)},w.cloneDeep=function(t){return oe(t,!0,!0)},w.cloneDeepWith=function(t,e){return oe(t,!0,!0,e)},w.cloneWith=function(t,e){return oe(t,!1,!0,e)},w.deburr=Xr,w.endsWith=function(t,e,n){t=Fr(t),e="string"==typeof e?e:e+"";var r=t.length;return n=n===M?r:ie(Br(n),0,r),n-=e.length,n>=0&&t.indexOf(e,n)==n},w.eq=mr,w.escape=function(t){return(t=Fr(t))&&tt.test(t)?t.replace(J,N):t},w.escapeRegExp=function(t){return(t=Fr(t))&&ct.test(t)?t.replace(at,"\\$&"):t},w.every=function(t,e,n){var r=Go(t)?a:se;return n&&jn(t,e,n)&&(e=M),r(t,In(e,3))},w.find=function(t,e){if(e=In(e,3),Go(t)){var n=_(t,e);return n>-1?t[n]:M}return v(t,e,Qi)},w.findIndex=function(t,e){return t&&t.length?_(t,In(e,3)):-1},w.findKey=function(t,e){return v(t,In(e,3),me,!0)},w.findLast=function(t,e){if(e=In(e,3),Go(t)){var n=_(t,e,!0);return n>-1?t[n]:M}return v(t,e,to)},w.findLastIndex=function(t,e){return t&&t.length?_(t,In(e,3),!0):-1},w.findLastKey=function(t,e){return v(t,In(e,3),pe,!0)},w.floor=Su,w.forEach=rr,w.forEachRight=ir,w.forIn=function(t,e){return null==t?t:eo(t,ne(e),qr)},w.forInRight=function(t,e){return null==t?t:no(t,ne(e),qr)},w.forOwn=function(t,e){return t&&me(t,ne(e))},w.forOwnRight=function(t,e){return t&&pe(t,ne(e))},w.get=Ur,w.gt=pr,w.gte=function(t,e){return t>=e},w.has=Pr,w.hasIn=Wr,w.head=zn,w.identity=Vr,w.includes=function(t,e,n,r){return t=vr(t)?t:Mr(t),n=n&&!r?Br(n):0,r=t.length,0>n&&(n=Ki(r+n,0)),Rr(t)?r>=n&&-1<t.indexOf(e,n):!!r&&-1<y(t,e,n)},w.indexOf=function(t,e,n){var r=t?t.length:0;return r?(n=Br(n),0>n&&(n=Ki(r+n,0)),y(t,e,n)):-1},w.inRange=function(t,e,n){return e=Lr(e)||0,n===M?(n=e,e=0):n=Lr(n)||0,t=Lr(t),t>=Li(e,n)&&t<Ki(e,n)},w.invoke=eu,w.isArguments=gr,w.isArray=Go,w.isArrayBuffer=function(t){return br(t)&&"[object ArrayBuffer]"==mi.call(t)},w.isArrayLike=vr,w.isArrayLikeObject=_r,w.isBoolean=function(t){return!0===t||!1===t||br(t)&&"[object Boolean]"==mi.call(t)},w.isBuffer=Mo,w.isDate=function(t){return br(t)&&"[object Date]"==mi.call(t)},w.isElement=function(t){return!!t&&1===t.nodeType&&br(t)&&!Ir(t)},w.isEmpty=function(t){if(vr(t)&&(Go(t)||Rr(t)||Er(t.splice)||gr(t)))return!t.length;for(var e in t)if(fi.call(t,e))return!1;return!0},w.isEqual=function(t,e){return xe(t,e)},w.isEqualWith=function(t,e,n){var r=(n="function"==typeof n?n:M)?n(t,e):M;return r===M?xe(t,e,n):!!r},w.isError=yr,w.isFinite=function(t){return"number"==typeof t&&Ai(t)},w.isFunction=Er,w.isInteger=Cr,w.isLength=Tr,w.isMap=function(t){return br(t)&&"[object Map]"==Dn(t)},w.isMatch=function(t,e){return t===e||be(t,e,kn(e))},w.isMatchWith=function(t,e,n){return n="function"==typeof n?n:M,be(t,e,kn(e),n)},w.isNaN=function(t){return Sr(t)&&t!=+t},w.isNative=Or,w.isNil=function(t){return null==t},w.isNull=function(t){return null===t},w.isNumber=Sr,w.isObject=xr,w.isObjectLike=br,w.isPlainObject=Ir,w.isRegExp=kr,w.isSafeInteger=function(t){return Cr(t)&&t>=-9007199254740991&&9007199254740991>=t},w.isSet=function(t){return br(t)&&"[object Set]"==Dn(t)},w.isString=Rr,w.isSymbol=wr,w.isTypedArray=Dr,w.isUndefined=function(t){return t===M},w.isWeakMap=function(t){return br(t)&&"[object WeakMap]"==Dn(t)},w.isWeakSet=function(t){return br(t)&&"[object WeakSet]"==mi.call(t)},w.join=function(t,e){return t?Ni.call(t,e):""},w.kebabCase=au,w.last=Yn,w.lastIndexOf=function(t,e,n){var r=t?t.length:0;if(!r)return-1;var i=r;if(n!==M&&(i=Br(n),i=(0>i?Ki(r+i,0):Li(i,r-1))+1),e!==e)return K(t,i,!0);for(;i--;)if(t[i]===e)return i;return-1},w.lowerCase=cu,w.lowerFirst=lu,w.lt=Ar,w.lte=function(t,e){return e>=t},w.max=function(t){return t&&t.length?g(t,Vr,pr):M},w.maxBy=function(t,e){return t&&t.length?g(t,In(e),pr):M},w.mean=function(t){return ni(t)/(t?t.length:0)},w.min=function(t){return t&&t.length?g(t,Vr,Ar):M},w.minBy=function(t,e){return t&&t.length?g(t,In(e),Ar):M},w.noConflict=function(){return Zt._===this&&(Zt._=pi),this},w.noop=ti,w.now=Ko,w.pad=function(t,e,n){t=Fr(t),e=Br(e);var r=H(t);return e&&e>r?(r=(e-r)/2,e=Di(r),r=wi(r),_n("",e,n)+t+_n("",r,n)):t},w.padEnd=function(t,e,n){return t=Fr(t),t+_n(t,e,n)},w.padStart=function(t,e,n){return t=Fr(t),_n(t,e,n)+t},w.parseInt=function(t,e,n){return n||null==e?e=0:e&&(e=+e),t=Fr(t).replace(lt,""),ji(t,e||(pt.test(t)?16:10))},w.random=function(t,e,n){if(n&&"boolean"!=typeof n&&jn(t,e,n)&&(e=n=M),n===M&&("boolean"==typeof e?(n=e,e=M):"boolean"==typeof t&&(n=t,t=M)),t===M&&e===M?(t=0,e=1):(t=Lr(t)||0,e===M?(e=t,t=0):e=Lr(e)||0),t>e){var r=t;t=e,e=r}return n||t%1||e%1?(n=Fi(),Li(t+n*(e-t+Wt("1e-"+((n+"").length-1))),e)):Fe(t,e)},w.reduce=function(t,e,n){var r=Go(t)?h:C,i=3>arguments.length;return r(t,In(e,4),n,i,Qi)},w.reduceRight=function(t,e,n){var r=Go(t)?m:C,i=3>arguments.length;return r(t,In(e,4),n,i,to)},w.repeat=zr,w.replace=function(){var t=arguments,e=Fr(t[0]);return 3>t.length?e:e.replace(t[1],t[2])},w.result=function(t,e,n){if(Fn(e,t))r=null==t?M:t[e];else{e=re(e);var r=Ur(t,e);t=qn(t,e)}return r===M&&(r=n),Er(r)?r.call(t):r},w.round=Iu,w.runInContext=G,w.sample=function(t){t=vr(t)?t:Mr(t);var e=t.length;return e>0?t[Fe(0,e-1)]:M},w.size=function(t){if(null==t)return 0;if(vr(t)){var e=t.length;return e&&Rr(t)?H(t):e}return Hr(t).length},w.snakeCase=fu,w.some=function(t,e,n){var r=Go(t)?p:We;return n&&jn(t,e,n)&&(e=M),r(t,In(e,3))},w.sortedIndex=function(t,e){return He(t,e)},w.sortedIndexBy=function(t,e,n){return qe(t,e,In(n))},w.sortedIndexOf=function(t,e){var n=t?t.length:0;if(n){var r=He(t,e);if(n>r&&mr(t[r],e))return r}return-1},w.sortedLastIndex=function(t,e){return He(t,e,!0)},w.sortedLastIndexBy=function(t,e,n){return qe(t,e,In(n),!0)},w.sortedLastIndexOf=function(t,e){if(t&&t.length){var n=He(t,e,!0)-1;if(mr(t[n],e))return n}return-1},w.startCase=du,w.startsWith=function(t,e,n){return t=Fr(t),n=ie(Br(n),0,t.length),t.lastIndexOf(e,n)==n},w.subtract=function(t,e){var n;return t===M&&e===M?0:(t!==M&&(n=t),e!==M&&(n=n===M?e:n-e),n)},w.sum=ni,w.sumBy=function(t,e){return t&&t.length?x(t,In(e)):0},w.template=function(t,e,n){var r=w.templateSettings;n&&jn(t,e,n)&&(e=M),t=Fr(t),e=zo({},e,r,Xt),n=zo({},e.imports,r.imports,Xt);var i,o,u=Hr(n),a=I(n,u),c=0;n=e.interpolate||Tt;var l="__p+='";n=ui((e.escape||Tt).source+"|"+n.source+"|"+(n===rt?ht:Tt).source+"|"+(e.evaluate||Tt).source+"|$","g");var s="sourceURL"in e?"//# sourceURL="+e.sourceURL+"\n":"";if(t.replace(n,function(e,n,r,u,a,s){return r||(r=u),l+=t.slice(c,s).replace(xt,B),n&&(i=!0,l+="'+__e("+n+")+'"),a&&(o=!0,l+="';"+a+";\n__p+='"),r&&(l+="'+((__t=("+r+"))==null?'':__t)+'"),c=s+e.length,e}),l+="';",(e=e.variable)||(l="with(obj){"+l+"}"),l=(o?l.replace(z,""):l).replace(Y,"$1").replace(Z,"$1;"),l="function("+(e||"obj")+"){"+(e?"":"obj||(obj={});")+"var __t,__p=''"+(i?",__e=_.escape":"")+(o?",__j=Array.prototype.join;function print(){__p+=__j.call(arguments,'')}":";")+l+"return __p}",e=mu(function(){return Function(u,s+"return "+l).apply(M,a)}),e.source=l,yr(e))throw e;return e},w.times=function(t,e){if(t=Br(t),1>t||t>9007199254740991)return[];var n=4294967295,r=Li(t,4294967295);for(e=ne(e),t-=4294967295,r=b(r,e);++n<t;)e(n);return r},w.toInteger=Br,w.toLength=Kr,w.toLower=function(t){return Fr(t).toLowerCase()},w.toNumber=Lr,w.toSafeInteger=function(t){return ie(Br(t),-9007199254740991,9007199254740991)},w.toString=Fr,w.toUpper=function(t){return Fr(t).toUpperCase()},w.trim=function(t,e,n){return(t=Fr(t))?n||e===M?t.replace(lt,""):(e+="")?(t=t.match(kt),e=e.match(kt),t.slice(k(t,e),R(t,e)+1).join("")):t:t},w.trimEnd=function(t,e,n){return(t=Fr(t))?n||e===M?t.replace(ft,""):(e+="")?(t=t.match(kt),t.slice(0,R(t,e.match(kt))+1).join("")):t:t},w.trimStart=function(t,e,n){return(t=Fr(t))?n||e===M?t.replace(st,""):(e+="")?(t=t.match(kt),t.slice(k(t,e.match(kt))).join("")):t:t},w.truncate=function(t,e){var n=30,r="...";if(xr(e))var i="separator"in e?e.separator:i,n="length"in e?Br(e.length):n,r="omission"in e?Fr(e.omission):r;t=Fr(t);var o=t.length;if(Rt.test(t))var u=t.match(kt),o=u.length;if(n>=o)return t;if(o=n-H(r),1>o)return r;if(n=u?u.slice(0,o).join(""):t.slice(0,o),i===M)return n+r;if(u&&(o+=n.length-o),kr(i)){if(t.slice(o).search(i)){var a=n;for(i.global||(i=ui(i.source,Fr(mt.exec(i))+"g")),i.lastIndex=0;u=i.exec(a);)var c=u.index;n=n.slice(0,c===M?o:c)}}else t.indexOf(i,o)!=o&&(i=n.lastIndexOf(i),i>-1&&(n=n.slice(0,i)));return n+r},w.unescape=function(t){return(t=Fr(t))&&Q.test(t)?t.replace(V,q):t},w.uniqueId=function(t){var e=++di;return Fr(t)+e},w.upperCase=hu,w.upperFirst=su,w.each=rr,w.eachRight=ir,w.first=zn,Qr(w,function(){var t={};return me(w,function(e,n){fi.call(w.prototype,n)||(t[n]=e)}),t}(),{chain:!1}),w.VERSION="4.6.1",u("bind bindKey curry curryRight partial partialRight".split(" "),function(t){w[t].placeholder=w}),u(["drop","take"],function(t,e){Ot.prototype[t]=function(n){var r=this.__filtered__;if(r&&!e)return new Ot(this);n=n===M?1:Ki(Br(n),0);var i=this.clone();return r?i.__takeCount__=Li(n,i.__takeCount__):i.__views__.push({size:Li(n,4294967295),type:t+(0>i.__dir__?"Right":"")}),i},Ot.prototype[t+"Right"]=function(e){return this.reverse()[t](e).reverse()}}),u(["filter","map","takeWhile"],function(t,e){var n=e+1,r=1==n||3==n;Ot.prototype[t]=function(t){var e=this.clone();return e.__iteratees__.push({iteratee:In(t,3),type:n}),e.__filtered__=e.__filtered__||r,e}}),u(["head","last"],function(t,e){var n="take"+(e?"Right":"");Ot.prototype[t]=function(){return this[n](1).value()[0]}}),u(["initial","tail"],function(t,e){var n="drop"+(e?"":"Right");Ot.prototype[t]=function(){return this.__filtered__?new Ot(this):this[n](1)}}),Ot.prototype.compact=function(){return this.filter(Vr)},Ot.prototype.find=function(t){return this.filter(t).head()},Ot.prototype.findLast=function(t){return this.reverse().find(t)},Ot.prototype.invokeMap=hr(function(t,e){return"function"==typeof t?new Ot(this):this.map(function(n){return Te(n,t,e)})}),Ot.prototype.reject=function(t){return t=In(t,3),this.filter(function(e){return!t(e)})},Ot.prototype.slice=function(t,e){t=Br(t);var n=this;return n.__filtered__&&(t>0||0>e)?new Ot(n):(0>t?n=n.takeRight(-t):t&&(n=n.drop(t)),e!==M&&(e=Br(e),n=0>e?n.dropRight(-e):n.take(e-t)),n)},Ot.prototype.takeRightWhile=function(t){return this.reverse().takeWhile(t).reverse()},Ot.prototype.toArray=function(){return this.take(4294967295)},me(Ot.prototype,function(t,e){var n=/^(?:filter|find|map|reject)|While$/.test(e),r=/^(?:head|last)$/.test(e),i=w[r?"take"+("last"==e?"Right":""):e],o=r||/^find/.test(e);i&&(w.prototype[e]=function(){var e=this.__wrapped__,u=r?[1]:arguments,a=e instanceof Ot,c=u[0],l=a||Go(e),s=function(t){return t=i.apply(w,d([t],u)),r&&f?t[0]:t};l&&n&&"function"==typeof c&&1!=c.length&&(a=l=!1);var f=this.__chain__,h=!!this.__actions__.length,c=o&&!f,a=a&&!h;return!o&&l?(e=a?e:new Ot(this),e=t.apply(e,u),e.__actions__.push({func:er,args:[s],thisArg:M}),new bt(e,f)):c&&a?t.apply(this,u):(e=this.thru(s),c?r?e.value()[0]:e.value():e)})}),u("pop push shift sort splice unshift".split(" "),function(t){var e=ci[t],n=/^(?:push|sort|unshift)$/.test(t)?"tap":"thru",r=/^(?:pop|shift)$/.test(t);w.prototype[t]=function(){var t=arguments;return r&&!this.__chain__?e.apply(this.value(),t):this[n](function(n){return e.apply(n,t)})}}),me(Ot.prototype,function(t,e){var n=w[e];if(n){var r=n.name+"";($i[r]||($i[r]=[])).push({name:e,func:n})}}),$i[pn(M,2).name]=[{name:"wrapper",func:M}],Ot.prototype.clone=function(){var t=new Ot(this.__wrapped__);return t.__actions__=tn(this.__actions__),t.__dir__=this.__dir__,t.__filtered__=this.__filtered__,t.__iteratees__=tn(this.__iteratees__),t.__takeCount__=this.__takeCount__,t.__views__=tn(this.__views__),t},Ot.prototype.reverse=function(){if(this.__filtered__){var t=new Ot(this);t.__dir__=-1,t.__filtered__=!0}else t=this.clone(),t.__dir__*=-1;return t},Ot.prototype.value=function(){var t,e=this.__wrapped__.value(),n=this.__dir__,r=Go(e),i=0>n,o=r?e.length:0;t=0;for(var u=o,a=this.__views__,c=-1,l=a.length;++c<l;){var s=a[c],f=s.size;switch(s.type){case"drop":t+=f;break;case"dropRight":u-=f;break;case"take":u=Li(u,t+f);break;case"takeRight":t=Ki(t,u-f)}}if(t={start:t,end:u},u=t.start,a=t.end,t=a-u,i=i?a:u-1,u=this.__iteratees__,a=u.length,c=0,l=Li(t,this.__takeCount__),!r||200>o||o==t&&l==t)return Xe(e,this.__actions__);r=[];t:for(;t--&&l>c;){for(i+=n,o=-1,s=e[i];++o<a;){var d=u[o],f=d.type,d=(0,d.iteratee)(s);if(2==f)s=d;else if(!d){if(1==f)continue t;break t}}r[c++]=s}return r},w.prototype.at=ko,w.prototype.chain=function(){return tr(this)},w.prototype.commit=function(){return new bt(this.value(),this.__chain__)},w.prototype.flatMap=function(t){return this.map(t).flatten()},w.prototype.next=function(){this.__values__===M&&(this.__values__=Nr(this.value()));var t=this.__index__>=this.__values__.length,e=t?M:this.__values__[this.__index__++];return{done:t,value:e}},w.prototype.plant=function(t){for(var e,n=this;n instanceof Et;){var r=Mn(n);r.__index__=0,r.__values__=M,e?i.__wrapped__=r:e=r;var i=r,n=n.__wrapped__}return i.__wrapped__=t,e},w.prototype.reverse=function(){var t=this.__wrapped__;return t instanceof Ot?(this.__actions__.length&&(t=new Ot(this)),t=t.reverse(),t.__actions__.push({func:er,args:[Vn],thisArg:M}),new bt(t,this.__chain__)):this.thru(Vn)},w.prototype.toJSON=w.prototype.valueOf=w.prototype.value=function(){return Xe(this.__wrapped__,this.__actions__)},Oi&&(w.prototype[Oi]=nr),w}var M,$=1/0,X=NaN,z=/\b__p\+='';/g,Y=/\b(__p\+=)''\+/g,Z=/(__e\(.*?\)|\b__t\))\+'';/g,V=/&(?:amp|lt|gt|quot|#39|#96);/g,J=/[&<>"'`]/g,Q=RegExp(V.source),tt=RegExp(J.source),et=/<%-([\s\S]+?)%>/g,nt=/<%([\s\S]+?)%>/g,rt=/<%=([\s\S]+?)%>/g,it=/\.|\[(?:[^[\]]*|(["'])(?:(?!\1)[^\\]|\\.)*?\1)\]/,ot=/^\w*$/,ut=/[^.[\]]+|\[(?:(-?\d+(?:\.\d+)?)|(["'])((?:(?!\2)[^\\]|\\.)*?)\2)\]/g,at=/[\\^$.*+?()[\]{}|]/g,ct=RegExp(at.source),lt=/^\s+|\s+$/g,st=/^\s+/,ft=/\s+$/,dt=/\\(\\)?/g,ht=/\$\{([^\\}]*(?:\\.[^\\}]*)*)\}/g,mt=/\w*$/,pt=/^0x/i,gt=/^[-+]0x[0-9a-f]+$/i,vt=/^0b[01]+$/i,_t=/^\[object .+?Constructor\]$/,yt=/^0o[0-7]+$/i,Et=/^(?:0|[1-9]\d*)$/,Ct=/[\xc0-\xd6\xd8-\xde\xdf-\xf6\xf8-\xff]/g,Tt=/($^)/,xt=/['\n\r\u2028\u2029\\]/g,bt="[\\ufe0e\\ufe0f]?(?:[\\u0300-\\u036f\\ufe20-\\ufe23\\u20d0-\\u20f0]|\\ud83c[\\udffb-\\udfff])?(?:\\u200d(?:[^\\ud800-\\udfff]|(?:\\ud83c[\\udde6-\\uddff]){2}|[\\ud800-\\udbff][\\udc00-\\udfff])[\\ufe0e\\ufe0f]?(?:[\\u0300-\\u036f\\ufe20-\\ufe23\\u20d0-\\u20f0]|\\ud83c[\\udffb-\\udfff])?)*",Ot="(?:[\\u2700-\\u27bf]|(?:\\ud83c[\\udde6-\\uddff]){2}|[\\ud800-\\udbff][\\udc00-\\udfff])"+bt,St="(?:[^\\ud800-\\udfff][\\u0300-\\u036f\\ufe20-\\ufe23\\u20d0-\\u20f0]?|[\\u0300-\\u036f\\ufe20-\\ufe23\\u20d0-\\u20f0]|(?:\\ud83c[\\udde6-\\uddff]){2}|[\\ud800-\\udbff][\\udc00-\\udfff]|[\\ud800-\\udfff])",It=RegExp("[\\u0300-\\u036f\\ufe20-\\ufe23\\u20d0-\\u20f0]","g"),kt=RegExp("\\ud83c[\\udffb-\\udfff](?=\\ud83c[\\udffb-\\udfff])|"+St+bt,"g"),Rt=RegExp("[\\u200d\\ud800-\\udfff\\u0300-\\u036f\\ufe20-\\ufe23\\u20d0-\\u20f0\\ufe0e\\ufe0f]"),wt=/[a-zA-Z0-9]+/g,Dt=RegExp(["[A-Z\\xc0-\\xd6\\xd8-\\xde]?[a-z\\xdf-\\xf6\\xf8-\\xff]+(?=[\\xac\\xb1\\xd7\\xf7\\x00-\\x2f\\x3a-\\x40\\x5b-\\x60\\x7b-\\xbf\\u2018\\u2019\\u201c\\u201d \\t\\x0b\\f\\xa0\\ufeff\\n\\r\\u2028\\u2029\\u1680\\u180e\\u2000\\u2001\\u2002\\u2003\\u2004\\u2005\\u2006\\u2007\\u2008\\u2009\\u200a\\u202f\\u205f\\u3000]|[A-Z\\xc0-\\xd6\\xd8-\\xde]|$)|(?:[A-Z\\xc0-\\xd6\\xd8-\\xde]|[^\\ud800-\\udfff\\xac\\xb1\\xd7\\xf7\\x00-\\x2f\\x3a-\\x40\\x5b-\\x60\\x7b-\\xbf\\u2018\\u2019\\u201c\\u201d \\t\\x0b\\f\\xa0\\ufeff\\n\\r\\u2028\\u2029\\u1680\\u180e\\u2000\\u2001\\u2002\\u2003\\u2004\\u2005\\u2006\\u2007\\u2008\\u2009\\u200a\\u202f\\u205f\\u3000\\d+\\u2700-\\u27bfa-z\\xdf-\\xf6\\xf8-\\xffA-Z\\xc0-\\xd6\\xd8-\\xde])+(?=[\\xac\\xb1\\xd7\\xf7\\x00-\\x2f\\x3a-\\x40\\x5b-\\x60\\x7b-\\xbf\\u2018\\u2019\\u201c\\u201d \\t\\x0b\\f\\xa0\\ufeff\\n\\r\\u2028\\u2029\\u1680\\u180e\\u2000\\u2001\\u2002\\u2003\\u2004\\u2005\\u2006\\u2007\\u2008\\u2009\\u200a\\u202f\\u205f\\u3000]|[A-Z\\xc0-\\xd6\\xd8-\\xde](?:[a-z\\xdf-\\xf6\\xf8-\\xff]|[^\\ud800-\\udfff\\xac\\xb1\\xd7\\xf7\\x00-\\x2f\\x3a-\\x40\\x5b-\\x60\\x7b-\\xbf\\u2018\\u2019\\u201c\\u201d \\t\\x0b\\f\\xa0\\ufeff\\n\\r\\u2028\\u2029\\u1680\\u180e\\u2000\\u2001\\u2002\\u2003\\u2004\\u2005\\u2006\\u2007\\u2008\\u2009\\u200a\\u202f\\u205f\\u3000\\d+\\u2700-\\u27bfa-z\\xdf-\\xf6\\xf8-\\xffA-Z\\xc0-\\xd6\\xd8-\\xde])|$)|[A-Z\\xc0-\\xd6\\xd8-\\xde]?(?:[a-z\\xdf-\\xf6\\xf8-\\xff]|[^\\ud800-\\udfff\\xac\\xb1\\xd7\\xf7\\x00-\\x2f\\x3a-\\x40\\x5b-\\x60\\x7b-\\xbf\\u2018\\u2019\\u201c\\u201d \\t\\x0b\\f\\xa0\\ufeff\\n\\r\\u2028\\u2029\\u1680\\u180e\\u2000\\u2001\\u2002\\u2003\\u2004\\u2005\\u2006\\u2007\\u2008\\u2009\\u200a\\u202f\\u205f\\u3000\\d+\\u2700-\\u27bfa-z\\xdf-\\xf6\\xf8-\\xffA-Z\\xc0-\\xd6\\xd8-\\xde])+|[A-Z\\xc0-\\xd6\\xd8-\\xde]+|\\d+",Ot].join("|"),"g"),At=/[a-z][A-Z]|[0-9][a-zA-Z]|[a-zA-Z][0-9]|[^a-zA-Z0-9 ]/,Nt="Array Buffer Date Error Float32Array Float64Array Function Int8Array Int16Array Int32Array Map Math Object Reflect RegExp Set String Symbol TypeError Uint8Array Uint8ClampedArray Uint16Array Uint32Array WeakMap _ clearTimeout isFinite parseInt setTimeout".split(" "),Bt={};Bt["[object Float32Array]"]=Bt["[object Float64Array]"]=Bt["[object Int8Array]"]=Bt["[object Int16Array]"]=Bt["[object Int32Array]"]=Bt["[object Uint8Array]"]=Bt["[object Uint8ClampedArray]"]=Bt["[object Uint16Array]"]=Bt["[object Uint32Array]"]=!0,
Bt["[object Arguments]"]=Bt["[object Array]"]=Bt["[object ArrayBuffer]"]=Bt["[object Boolean]"]=Bt["[object Date]"]=Bt["[object Error]"]=Bt["[object Function]"]=Bt["[object Map]"]=Bt["[object Number]"]=Bt["[object Object]"]=Bt["[object RegExp]"]=Bt["[object Set]"]=Bt["[object String]"]=Bt["[object WeakMap]"]=!1;var Kt={};Kt["[object Arguments]"]=Kt["[object Array]"]=Kt["[object ArrayBuffer]"]=Kt["[object Boolean]"]=Kt["[object Date]"]=Kt["[object Float32Array]"]=Kt["[object Float64Array]"]=Kt["[object Int8Array]"]=Kt["[object Int16Array]"]=Kt["[object Int32Array]"]=Kt["[object Map]"]=Kt["[object Number]"]=Kt["[object Object]"]=Kt["[object RegExp]"]=Kt["[object Set]"]=Kt["[object String]"]=Kt["[object Symbol]"]=Kt["[object Uint8Array]"]=Kt["[object Uint8ClampedArray]"]=Kt["[object Uint16Array]"]=Kt["[object Uint32Array]"]=!0,Kt["[object Error]"]=Kt["[object Function]"]=Kt["[object WeakMap]"]=!1;var Lt={"À":"A","Á":"A","Â":"A","Ã":"A","Ä":"A","Å":"A","à":"a","á":"a","â":"a","ã":"a","ä":"a","å":"a","Ç":"C","ç":"c","Ð":"D","ð":"d","È":"E","É":"E","Ê":"E","Ë":"E","è":"e","é":"e","ê":"e","ë":"e","Ì":"I","Í":"I","Î":"I","Ï":"I","ì":"i","í":"i","î":"i","ï":"i","Ñ":"N","ñ":"n","Ò":"O","Ó":"O","Ô":"O","Õ":"O","Ö":"O","Ø":"O","ò":"o","ó":"o","ô":"o","õ":"o","ö":"o","ø":"o","Ù":"U","Ú":"U","Û":"U","Ü":"U","ù":"u","ú":"u","û":"u","ü":"u","Ý":"Y","ý":"y","ÿ":"y","Æ":"Ae","æ":"ae","Þ":"Th","þ":"th","ß":"ss"},jt={"&":"&amp;","<":"&lt;",">":"&gt;",'"':"&quot;","'":"&#39;","`":"&#96;"},Ft={"&amp;":"&","&lt;":"<","&gt;":">","&quot;":'"',"&#39;":"'","&#96;":"`"},Ut={"function":!0,object:!0},Pt={"\\":"\\","'":"'","\n":"n","\r":"r","\u2028":"u2028","\u2029":"u2029"},Wt=parseFloat,Ht=parseInt,qt=Ut["undefined"==typeof exports?"undefined":i(exports)]&&exports&&!exports.nodeType?exports:M,Gt=Ut["undefined"==typeof module?"undefined":i(module)]&&module&&!module.nodeType?module:M,Mt=Gt&&Gt.exports===qt?qt:M,$t=w(qt&&Gt&&"object"==("undefined"==typeof global?"undefined":i(global))&&global),Xt=w(Ut["undefined"==typeof self?"undefined":i(self)]&&self),zt=w(Ut["undefined"==typeof window?"undefined":i(window)]&&window),Yt=w(Ut[i(this)]&&this),Zt=$t||zt!==(Yt&&Yt.window)&&zt||Xt||Yt||Function("return this")(),Vt=G();(zt||Xt||{})._=Vt,"function"==typeof r&&"object"==i(r.amd)&&r.amd&&r("ckLodash",[],function(){return Vt})}(),_.noConflict(),r("utils/constants",{WIX_GUARD:-1===window.location.search.indexOf("funEditorGuardVisible=true")?"​":"⏈",CK_GUARD:"​",BACKSPACE_KEYCODE:8,RETURN_KEYCODE:13,ENTER_KEYCODE:14,SHIFT_KEYCODE:16,CONTROL_KEYCODE:17,ALT_KEYCODE:18,PAGE_UP_KEYCODE:33,PAGE_DOWN_KEYCODE:34,END_KEYCODE:35,HOME_KEYCODE:36,LEFT_KEYCODE:37,UP_KEYCODE:38,RIGHT_KEYCODE:39,DOWN_KEYCODE:40,DELETE_KEYCODE:46,TEXT_BLOCKS:["p","h1","h2","h3","h4","h5","h6"],COLOR_CLASS_PREFIX:"color_",BACKCOLOR_CLASS_PREFIX:"backcolor_",WIX_LIST_CLASSNAME:"wix-list",WINDOWS_APPS_KEY:"Apps",MOUSE_LEFT_CLICK_BUTTON:1,MOUSE_RIGHT_CLICK_BUTTON:2}),r("utils/utils",["ckLodash","utils/constants"],function(t,e){"use strict";function n(t){return null===t.block?t.blockLimit:t.block}function r(t){return new RegExp("^["+e.CK_GUARD+"|"+e.WIX_GUARD+"]$").test(t)}function i(t){return new RegExp("^["+e.CK_GUARD+e.WIX_GUARD+"\n\r\\s\ufeff]*$").test(t)}function o(t){return!!CKEDITOR.dtd.$block[t]}function u(){return CKEDITOR.env.gecko||CKEDITOR.env.ie}function a(t){return!(!CKEDITOR.dtd.$list[t]&&!CKEDITOR.dtd.$listItem[t])}function c(){return new RegExp(e.WIX_GUARD+"|"+e.CK_GUARD,"g")}function l(t){var e=c();return t.replace(e,"")}function s(t){return l(t.editable().$.textContent).length}function f(t){var e=document.createElement("div");return e.innerHTML=t,e.textContent}function d(e){var n=document.createElement("div");n.innerHTML=e;var r=document.createDocumentFragment(),i=Array.prototype.slice.call(n.childNodes);return t.forEach(i,function(t){r.appendChild(t)}),new CKEDITOR.dom.documentFragment(r)}function h(t){return t.replace(/\s/g,"")}function m(t){return t&&t.getName?-1!==e.TEXT_BLOCKS.indexOf(t.getName()):!1}function p(){return CKEDITOR.env.safari}function g(){return CKEDITOR.env.gecko}function v(){return CKEDITOR.env.ie}function _(t){return t.getCommand("numberedlist").state!==CKEDITOR.TRISTATE_OFF||t.getCommand("bulletedlist").state!==CKEDITOR.TRISTATE_OFF}function y(t){var e=document.createElement("div");return e.innerHTML=t,e}function E(e,n){if(!n)return!1;var r=(e||"").trim().toLowerCase().split(/\s+/),i=(n||"").trim().toLowerCase().split(/\s+/);return!t.isEqual(r,i)}return{getBlockParent:n,getCKDocumentFragment:d,getEditorTextLength:s,getFindGuardsRegex:c,getPlainTextFromHtml:f,isBlockElement:o,isFF:g,isIE:v,isIEOrFF:u,isListElement:a,isListStateOn:_,isTextBlock:m,isWhiteSpace:i,isSafari:p,isZWSP:r,removeGuardsChars:l,removeSpaces:h,createFragmentFromString:y,isSpellCheckCorrectionOccurred:E}}),r("utils/rangeUtils",["utils/utils","ckLodash","utils/constants"],function(t,e,n){"use strict";function r(e){return{startBlock:t.getBlockParent(e.startPath()),endBlock:t.getBlockParent(e.endPath())}}function i(t,e,n){if(t){var i=r(t);if(i&&((n||C(t))&&e(i.startBlock),!u(i))){for(var c=new CKEDITOR.dom.walker(t);!o(c.next(),i.endBlock);)a(c.current)&&e(c.current);(n||T(t))&&e(i.endBlock)}}}function o(t,n){return e.isEqual(t.getUniqueId(),n.getUniqueId())}function u(t){return e.isEqual(t.startBlock.getUniqueId(),t.endBlock.getUniqueId())}function a(n){return n&&!e.isEqual(n.type,CKEDITOR.NODE_TEXT)&&!t.isListElement(n.getName())&&t.isBlockElement(n.getName())}function c(t){for(var e,n=new CKEDITOR.dom.walker(t),r="";e=n.next();)e.type===CKEDITOR.NODE_TEXT&&(r+=e.getUniqueId()===t.endContainer.getUniqueId()&&e.getUniqueId()===t.startContainer.getUniqueId()?e.getText().substring(t.startOffset,t.endOffset):e.getUniqueId()===t.endContainer.getUniqueId()?e.getText().substring(0,t.endOffset):e.getUniqueId()===t.startContainer.getUniqueId()?e.getText().substring(t.startOffset,e.getText().length):e.getText());return r}function l(t){for(var e,n=new CKEDITOR.dom.walker(t),r=0;e=n.next();)e.type===CKEDITOR.NODE_ELEMENT&&"br"===e.getName()&&r++;return r}function s(t,e){var n=t.startPath().contains(e),r=t.endPath().contains(e);return n&&r}function f(t,e,n){for(var r,i=n?"previous":"next",o=null,u=new CKEDITOR.dom.walker(t);r=u[i]();)e(r)&&(o=r,u.end());return o}function d(t){return t.type===CKEDITOR.NODE_TEXT&&t.getText().replace(/[\n\r]/g,"").length>0}function h(t){return t.getName&&-1!==n.TEXT_BLOCKS.indexOf(t.getName())}function m(t){return f(t,d)}function p(t){return f(t,d,!0)}function g(t){return f(t,h)}function v(t){return f(t,h,!0)}function _(t,n,r){for(var i,o=new CKEDITOR.dom.walker(t),u=o.next();u;){if(e.result(u,"getName")===n){if(r)return u;i=u}u=o.next()}return i}function y(t,n){for(var r=new CKEDITOR.dom.walker(t),i=r.next(),o=[];i;)e.result(i,"getName")===n&&o.push(i),i=r.next();return o}function E(t,e){var n=c(t),r=c(e);return n===r}function C(t){var n=t.clone(),i=r(t);return n.setStartBefore(i.startBlock),e.isEqual(i.startBlock.getUniqueId(),i.endBlock.getUniqueId())&&n.setEndAfter(i.endBlock),E(t,n)}function T(t){var n=t.clone(),i=r(t);return n.setEndAfter(i.endBlock),e.isEqual(i.startBlock.getUniqueId(),i.endBlock.getUniqueId())&&n.setStartBefore(i.startBlock),E(t,n)}function x(t){for(var e,n=new CKEDITOR.dom.walker(t),r=[];e=n.next();)e.type===CKEDITOR.NODE_TEXT&&r.push(e);return r}function b(t,e,n,r,i){var o=new CKEDITOR.dom.range(t);return o.setStart(e,n),r&&o.setEnd(r,i),o}return{countBrInRange:l,createRange:b,findFirstNonEmptyTextNode:m,findFirstTextBlock:g,findLastNonEmptyTextNode:p,findLastTextBlock:v,forEachBlock:i,getAllElementsInRange:y,getElementFromRange:_,getStartAndEndBlock:r,getText:c,getTextNodesInSelection:x,isRangeInsideElement:s,isStarBlockFullyInRange:C,isEndBlockFullyInRange:T}}),r("utils/elementUtils",["utils/utils","utils/rangeUtils","ckLodash"],function(t,e,n){"use strict";function r(t,e,r){var i=t.$.style;n.chain(i).filter(r).forEach(function(t){e.setStyle(t,i[t])}).value()}function i(t,e){var n=new CKEDITOR.dom.range(e);return n.selectNodeContents(e),new CKEDITOR.dom.walker(n)}function o(t,e,r){var i=t.$.classList;n.chain(i).filter(r).forEach(function(t){e.addClass(t)}).value()}function u(e){return t.isWhiteSpace(e.getText())}function a(t,e,r){var i=r.getUniqueId(),o=new CKEDITOR.dom.elementPath(e).elements;return n.find(o,function(t){return t.getUniqueId()===i})}function c(e){return e&&0===t.removeGuardsChars(e.$.textContent).length}function l(t,n){if(!t.startPath().contains(n))return null;var r=t.clone();return r.setStart(n,0),r.setEnd(r.endContainer,r.endOffset),e.getText(r)}function s(t,e){return n.find(t.elements,function(t){return n.result(t,"getName")===e})}function f(t,e){var r,i=t.getChildren(),o=[];for(r=0;r<i.count();r++){var u=i.getItem(r);n.result(u,"getName")===e&&o.push(u)}return o}function d(t,e){t.$&&n.chain(t.$.classList).filter(function(t){return n.startsWith(t,e)}).forEach(function(e){t.removeClass(e)}).value()}function h(e){var n=e.getHtml(),r=t.removeGuardsChars(n),i=t.getCKDocumentFragment(r);i.replace(e)}function m(t){return n.find(t.getAttribute("class").split(" "),function(t){return n.startsWith(t,"font_")})}return{cloneStylesToElement:r,cloneClassesToElement:o,getChildrenByNodeName:f,getElementFromPath:s,getTextBeforeCursor:l,getWalkerForElement:i,isElementEqualToOrChildOf:a,isElementTextEmpty:c,isWhiteSpace:u,removeClassesWithPrefix:d,replaceElementByItsContents:h,getTheme:m}}),r("utils/findElementUtils",["utils/utils","utils/rangeUtils","utils/elementUtils"],function(t,e,n){"use strict";function r(e,n){if(t.isTextBlock(n))return n;n=n||e.editable();var r=new CKEDITOR.dom.range(e.editable());r.selectNodeContents(n);for(var i,o=new CKEDITOR.dom.walker(r);i=o.next();)if(t.isTextBlock(i))return i}function i(t,e){var r,i=null;e=e||t.editable();var o=n.getWalkerForElement(t,e);if(e.type===CKEDITOR.NODE_TEXT&&e.getText().length>0)return e;for(;r=o.next();)r.type===CKEDITOR.NODE_TEXT&&r.getText().length>0&&(i=r,o.end());return i}function o(n,r,i){var o=i.createRange(),u=t.getBlockParent(i.elementPath(n));return r?(o.setStartAt(u,CKEDITOR.POSITION_AFTER_START),o.setEndBefore(n),e.findLastNonEmptyTextNode(o)):(o.setEndAt(u,CKEDITOR.POSITION_BEFORE_END),o.setStartAfter(n),e.findFirstNonEmptyTextNode(o))}return{findFirstTextBlock:r,findFirstNonEmptyTextNode:i,getTextNodeNextToElement:o}}),r("utils/biUtils",[],function(){"use strict";return{error:{nestedStyles:function(){CKEDITOR.wixDocumentServices?CKEDITOR.wixDocumentServices.bi.error({errorName:"TEXT_NESTED_STYLES",errorCode:12901,severity:"error"}):console.log("there shouldn't be nested styles of the same type")},unableToRestoreSelection:function(){CKEDITOR.wixDocumentServices?CKEDITOR.wixDocumentServices.bi.error({errorName:"TEXT_UNABLE_TO_RESTORE_SELECTION",errorCode:12902,severity:"error"}):console.log("unable to restore original selection")}}}}),r("utils/selectionUtils",["ckLodash","utils/rangeUtils","utils/utils","utils/constants","utils/elementUtils","utils/findElementUtils","utils/biUtils"],function(t,e,n,r,i,o,u){"use strict";function a(t){var e=t.getSelection();return e&&e.getRanges()[0]}function c(t){try{var e=t.getSelectedHtml().$.children,n=e[e.length-1];return"BR"===n.tagName}catch(r){return!1}}function l(t){if(!c(t)){var e=a(t);if(e){e.enlarge(CKEDITOR.ENLARGE_BLOCK_CONTENTS);try{e.select()}catch(n){}}}}function s(t){return!!a(t)}function f(r,i,u){var c=a(r).clone(),l=o.findFirstNonEmptyTextNode(r,i);if(!l)return!0;c.setStart(l,0);var s=e.getText(c),f=d(r),h=i.$.textContent;return u&&(s=n.removeGuardsChars(s),f=n.removeGuardsChars(f),h=n.removeGuardsChars(h)),y(r,i)?f===h:t.startsWith(f,s)}function d(t){var e=t.getSelectedHtml();return e?e.$.textContent:""}function h(t,e){var n=d(t),i=t.editable().$.textContent;return e?n.replace(r.WIX_GUARD,"")===i.replace(r.WIX_GUARD,""):n.replace(/[\n\r\t\v\f]/g,"")===i.replace(/[\n\r\t\v\f]/g,"")}function m(t,e){for(var n,r=null,o=i.getWalkerForElement(t,e);n=o.previous();)n.type===CKEDITOR.NODE_TEXT&&(r=n,o.end());return r}function p(t,n,r){var i=a(t);e.forEachBlock(i,n,r)}function g(t){var e=t.getSelectedHtml().$.textContent;return 0===n.removeGuardsChars(e).length}function v(t,e,n){var r=new CKEDITOR.dom.range(t.editable());r.setStartAt(e,CKEDITOR.POSITION_AFTER_START),r.setEndAt(n,CKEDITOR.POSITION_BEFORE_END),r.select()}function _(t){var e=a(t),n=o.findFirstTextBlock(t);return i.isElementEqualToOrChildOf(t,e.startContainer,n)&&i.isElementEqualToOrChildOf(t,e.endContainer,n)}function y(t,e){var r=n.getBlockParent(new CKEDITOR.dom.elementPath(e)),i=n.getBlockParent(a(t).endPath());return r.equals(i)}function E(t,n){n=n||t.editable();var r=new CKEDITOR.dom.range(t.editable());r.selectNodeContents(n);var i=a(t);return r.setEnd(i.startContainer,i.startOffset),e.countBrInRange(r)}function C(t,e){var n=a(t);return e?T(n):n.startContainer.type===CKEDITOR.NODE_TEXT&&n.endContainer.type===CKEDITOR.NODE_TEXT?n.startContainer.equals(n.endContainer)&&0===n.startContainer.$.textContent?T(n):null:T(n)}function T(e){var n=e.createBookmark();return n.startNode&&(n.wixStartNodeId=t.uniqueId(),n.startNode.setAttribute("wix-bookmark-"+n.wixStartNodeId,"")),n.endNode&&(n.wixEndNodeId=t.uniqueId(),n.endNode.setAttribute("wix-bookmark-"+n.wixEndNodeId,"")),n}function x(t,e){if(e){if(b(t,e),!e.startNode)return void u.error.unableToRestoreSelection();var n=a(t);n.moveToBookmark(e),n.select()}}function b(t,e){if(e.startNode&&!t.editable().contains(e.startNode)){var n=t.editable().$.querySelector("[wix-bookmark-"+e.wixStartNodeId+"]");if(n){var r=new CKEDITOR.dom.element(n);e.startNode=r}}if(e.endNode&&!t.editable().contains(e.endNode)){var i=t.editable().$.querySelector("[wix-bookmark-"+e.wixEndNodeId+"]");if(i){var o=new CKEDITOR.dom.element(i);e.endNode=o}}}function O(t,e){return t.startContainer.equals(e.editable())}function S(t,e){return t.endContainer.equals(e.editable())}function I(t){var n=e.findFirstNonEmptyTextNode(t);if(n)t.setStart(n,0);else{var r=e.findFirstTextBlock(t);t.setStart(r,0)}}function k(t){var n=e.findLastNonEmptyTextNode(t);if(n)t.setEnd(n,n.$.textContent.length);else{var r=e.findLastTextBlock(t);t.setEnd(r,r.getChildCount())}}function R(t,e){if(O(t,e)){var n=t.clone();0===t.startOffset?(n.setEnd(e.editable(),e.editable().getChildCount()),I(n),n.collapse(!0)):(n.setStart(e.editable(),0),k(n),n.collapse()),n.select()}}function w(t){var e,n=a(t);return n.collapsed?void R(n,t):(O(n,t)&&(e=!0,I(n)),S(n,t)&&(e=!0,k(n)),void(e&&n.select()))}function D(e){var n=e.getSelection(),i=n.getRanges()[0],o=n.getSelectedText().replace(/\n/g,"").replace(r.CK_GUARD,""),u=i.startPath().block;return!t.isEmpty(o)&&f(e,u)&&o===u.getText().replace(/\n/g,"").replace(r.CK_GUARD,"")}function A(n){if(!n.getSelectedHtml())return!1;var r=n.getSelection().getRanges()[0];if(!r||!r.startPath().block)return!1;var i=e.getStartAndEndBlock(r);return t.isEqual(i.startBlock.getUniqueId(),i.endBlock.getUniqueId())?!1:!D(n)}function N(t,e){for(var n=a(t),r=new CKEDITOR.dom.walker(n);r.next();)e(r.current)}function B(t){return e.getTextNodesInSelection(a(t))}return{countBrTagsBeforeCursor:E,createBookmark:C,enlargeSelectionToBlock:l,findLastTextNode:m,forEachSelectedBlock:p,getSelectedRange:a,getSelectedText:d,getTextNodesInSelection:B,hasSelectedRange:s,isAllTextSelected:h,isSelectedTextEmpty:g,isSelectionInFirstTextBlock:_,isStartBlockTextFullySelected:f,moveToBookmark:x,selectionEndsInSameBlockAsElement:y,setSelectionBetweenElements:v,fixSelectionOnBody:w,isMultipleBlockSelection:A,forEachSelectedElement:N}}),r("utils/guardUtils",["ckLodash","utils/constants","utils/findElementUtils","utils/selectionUtils","utils/rangeUtils","utils/elementUtils","utils/utils"],function(t,e,n,r,i,o,u){"use strict";function a(t){var e=t.$.querySelector(".wixGuard");return e&&new CKEDITOR.dom.element(e)}function c(t){return!!t.$.querySelector(".wixGuard")}function l(e,n){n=n||e.editable();var r=n.$.querySelectorAll(".wixGuard");return t.map(r,function(t){return new CKEDITOR.dom.element(t)})}function s(e){var n=t.filter(l(e),function(t){var n=u.getBlockParent(new CKEDITOR.dom.elementPath(t));if(!o.isElementTextEmpty(n))return!0;var r=l(e,n);return r.length&&r[0].getUniqueId()!==t.getUniqueId()});t.forEach(n,function(t){C(e,t)})}function f(t,r,i,o){if(!c(r)){i||(i=n.findFirstNonEmptyTextNode(t,r),o=!1);var u=new CKEDITOR.dom.element("span");u.setAttribute("class","wixGuard"),u.setText(e.WIX_GUARD),i&&o?u.insertAfter(i):i?u.insertBefore(i):r.append(u,!0)}}function d(t,e){var n=a(e);if(!n)return!1;var i=r.getSelectedRange(t);if(E(n,i)||y(n,i))return!0;for(var o,u=new CKEDITOR.dom.walker(i);o=u.next();)if(o.getUniqueId()===n.getUniqueId())return!0;return!1}function h(t,e,n,i){if(!r.selectionEndsInSameBlockAsElement(t,e))return!0;var o=new CKEDITOR.dom.range(t.editable()),u=n.endContainer;if(u.type!==CKEDITOR.NODE_TEXT){var a=u.getChildCount();u=n.endOffset===a?u.getChild(n.endOffset-1):u.getChild(n.endOffset)}n.selectNodeContents(i);for(var c,l=new CKEDITOR.dom.walker(o);c=l.next();){if(c.getUniqueId()===e.getUniqueId())return!1;if(c.getUniqueId()===u.getUniqueId())return!0}return!1}function m(t,e,n){var i=a(e);if(i){var o=r.getSelectedRange(t),u=o.collapsed;u||n||!h(t,i,o,e)?(o.setStartAfter(i),o.collapse(!0)):o.setStartAfter(i),o.select()}}function p(t,e){var n=a(e);if(n){var r=new CKEDITOR.dom.range(t.editable());r.setStartAfter(n),r.collapse(!0),r.select()}}function g(t,e){var n=a(e);if(n){var r=new CKEDITOR.dom.range(t.editable());r.setStartBefore(n),r.collapse(!0),r.select()}}function v(t,e){if(e){var n=new CKEDITOR.dom.range(t.editable());n.setStartBefore(e),n.setEndAfter(e),n.select()}}function _(t,e){s(t);var n=a(e);if(n){var o=r.getSelectedRange(t);i.isRangeInsideElement(o,e)?v(t,n):(o.setStartBefore(n),o.select())}}function y(t,e){return e.endContainer.getUniqueId()===t.getUniqueId()||e.endContainer.getParent().getUniqueId()===t.getUniqueId()}function E(t,e){return e.startContainer.getUniqueId()===t.getUniqueId()||e.startContainer.getParent().getUniqueId()===t.getUniqueId()}function C(t,n){var i=r.getSelectedRange(t);E(n,i)&&i.setStartBefore(n),y(n,i)&&i.setEndAfter(n);var o=r.createBookmark(t),a=n.getHtml();if(a!==e.WIX_GUARD){var c=u.getCKDocumentFragment(u.removeGuardsChars(a));c.replace(n)}else n.remove();r.moveToBookmark(t,o)}function T(t,e){var n=a(e);n&&(o.isElementTextEmpty(e)||C(t,n))}function x(t){return t.replace(/<span class="wixGuard">.*?<\/span>/g,'<span class="wixGuard">&nbsp;</span>')}function b(t){return t.replace(/<span class="wixGuard">.*?<\/span>/g,'<span class="wixGuard">'+e.WIX_GUARD+"</span>")}return{expandSelectionToGuard:_,getAllGuards:l,getGuard:a,guardInSelection:d,hasGuard:c,insertGuard:f,moveSelectionAfterGuard:m,removeGuardIfSafe:T,selectGuard:v,setCursorAfterGuard:p,setCursorBeforeGuard:g,transformGuardForGetData:x,transformGuardForSetData:b,removeUneededGuards:s}}),r("utils/experiments",["ckLodash"],function(t){"use strict";var e={};return{set:function(n){e=t.clone(n)},isOpen:function(t){return!!e[t]}}}),r("utils/listMigration",["ckLodash","utils/utils"],function(t,e){"use strict";function n(e){return t.includes(e.classList,"wix-list")}function r(e){var n=t.get(e,"parentElement");return n&&"BODY"!==n.nodeName?t.includes(["OL","UL"],n.nodeName)?!0:r(n):!1}function i(e){var n=t.find(e.classList,function(e){return t.startsWith(e,"font_")}),r=e.getAttribute("style"),i=e.querySelectorAll("li");t.forEach(i,function(t){t.className=n,r&&t.setAttribute("style",r)})}function o(o){var u=e.createFragmentFromString(o),a=u.querySelectorAll("ul,ol");return t(a).reject(r).reject(n).forEach(function(t){return i(t)}),t.forEach(a,function(t){t.className="wix-list"}),u.innerHTML}return{exec:o}}),r("commands/wixSetHtmlCommand",["utils/guardUtils","utils/experiments","utils/listMigration"],function(t,e,n){"use strict";return{editorFocus:!1,exec:function(r,i){i=i.replace(/<font (.*?)>/g,function(t,e){var n='<span style="',r='">',i=e.replace(/size="(.*?)"/g,"").replace("=",":").replace(/" /g,'";').replace(/"/g,"").replace(/face/g,"font-family");return n+i+r}).replace(/<\/font>/g,"</span>"),i=t.transformGuardForSetData(i),i=r.dataProcessor.toHtml(i),e.isOpen("ck_newLists")&&(i=n.exec(i)),r.editable().setHtml(i)}}}),r("commands/styleCommand",["ckLodash","utils/biUtils"],function(t,e){"use strict";function n(t,e){var n=[];switch(e.type){case CKEDITOR.STYLE_BLOCK:t.block&&e.checkElementRemovable(t.block,!0)&&n.push(t.block),t.blockLimit&&e.checkElementRemovable(t.blockLimit,!0)&&n.push(t.blockLimit);break;case CKEDITOR.STYLE_OBJECT:case CKEDITOR.STYLE_INLINE:for(var r,i=t.elements,o=0;o<i.length;o++)if(r=i[o],e.type!==CKEDITOR.STYLE_INLINE||r!==t.block&&r!==t.blockLimit){if(e.type===CKEDITOR.STYLE_OBJECT){var u=r.getName();if(!("string"==typeof e.element?u===e.element:u in e.element))continue}e.checkElementRemovable(r,!0)&&n.push(r)}}return n}function r(t,e,n){var i=e.pop();if(i)if(n)r(t,e,i.equals(n)?null:n);else{var o=i.clone();t.insertNode(o),t.moveToPosition(o,CKEDITOR.POSITION_AFTER_START),r(t,e)}}function i(t,e,n,i){if(e&&n!==e){var o=i,u=t.getSelection().getRanges()[0];if(u.collapsed){var a=t.elementPath(),c=a.contains(function(t){return o.checkElementRemovable(t)});if(c){var l,s,f=u.checkBoundaryOfElement(c,CKEDITOR.START),d=u.checkBoundaryOfElement(c,CKEDITOR.END);if(f&&d){for(s=u.createBookmark();l=c.getFirst();)l.insertBefore(c);c.remove(),u.moveToBookmark(s)}else f?u.moveToPosition(c,CKEDITOR.POSITION_BEFORE_START):d?u.moveToPosition(c,CKEDITOR.POSITION_AFTER_END):(u.splitElement(c),u.moveToPosition(c,CKEDITOR.POSITION_AFTER_END),r(u,a.elements.slice(),c));t.getSelection().selectRanges([u])}}else t.removeStyle(o)}}function o(e,n,r){this.styleDefinition={element:e,styles:{}},this.styleDefinition.styles[n]="#("+s+")",t.assign(this.styleDefinition,r)}function u(t,e){var n={};return n[s]=t,new CKEDITOR.style(e,n)}function a(t){return u("inherit",t)}function c(t,e){var n=t.getStyle(e);return n||0===n||(n=void 0),n}function l(e){return t.keys(e.styles)[0]}var s="STYLE_VAR";return o.prototype={contextSensitive:!0,exec:function(t,e){return i(t,this.state,e,a(this.styleDefinition)),e!==CKEDITOR.TRISTATE_OFF?t.applyStyle(u(e,this.styleDefinition)):t.removeStyle(a(this.styleDefinition)),!0},refresh:function(t,r){var i,o=n(r,a(this.styleDefinition));0===o.length?i=CKEDITOR.TRISTATE_OFF:(o.length>1&&e.error.nestedStyles(),i=c(o[0],l(this.styleDefinition))),this.setState(i)}},o}),r("commands/formatBlockCommand",["utils/selectionUtils"],function(t){"use strict";function e(t){this.classNamePrefix=t}function n(t,e){var n;for(n=0;n<t.length;n++)if(0===t[n].indexOf(e))return t[n];return null}return e.prototype={contextSensitive:!0,exec:function(e,n){var r,i;t.enlargeSelectionToBlock(e),e.execCommand("resetThemeAndStyles");var o=new CKEDITOR.style({attributes:{"class":n["class"]}});t.forEachSelectedBlock(e,function(t){t.renameNode(n.tag),o.applyToObject(t,e),r=r||t,i=t},!0),t.setSelectionBetweenElements(e,r,i),this.setState({tag:n.tag,"class":r.getAttribute("class")})},refresh:function(t,e){var r=e.block||e.blockLimit,i=r.getAttribute("class");this.classNamePrefix&&(i=n(r.$.classList,this.classNamePrefix)),this.setState({tag:r.getName(),"class":i})},applyOnElement:function(t,e){e.removeAttribute("class"),e.addClass(t["class"])}},e}),r("commands/classCommand",["ckLodash","utils/biUtils","utils/selectionUtils"],function(t,e,n){"use strict";function r(t,e,n){this.elemType=t,this.classes=e,this.childRule=n}function i(e,n){return t.find(n,function(t){return e.hasClass(t)})}function o(e,n,r){return t.filter(e.elements,function(t){return t.getName()===n&&i(t,r)})}function u(t,e,n){return new CKEDITOR.style({element:t,attributes:{"class":e},childRule:n})}function a(e,r){var i={};return n.forEachSelectedElement(e,function(e){var n=e.getAttribute&&e.getAttribute("class");n&&t.forEach(r,function(t){n.indexOf(t)>=0&&(i[t]=!0)})}),t.keys(i)}function c(e,n,r){t.forEach(n,function(t){e.removeStyle(u(r,t))})}function l(e){var n=a(e,this.classes);this.state===CKEDITOR.TRISTATE_OFF||t.includes(n,this.state)||n.push(this.state),c(e,n,this.elemType)}return r.prototype={contextSensitive:!0,exec:function(e,n){l.call(this,e),n!==CKEDITOR.TRISTATE_OFF&&t.includes(this.classes,n)&&e.applyStyle(u(this.elemType,n,this.childRule))},refresh:function(t,n){var r,u=o(n,this.elemType,this.classes);0===u.length?r=CKEDITOR.TRISTATE_OFF:(u.length>1&&e.error.nestedStyles(),r=i(u[0],this.classes)),this.setState(r)}},r}),r("utils/ckOverrides",["ckLodash"],function(t){"use strict";function e(e,n){return t.filter(e,function(e){return t.every(r,function(t){return t(e,n)})})}function n(){var n=CKEDITOR.dom.element.prototype.addClass;CKEDITOR.dom.element.prototype.addClass=function(r){var i=this,o=this.getName();return r=e(t.compact(r.split(" ")),o),t.forEach(r,function(t){n.call(i,t)}),this}}var r=[];return{applyOverrides:function(){n()},registerClassFilter:function(e){t.includes(r,e)||r.push(e)},unregisterClassFilter:function(e){t.pull(r,e)},clearClassFilters:function(){r=[]}}}),r("commands/wixColorCommands",["ckLodash","commands/styleCommand","commands/classCommand","utils/utils","utils/elementUtils","utils/ckOverrides","utils/constants","utils/experiments"],function(t,e,n,r,i,o,u,a){"use strict";function c(t){var e,n=[];for(e=0;36>e;e++)n.push(t+e);return n}function l(t,e,n){e.getCommand(t).refresh(e,n)}function s(t,e){return t.getCommand(e).state}function f(e,n){return t.startsWith(e,u.COLOR_CLASS_PREFIX)||t.startsWith(e,u.BACKCOLOR_CLASS_PREFIX)?"li"===n||!r.isBlockElement(n):!0}function d(t,e){this.inlineCommandName=t,this.classCommandName=e,a.isOpen("ck_newLists")?o.registerClassFilter(f):o.unregisterClassFilter(f)}function h(t){var e=t.getAttribute&&t.getAttribute("class");return e&&-1!==e.indexOf("wixGuard")?!0:!1}function m(t){t.addCommand("foreColorInline",new e("span","color")),t.addCommand("foreColorClass",new n("span",c(u.COLOR_CLASS_PREFIX))),t.addCommand("foreColor",new d("foreColorInline","foreColorClass"))}function p(t){t.addCommand("backColorInline",new e("span","background-color",{childRule:h})),t.addCommand("backColorClass",new n("span",c(u.BACKCOLOR_CLASS_PREFIX),h)),t.addCommand("backColor",new d("backColorInline","backColorClass"))}var g=new RegExp(/^#([A-Fa-f0-9]{6}|[A-Fa-f0-9]{3})$/);return d.prototype={contextSensitive:!0,exec:function(t,e){t.undoManager.lock(!0),g.test(e)?(t.execCommand(this.classCommandName,CKEDITOR.TRISTATE_OFF),t.execCommand(this.inlineCommandName,e)):(t.execCommand(this.inlineCommandName,CKEDITOR.TRISTATE_OFF),t.execCommand(this.classCommandName,e)),t.undoManager.unlock()},refresh:function(t,e){l(this.inlineCommandName,t,e);var n=s(t,this.inlineCommandName);n!==CKEDITOR.TRISTATE_OFF?(g.test(n)||(n=CKEDITOR.tools.convertRgbToHex(n)),this.setState(n.toUpperCase())):(l(this.classCommandName,t,e),this.setState(s(t,this.classCommandName)))},applyOnElement:function(t,e){"forecolor"===this.name&&(e.removeStyle("color"),i.removeClassesWithPrefix(e,"color_"),g.test(t)?e.setStyle("color",t):t!==CKEDITOR.TRISTATE_OFF&&e.addClass(t))}},{initForeColorCommand:m,initBackColorCommand:p}}),r("commands/basicStyleCommands",[],function(){"use strict";function t(t,e,n,r){var i=new CKEDITOR.style(e),o=new CKEDITOR.styleCommand(i,n);return t.attachStyleStateChange(i,function(e){t.readOnly||t.getCommand(r).setState(e)}),o}function e(e){var n="unBold",r={element:"span",styles:{"font-weight":"normal"},childRule:function(t){return""===t.$.style.textShadow}},i={contentForms:[["span",function(t){var e=t.styles["font-weight"];return"normal"===e||700>e}]]},o=t(e,r,i,n);e.addCommand(n,o)}function n(e){var n="unItalic",r={element:"span",styles:{"font-style":"normal"},childRule:function(t){return""===t.$.style.textShadow}},i={contentForms:[["span",function(t){var e=t.styles["font-style"];return"normal"===e}]]},o=t(e,r,i,n);e.addCommand(n,o)}return{initUnBold:e,initUnItalic:n}}),r("utils/listsUtils",["ckLodash","utils/elementUtils","utils/findElementUtils"],function(t,e,n){"use strict";function r(n,r){function o(t){e.cloneStylesToElement(t,s,u),e.cloneClassesToElement(t,s,a)}function u(e){return!t.includes(["text-decoration","background-color","text-shadow","margin-left","margin-right","font-weight","font-style"],e)}function a(e){return!t.startsWith(e,"backcolor_")&&!t.startsWith(e,"wixGuard")}for(var c=e.getChildrenByNodeName(r,"li"),l=void 0,s=void 0,f=0;f<c.length;f++){s=c[f];var d=s.getFirst(),h=i(n,d)||l;l=h,t.forEach(h.elements,o)}}function i(t,e){var r=n.findFirstNonEmptyTextNode(t,e);return r?new CKEDITOR.dom.elementPath(r,e):null}return{copyStylesToListItemsFromText:r}}),r("commands/listCommand",["utils/selectionUtils","utils/elementUtils","utils/rangeUtils","utils/listsUtils","utils/constants","ckLodash"],function(t,e,n,r,i,o){"use strict";function u(e){var n=t.getSelectedRange(e);return o.filter(n.startPath().elements,function(t){var e=t.$.nodeName.toLowerCase();return!o.includes(["body","ul","ol","li"],e)})}function a(t){var e=t.editor,n=c(t.data),o=u(e);if(o&&n)n.addClass(i.WIX_LIST_CLASSNAME),r.copyStylesToListItemsFromText(e,n);else if(o&&!n){var a=s(e,!0);a.length&&r.copyStylesToListItemsFromText(e,a[0].getParent())}else o||console.error("Failed to create styled list")}function c(t){return o.find(t,function(t){return t.getChildren().count()>0})}function l(t,e,n){var r=t.getCommand(e),i=r.applyOnElement;if(o.isFunction(i)){var u=s(t);u.length&&f(n,u,i,r)}}function s(r,i){var u=t.getSelectedRange(r);if(!u)return[];var a=n.getAllElementsInRange(u,"li");if(i||n.isStarBlockFullyInRange(u)){var c=e.getElementFromPath(u.startPath(),"li");if(c)return o.compact([c].concat(a))}return o.compact(a)}function f(t,e,n,r){o.forEach(e,function(e){n.call(r,t,e)})}return{init:function(t){o.forEach(["numberedlist","bulletedlist"],function(e){var n=t.getCommand(e);n.on("listChange",a)}),t.on("afterCommandExec",function(t){l(t.editor,t.data.name,t.data.commandData)})}}}),r("commands/listCommandOld",["utils/selectionUtils","utils/elementUtils","ckLodash"],function(t,e,n){"use strict";function r(e){var r=t.getSelectedRange(e);return n.filter(r.startPath().elements,function(t){var e=t.$.nodeName.toLowerCase();return!n.includes(["body","ul","ol","li"],e)})}function i(t){var i=t.editor,o=t.data[0],u=r(i);u&&o?n.forEach(u,function(t){e.cloneStylesToElement(t,o,function(t){return!n.includes(["text-decoration","background-color","text-shadow","margin-left","margin-right"],t)}),e.cloneClassesToElement(t,o,function(t){return!n.startsWith(t,"backcolor_")&&!n.startsWith(t,"wixGuard")})}):u||console.error("Failed to create styled list")}return{init:function(t){var e=t.getCommand("numberedlist"),n=t.getCommand("bulletedlist");e.on("listChange",i),n.on("listChange",i)}}}),r("commands/letterSpacingCommand",["commands/styleCommand","utils/utils"],function(t,e){"use strict";function n(){t.call(this,"span","letter-spacing")}return n.prototype=Object.create(t.prototype),n.prototype.refresh=function(n,r){if(t.prototype.refresh.call(this,n,r),/px/.test(this.state)){var i=e.getBlockParent(r),o=getComputedStyle(i.$)["font-size"],u=parseFloat(this.state)/parseFloat(o);this.setState(u+"em")}},n}),r("utils/styleUtils",[],function(){"use strict";function t(t,e,n){if(!n.isReadOnly()){var r=t!==CKEDITOR.TRISTATE_OFF;r?n.setStyle(e,t):n.removeStyle(e)}}return{applyStyle:t}}),r("commands/fontSizeCommand",["commands/styleCommand","utils/styleUtils","utils/selectionUtils","ckLodash"],function(t,e,n,r){"use strict";function i(){t.call(this,"span","font-size",{attributes:{"class":"inherit-font-size"}})}function o(){t.call(this,"span","font-size")}i.prototype=Object.create(t.prototype),o.prototype=Object.create(t.prototype);var u=new i;return o.prototype.exec=function(i,o){if(n.isSelectedTextEmpty(i))return t.prototype.exec.call(this,i,CKEDITOR.TRISTATE_OFF),void u.exec(i,o);t.prototype.exec.call(this,i,o);var a=r.partial(e.applyStyle,o,"font-size"),c=o===CKEDITOR.TRISTATE_OFF;n.forEachSelectedBlock(i,a,c)},o.prototype.applyOnElement=function(t,e){
e.setStyle("fontSize",t)},o}),r("commands/lineHeightCommand",["utils/styleUtils","utils/selectionUtils","utils/rangeUtils","ckLodash"],function(t,e,n,r){"use strict";return{contextSensitive:!0,exec:function(n,i){var o=r.partial(t.applyStyle,i,"line-height");e.forEachSelectedBlock(n,o,!0),this.setState(i),setTimeout(function(){n.execCommand("autogrow")},2)},refresh:function(t){var r=e.getSelectedRange(t);if(r){var i,o=n.getStartAndEndBlock(r).startBlock;i=o?o.getStyle("line-height")||CKEDITOR.TRISTATE_OFF:null,this.setState(i)}}}}),r("commands/resetThemesAndStylesCommand",["utils/elementUtils"],function(t){"use strict";var e=["fontSize","bold","unBold","italic","unItalic","fontFamily","foreColor","underline","textShadow","backColor","letterSpacing"];return{exec:function(t){t.undoManager.save(),t.undoManager.lock(!0);var n,r;for(n=0;n<e.length;n++)r=t.getCommand(e[n]),r.style?t.removeStyle(r.style):r.exec(CKEDITOR.TRISTATE_OFF);t.undoManager.unlock()},applyOnElement:function(e,n){n.removeAttributes(["class","style"]),t.cloneClassesToElement(n.getFirst(),n)},canUndo:!0}}),r("commands/resetThemeCommand",["utils/selectionUtils"],function(t){"use strict";var e=["fontSize","bold","unBold","italic","unItalic","fontFamily","foreColor"];return{exec:function(n){n.undoManager.lock(!0),t.enlargeSelectionToBlock(n);var r,i;for(r=0;r<e.length;r++)i=n.getCommand(e[r]),i.style?n.removeStyle(i.style):i.exec(CKEDITOR.TRISTATE_OFF);n.undoManager.unlock()},canUndo:!1}}),r("commands/wixCSS",["ckLodash"],function(t){"use strict";function e(t,e,n){var r=new CKEDITOR.dom.element("style",t.document);return r.setAttribute("id",e),r.setAttribute("type","text/css"),r.appendText(n),r}function n(t,e,n){var r=new CKEDITOR.dom.element("link",t.document);return r.setAttribute("id",e),r.setAttribute("type","text/css"),r.setAttribute("rel","stylesheet"),r.setAttribute("href",n),r}function r(t,e){return t.document.getById(e)}function i(t,e){var n=r(t,e);n&&n.remove()}function o(e,n){var i=r(e,n.id);return i&&t.isEqual(i.getText(),n.value)}function u(e,n){var i=r(e,n.id);return i&&t.isEqual(i.getAttribute("href"),n.value)}var a={exec:function(t,r){if(r.force||!o(t,r)&&!u(t,r)){i(t,r.id);var a;a=r.isLink?n(t,r.id,r.value):e(t,r.id,r.value);var c=t.document.getHead();c.append(a)}},canUndo:!1,editorFocus:!1};return function(){return a}}),r("commands/wixLink",["utils/utils","ckLodash","utils/selectionUtils","utils/elementUtils","utils/rangeUtils"],function(t,e,n,r,i){"use strict";function o(){}function u(){}function a(t,e){var n=new CKEDITOR.style({element:"a",attributes:t});n.type=CKEDITOR.STYLE_INLINE,n.applyToRange(e),e.select()}function c(t,e){var n=new CKEDITOR.dom.element("a");n.setAttributes(t),n.setHtml(e.getSelectedHtml().getHtml()),e.insertElement(n),e.getSelection().selectElement(n)}function l(t,e,n){var r=t.getRanges(1)[0];r.startContainer.getUniqueId()===r.endContainer.getUniqueId()?a(e,r):c(e,n)}function s(t,e){l(t.getSelection(),e,t),t.getCommand("underline").state===CKEDITOR.TRISTATE_OFF&&t.execCommand("underline")}function f(t){var e=t.getSelection(),o=e.getSelectedElement();if(o&&o.is("a"))return o;var u=n.getSelectedRange(t);return u?r.getElementFromPath(u.startPath(),"a")||i.getElementFromRange(u,"a",!0)||null:null}function d(t){var e=f(t);m(e);var n=h(e);p(t,n)}function h(e){for(var n=e.getParent();1===n.getChildCount()&&!t.isBlockElement(n.getName());)e=n,n=n.getParent();return e}function m(t){"br"===e.result(t.getLast(),"getName")&&t.getLast().remove()}function p(t,e){var n=t.createRange();n.setStartAfter(e),n.collapse(!0),n.select()}var g=new CKEDITOR.style({element:"a",type:CKEDITOR.STYLE_INLINE,alwaysRemoveElement:1});return o.prototype={canUndo:!0,editorFocus:CKEDITOR.env.ie||CKEDITOR.env.webkit,contextSensitive:!0,exec:function(t,e){t.undoManager.save(),t.undoManager.lock(!0),t.execCommand("wixUnlink"),s(t,e),this.refresh(t),d(t),t.fire("change"),t.undoManager.unlock()},refresh:function(t){var e=f(t);e?this.setState(e.getAttribute("dataQuery")):this.setState(null)},canPerformCmd:function(t){if(n.isMultipleBlockSelection(t))return!1;var e=t.getSelectedHtml();return e&&null!==e.$?n.isSelectedTextEmpty(t)?!!t.elementPath().contains("a"):!0:!1}},u.prototype={exec:function(t){t.getCommand("wixSelectLinks").exec(),t.undoManager.lock(!0),t.execCommand("underline"),t.getCommand("underline").state===CKEDITOR.TRISTATE_ON&&t.execCommand("underline"),t.undoManager.unlock(),t.removeStyle(g)},refresh:function(t,e){var n=e.lastElement&&e.lastElement.getAscendant("a",!0);n&&"a"===n.getName()&&n.getChildCount()?this.setState(CKEDITOR.TRISTATE_OFF):this.setState(CKEDITOR.TRISTATE_DISABLED)}},{init:function(t){t.addCommand("wixLink",new o),t.addCommand("wixUnlink",new u)}}}),r("commands/wixSelectLinks",["utils/selectionUtils","utils/elementUtils","utils/findElementUtils"],function(t,e,n){"use strict";function r(){}function i(t,r,o){var u=n.getTextNodeNextToElement(t,r,o);if(!u)return t;var a=u.getParent(),c=a.is("a")?a:e.getElementFromPath("a",o.elementPath(a));return c&&c.getAttribute("dataquery")===t.getAttribute("dataquery")?i(c,r,o):t}return r.prototype={editorFocus:!1,exec:function(n){var r=t.getSelectedRange(n),o=e.getElementFromPath(r.startPath(),"a"),u=e.getElementFromPath(r.endPath(),"a");(o||u)&&(o&&r.setStartAt(i(o,!0,n),CKEDITOR.POSITION_AFTER_START),u&&r.setEndAt(i(u,!1,n),CKEDITOR.POSITION_BEFORE_END),r.select())}},r}),r("commands/fontFamilyCommand",["commands/styleCommand"],function(t){"use strict";function e(){t.call(this,"span","font-family")}return e.prototype=Object.create(t.prototype),e.prototype.applyOnElement=function(t,e){e.setStyle("fontFamily",t)},e}),r("wixPaste/DataTransformer",["ckLodash","utils/utils","utils/listsUtils","utils/experiments","utils/constants"],function(t,e,n,r,i){"use strict";function o(t){var e=CKEDITOR.htmlParser.fragment.fromHtml(this._htmlData),n=new CKEDITOR.htmlParser.basicWriter;t.applyTo(e),e.writeHtml(n);var r=n.getHtml();return this._htmlData=r,this}function u(){var t=new CKEDITOR.filter("h1 h2 h3 h4 h5 h6 p ul ol li br a[href, dataquery]");return o.call(this,t)}function a(){this._htmlData=this._htmlData.replace(/<\/?span.*?>/g,""),this._htmlData=this._htmlData.replace(/(<a .*?>.*?<\/a>)/g,function(t,e){return'<span style="text-decoration:underline">'+e+"</span>"})}function c(){return this._containsList||B.call(this),this._containsList}function l(){return this._htmlData=this._htmlData.replace(L.getTagsRegexp(),function(t,e){return"<"+e+' class="'+L[e]+'">'}),this}function s(e){var i=document.createElement("div");i.innerHTML=e;var o=document.createElement("div"),u=Array.prototype.slice.call(i.childNodes);if(t.forEach(u,function(t){if(t.nodeName&&"li"===t.nodeName.toLowerCase())o.appendChild(t);else{var e=document.createElement("li");e.appendChild(t),o.appendChild(e)}}),r.isOpen("ck_newLists")){var a=new CKEDITOR.dom.element("ol");a.setHtml(o.innerHTML),n.copyStylesToListItemsFromText(this._editor,a);for(var c=a.find("li:not([class])"),l=0;l<c.count();++l){var s=c.getItem(l);s.setAttribute("class",L.p)}return a.getHtml()}return o.innerHTML}function f(e){var n=this;return e&&e.nodeName?(e.innerHTML=e.innerHTML&&l.call({_htmlData:e.innerHTML})._htmlData,e.nodeName.toLowerCase().match(/^(ul|ol)$/)?e.innerHTML=s.call(this,e.innerHTML):"li"===e.nodeName.toLowerCase()&&(e.innerHTML=h.call(this,e.innerHTML)),t.forEach(t.toArray(e.childNodes),function(t){return f.call(n,t)}),this):this}function d(){var e=document.createElement("div");e.innerHTML=this._htmlData;var n=e.querySelectorAll("ol, ul");return n&&(n=Array.prototype.slice.call(n).reverse(),t.forEach(n,function(t){if(r.isOpen("ck_newLists"))return void(t.className=i.WIX_LIST_CLASSNAME);var e=t.querySelector("[class^=font_]"),n=e&&e.classList[0]||"font_8";t.className=n})),this._htmlData=e.innerHTML,this}function h(e){var n=this,r=document.createElement("div");if(""===e)return'<p class="font_8"><span class="wixGuard">'+i.WIX_GUARD+"</span></p>";r.innerHTML=t.isUndefined(e)?this._htmlData:e;var o=document.createElement("div"),u=null,a=Array.prototype.slice.call(r.childNodes);return t.forEach(a,function(t){f.call(n,t),CKEDITOR.dtd.$block[t.nodeName.toLowerCase()]?(u=null,o.appendChild(t)):(u||(u=document.createElement("p"),o.appendChild(u)),u.appendChild(t))}),t.isUndefined(e)?(T.call(this,o.innerHTML),this):o.innerHTML}function m(){return this.getBlockCount()&&this.fixOrphans().trimEmptyLines().fixDefaultThemesForTags().fixListThemes(),this}function p(){return this._blockCount||B.call(this),this._blockCount}function g(){var e=document.createElement("div");e.innerHTML=this._htmlData;var n=document.createDocumentFragment(),r=Array.prototype.slice.call(e.childNodes);return t.forEach(r,function(t){n.appendChild(t)}),new CKEDITOR.dom.documentFragment(n)}function v(){return this._htmlData=this._htmlData.replace(/<br.*?data-cke-eol.*?>/g,""),this}function _(t,n){var r=CKEDITOR.dtd.$block[t.nodeName.toLowerCase()],i=e.isWhiteSpace(t.textContent);return r&&i?(n.removeChild(t),!0):void 0}function y(e){var n=document.createElement("div");n.innerHTML=this._htmlData;var r=n.querySelectorAll(e);return t.forEach(r,function(t){for(var e=t.parentNode;t.childNodes.length;)e.insertBefore(t.childNodes[0],t);e.removeChild(t)}),this._htmlData=n.innerHTML,this}function E(){return O.call(this),y.call(this,"a")}function C(){return O.call(this),y.call(this,'span[style*="text-decoration"]')}function T(t){this._htmlData=t||"",this._blockCount=null,this._containsList=null}function x(t){T.call(this,t)}function b(t){for(var e,n=[],r=document.createTreeWalker(t,NodeFilter.SHOW_TEXT,null,!1);e=r.nextNode();)n.push(e);return n}function O(){if(this.getBlockCount())throw new Error("implemented for 0 blocks only")}function S(){var t=document.createElement("div");t.innerHTML=this._htmlData;var e,n,r=Array.prototype.slice.call(t.childNodes);for(n=0;n<r.length&&(e=r[n],_(e,t));n++);for(r=Array.prototype.slice.call(t.childNodes),n=r.length-1;n>=0&&(e=r[n],_(e,t));n--);return T.call(this,t.innerHTML),this}function I(){return 1!==p.call(this)||c.call(this)||T.call(this,this._htmlData.replace(/<([^\s>]*).*?>(.*)<\/\1>/,"$2")),this}function k(){return this.getBlockCount()?(T.call(this,s.call(this,this._htmlData)),this):this}function R(e,n,r){var i=document.createElement("div");i.innerHTML=this._htmlData;var o=b(i);return t.forEach(o,function(t){var i=document.createElement(e);i.setAttribute(n,r),i.innerHTML=t.textContent;var o=t.parentNode;o.replaceChild(i,t)}),this._htmlData=i.innerHTML,this}function w(){return O.call(this),R.call(this,"span","style","text-decoration:underline")}function D(t){return O.call(this),R.call(this,"a","dataquery",t)}function A(e){return!!t.find(e,function(t){return CKEDITOR.dtd.$list[t.nodeName.toLowerCase()]})}function N(e){return t.filter(e,function(t){return CKEDITOR.dtd.$block[t.nodeName.toLowerCase()]}).length}function B(){if(!this._blockCount){var t=document.createElement("div");t.innerHTML=this._htmlData;var e=Array.prototype.slice.call(t.childNodes);this._blockCount=N(e),this._containsList=A(e)}}function K(t,e,n){if(this._htmlData=t,this._blockCount=null,this._containsList=null,this._editor=n,e===!1){var r=new CKEDITOR.filter(n);r.disallow("ul ol li"),o.call(this,r)}}var L={h1:"font_0",h2:"font_2",h3:"font_3",h4:"font_4",h5:"font_5",h6:"font_6",p:"font_8"};return Object.defineProperty(L,"tagsRegexStr",{enumerable:!1,value:"<("+t.map(t.keys(L)).join("|")+")>"}),Object.defineProperty(L,"getTagsRegexp",{enumerable:!1,value:function(){return new RegExp(this.tagsRegexStr,"g")}}),K.prototype={cleanExternalHtml:u,cleanInternalHtml:a,containsList:c,fixDefaultThemesForTags:l,fixListThemes:d,fixOrphans:h,fixTextBlocks:m,getBlockCount:p,getCKDocumentFragment:g,removeCkBrEol:v,removeLinks:E,removeUnderlines:C,setHtmlData:x,trimEmptyLines:S,unWrapIfSingleBlock:I,wrapBlocksInLi:k,wrapTextNodesInUnderline:w,wrapTextNodesInATag:D,getHtml:function(){return this._htmlData}},K}),r("utils/pasteUtils",["ckLodash","utils/selectionUtils","utils/utils","utils/rangeUtils","utils/guardUtils","utils/elementUtils","utils/experiments"],function(t,e,n,r,i,o,u){"use strict";function a(t,e,n,i){var o=e.startContainer,u=new CKEDITOR.dom.range(t.editable());if(u.selectNodeContents(n),i===T)u.setEnd(o,e.startOffset);else{if(i!==b)throw new Error("block position must be one of START_BLOCK or END_BLOCK");u.setStart(o,e.startOffset)}return r.getText(u)}function c(t,e,r){var i=a(t,e,r,T);if(n.isWhiteSpace(i))return T;var o=a(t,e,r,b);return n.isWhiteSpace(o)?b:x}function l(t,e,r,i){if(0===i)return O;var o=r.getText();return!o||n.isWhiteSpace(o)?C:c(t,e,r)}function s(t,r,i,o){var u=o||r,a=n.getCKDocumentFragment(i.getHtml());a.insertAfterNode(u);for(var c=u.$,l=0;l<i.getBlockCount();l++)c=c.nextElementSibling;c=new CKEDITOR.dom.element(c);var s=new CKEDITOR.dom.range(t.editable());s.selectNodeContents(e.findLastTextNode(t,c)),s.collapse(),s.select()}function f(t,e,i,o){var u=o||e,a=n.getCKDocumentFragment(i.getHtml());a.insertBefore(u);var c=new CKEDITOR.dom.range(t.editable());c.selectNodeContents(t.editable()),c.setEndBefore(u);var l=r.findLastNonEmptyTextNode(c);c.selectNodeContents(l),c.collapse(!1),c.select()}function d(t,e,n,r){var i=r||e;f(t,e,n,r),i.remove()}function h(t,e){return t.type===CKEDITOR.NODE_TEXT&&t.getParent().equals(e)}function m(t,e,n){t.splitElement(e);var i=e.getNext();if(o.isElementTextEmpty(e))return e.remove(),r.createRange(i,i,0);if(!o.isElementTextEmpty(i))for(;i.getChildCount()>0;)e.append(i.getChild(0));return i.remove(),r.createRange(e,e,n)}function p(e,n){return t.find(e.startPath().elements,function(t){return t.getParent().equals(n)}).getIndex()+1}function g(t,e){if(h(t.startContainer,e)||t.startContainer.equals(e))return null;var n=p(t,e);return m(t,e,n)}function v(t,e,n,r,i){i||(r=g(r,n)||r),t.insertHtml(e.getHtml(),"text",r)}function _(t,e,r,i){var o=r.getRange(),u=n.getBlockParent(o.startPath()),a=o.startPath().contains("li");switch(l(t,o,u,e.getBlockCount())){case O:v(t,e,u,o,i);break;case C:d(t,u,e,a);break;case T:f(t,u,e,a);break;case x:t.insertHtml(e.getHtml());break;case b:s(t,u,e,a)}}function y(t,r,o){var u=t.createRange();u.setStart(o.container,o.offset);var a=n.getBlockParent(u.startPath());if(0===r.getBlockCount()){var c=i.getGuard(a);return c&&u.startPath().contains(c)&&(i.setCursorAfterGuard(t,a),u=e.getSelectedRange(t)),void t.insertHtml(r.getHtml(),"text",u)}var h=u.startPath().contains("li");switch(l(t,u,a)){case C:d(t,a,r,h);break;case T:f(t,a,r,h);break;case x:t.insertHtml(r.getHtml());break;case b:s(t,a,r,h)}}function E(){u.isOpen("ck_internalcopy")?_.apply(null,arguments):y.apply(null,arguments)}var C=0,T=1,x=2,b=3,O=4;return{cleanInsertHtml:E}});var o=function(){function t(t,e){for(var n=0;n<e.length;n++){var r=e[n];r.enumerable=r.enumerable||!1,r.configurable=!0,"value"in r&&(r.writable=!0),Object.defineProperty(t,r.key,r)}}return function(e,n,r){return n&&t(e.prototype,n),r&&t(e,r),e}}();r("wixPaste/SelectionIntention",["utils/guardUtils","utils/utils","utils/rangeUtils","utils/elementUtils"],function(e,n,r,i){"use strict";return function(){function u(e,n,r){var i=arguments.length>3&&void 0!==arguments[3]?arguments[3]:!0;t(this,u),this.container=n,this.offset=r,this.editor=e,i&&this.setAfterGuard()}return o(u,[{key:"setAfterGuard",value:function(){var t=new CKEDITOR.dom.elementPath(this.container),r=n.getBlockParent(t),i=e.getGuard(r);i&&t.contains(i)&&(this.container=i.getParent(),this.offset=i.getIndex()+1)}},{key:"getRange",value:function(){return r.createRange(this.editor.editable(),this.container,this.offset)}},{key:"getThemeClass",value:function(){var t=new CKEDITOR.dom.elementPath(this.container),e=n.getBlockParent(t);return i.getTheme(e)}}]),u}()}),r("wixPaste/deleteContents",["ckLodash","utils/selectionUtils","utils/rangeUtils","utils/utils","utils/elementUtils","wixPaste/SelectionIntention"],function(t,e,n,r,i,o){"use strict";function u(e,n,r){t.forEach(e.elements,function(t){return n.editable().contains(t)?t.contains(r.container)||t.equals(r.container)?!1:i.isElementTextEmpty(t)?void t.remove():!1:void 0})}function a(t){var r=e.getSelectedRange(t);return n.isEndBlockFullyInRange(r)||!n.isStarBlockFullyInRange(r)}function c(t,e){return e.startContainer.type===CKEDITOR.NODE_TEXT&&0===e.startOffset?new o(t,e.startContainer.getParent(),e.startContainer.getIndex()):new o(t,e.startContainer,e.startOffset)}function l(t,e){return e.endContainer.type===CKEDITOR.NODE_TEXT?new o(t,e.endContainer.getParent(),0):new o(t,e.endContainer,0)}function s(t){var n=e.getSelectedRange(t);return a(t)?c(t,n):l(t,n)}function f(t){var n=e.getSelectedRange(t),r=s(t),i=a(t)?n.endPath():n.startPath();return n.deleteContents(!1),u(i,t,r),r}function d(t){var n=e.getSelectedRange(t),r=n.endPath(),i=c(t,n);return n.deleteContents(!0),u(r,t,i),i}function h(t){return e.isMultipleBlockSelection(t,!0)?f(t):d(t)}return{deleteSelectionContents:h}}),r("wixPaste/wixCopy",["ckLodash","utils/selectionUtils","utils/utils","utils/elementUtils"],function(t,e,n,r){"use strict";function i(t,e){return t.startContainer.equals(e)&&t.startOffset>0?t.endContainer.equals(e)?e.getText().substr(t.startOffset,t.endOffset-t.startOffset):e.getText().substr(t.startOffset):t.endContainer.equals(e)?e.getText().substr(0,t.endOffset):e.getText()}function o(e){var r=new CKEDITOR.dom.elementPath(e),i=n.getBlockParent(r);return{wrappingElements:t.takeWhile(r.elements,function(t){return!i.equals(t)}),textBlock:i}}function u(e){return t.reduce(e,function(e,n){var r=n.getAttribute("style"),i=n.getAttribute("class");return r?e.push(r.split(":")[0]):i&&t.startsWith(i,"color_")&&e.push("color"),e},[])||[]}function a(t,e,n){for(var r=new CKEDITOR.dom.text(i(e,n)),o=t,u=Array.isArray(o),a=0,o=u?o:o[Symbol.iterator]();;){var c;if(u){if(a>=o.length)break;c=o[a++]}else{if(a=o.next(),a.done)break;c=a.value}var l=c;r=r.appendTo(l.clone(!1))}return{node:r,html:r.$.outerHTML||r.$.textContent}}function c(t,e,n){var r=new CKEDITOR.dom.element("span");return r.setAttribute("style",e+":"+t),n=n.appendTo(r)}function l(e,n,r){var i=t(["font-size","font-weight","font-family","font-style","color"]).filter(function(n){return!t.includes(e,n)}).reduce(function(t,e){var r=CKEDITOR.tools.convertRgbToHex(n.getComputedStyle(e));return c(r,e,t)},r);return{node:i,html:i.$.outerHTML}}function s(t,e){var n=o(e),r=n.wrappingElements,i=n.textBlock,c=u(r),s=a(r,t,e),f=s.node,d=s.html,h=l(c,i,f),m=h.html;return{textWithOverrides:d,textWithAllThemeOverrides:m}}function f(t){return e.isMultipleBlockSelection(t,!0)||e.getSelectedRange(t).collapsed}function d(t){var i=n.getBlockParent(e.getSelectedRange(t).startPath());p={textWithOverrides:"",textWithAllThemeOverrides:"",lastCopiedTextNoSpace:n.removeSpaces(t.getSelection().getSelectedText()),theme:r.getTheme(i)},n.isIE()&&(p.ieHtml=t.getSelectedHtml().getHtml())}function h(n){if(d(n),f(n))return null;p.hasSavedState=!0;var r=e.getTextNodesInSelection(n),i=e.getSelectedRange(n);return t.forEach(r,function(t){var e=s(i,t);p.textWithAllThemeOverrides+=e.textWithAllThemeOverrides,p.textWithOverrides+=e.textWithOverrides}),p}function m(e){e.on("contentDom",function(){var n=e.editable();t.forEach(["cut","copy"],function(t){n.on(t,function(){h(e)})})})}var p;return{createLastCopiedFromInsideCkWithInjectedData:h,init:m,getLastCopiedData:function(){return p||{}}}}),r("wixPaste/wixPaste",["wixPaste/DataTransformer","ckLodash","utils/utils","utils/selectionUtils","utils/pasteUtils","wixPaste/deleteContents","wixPaste/wixCopy","utils/experiments"],function(t,e,n,r,i,o,u,a){"use strict";function c(){return!(CKEDITOR.env.gecko||CKEDITOR.env.ie)}function l(t,e,n){var r={pasteString:e.getHtml(),isExternalSourceData:s(t)};n.fire("externalPasteHandle",r),e.setHtmlData(r.pasteString)}function s(t){var e;return e=!c()&&u.getLastCopiedData().lastCopiedTextNoSpace?u.getLastCopiedData().lastCopiedTextNoSpace!==n.removeSpaces(n.getPlainTextFromHtml(t.data.dataValue)):!t.data.dataTransfer.sourceEditor}function f(t,e){return a.isOpen("ck_internalcopy")&&!s(t)&&e.hasSavedState}function d(t,e,n){return n=t.getThemeClass()===e.theme?e.textWithOverrides:e.textWithAllThemeOverrides}function h(t,e){var r=arguments.length>2&&void 0!==arguments[2]?arguments[2]:t.data.dataValue,i=u.getLastCopiedData();return f(t,i)?r=d(e,i,r):!s(t)&&n.isIE()&&(r=u.getLastCopiedData().ieHtml),r}function m(e,r){var i=!n.isListStateOn(e);return new t(r,i,e)}function p(t){var n=e.find(t.startPath().elements,function(t){return"a"===t.getName()});return e.invoke(n,"getAttribute","dataquery")}function g(t,e){var n=p(t.getRange());n&&e.removeUnderlines().removeLinks().wrapTextNodesInUnderline().wrapTextNodesInATag(n)}function v(t){t.cleanExternalHtml(),t.getBlockCount()&&t.fixOrphans().trimEmptyLines().fixDefaultThemesForTags().fixListThemes().unWrapIfSingleBlock()}function _(t,e,n){t.trimEmptyLines(),a.isOpen("ck_internalcopy")||t.getBlockCount()?s(e)||t.getBlockCount()||g(n,t):t.cleanInternalHtml()}function y(t){return t.getCommand("numberedlist").state!==CKEDITOR.TRISTATE_OFF||t.getCommand("bulletedlist").state!==CKEDITOR.TRISTATE_OFF}function E(t,e,n,r){s(t)?v(e):_(e,t,n),y(r)&&e.wrapBlocksInLi()}function C(t){t.editor.undoManager.lock(!0);var e=void 0,n=t.editor;"drop"!==t.data.method&&(e=o.deleteSelectionContents(n));var r=h(t,e),u=m(n,r).removeCkBrEol();E(t,u,e,n),l(t,u,n),"drop"!==t.data.method?i.cleanInsertHtml(n,u,e,s(t)):n.insertHtml(u.getHtml(),u.getBlockCount()?"html":"text"),T(t)}function T(t){x(t.editor),t.cancel(),t.stop()}function x(t){t.undoManager.unlock(),t.fire("change")}function b(t){t.on("dragstart",function(t){t.cancel(),t.stop()}),t.on("paste",C,null,null,5),t.pasteFilter=null}return{init:b}}),r("eventHandlers/keyDownHandler",["ckLodash","utils/constants","utils/utils","utils/guardUtils","utils/elementUtils","utils/selectionUtils","utils/rangeUtils","utils/findElementUtils","utils/experiments"],function(t,e,n,r,i,o,u,a,c){"use strict";function l(t,e){e=e||t.editable();var n=new CKEDITOR.dom.range(t.editable());n.selectNodeContents(e);var r=o.getSelectedRange(t);return n.setEnd(r.endContainer,r.endOffset),u.countBrInRange(n)}function s(t){if(n.getEditorTextLength(t)>0)return!1;if(t.editable().getChildCount()>1)return!1;var e=l(t);return 0===e}function f(t){t.data.$.preventDefault(),t.data.$.stopPropagation(),t.stop()}function d(t){return t===e.BACKSPACE_KEYCODE}function h(t){return t===e.DELETE_KEYCODE}function m(e,n){return t.includes(j,n)&&s(e)}function p(t){var n=t.data.$.keyCode;return t.data.$.shiftKey?n===e.RETURN_KEYCODE||n===e.ENTER_KEYCODE:!1}function g(e){var n=e.data.$.keyCode;return t.includes(K,n)||t.includes(L,n)||e.data.$.metaKey}function v(t){var e=t.data.$.keyCode;return 229===e}function _(t){return o.getSelectedRange(t).startPath().contains(a.findFirstTextBlock(t))}function y(e){var n=t.find(o.getSelectedRange(e).startPath().elements,function(t){return"wixGuard"===t.getAttribute("class")});if(n){var r=e.createRange();r.setStartAfter(n),r.select()}}function E(t){t.getCommand("numberedlist").state!==CKEDITOR.TRISTATE_OFF?(t.execCommand("numberedlist"),y(t)):t.getCommand("bulletedlist").state!==CKEDITOR.TRISTATE_OFF&&(t.execCommand("bulletedlist"),y(t))}function C(t,e,u,a){if(u.collapsed){var c=n.removeGuardsChars(e.$.textContent).length;if(c>1)return!1;if(r.hasGuard(e))return!1;if(0===c)return!0;if(d(a)&&i.getTextBeforeCursor(u,e).length)return!0;if(h(a)&&!i.getTextBeforeCursor(u,e).length)return!0}return o.isStartBlockTextFullySelected(t,e)}function T(t){var e=t.sender.editor,n=t.data.$.keyCode;return m(e,n)?(d(n)&&E(e,n),void f(t)):void O(t)}function x(t,n,i,o){t.collapsed||u.getText(t)===e.WIX_GUARD&&u.countBrInRange(t)<2?d(n)?r.setCursorBeforeGuard(i,o):r.setCursorAfterGuard(i,o):r.moveSelectionAfterGuard(i,o)}function b(t,e,n){var i=o.createBookmark(t);0===e.getText().length?r.insertGuard(t,e,i&&i.startNode,d(n)):r.insertGuard(t,e,h(n)&&i&&i.startNode),o.moveToBookmark(t,i)}function O(t){var e,i=t.sender.editor,u=t.data.$.keyCode,a=n.getBlockParent(o.getSelectedRange(i).startPath()),c=o.getSelectedRange(i);if(!(o.countBrTagsBeforeCursor(i,a)>1))return r.hasGuard(a)?void x(c,u,i,a):void(C(i,a,c,u)&&(c.collapsed?b(i,a,u):(e=o.createBookmark(i,n.isIE()),r.insertGuard(i,a,e&&e.startNode),o.moveToBookmark(i,e))))}function S(e,r){var o=n.getBlockParent(e.startPath()),u=n.getBlockParent(e.endPath()),a=!o.equals(u);e.deleteContents(!0);var c=i.isElementTextEmpty(u);if(a&&c){e.collapse(!0);var l=t.find(u.getParents(),function(t){return r.editable().equals(t.getParent())}),s=t.find(o.getParents(),function(t){return t.equals(l)});l&&!s&&l.remove()}}function I(t,i){var u=o.getSelectedRange(i),a=n.getBlockParent(u.startPath());if(!u.collapsed){if(i.undoManager.unlock(),S(u,i),C(i,a,u,e.ENTER_KEYCODE)){var c=o.createBookmark(i);c?r.insertGuard(i,a,c.startNode):r.insertGuard(i,a,u.startContainer),o.moveToBookmark(i,c),u=o.getSelectedRange(i),u.collapse(!0)}u.select(),i.undoManager.lock()}r.guardInSelection(i,a)&&O(t)}function k(t){var e=t.editable().getCustomData("cke-fillingChar");e&&(t.WIX.hijackedFillingChars.push(e),t.editable().removeCustomData("cke-fillingChar"))}function R(t){var e=o.getSelectedRange(t),i=e.startPath(),u=n.getBlockParent(i),a=r.getGuard(u);a&&(a.removeClass("wixGuard"),t.WIX.hijackedWixGuards=t.WIX.hijackedWixGuards||[],t.WIX.hijackedWixGuards.push({guard:a,parentBlock:u}),a.getChild(0).type===CKEDITOR.NODE_TEXT&&t.WIX.hijackedFillingChars.push(a.getChild(0)))}function w(t){R(t),CKEDITOR.env.webkit&&(t.WIX.hijackedFillingChars=t.WIX.hijackedFillingChars||[],k(t))}function D(t){var e=t.sender.editor;if(!g(t)){if(v(t))return void w(e);e.undoManager.lock(),(n.isFF()||n.isIE())&&o.fixSelectionOnBody(e),r.removeUneededGuards(e),p(t)?I(t,e):_(e)?T(t):O(t),N(t.data.$.keyCode,e),c.isOpen("ck_newLists")&&A(t.data.$.keyCode,e),e.undoManager.unlock()}}function A(t,r){if(t===e.RETURN_KEYCODE&&(n.isFF()||n.isIE())){var i=B(r);i&&E(r)}}function N(e,n){if(d(e)){var r=B(n);if(r){var i=r.getPrevious();if(i&&"li"===i.getName()){var u=o.findLastTextNode(n,i);u&&t.defer(function(){var t=n.createRange();t.setStartAfter(u),t.setEndAfter(u),t.collapse(),t.select()})}}}}function B(t){var e=o.getSelectedRange(t);if(!e||!e.collapsed)return null;var n=i.getElementFromPath(e.startPath(),"li");return n&&i.isElementTextEmpty(n)?n:void 0}var K=[e.PAGE_UP_KEYCODE,e.PAGE_DOWN_KEYCODE,e.END_KEYCODE,e.HOME_KEYCODE,e.LEFT_KEYCODE,e.UP_KEYCODE,e.RIGHT_KEYCODE,e.DOWN_KEYCODE],L=[e.SHIFT_KEYCODE,e.CONTROL_KEYCODE,e.ALT_KEYCODE],j=[e.BACKSPACE_KEYCODE,e.DELETE_KEYCODE].concat(K);return{handleKeyDown:D}}),r("eventHandlers/keyHandler",["eventHandlers/keyDownHandler","ckLodash","utils/selectionUtils","utils/constants","utils/elementUtils","utils/utils","utils/guardUtils"],function(t,e,n,r,i,o,u){"use strict";function a(t){for(var e=t.editable().find(".inherit-font-size"),n=0;n<e.count();n++){var r=e.getItem(n);i.isWhiteSpace(r)||r.removeClass("inherit-font-size")}}function c(e){e.sender.editor.WIX.isKeyDown=!0,t.handleKeyDown(e)}function l(t){var e=o.getBlockParent(n.getSelectedRange(t).startPath());if(i.isElementTextEmpty(e)&&!u.hasGuard(e)){var r=n.createBookmark(t),a=r&&r.startNode;a&&a.getIndex()&&(a=a.getParent().getChild(0)),u.insertGuard(t,e,a),n.moveToBookmark(t,r)}}function s(t){var r=n.getSelectedRange(t);if(r.collapsed){var u=o.getBlockParent(r.startPath());t.WIX.hijackedWixGuards=e.filter(t.WIX.hijackedWixGuards,function(e){return t.editable().contains(e.guard)&&t.editable().contains(e.parentBlock)?u.equals(e.parentBlock)?!0:(i.replaceElementByItsContents(e.guard),!1):!1})}}function f(t){var i=n.getSelectedRange(t);i.collapsed&&i.startContainer.type===CKEDITOR.NODE_TEXT&&(t.WIX.hijackedFillingChars=e.filter(t.WIX.hijackedFillingChars,function(e){return t.editable().contains(e)?i.startContainer.equals(e)?!0:(e.setText(e.getText().replace(new RegExp("["+r.CK_GUARD+r.WIX_GUARD+"]","g"),"")),!1):!1}))}function d(t){t.sender.editor.WIX.isKeyDown=!1;var e=t.sender.editor;e.undoManager.lock(),f(e),s(e),a(e),u.removeUneededGuards(e),h(e),l(e),e.undoManager.unlock(),e.fire("change")}function h(t){(o.isFF()||o.isIE())&&n.fixSelectionOnBody(t)}function m(t){return g.indexOf(t.data.name)>=0}function p(t){t.on("contentDom",function(){t.editable().on("keydown",c,null,null,-9999),t.editable().on("keyup",d)}),t.on("beforeCommandExec",function(e){if(m(e)){var r=o.getBlockParent(n.getSelectedRange(t).startPath());if(!u.hasGuard(r)||!n.getSelectedRange(t)||0!==n.countBrTagsBeforeCursor(t,r))return;u.expandSelectionToGuard(t,r)}})}var g=["bold","italic","underline","strike","subscript","superscript","fontSize","fontFamily","letterSpacing","textShadow","wixLink","wixUnlink","unBold","unItalic","foreColorInline","foreColorClass","foreColor","backColorInline","backColorClass","backColor"];return{init:p}}),r("eventHandlers/selectionChangeHandler",["utils/utils","utils/selectionUtils","utils/rangeUtils"],function(t,e){"use strict";function n(n){(t.isFF()||t.isIE())&&n.on("selectionCheck",function(){e.fixSelectionOnBody(n)},null,null,99999)}return{init:n}}),r("eventHandlers/inputEventHandler",["ckLodash","utils/utils"],function(t,e){"use strict";function n(t){var e=t.getStyle("letter-spacing");return/px/.test(e)}function r(t){var e,r=[],i=t.find('span[style*="letter-spacing:"]'),o=i.count();for(e=0;o>e;e++){var u=i.getItem(e);n(u)&&r.push(u)}return r}function i(t,e){var n=t.getStyle("letter-spacing"),r=getComputedStyle(e.$)["font-size"];return parseFloat(n)/parseFloat(r)}function o(t){var n=new CKEDITOR.dom.elementPath(t),r=e.getBlockParent(n),o=i(t,r);t.setStyle("letter-spacing",o+"em")}function u(e){var n=r(e);t.forEach(n,o),e.editor.WIX.isKeyDown||e.editor.fire("change")}function a(e){e.on("contentDom",function(){var n=e.editable();n.on("input",t.partial(u,n))})}return{init:a}}),r("utils/ieSpellCheckUtils",["utils/utils","utils/constants"],function(t,e){"use strict";function n(t){t.on("beforeCommandExec",function(t){r(t.editor)},null,null,0),t.on("afterCommandExec",function(){u()}),t.editable().on("cut",function(){u()}),t.editable().on("copy",function(){u()}),t.on("paste",function(){u()},null,null,0)}function r(e){var n=e.getSelection().getRanges()[0];if(n&&t.isSpellCheckCorrectionOccurred(e.editable().getText(),a())){var r=e.document.$.getSelection();n.setStart(new CKEDITOR.dom.node(r.anchorNode),r.anchorOffset),n.setEnd(new CKEDITOR.dom.node(r.focusNode),r.focusOffset)}}function i(t){function n(){c(t.editable().getText())}t.document.$.oncontextmenu=n,t.document.$.onmousedown=function(t){t.button===e.MOUSE_RIGHT_CLICK_BUTTON&&n()},t.document.$.onkeydown=function(t){u(),t.key===e.WINDOWS_APPS_KEY&&n()}}function o(t){i(t),n(t)}function u(){l=null}function a(){return l}function c(t){l=t}var l=null;return{bindToSpellCheckEvents:o}}),n(["ckLodash","commands/wixSetHtmlCommand","commands/styleCommand","commands/formatBlockCommand","commands/wixColorCommands","commands/basicStyleCommands","commands/listCommand","commands/listCommandOld","commands/letterSpacingCommand","commands/fontSizeCommand","commands/lineHeightCommand","commands/resetThemesAndStylesCommand","commands/resetThemeCommand","commands/wixCSS","commands/wixLink","commands/wixSelectLinks","commands/fontFamilyCommand","wixPaste/wixPaste","wixPaste/wixCopy","eventHandlers/keyHandler","eventHandlers/selectionChangeHandler","eventHandlers/inputEventHandler","utils/utils","utils/selectionUtils","utils/ckOverrides","utils/guardUtils","utils/experiments","utils/ieSpellCheckUtils"],function(t,e,n,r,i,o,u,a,c,l,s,f,d,h,m,p,g,v,_,y,E,C,T,x,b,O,S,I){"use strict";CKEDITOR.WIX.status="ready",CKEDITOR.on("instanceReady",function(e){function n(){return t.get(r,"document.$")?(T.isIE()&&S.isOpen("i_put_a_spell_on_you")&&I.bindToSpellCheckEvents(r),void r.document.$.execCommand("styleWithCSS",!0,null)):void setTimeout(n,20)}var r=e.editor;n()}),CKEDITOR.on("instanceLoaded",function(t){var T=t.editor;S.set(T.config.experiments||{}),S.isOpen("i_put_a_spell_on_you")&&(T.config.disableNativeSpellChecker=!1,
C.init(T)),T.WIX={getData:function(){return T.getData()},isMultipleBlockSelection:function(){return x.isMultipleBlockSelection(T)}},T.container.hide(),T.addCommand("font",new n("span","font")),T.addCommand("fontSize",new l),T.addCommand("fontFamily",new g),T.addCommand("letterSpacing",new c("span","letter-spacing")),T.addCommand("textShadow",new n("span","text-shadow")),T.addCommand("formatBlock",new r("font_")),T.addCommand("resetThemeAndStyles",f),T.addCommand("resetTheme",d),T.addCommand("wixCss",h()),T.addCommand("lineHeight",s),T.addCommand("wixSetHtml",e),T.addCommand("wixSelectLinks",new p),S.isOpen("ck_newLists")?(b.applyOverrides(),u.init(T)):a.init(T),m.init(T),v.init(T),_.init(T),y.init(T),E.init(T),o.initUnBold(T),o.initUnItalic(T),i.initForeColorCommand(T),i.initBackColorCommand(T),T.getCommand("selectAll").editorFocus=!1})}),r("ckBootstrapInstance",function(){})}();